        <!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Centos 系统引导损坏修复、密码破解与加密-云栖社区-阿里云</title>
  <meta name="keywords" content="加密,centos,rpm,kernel,磁盘" />
  <meta name="description" content="
Centos 6

实验环境：VMware Workstation Pro 14（试用版）
系统平台：
CentOS release 6.9 (Final)       内核  2.6.32-696.el6.x86_64


ramdisk(ramfs)丢失损坏
 内核中的特性之一：使用缓冲和缓存来加速对磁盘上的文件访问，并加载相应的硬件驱动
没有此文件，系统无法加载 / 分区，也就无法启动系统。">
  <meta name="applicable-device" content="pc">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <link rel="alternate" media="only screen and(max-width: 640px)" href="https://m.aliyun.com/yunqi/articles/486706" >
  <meta name="mobile-agent" content="format=html5;url=https://m.aliyun.com/yunqi/articles/486706">
  <meta name="mobile-agent" content="format=xhtml;url=https://m.aliyun.com/yunqi/articles/486706">
  <meta name="mobile-agent" content="format=wml;url=https://m.aliyun.com/yunqi/articles/486706">
  <link rel="canonical" href="https://yq.aliyun.com/articles/486706"/>
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="csrf-param" content="yunqi_csrf"/>
  <meta name="csrf-token" content="RFREP8HZVL"/>
  <meta name="data-spm" content="a2c4e"/>
  <meta name="ahot-aplus" content="1">
      <link rel="stylesheet" href="//at.alicdn.com/t/font_422887_hlfuaa72mk70t3xr.css">
    <style>
    .yq-blog-detail .content-detail{
        line-height: 1.8;
    }
    .yq-blog-detail .content-detail p{
        margin: 0 0 16px;
    }
</style>
    <link rel="stylesheet" href="//g.alicdn.com/aliyun/yunqi/1.1.7/css/blogDetail2019.css" charset="utf-8" />
    <script src="//www.aliyun.com/rgn/aliyun_assets?renderer=js"></script>
    <script src="//g.alicdn.com/aliyun/goldeneye-deploy/0.0.1/static/goldeneye.js"></script>
    <link rel="stylesheet" href="//at.alicdn.com/t/font_422887_vrqbpml6oos.css">
</head>

<body data-spm="11153940"><script type="text/javascript">
(function (d) {
var t=d.createElement("script");t.type="text/javascript";t.async=true;t.id="tb-beacon-aplus";
t.setAttribute("exparams","category=&userid=&aplus&yunid=&yunpk=&channel=&cps=");
t.src="//g.alicdn.com/alilog/mlog/aplus_v2.js";
d.getElementsByTagName("head")[0].appendChild(t);
})(document);
</script>

<script type="text/javascript" src="//www.aliyun.com/rgn/aliyun_topbar/index.js"></script>

      <!-- pc头部  -->
<div class="home-topbar-wrap active" data-spm="spm-yq-header">
    <div class="home-topbar-menu">
        <div class="common-topbar">
            <div class="right-panel">
                <div class="search-pannel">
                    <form action="/search" id="sitesearchform" data-spm-click="gostr=/aliyunqi.default.search;locaid=sitesearchform;" rel="nofollow">
                        <input class="sear-text" type="text" name="q" placeholder="找社区文章、答案、技术大拿">
                        <input type="hidden" name="type" value="ARTICLE">
                    </form>
                </div>
                <div class="msg-panel" data-spm="headeruserinfo">
                    <a rel="nofollow" href="/notifications" class="msg"></a>
                                          <a href="https://account.aliyun.com/login/login.htm?from_type=yqclub&amp;oauth_callback=https%3A%2F%2Fyq.aliyun.com%2Farticles%2F486706%3Fdo%3Dlogin" rel="nofollow" class="login">登录社区</a>
                                      </div>
            </div>
            <div class="yq-nav-panel" data-spm="headermainnav">
    <h1><a href="/"><img src="https://yqfile.alicdn.com/dfb80b22c483698f031f2e5859e9335b.png" alt="云栖社区" height="24" width="110"></a></h1>
    <ul class="yq-new-nav-bar">
        <li class="active"><a href="/articles/">博客</a></li>
        <li ><a href="/live/" >直播</a></li>
        <li ><a href="/roundtable" >聚能聊</a></li>
        <li ><a href="/teams" >云栖号</a></li>
        

                        <li ><a href="/expert">专家</a></li>
        <li ><a href="/activity/820" >小程序云<i>NEW</i></a></li>
                        <li class="more">
            <span>更多</span>
            <div class="drop-menu">
                <div class="drop-inner">
                <dl>
                    <dd><a href="/ask" target="_blank" >问答</a></dd>
                                                            <dd><a href="/download" target="_blank" >下载</a></dd>
                    <dd><a href="/publication" target="_blank" >订阅</a></dd>
                                                                                <dd><a href="/topic" target="_blank">专题</a></dd>
                    <dd><a href="/mall" target="_blank" >商城</a></dd>
                                        <dd><a href="https://developer.aliyun.com/" target="_blank">开发者社区</a></dd>
                                        <dd><i>|</i></dd>
                </dl>
                <dl>
                                                                                <dd><a href="/marketplace" target="_blank" >云生态</a></dd>
                                    </dl>
                </div>
            </div>
        </li>
        <div class="line" style="width: 0px; left: 0px;"></div>
    </ul>
</div>
        </div>
    </div>
</div>
<!-- h5头部 -->
<div class="nav-head">
    <div class="nav-head-fix">
        <div class="head-inner">
            <div class="aliyun-logo"><a href="//m.aliyun.com"><img src="https://gw.alicdn.com/tfs/TB1DQZsbBUSMeJjSszbXXberFXa-681-160.png" alt="阿里云"></a></div>
            <div class="icon-more"><img src="//img.alicdn.com/tfs/TB1n1OeRFXXXXb3aXXXXXXXXXXX-20-18.svg" alt=""></div>
        </div>
    </div>
    <div class="second-nav">
        <ul>
            <li><a href="/cloud">阿里云头条</a></li>
            <li><a href="/articles/">博客</a></li>
            <li><a href="/ask">问答</a></li>
            <li><a href="/roundtable" rel="nofollow">聚能聊</a></li>
            <li><a href="/live/" target="_blank" rel="nofollow">直播</a></li>
            <li><a href="/download" rel="nofollow">下载</a></li>
            <li><a href="https://bbs.aliyun.com">论坛</a></li>
            <li><a href="https://yunqi.aliyun.com" rel="nofollow">云栖大会</a></li>
            <li><a href="https://developer.aliyun.com/" rel="nofollow">开发者社区</a></li>
                    </ul>
                <div class="login-register">
            <a href="https://account.aliyun.com/login/login.htm?from_type=yqclub&oauth_callback=https%3A%2F%2Fyq.aliyun.com%2Farticles%2F486706%3Fdo%3Dlogin" class="login" rel="nofollow">登录社区</a>
            <a href="https://account.aliyun.com/register/register.htm?from_type=yqclub&oauth_callback=https%3A%2F%2Fyq.aliyun.com%2Farticles%2F486706%3Fdo%3Dlogin" class="register" rel="nofollow">注册账号</a>
        </div>
                    </div>
</div>
      <style>
        .cnblogs_code pre{
            background-color: #ececec;
        }
    </style>
    <div class="hiddenTitleArea ">
        <p class="hiddenTitle">Centos 系统引导损坏修复、密码破解与加密</p>
    </div>
    <div class="yq-main">
                <div class="yq-ribbons">
            <div class="fixed-content">
                <div class="fixed-simple">
                    <div class="simple-circle">
                        <a href="/articles/486706?type=2">
                            <div class="img"></div>
                        </a>
                    </div>
                    <div class="simple-text">
                        <a href="/articles/486706?type=2"> 精简版</a>
                    </div>
                </div>
                <div class="fixed-item">
                    <div id="vote_btn" has_voted="" data-aid="486706"
                         data-islogin="false"
                         title="点赞"
                         class="opt-btn vote_btn "></div>
                    <span id="vote_num" class="fixed-num">0</span>
                </div>
                <div class="fixed-item">
                    <div id="mark_btn" has_marked="" data-aid="486706"
                         data-islogin="false"
                         title="收藏"
                         class="opt-btn mark_btn "></div>
                    <span id="mark_num" class="fixed-num">0</span>
                </div>
                <div class="fixed-item">
                    <a href="#comment" class="comment_btn" data-spm-anchor-id="5176.100239.blogcont371439.15"></a>
                    <span class="fixed-num">0</span>
                </div>
                <div class="fixed-item">
                    <div class="weibo-icon" id="weibo">
                        <a href="" target="_blank" class="weibo-icon-url"></a>
                    </div>
                </div>
                <div class="fixed-item">
                    <div class="weixin-icon" id="weixin-bar">
                        <div class="weixin-icon1" id="weixin-icon">
                            <img src="" class="qrcode-weixin">
                        </div>
                    </div>
                </div>
            </div>
        </div>
                <ol class="yq-breadcrumb tag-breadcrumb">
            <li><a href="/">云栖社区</a><span>&gt;</span></li>
                            <li><a href="/articles/">博客</a><span>&gt;</span></li>
                        <li class="active">正文</li>
        </ol>

        <div class="yq-main-left yq-blog-detail">
            <h2 class="blog-title">                                                Centos 系统引导损坏修复、密码破解与加密</h2>
            <div class="blog-o-info">
                                    <div class="other-opt">
                                                <!-- 管理推荐 -->
                                            </div>
                                <a href="/users/gtdqzn4uqwgsg" class="b-author" target="_blank"
                   rel="nofollow">科技小能手</a>
                <span class="b-time icon-shijian1">2017-11-12 03:12:00</span>
                <span class="b-watch icon-View">浏览981</span>
                            </div>

                            <ul class="tag-group">
                                            <li class="tag tag-item">
                            <a href="/tags/type_blog-tagid_423/" target="_blank"
                               class="label-item"><span>加密</span></a>
                        </li>
                                            <li class="tag tag-item">
                            <a href="/tags/type_blog-tagid_1061/" target="_blank"
                               class="label-item"><span>centos</span></a>
                        </li>
                                            <li class="tag tag-item">
                            <a href="/tags/type_blog-tagid_1117/" target="_blank"
                               class="label-item"><span>rpm</span></a>
                        </li>
                                            <li class="tag tag-item">
                            <a href="/tags/type_blog-tagid_1188/" target="_blank"
                               class="label-item"><span>kernel</span></a>
                        </li>
                                            <li class="tag tag-item">
                            <a href="/tags/type_blog-tagid_2213/" target="_blank"
                               class="label-item"><span>磁盘</span></a>
                        </li>
                                    </ul>
            
            
                                                                                                    <div id="aaa"></div>
            <div class="article-hide-content">
                <div class="article-hide-box">
                    <div class="article-hide-btn" id="btn-readmore">展开阅读全文</div>
                </div>
                <div class="content-detail unsafe markdown-body">
                                                                        
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-size:26px;background-color:rgb(250,226,32);font-weight:bold;">Centos 6</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-size:26px;background-color:rgb(250,226,32);font-weight:bold;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">实验环境：</span>VMware Workstation Pro 14（试用版）</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">系统平台：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">CentOS release 6.9 (Final)       内核  2.6.32-696.el6.x86_64</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;"></span><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;">ramdisk(ramfs)丢失损坏</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"> 内核中的特性之一：使用缓冲和缓存来加速对磁盘上的文件访问，并加载相应的硬件驱动</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">没有此文件，系统无法加载 / 分区，也就无法启动系统。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">CentOS 5 文件名: initrd</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">CentOS 6，7文件名: initramfs</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">当系统的ramfs文件丢失或损坏时，系统启动时表现为</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428451262103.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428451262103.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">修复如下：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">进入救援模式，重新生成ramdisk文件即可。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">为当前正在使用的内核重新制作ramdisk文件，以下2种指令都可以。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># mkinitrd initramfs-`uname -r`.img `uname -r`</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># dracut initramfs-`uname -r`.img `uname -r`</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;">GRUB相关</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;"> MBR:</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">446: bootloader, 64: 分区表, 2: 55AA</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;"> GRUB:</span></p>
<table style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;margin:0px 0px 10px;padding:0px;font-size:16px;border-collapse:collapse;color:rgb(51,51,51);background-color:rgb(255,255,255);"><tbody style="margin:0px;padding:0px;">
<tr style="margin:0px;padding:0px;height:16px;">
<td style="margin:0px;padding:5px 10px;font-size:14px;background:rgb(251,192,140);border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);background-color:transparent;font-weight:bold;">阶段</span></p>
</td>
<td style="margin:0px;padding:5px 10px;font-size:14px;background:rgb(251,192,140);border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);background-color:transparent;font-weight:bold;">存放位置</span></p>
</td>
<td style="margin:0px;padding:5px 10px;font-size:14px;background:rgb(251,192,140);border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);background-color:transparent;font-weight:bold;">作用</span></p>
</td>
</tr>
<tr style="margin:0px;padding:0px;height:16px;">
<td style="margin:0px;padding:5px 10px;font-size:14px;border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);font-weight:bold;">stage1</span></p>
</td>
<td style="margin:0px;padding:5px 10px;font-size:14px;border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);">MBR的446字节内</span></p>
</td>
<td style="margin:0px;padding:5px 10px;font-size:14px;border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);">MBR引导</span></p>
</td>
</tr>
<tr style="margin:0px;padding:0px;height:16px;">
<td style="margin:0px;padding:5px 10px;font-size:14px;border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);font-weight:bold;">stage1_5</span></p>
</td>
<td style="margin:0px;padding:5px 10px;font-size:14px;border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);">MBR之后的27个扇区</span></p>
</td>
<td style="margin:0px;padding:5px 10px;font-size:14px;border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);">让stage1中的bootloader能识别stage2所在的</span><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);">分区上的文件系统，这个阶段可以加载驱动</span></p>
</td>
</tr>
<tr style="margin:0px;padding:0px;height:16px;">
<td style="margin:0px;padding:5px 10px;font-size:14px;border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);font-weight:bold;">stage2</span></p>
</td>
<td style="margin:0px;padding:5px 10px;font-size:14px;border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);">/boot/grub(grub2)</span></p>
</td>
<td style="margin:0px;padding:5px 10px;font-size:14px;border:1px solid rgb(167,167,167);color:rgb(57,57,57);overflow:hidden;white-space:pre-wrap;">
<p style="padding:0px;font-size:16px;"><span style="font-family:'Microsoft YaHei', STXihei;margin:0px;padding:0px;color:rgb(0,0,0);">grub的核心功能</span></p>
</td>
</tr>
</tbody></table>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">stage1是以二进制存放于磁盘，并不是文件形式。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428502143881.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428502143881.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">/boot/grub下的文件为：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">主要是驱动与grub配置文件。这个目录下的文件只保留grub.conf的时候，系统是可以正常启动的</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-size:18px;background-color:rgb(250,226,32);font-weight:bold;">stage1破坏修复</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-size:18px;background-color:rgb(250,226,32);font-weight:bold;"><br style="margin:0px;padding:0px;font-size:16px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">stage1也就是bootloader所在,</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">模拟破坏(请不拿生产中的机器来做试验，本人不负责任)</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">#dd if=/dev/zero of=/dev/sda bs=1 count=446</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">系统启动时表现为</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428543791642.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428543791642.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">修复如下：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">1.进入救援模式</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">2.启动一个shell</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428568954757.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428568954757.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">3.切换至原系统的根目录，一般救援模式进来的时候会提醒.(假如能找到/文件系统)</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># chroot /mnt/sysimage</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">4.<span style="margin:0px;padding:0px;color:rgb(223,64,42);">安装grub</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">方法(1) grub-install</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">安装grub stage1和stage1_5到/dev/DISK磁盘上，并复制GRUB相关文件到 DIR/boot目录下</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">grub-install  /dev/DISK .<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">注意，是磁盘而非分区。</span>--root-directory=DIR 参数可选</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">此方法会一并重新生成/boot/grub下除了grub.conf之外的文件</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428587570888.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428587570888.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">方法(2) grub</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);">grub&gt; root (hd#,#)</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);">grub&gt; setup (hd#)  </span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">可以看到系统已经写入GRUB信息至MBR</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428604773076.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428604773076.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">第2种方法修复时，需要/boot/grub下有这些文件</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"># ls -1</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">device.map  e2fs_stage1_5 fat_stage1_5 ffs_stage1_5 grub.conf iso9660_stage1_5 jfs_stage1_5</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">menu.lst minix_stage1_5 reiserfs_stage1_5 splash.xpm.gz stage1 stage2 ufs2_stage1_5</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">vstafs_stage1_5 xfs_stage1_5</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">5.重启系统</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#exit 并reboot</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;">开机直接出现grub&gt;</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">修复如下：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">grub&gt;<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"> root (hd#,#)</span> <span style="margin:0px;padding:0px;color:rgb(255,255,255);"> </span><span style="margin:0px;padding:0px;color:rgb(255,255,255);background-color:rgb(24,78,135);">root目录指的是/boot分区所在的磁盘位置。</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">grub&gt; <span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">setup (hd#) </span> </p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">小提示：root (hd0,然后按tab键补全，会有如下显示</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428646281445.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428646281445.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">输入<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">kernel /vm 按tab键</span>如果可以补全则说明是正确的，接着输入<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">ro root=/dev/sda1</span> 回车.注意(hd0,0)=/dev/sda1 (hd0,1)=/dev/sda2如图</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428663866412.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428663866412.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">接着输入<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">initrd /ini 按tab键补全</span>，回车</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428679516762.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428679516762.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">输入boot</span>命令，这时系统会重新启动</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-size:18px;background-color:rgb(250,226,32);font-weight:bold;">stage1.5破坏修复</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">模拟破坏</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"># dd if=/dev/zero of=/dev/sda bs=1 count=13000 skip=512 seek=512</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">系统启动时表现为</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428699719252.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428699719252.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">修复如下：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">进入救援模式</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">1.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># chroot /mnt/sysimage</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">2.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">安装grub (上面有方法)</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">3.<span style="margin:0px;padding:0px;color:rgb(223,64,42);">多输入几次</span><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">sync</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">4.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#exit并reboot</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;">stage2破坏修复</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;">grub.conf丢失</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">系统启动时表现为</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428726253921.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428726253921.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">修复如下：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">进入救援模式</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">1.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># chroot /mnt/sysimage</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">2.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">安装grub (上面有方法)</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">3.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">检查/boot/grub/grub.conf是否存在且正确</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428744692600.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428744692600.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">4.重启系统</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;">内核文件被破坏</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">系统启动时表现为</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428830850439.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428830850439.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">修复如下：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">进入救援模式</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">1.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># chroot /mnt/sysimage</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">2.touch 一个文件 /boot检查磁盘是可写，如果为只读，mount -o remount,rw /dev/sdX /boot</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">3.如果挂载的救援模式是原ISO的DVD1的话，里面会有内核文件，如果没有DVD1光盘，请去其他地方下载同一内核版本的rpm包。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">执行安装指令</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># rpm -ivh /光盘位置或指定位置/Packages/kernel-2.6.32-696.el6.x86_64.rpm --force</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428851407958.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428851407958.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">4.重启系统</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;">/sbin/init 丢失破坏</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">模拟破坏</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"># rm -rf /sbin/init</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">系统启动时表现为</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428874346065.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428874346065.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">此时输入什么都是报错误的</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">修复如下：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">1.重启系统至引导菜单，注意按上下箭头，以免超时跳过去。按<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"> e</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428889424167.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428889424167.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">2 在<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">kernel</span>一行中，按 <span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">e</span> 编辑</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428903509597.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428903509597.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">使用<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"> /bin/bash</span> 代替sbin/init</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428917178401.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428917178401.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">按 <span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">b</span> 启动系统</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428935724455.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428935724455.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">任意输入一条命令，如果能出来结果，表示 系统启用/bin/bash为第一个进程</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428957744934.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428957744934.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">3. 重新挂载<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"> /</span> 分区为 读写模式</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#mount -o remount,rw /</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">4 挂载光盘</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># mount /dev/sr0 /mnt</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">5.重新安装/sbin/init 。此执行文件对应的安装为<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">upstart  </span><span style="margin:0px;padding:0px;font-weight:bold;">各个操作系统版本不一样，注意即可。</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># rpm -ivh /mnt/Packages/upstart-0.6.5-16.el6.x86_64.rpm --force</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(128,128,128);font-weight:bold;">使用以下方法也能达到同样效果：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(128,128,128);font-weight:bold;"># rpm2cpio /mnt/Packages/upstart-0.6.5-16.el6.x86_64.rpm | cpio -idv ./sbin/init</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(128,128,128);font-weight:bold;"># cp sbin/init /sbin/</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515428977802802.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515428977802802.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">6. <span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># ls /sbin/init </span>是否已经生成。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">7.直接按硬件按钮的<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">重启</span>吧</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">至此，修复完成</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;">逻辑卷环境下 /boot分区破坏，/etc/fstab丢失</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">原先的系统是以LVM卷方式安装的</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429015936131.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429015936131.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">模拟破坏</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"># rm -rf /boot/ /etc/fstab</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">系统启动时表现为</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429030371605.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429030371605.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">修复如下：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">进入救援模式</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">会提示</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429053163928.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429053163928.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">启动shell</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429066872941.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429066872941.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">1.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#vgs </span>查看下VG卷</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429079980999.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429079980999.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">2. <span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#fdisk -l</span>找出原来系统的boot分区,带*号启动的应该是/boot</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429091717600.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429091717600.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">3.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#lvdisplay</span>查看LV卷状态，可以看到是未激活状态</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429103515345.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429103515345.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">4 .<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># vgchange -ay </span>激活VG卷</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429117226429.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429117226429.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">5 <span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#lvdisplay</span>查看LV卷状态，可以看到是已激活状态</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429133536634.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429133536634.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">6 <span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#blkid </span>能看到分区文件系统和挂载路径和UUID</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429147723989.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429147723989.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">7.创建临时目录挂载找到的分区，确认/和/boot分区。注意，这里是支持TAB键补全的。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># mkdir /mnt/root</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># mount /dev/VolGroup/lv_root /mnt/root</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429172912277.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429172912277.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># mkdir /mnt/boot   </span>正常情况，因为是使用rm -rf /boot 挂载时应该是没有任何文件的</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># mount /dev/sda1 /mnt/boot</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429194511322.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429194511322.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">8<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"> cat /etc/mtab</span> 能看到目前挂载情况</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429206306272.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429206306272.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">9 创建原有系统的fstab ,注意这里生成的文件位置</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#cat &gt; /mnt/root/etc/fstab &lt;&lt; eof</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">/dev/mapper/VolGroup-lv_root / ext4 defaults 0 0</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">/dev/sda1 /boot ext4 defaults 0 0</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">eof</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429221423744.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429221423744.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">10 <span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#exit</span> 选reboot</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429236297857.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429236297857.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">11.再次进入救援模式</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">现在救援模式能侦测到根系统了</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429252635536.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429252635536.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">按照向导开启shell</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">12<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"> # chroot /mnt/sysimage</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#lsblk </span>可以看出原有系统的挂载情况了</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429266555896.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429266555896.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">13 挂载光盘</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># mkdir /mnt/cdrom</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># mount /dev/cdrom /mnt/cdrom</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">14 安装内核</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># rpm -ivh /mnt/cdrom/Packages/kernel-2.6.32-696.el6.x86_64.rpm --force</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429283974573.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429283974573.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">15 修复Grub</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># grub-install /dev/sda</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429314527274.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429314527274.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">16 修复grub.conf</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># vi /boot/grub/grub.conf   ,可以使用vi的命令这些功能</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">列出命令结果到当前编辑行的下一行，支持TAB补全</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429302254189.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429302254189.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">列出设备的UUID</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429327537296.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429327537296.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">最终写好的文件如下</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429342180017.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429342180017.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#exit</span> 重启</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429368644216.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429368644216.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">如果启用了selinux的话，系统会在第一次重启时进行配置、</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429390836903.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429390836903.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">第二次重新启动时，系统就正常了。之后再把把</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">17 把swap添加到fstab，并启用</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);">UUID=8e0a6121-97d7-4c70-b113-bbe4cefe0380 swap swap defaults 0 0</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># swapon -a</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">建议把fstab文件重新修正为使用UUID方式</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">至此，系统修复完成。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">手动在grub命令行接口启动系统</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">grub&gt; root (hd#,#)</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">grub&gt; kernel /vmlinuz-VERSION-RELEASE ro</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">root=/dev/DEVICE</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">grub&gt; initrd /initramfs-VERSION-RELEASE.img</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">grub&gt; boot</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-size:18px;background-color:rgb(250,226,32);font-weight:bold;">root密码破解</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-size:18px;background-color:rgb(250,226,32);font-weight:bold;"><br style="margin:0px;padding:0px;font-size:16px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">方法1：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">1.重启系统至引导菜单，注意按上下箭头，以免超时跳过去。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429426235067.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429426235067.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">按 a ,健入以下字符，1代表是单用户模式</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">1, s, S或single都可以，之后直接回车启动系统</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429440571071.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429440571071.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">无需要输入密码就以root身份进入系统了，直接passwd root修改</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">方法2：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">进入救援模式，chroot /mnt/sysimage 之后，直拉用passwd root修改</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">方法3：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">进入救援模式，chroot /mnt/sysimage 之后，直接修改/etc/shadow ，把root的密码栏位清空。需要vi时加入wq!</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">不过，重启后注意尽快修改密码</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429459977882.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429459977882.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(250,226,32);font-weight:bold;">grub加密</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">当然，既然有破解密码的，也有相应加强安全的.</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">将下面一行放入不同位置将会有不同的效果</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">password [--md5|--encrypted ] 加密的字符串</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">放在每个title之前行 ： 启动grub菜单时进行进行认证</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">放在每个title之末尾行 ： 启动选定的内核或操作系统时进行认证</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://s1.51cto.com/images/20180109/1515429484427913.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515429484427913.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">生成grub口令</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"> grub-md5-crypt   对应的是--md5</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"> grub-crypt	对应的是--encrypted</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<hr style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;margin:0px;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-size:26px;background-color:rgb(250,226,32);font-weight:bold;">Centos 7</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-size:26px;background-color:rgb(250,226,32);font-weight:bold;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">实验环境：</span>VMware Workstation Pro 14（试用版）</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">系统平台：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">CentOS Linux release 7.4.1708 (Core)	      内核  3.10.0-693.el7.x86_64</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">模拟破坏(请不拿生产中的机器来做试验，本人不负责任)</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">模拟stage1  stage1.5  stage2 阶段破坏</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># dd if=/dev/zero of=/dev/sda bs=1 count=446</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># dd if=/dev/zero of=/dev/sda bs=1 count=13000 skip=512 seek=512</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># rm -rf /boot</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;background-color:rgb(119,201,75);font-weight:bold;">修复如下：</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">1.进入救援模式</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://blog.51cto.com/static/js/ueditor1.4.3/themes/default/images/spacer.gif" style="margin:0px;padding:0px;border:none;" alt="spacer.gif"><img src="http://s1.51cto.com/images/20180109/1515487336503786.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515487336503786.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://blog.51cto.com/static/js/ueditor1.4.3/themes/default/images/spacer.gif" style="margin:0px;padding:0px;border:none;" alt="spacer.gif"><img src="http://s1.51cto.com/images/20180109/1515487350942442.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515487350942442.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://blog.51cto.com/static/js/ueditor1.4.3/themes/default/images/spacer.gif" style="margin:0px;padding:0px;border:none;" alt="spacer.gif"><img src="http://s1.51cto.com/images/20180109/1515487367783543.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515487367783543.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">系统发现根系统</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://blog.51cto.com/static/js/ueditor1.4.3/themes/default/images/spacer.gif" style="margin:0px;padding:0px;border:none;" alt="spacer.gif"><img src="http://s1.51cto.com/images/20180109/1515487381341738.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515487381341738.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">2. 切换至待修复的根系统</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># chroot /mnt/sysimage</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://blog.51cto.com/static/js/ueditor1.4.3/themes/default/images/spacer.gif" style="margin:0px;padding:0px;border:none;" alt="spacer.gif"><img src="http://s1.51cto.com/images/20180109/1515487395993153.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515487395993153.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">查看到/dev/sda确实没有MBR信息</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://blog.51cto.com/static/js/ueditor1.4.3/themes/default/images/spacer.gif" style="margin:0px;padding:0px;border:none;" alt="spacer.gif"><img src="http://s1.51cto.com/images/20180109/1515487410628492.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515487410628492.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">3.修复Grub</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># grub2-install  /dev/sda </span>.<span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">注意，是磁盘而非分区</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://blog.51cto.com/static/js/ueditor1.4.3/themes/default/images/spacer.gif" style="margin:0px;padding:0px;border:none;" alt="spacer.gif"><img src="http://s1.51cto.com/images/20180109/1515487424471255.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515487424471255.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">4.安装内核</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">挂载光盘</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># mount /dev/sr0 /mnt</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">如果挂载的救援模式是原ISO的DVD1的话，里面会有内核文件，如果没有DVD1光盘，请去其他地方下载同一内核版本的rpm包。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">执行安装指令</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># rpm -ivh /光盘位置或指定位置/Packages/kernel-3.10.0-693.el7.x86_64.rpm --force</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://blog.51cto.com/static/js/ueditor1.4.3/themes/default/images/spacer.gif" style="margin:0px;padding:0px;border:none;" alt="spacer.gif"><img src="http://s1.51cto.com/images/20180109/1515487440502192.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515487440502192.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">5.生成gurb配置文件</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">注意这一步不能和第4步颠倒</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># grub2-mkconfig -o /boot/grub2/grub.cfg</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><img src="http://blog.51cto.com/static/js/ueditor1.4.3/themes/default/images/spacer.gif" style="margin:0px;padding:0px;border:none;" alt="spacer.gif"><img src="http://s1.51cto.com/images/20180109/1515487451277187.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" title="1515487451277187.png" alt="1.png" style="margin:0px;padding:0px;border:none;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;font-weight:bold;">6.保存并重启</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"># exit</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#sync</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#sync</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;">#reboot</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);font-weight:bold;"><br style="margin:0px;padding:0px;"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);"></span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(119,201,75);font-weight:bold;">至此，系统修复完成。</span></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><span style="margin:0px;padding:0px;color:rgb(223,64,42);"></span><br style="margin:0px;padding:0px;"></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);">Centos 7修复与Centos 6相差不大，只是使用的命令有些不同。</p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br></p>
<p style="font-family:'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', '微软雅黑', Arial, sans-serif;padding:0px;font-size:16px;color:rgb(51,51,51);background-color:rgb(255,255,255);"><br></p>
<p style="padding:0px;background-color:rgb(255,255,255);"><font color="#333333">本文转自 ljpwinxp 51CTO博客，原文链接:http://blog.51cto.com/191226139/2058884</font><br></p>

                                                            </div>
                                <div class="copyright-outer-line">
                                            <div class="yq-blog-sem-remove copyright-notice">
                            版权声明：本文内容由互联网用户自发贡献，版权归作者所有，本社区不拥有所有权，也不承担相关法律责任。如果您发现本社区中有涉嫌抄袭的内容，欢迎发送邮件至：<a
                                    href="mailto:yqgroup@service.aliyun.com">yqgroup@service.aliyun.com</a>
                            进行举报，并提供相关证据，一经查实，本社区将立刻删除涉嫌侵权内容。
                        </div>
                                    </div>


                <div class="yq-line"></div>
                <div class="yq-blog-comment yq-blog-sem-remove"
                                                    data-async-load="true"
                            data-type="article"
                            data-pid="486706"
                            data-p="1"
                                        >
                    <h3 class="title-info">网友评论</h3>
                                            <section class="comments-box clearfix">


                            <form accept-charset="UTF-8" action="/comments" method="POST" data-remote="true"
                                  data-target="#comments"
                                  class="js-comment-create js-active-on-valid">
                                <input type="hidden" name="type" value="article">
                                <input type="hidden" name="yunqi_csrf" value="RFREP8HZVL">
                                <input type="hidden" name="isCheck" value="1">
                                <input type="hidden" name="pid" value="486706">
                                
                                    <div class="form-group">
                                        <div class="editor js-editor">
                                            <div class="editor-container">
                                                <div class="editor-actions">
                                                    <a href="https://account.aliyun.com/login/login.htm?from_type=yqclub&oauth_callback=https%3A%2F%2Fyq.aliyun.com%2Farticles%2F486706%3Fdo%3Dlogin">登录</a><span>后评论</span>
                                                </div><!-- /.editor-actions -->
                                                <div class="computed-count unlogin-count">
                                                    <span class="font-count">0</span>/500
                                                </div>
                                                <textarea name="content" rows="4" maxlength="500"
                                                          class="form-control js-mention js-auto-expand editor-content"
                                                          style="height: 82px" id="comment"
                                                          placeholder="写下你的评论…" required></textarea>
                                            </div><!-- /.editor-container -->

                                        </div><!-- /.editor  -->
                                    </div>

                                

                                <div class="form-group text-right">
                                                                            <div class="comment_button comment_new_button" data-toggle="modal"
                                             name="showLoginBtn">评论
                                        </div>
                                                                    </div>
                            </form>
                            <div class="media-list comments" id="comments">
                                

<div class="pages comment-tip">
        
    
</div>
                            </div>
                        </section>
                                    </div>
            </div>

            <div class="yq-line"></div>
            <div class="yq-blog-related-articles">
                <h3 class="title-info">相关文章</h3>
                <div class="related-articles-content">

                </div>
                <div class="load-more">下拉加载更多</div>
            </div>


        </div>
        <div class="yq-main-right">
            <div class="yq-right-sider">


                <div id="huangli" data-islogin="false" data-type="small"></div>


                <div class="sign-content yq-b-detail">
                    <ul class="nav-tab">
                        <li><span>作者介绍</span></li>
                    </ul>
                    <div class="b-panel">
                        <dl>
                            <dt>
                                <div class="user-head">
                                    <a href="/users/gtdqzn4uqwgsg" target="_blank" rel="nofollow">
                                        <img src="https://ucc.alicdn.com/avatar/avatar3.jpg" alt="" style="width:100%;height:100%">
                                    </a>
                                </div>
                            </dt>
                            <dd class="panel-info">
                                <a href="/users/gtdqzn4uqwgsg" target="_blank" class="user-name"
                                   rel="nofollow">科技小能手</a>
                                                            </dd>
                            <dd>
                                                                                                            <a href="javascript:;" class="interest-opt"
                                           data-islogin="false"
                                           data-uid="gtdqzn4uqwgsg" id="follow-btn" rel="nofollow">+ 关注</a>
                                                                                                </dd>
                        </dl>
                        <div class="article-info">
                            <div class="info-item">
                                <p class="count item-first">24394</p>
                                <p class="info item-first">文章数</p>
                            </div>
                            <div class="info-item info-middle">
                                <p class="count">162</p>
                                <p class="info">粉丝数</p>
                            </div>
                            <div class="info-item">
                                <p class="count item-last">0</p>
                                <p class="info item-last">关注的人</p>
                            </div>
                        </div>
                    </div>

                                        
                </div>

                
                <div class="sign-content yq-b-magazine yq-product-recommend" style="margin-top: 20px">
                    <div class="next-title">
                        下一篇
                    </div>
                    <div class="next-content">
                        <a onclick="userAction('next')"
                           href="/articles/706404">“网红”科技—数据中台，离你的企业有多远？</a>
                    </div>
                    <div class="next-info">
                        <a href="/users/chjpv4aadbnwq"
                           target="_blank">云攻略小攻</a>
                        <span class="icon-View">556人浏览</span>
                    </div>
                </div>

                <div class="sign-content yq-other-catalog yq-ads-blog" id="category-list-div">
                    <ul class="nav-tab">
                        <li><span>本文目录</span></li>
                    </ul>
                    <div class="tags-panel">
                        <ol class="notice-panel" id="category-list">
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <input type="hidden" id="weibourl" name="weibourl" value="http://service.weibo.com/share/share.php?title=Centos+%E7%B3%BB%E7%BB%9F%E5%BC%95%E5%AF%BC%E6%8D%9F%E5%9D%8F%E4%BF%AE%E5%A4%8D%E3%80%81%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E4%B8%8E%E5%8A%A0%E5%AF%86+%0ACentos+6%0A%0A%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83%EF%BC%9AVMware+Workstation+Pro+14%EF%BC%88%E8%AF%95%E7%94%A8%E7%89%88%EF%BC%89%0A%E7%B3%BB%E7%BB%9F%E5%B9%B3%E5%8F%B0%EF%BC%9A%0ACentOS+release+6.9+%28Final%29+%C2%A0+%C2%A0+%C2%A0+%E5%86%85%E6%A0%B8+%C2%A02.6.32-696.el6.x86_64%0A%0A%0Aramdisk%28ramfs%29%E4%B8%A2%E5%A4%B1%E6%8D%9F%E5%9D%8F%0A%EF%81%B6+%E5%86%85%E6%A0%B8%E4%B8%AD%E7%9A%84%E7%89%B9%E6%80%A7%E4%B9%8B%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8%E7%BC%93%E5%86%B2%E5%92%8C%E7%BC%93%E5%AD%98%E6%9D%A5%E5%8A%A0%E9%80%9F%E5%AF%B9%E7%A3%81%E7%9B%98%E4%B8%8A%E7%9A%84%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE%EF%BC%8C%E5%B9%B6%E5%8A%A0%E8%BD%BD%E7%9B%B8%E5%BA%94%E7%9A%84%E7%A1%AC%E4%BB%B6%E9%A9%B1%E5%8A%A8%0A%E6%B2%A1%E6%9C%89%E6%AD%A4%E6%96%87%E4%BB%B6%EF%BC%8C%E7%B3%BB%E7%BB%9F%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD+%2F+%E5%88%86%E5%8C%BA%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E7%B3%BB%E7%BB%9F%E3%80%82&amp;url=https%3A%2F%2Fyq.aliyun.com%2Farticles%2F486706"/>
    <input type="hidden" id="qrcodeurl" name="qrcodeurl" value="/api/qrcode?size=140&amp;key=b24f3c0b375e85cde5b1f2cba9855f22e56fdc7a&amp;text=https%3A%2F%2Fyq.aliyun.com%2Farticles%2F486706"/>
    <div class="yq-footer-links">
            <dl class="link-item">
            <dt class="item-title">热点导航</dt>
            <dd class="item-content">
                                    <a href="https://www.aliyun.com/acts/hi618/index" target="_blank" title="">阿里云618大促</a>
                                    <a href="https://www.aliyun.com/" target="_blank" title="">云计算</a>
                                    <a href="https://market.aliyun.com/security" target="_blank" title="云安全">网络安全</a>
                                    <a href="https://www.aliyun.com/aliware" target="_blank" title="分布式系统aliware">互联网架构</a>
                                    <a href="https://yq.aliyun.com/ask/53742" target="_blank" title="云服务器ECS升级配置">ECS升级配置</a>
                                    <a href="https://www.aliyun.com/product/iot" target="_blank" title=" 物联网套件"> 物联网</a>
                                    <a href="https://tianchi.aliyun.com/competition/entrance/231714/introduction" target="_blank" title="中间件比赛">中间件比赛</a>
                                    <a href="https://yq.aliyun.com/articles/" target="_blank" title="云栖博客">云栖博客</a>
                            </dd>
        </dl>
                <dl class="link-item">
            <dt class="item-title">用户关注</dt>
            <dd class="item-content">
                                    <a href="https://bbs.aliyun.com/read/301499.html" target="_blank" title="如何做好自动化测试">自动化测试</a>
                                    <a href="https://www.aliyun.com/solution/all" target="_blank" title="行业解决方案">解决方案</a>
                                    <a href="https://yq.aliyun.com/articles/34777" target="_blank" title="Linux中常用命令">linux命令</a>
                                    <a href="https://www.aliyun.com/ " target="_blank" title="">云服务</a>
                                    <a href="https://yq.aliyun.com/articles/92145" target="_blank" title="">JavaScript 函数</a>
                                    <a href="https://yq.aliyun.com/articles/48786" target="_blank" title="服务器监控工具">服务器监控</a>
                                    <a href="https://yq.aliyun.com/roundtable/56407" target="_blank" title="">Python语言</a>
                                    <a href="https://www.aliyun.com/product/man" target="_blank" title="">移动数据分析</a>
                            </dd>
        </dl>
                <dl class="link-item">
            <dt class="item-title">更多推荐</dt>
            <dd class="item-content">
                                    <a href="https://yq.aliyun.com/articles/132294" target="_blank" title="用户体验质量控制">用户体验</a>
                                    <a href="https://help.aliyun.com/product/26090.html" target="_blank" title="云数据库rds服务">云数据库Rds</a>
                                    <a href="https://www.aliyun.com/product/slb/" target="_blank" title="负载均衡slb">负载均衡</a>
                                    <a href="https://wanwang.aliyun.com" target="_blank" title="域名购买">域名注册</a>
                                    <a href="https://whois.aliyun.com" target="_blank" title="域名whois查询工具">Whois查询</a>
                                    <a href="https://help.aliyun.com/product/43570.html" target="_blank" title="DataV数据可视化文档">数据可视化</a>
                                    <a href="https://beian.aliyun.com" target="_blank" title="网站备案查询">ICP备案查询</a>
                                    <a href="https://yq.aliyun.com/zt" target="_blank" title="">主题地图</a>
                                    <a href="https://edu.aliyun.com/" target="_blank" title="阿里云大学视频教程">阿里云大学</a>
                                    <a href="https://wanwang.aliyun.com/domain/cn/" target="_blank" title=".cn域名">cn域名</a>
                                    <a href="https://m.aliyun.com/yunqi/" target="_blank" title="">移动站</a>
                                    <a href="https://bbs.aliyun.com/" target="_blank" title="">IT论坛</a>
                                    <a href="https://www.aliyun.com/acts/product-section-2019/home" target="_blank" title="">阿里云开年Hi购季</a>
                                    <a href="https://mail.aliyun.com/" target="_blank" title="">企业邮箱</a>
                                    <a href="https://www.aliyun.com/acts/product-section-2019/new-users" target="_blank" title="">新用户优惠</a>
                            </dd>
        </dl>
    </div>    <script>
    window.localconfigs = {
            };
    window.showDialog = {
        "show" : false,
        "cookieName" : "show_yq_login_dialog",
        "cookieTTL" : 0.5,
        "content" : '注册会员，查阅海量科技文章，更可获得阿里云千元新手礼包'
    };
    $(function () {
        if (location.hash && location.hash == "#yqblog") {
            $(".yq-blog-sem-remove").remove();
        }
        var alert_init = 0;
        $("#low-score-notice").hover(function () {
            if (alert_init == 0){
                $.Alert("下载附件需要扣除  个积分，积分是社区的虚拟货币，当前帐号积分数量为 ，请满足条件后再进行操作, <a target=\"_blank\" href=\"https://yq.aliyun.com/articles/782\">如何获取积分</a>","积分不足",true);
            }
            alert_init = 1;
        });
        $("#download-notice").click(function(){
            var _this = $(this);
            if (alert_init == 0){
                $.Confirm('下载附件需要扣除  个积分，积分是社区的虚拟货币，当前帐号积分数量 ，为请问是否继续？','确认下载',function (){
                    alert_init = 1;
                    _this.attr("href",_this.attr("data-href"));
                    location.href = _this.attr("data-href");
                });
            }
        });
    })
</script>
    <link href="/assets/TQEditor-2.3.8/prism.css" rel="stylesheet" />
    <script src="/assets/TQEditor-2.3.8/prism.js"></script>
    <script type="application/hal+json">{
        "@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
        "@id": "",
        "appid": "1603340613662633",
        "title": "Centos 系统引导损坏修复、密码破解与加密",
        "images": "",
        "pubDate": "",
        "upDate": "",
        "data":{
            "webPage":{
                "headline":"",
                "pcUrl":"",
                "wapUrl":"",
                "appUrl":"",
                "mipUrl":"",
                "datePublished": ""
            }
        }
    }
</script>    <script nonce="LRNSAPSLIQ">
        window.localconfigs = {
            aid: "486706",
            title: "Centos 系统引导损坏修复、密码破解与加密",
            isDeveloper: "",

            content: "\x0ACentos\x206\x0A\x0A\u5B9E\u9A8C\u73AF\u5883\uFF1AVMware\x20Workstation\x20Pro\x2014\uFF08\u8BD5\u7528\u7248\uFF09\x0A\u7CFB\u7EDF\u5E73\u53F0\uFF1A\x0ACentOS\x20release\x206.9\x20\x28Final\x29\x20\u00A0\x20\u00A0\x20\u00A0\x20\u5185\u6838\x20\u00A02.6.32\x2D696.el6.x86_64\x0A\x0A\x0Aramdisk\x28ramfs\x29\u4E22\u5931\u635F\u574F\x0A\uF076\x20\u5185\u6838\u4E2D\u7684\u7279\u6027\u4E4B\u4E00\uFF1A\u4F7F\u7528\u7F13\u51B2\u548C\u7F13\u5B58\u6765\u52A0\u901F\u5BF9\u78C1\u76D8\u4E0A\u7684\u6587\u4EF6\u8BBF\u95EE\uFF0C\u5E76\u52A0\u8F7D\u76F8\u5E94\u7684\u786C\u4EF6\u9A71\u52A8\x0A\u6CA1\u6709\u6B64\u6587\u4EF6\uFF0C\u7CFB\u7EDF\u65E0\u6CD5\u52A0\u8F7D\x20\x2F\x20\u5206\u533A\uFF0C\u4E5F\u5C31\u65E0\u6CD5\u542F\u52A8\u7CFB\u7EDF\u3002"
        };

        function userAction(action) {
            var aid = "486706";
            var title = "Centos 系统引导损坏修复、密码破解与加密";
            $.get('/yqapi/blog/userBehavior', {aid: aid, title: title, action: action});
        }

        $(document).on('click', '.b-technology', function () {
            userAction('draft')
        })
        $(document).on('click', '.alllink', function () {
            userAction('readmore')
        })
    </script>

  <!--[if IE 9]>
  <script src="//g.alicdn.com/??aliyun/dblx/0.0.4/es5-shim.min.js,aliyun/dblx/0.0.4/es5-sham.min.js"></script>
  <![endif]-->
<script nonce="LRNSAPSLIQ">
    window.configs  = { "csrf-param": "yunqi_csrf",
        "csrf-token": "RFREP8HZVL",
        "islogin": false,
        "registerurl": "https://account.aliyun.com/register/register.htm?from_type=yqclub&oauth_callback=https%3A%2F%2Fyq.aliyun.com%2Farticles%2F486706%3Fdo%3Dlogin",
        "loginurl": "https://account.aliyun.com/login/login.htm?from_type=yqclub&oauth_callback=https%3A%2F%2Fyq.aliyun.com%2Farticles%2F486706%3Fdo%3Dlogin",
        "isNeedNickname": false,
        "isNew": false    };
</script>
  <script src="//g.alicdn.com/aliyun/yunqi/1.1.7/scripts/common.js"></script>
    <script src="//g.alicdn.com/aliyun/yunqi/1.1.7/scripts/blogDetail2019.js"></script>
  
    <script nonce="LRNSAPSLIQ">


        (function () {
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            } else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);

            $.ajax({
                url: '/yqnew/api/wechatMiniProgram/qrcode?buildType=articles&paramId=' +486706,
                type: 'GET',
                success: function (data) {
                    $('#weixin-icon img').attr('src', data.data);
                }
            });
            // $(document).on('mouseenter', '.interest-opt', (e) => {
            //     const event = e || widnow.evnet;
            //     const $this = $(event.currentTarget);
            //     if ($this.text().trim() === '已关注') {
            //         $this.addClass('over').text('取消关注');
            //     }
            //     $(document).on('mouseleave', '.interest-opt', (e) => {
            //         $this.removeClass('over');
            //         if ($this.text() === '取消关注') {
            //             $this.text('已关注');
            //         }
            //     })
            // });
                        
                    })();
    </script>
  <style>
  a, a:link, a:visited {
    color: #3366ff;
  }

  a:focus, a:hover {
    color: #4775FF;
    text-decoration: underline;
  }
  .copyright a img {vertical-align: baseline;}
</style>
  <script type="text/javascript" src="//www.aliyun.com/rgn/aliyun_footer?renderer=js"></script>
  <script nonce="LRNSAPSLIQ">
      $(function(){
        //头像打签
        var icon_uids = [];
        $("span[name^='experticon_']").each(function(i){
            icon_uids[i] = $(this).attr('uid');
        });
        var method = '/api/getIcons/';

        $.ajax({
            type: 'POST',
            url: method,
            async: true,
            dataType:"json", 
            cache:false,
            data: {icon_uids:icon_uids},
            success: function(data, status, xhr) {
                console.log(data);
                if(data.errcode==0){
                    for(var i in data.data.expert){
                        if(data.data.expert[i].isexpert==1){//专家签
                            $("span[name='experticon_"+i+"']").each(function(){
                                var size = $(this).attr("size") || 'big';
                                var width;
                                size == 'big' ? size='middle':'';
                                size=='middle' ? width = '16px;' :'';
                                size=='small' ? width = '14px;' :'';
                                if(data.data.expert[i].category==2){//阿里专家
                                    var img_src = '//img.alicdn.com/tps/TB15.8xOpXXXXX1XFXXXXXXXXXX-14-14.png';
                                }else{
                                    var img_src = '//img.alicdn.com/tps/TB1rR75OXXXXXXKaFXXXXXXXXXX-14-14.png';
                                }
                                $(this).html('<img src="'+img_src+'" style="width: '+width+'height: '+width+'margin-right: 10px;" title="专家认证"/>');                        
                            });
                        }
                    }

                    for(var n in data.data.mvp){
                        $("span[name='experticon_"+data.data.mvp[n]+"']").each(function(){
                            $(this).after('<img src="//yqfile.alicdn.com/777a8d68e6349091f2be06099eefaa36.png" alt="" style="margin-left: 0;height: 15px;width: 21px;">');
                        });
                    }
                }
            },
            error: function(xhr, type, error) {
                console.log(error.toString());
            }
        });
    });
  </script>
  <script src='//w.cnzz.com/c.php?id=1256835944' language='JavaScript'></script>
  <script src='//w.cnzz.com/c.php?id=1256757167' language='JavaScript'></script>
  <script src="//g.alicdn.com/??aliyun/www-dpl/0.5.12/knight/js/data-statistics.js"></script>
  <script type="text/javascript"  nonce="LRNSAPSLIQ">
      const countExpo = (ele,length) => {
          var objId= ele.substring(length);
          let ctr = true;
          if ($(window).scrollTop() < $(ele).offset().top+$(ele).height() && $(window).scrollTop() > $(ele).offset().top-$(window).height()) { //本身在可视区
              $.get('/yqapi/banner/exposure',{bannerId:objId});
          } else {
              $(window).on('scroll', () => { //不在可视区滚动触发
                  if ($(window).scrollTop() < $(ele).offset().top+$(ele).height() && $(window).scrollTop() > $(ele).offset().top-$(window).height() && ctr) {
                      $.get('/yqapi/banner/exposure',{bannerId:objId});
                      ctr = false;
                  }
              })
          }
      }
          window.right_bottom_ads = null;
      setTimeout(function () {
          $('.yq-a-r-bottom').addClass('yq_a_r_bottom_'+window.right_bottom_ads.id);
          countExpo('.yq_a_r_bottom_'+window.right_bottom_ads.id,15);
      },0)
      $('body').on('click', '.yq-a-r-bottom img', function (data) {
          bannerClick(window.right_bottom_ads.id);
      })

    
    function bannerClick(bannerId)
    {
        $.get('/yqapi/banner/click',{bannerId:bannerId});
        // window.location.href=''+link+'';
    }

  </script>
</body>
</html>
