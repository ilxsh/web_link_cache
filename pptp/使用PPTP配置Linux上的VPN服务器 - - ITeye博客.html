<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" dir="ltr"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>
    使用PPTP配置Linux上的VPN服务器 -  - ITeye博客
  </title>
  <meta name="description" content="  PPTP是一个比较简单的VPN构建方式，但是很难找到比较全的说明文档。因此，记录一篇说明文档，详细记录架设VPN服务器以及总结一些其他比较容易遇到的问题。    安装PPTP基本上安装pptp是比较简单的了，比如在我的CentOS6.4 x64上，只需要两个命令:        ">
  <meta name="keywords" content=" 使用PPTP配置Linux上的VPN服务器">
  <meta name="report" content="{&quot;pid&quot;:&quot;iteye&quot;}">
  <link rel="shortcut icon" href="https://www.iteye.com/images/favicon.ico" type="image/x-icon">
  <link rel="search" type="application/opensearchdescription+xml" href="https://www.iteye.com/open_search.xml" title="ITeye">
  <link href="https://www.iteye.com/rss" rel="alternate" title="" type="application/rss+xml">
  <link href="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/blog.css" media="screen" rel="stylesheet" type="text/css">
<link href="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/blue.css" media="screen" rel="stylesheet" type="text/css">
  <script type="text/javascript" async="" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/auto_dup.js"></script><script type="text/javascript" async="" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/analytics.js"></script><script type="text/javascript" async="" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/trackad.js"></script><script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/hm.js"></script><script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/application.js" type="text/javascript"></script>
  <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?e19a8b00cf63f716d774540875007664";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<style>
/* 折叠效果 */
.hide-main-content{
    position: relative;
}
.hide-article-box {
    display: none;
    position: absolute;
    z-index: 9999;
    bottom: -1px;
    width: 100%;
    padding-top: 160px;
    background-image: -webkit-gradient(linear,left top, left bottom,from(rgba(255,255,255,0)),color-stop(70%, #fff));
    background-image: linear-gradient(-180deg,rgba(255,255,255,0) 0%,#fff 70%);
}
.hide-article-box #btn-readmore{
    color: #ca0c16;
    border: 1px solid #ca0c16;
    margin: 10px auto;
    padding: 0 8px;
    display: block;
    font-size: 14px;
    border-radius: 4px;
    text-align: center;
    background-color: transparent;
    height: 34px;
    width: 74px;
    line-height: 32px;
    min-width: 72px;
    cursor: pointer;
}
.hide-article-box #btn-readmore:hover{
    background: #ca0c16;
    color:#fff;
    text-decoration: none;
}
</style>
<!-- 因INS广告原因 需要提前引入jquery -->
<script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/jquery-1.js" type="text/javascript"></script>
<script type="text/javascript">var jQuery = jQuery.noConflict();// 解决jq与prototype.js命名空间冲突的问题</script>
<script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/fixed-sidebar.js" type="text/javascript"></script>

    <link href="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/SyntaxHighlighter.css" media="screen" rel="stylesheet" type="text/css">
  <script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/shCoreCommon.js" type="text/javascript"></script>
<script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/hotkey.js" type="text/javascript"></script>
  <script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/code_favorites.js" type="text/javascript"></script>
<script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/weiboshare.js" type="text/javascript"></script>

  <!-- 请置于所有广告位代码之前 -->
  <script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/ds.js"></script>
  <link ref="canonical" href="http://www.iteye.com/blog/ljz1318078262-2276703">
  <script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/c_002.js"></script><link rel="stylesheet" type="text/css" href="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/recommend.css"><link rel="stylesheet" type="text/css" href="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/iconfont.css"></head><body><div id="BAIDU_DUP_fp_wrapper" style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;"><iframe id="BAIDU_DUP_fp_iframe" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/o.html" style="width: 0px; height: 0px; visibility: hidden; display: none;"></iframe></div><svg aria-hidden="true" style="position: absolute; width: 0px; height: 0px; overflow: hidden;"><symbol id="fanyi" viewBox="0 0 1084 1024"><path d="M602.416429 647.439059v75.390494h120.470588v-120.470588h-75.029082l195.493647-193.939577V481.882353h180.597459c33.322165 0 60.289506 26.967341 60.289506 60.235294 0 0.722824-0.012047 1.439624-0.036141 2.1504v236.640377c0.024094 0.710776 0.036141 1.427576 0.036141 2.1504 0 33.261929-26.967341 60.235294-60.235294 60.235294H843.357606v120.470588c0 33.261929-26.967341 60.229271-60.235294 60.22927s-60.235294-26.967341-60.235295-60.235294v-120.470588H542.090782c-33.267953 0-60.235294-26.967341-60.235294-60.235294l0.006024-16.022588 120.554917-119.597177z m240.935153-45.080094v120.470588h120.380235v-120.470588h-120.380235z m-403.534306-46.585977l-27.732329-67.861082H186.479676l-70.716235 167.936c-12.9024 30.659765-48.224376 45.056-78.884141 32.141553-30.659765-12.908424-45.049976-48.2304-32.141553-78.890165l240.941176-572.223247A60.253365 60.253365 0 0 1 301.782076 0.006024a60.253365 60.253365 0 0 1 56.380236 37.466352l174.242635 426.429742 352.798117-350.033318c23.612235-23.431529 61.7472-23.280941 85.17873 0.331294 23.431529 23.612235 23.280941 61.753224-0.331294 85.184753L200.394029 963.029835c-23.612235 23.431529-61.753224 23.280941-85.184753-0.331294-23.431529-23.612235-23.280941-61.753224 0.337318-85.184753l324.270682-321.7408z m-138.842353-339.787294L237.209841 367.441318H362.860664L300.974923 215.979671z"></path></symbol><symbol id="shouji" viewBox="0 0 1024 1024"><path d="M768 670.72V102.4H256v568.32h512z m0 51.2H256v199.68h512v-199.68z m102.4-619.52v819.2c0 56.55552-45.84448 102.4-102.4 102.4H256c-56.55552 0-102.4-45.84448-102.4-102.4V102.4C153.6 45.84448 199.44448 0 256 0h512c56.55552 0 102.4 45.84448 102.4 102.4zM512 870.4c-28.27776 0-51.2-22.92224-51.2-51.2s22.92224-51.2 51.2-51.2 51.2 22.92224 51.2 51.2-22.92224 51.2-51.2 51.2z"></path></symbol><symbol id="yuedushu" viewBox="0 0 1462 1024"><path d="M731.428571 1024c-259.320686 0-495.879314-146.753829-709.668571-440.246857-29.015771-39.840914-29.015771-103.665371 0-143.506286C235.556571 146.761143 472.107886 0 731.428571 0c259.320686 0 495.879314 146.753829 709.668572 440.246857 29.015771 39.840914 29.015771 103.665371 0 143.506286C1227.300571 877.238857 990.749257 1024 731.428571 1024z m0-841.142857c-195.2256 0-375.632457 107.132343-545.865142 329.142857 170.232686 222.010514 350.639543 329.142857 545.865142 329.142857 195.2256 0 375.632457-107.132343 545.865143-329.142857C1107.053714 289.989486 926.646857 182.857143 731.428571 182.857143z m0 621.714286c-161.579886 0-292.571429-130.991543-292.571428-292.571429s130.991543-292.571429 292.571428-292.571429 292.571429 130.991543 292.571429 292.571429-130.991543 292.571429-292.571429 292.571429z m0-182.857143c60.591543 0 109.714286-49.122743 109.714286-109.714286 0-60.591543-49.122743-109.714286-109.714286-109.714286-60.591543 0-109.714286 49.122743-109.714285 109.714286 0 60.591543 49.122743 109.714286 109.714285 109.714286z"></path></symbol></svg><script onload="window['cambrian_sync_loader_success1586926595800250']()" onerror="window['cambrian_sync_loader_fail_1586926595800250']()" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/main.js"></script>
  <script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/recommend.js"></script><script language="javascript" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/iconfont.js"></script>



<script>
    // 效果广告平台 图片延迟统计 --start
    if (window.csdn === undefined) {
        window.csdn = {};
    }
    if(!csdn.trackad) {
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'https://g.csdnimg.cn/asdf/1.0.7/trackad.js';
        var x = document.getElementsByTagName('script')[0];
        x.parentNode.insertBefore(s, x);
    }
</script>
  <div id="header">
    <div id="blog_site_nav">
  <a href="https://www.iteye.com/" class="homepage">首页</a>
  <a href="https://www.iteye.com/news">资讯</a>
  <a href="https://www.iteye.com/magazines">精华</a>
  <a href="https://www.iteye.com/forums">论坛</a>
  <a href="https://www.iteye.com/ask">问答</a>
  <a href="https://www.iteye.com/blogs">博客</a>
  <a href="https://www.iteye.com/blogs/subjects">专栏</a>
  <a href="https://www.iteye.com/groups">群组</a>
  <a href="https://www.iteye.com/resources">下载</a>
</div>

    <div id="user_nav">

      <a href="https://www.iteye.com/login" class="welcome" title="登录">您还未登录!</a>
    <a href="https://www.iteye.com/login">登录</a>
  </div>


  </div>

  <div id="page">
<!--    <div id="branding" class="clearfix">-->
<!--      <div id="blog_name">-->
<!--        <h1><a href="/">-->
<!--            </a></h1>-->
<!--      </div>-->
<!--      <div id='fd'></div>-->
<!--      <div id="blog_navbar">-->
<!--        <ul>-->
          
          
          
          
          
          
<!--        </ul>-->

<!--        <div class="search">-->
<!--          <form action="/blog/search" method="get">-->
<!--            <input class="search_text" id="query" name="query" style="margin-left: 10px;width: 110px;" type="text"-->
<!--              value="" />-->
<!--            <input class="submit_search" type="submit" value="" />-->
<!--          </form>-->
<!--        </div>-->
<!--        <div id="fd"></div>-->
<!--      </div>-->
<!--    </div>-->
    `
    <div id="content" class="clearfix">
      <div id="local">
        <div class="local_top"></div>
        <div id="blog_owner">
  <div id="blog_owner_logo"><a href="https://www.iteye.com/blog/user/ljz1318078262"><img alt="ljz1318078262的博客" class="logo" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/user-logo.gif" title="ljz1318078262的博客: " width=""></a></div>
  <div id="blog_owner_name">ljz1318078262</div>
</div>

        <div id="blog_actions">
          <ul>
            <li>浏览:
              22944 次</li>
            
            
            <li>
              <img src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/offline.gif">
            </li>
            
          </ul>
        </div>

        <div id="user_visits" class="clearfix">
          <h5>最近访客 <span style="font-weight:normal;font-size:12px;padding-left:30px;">
              <a href="https://www.iteye.com/blog/user_visits">更多访客&gt;&gt;</a></span></h5>
          
          <div class="user_visit">
            <div class="logo"><a href="https://www.iteye.com/blog/user/devcang" target="_blank"><img alt="devcang的博客" class="logo" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/user-logo-thumb.gif" title="devcang的博客: " width="48px"></a></div>
            <div class="left">
              <a href="https://www.iteye.com/blog/user/devcang" target="_blank" title="devcang">devcang</a>
            </div>
          </div>
          
          <div class="user_visit">
            <div class="logo"><a href="https://www.iteye.com/blog/user/feiyue81" target="_blank"><img alt="feiyue81的博客" class="logo" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/user-logo-thumb.gif" title="feiyue81的博客: 暴风雨" width="48px"></a></div>
            <div class="left">
              <a href="https://www.iteye.com/blog/user/feiyue81" target="_blank" title="feiyue81">feiyue81</a>
            </div>
          </div>
          
          <div class="user_visit">
            <div class="logo"><a href="https://www.iteye.com/blog/user/haiyupeter" target="_blank"><img alt="haiyupeter的博客" class="logo" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/64d42598-81f6-35a3-b7dd-9a45f3d50d79-thumb.jpg" title="haiyupeter的博客: 海宇的博客" width="48px"></a></div>
            <div class="left">
              <a href="https://www.iteye.com/blog/user/haiyupeter" target="_blank" title="haiyupeter">haiyupeter</a>
            </div>
          </div>
          
          <div class="user_visit">
            <div class="logo"><a href="https://www.iteye.com/blog/user/fly872365" target="_blank"><img alt="Fly872365的博客" class="logo" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/user-logo-thumb.gif" title="Fly872365的博客: " width="48px"></a></div>
            <div class="left">
              <a href="https://www.iteye.com/blog/user/fly872365" target="_blank" title="Fly872365">Fly872365</a>
            </div>
          </div>
          
        </div>

        <div id="user_title_list" class="clearfix">
          <h5>博主相关</h5>
          <li>
            <a href="https://www.iteye.com/blog/user/ljz1318078262">博客</a>
          </li>

          <li>
            <a href="https://www.iteye.com/weibo">微博</a>
          </li>

          <li>
            <a href="https://www.iteye.com/album">相册</a>
          </li>

          <li>
            <a href="https://www.iteye.com/link">收藏</a>
          </li>

          <li>
            <a href="https://www.iteye.com/blog/guest_book">留言</a>
          </li>

          <li>
            <a href="https://www.iteye.com/blog/profile">关于我</a>
          </li>
        </div>

        

                <div id="blog_menu">
          <h5>文章分类</h5>
          <ul>
            <li>
              <a href="https://www.iteye.com/blog/user/ljz1318078262">全部博客 (56)</a>
            </li>
            
          </ul>
        </div>
        <div id="month_blogs">
          <h5>社区版块</h5>
          <ul>
            <li>
              <a href="https://www.iteye.com/blog/news">我的资讯</a> (
              0)</li>
            <li>
              <a href="https://www.iteye.com/blog/post">我的论坛</a> (
              0)
            </li>
            <li>
              <a href="https://www.iteye.com/blog/answered_problems">我的问答</a> (
              0)</li>
          </ul>
        </div>
        <div id="month_blogs">
          <h5>存档分类</h5>
          <ul>
            
            <li>
              <a href="https://www.iteye.com/blog/monthblog/2016-02">2016-02</a>
              (
              2)</li>
            
            <li>
              <a href="https://www.iteye.com/blog/monthblog/2015-11">2015-11</a>
              (
              1)</li>
            
            <li>
              <a href="https://www.iteye.com/blog/monthblog/2015-10">2015-10</a>
              (
              2)</li>
            
            <li>
              <a href="https://www.iteye.com/blog/monthblog_more">更多存档...</a>
            </li>
          </ul>
        </div>
        
        

        <div id="guest_books">
          <h5>最新评论</h5>
          <ul>
            
          </ul>
        </div>

        <div class="local_bottom"></div>
        
        <div id="nav_show_top_stop" style="position: fixed; top: 1287.6px;">
            <div>
              <!-- 广告位：PC端-iteye博客详情页左侧Button1-200*200 -->
              
              <!-- Ads ID 423 -->
              
            </div>
            <div>
              <!-- 广告位：PC端-iteye博客详情页左侧Button2-200*200 -->
              
              <!-- Ads ID 424 -->
              
            </div>
          </div>
      </div>
      
      <div id="main" class="not_exist_right_recommend">
        



        


<div class="h-entry" style="display:none">
  <a href="https://www.iteye.com/blog/user/ljz1318078262" class="p-author" target="_blank">ljz1318078262</a>
</div>


<div class="blog_main">
  <script type="application/ld+json">
    {
        "@context": "https://zhanzhang.baidu.com/contexts/cambrian.jsonld",
        "@id": "http://www.iteye.com/blog/ljz1318078262-2276703",
        "title": "使用PPTP配置Linux上的VPN服务器",
        "images": [],
        "description": "",
        "pubDate": "2014-11-25T12:41:00"
    }
  </script>
  <div class="blog_title">
    <h3>
      使用PPTP配置Linux上的VPN服务器
      <em class="actions">      </em>
    </h3>
    
        <div class="news_tag">&nbsp;</div>
  </div>

  <div id="blog_content" class="hide-main-content">
    <div class="hide-article-box text-center" style="display: none;">
      <a class="btn" id="btn-readmore">阅读更多</a>
    </div>
    <p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
PPTP是一个比较简单的VPN构建方式，但是很难找到比较全的说明文档。因此，记录一篇说明文档，详细记录架设VPN服务器以及总结一些其他比较容易遇到的问题。</p>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">安装PPTP<br style="margin: 0px; padding: 0px;"></span>基本上安装pptp是比较简单的了，比如在我的CentOS6.4 x64上，只需要两个命令:</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">rpm
 -i<a target="_blank" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; text-decoration: none; color: rgb(0,0,0)!important;" href="http://poptop.sourceforge.net/yum/stable/rhel6/pptp-release-current.noarch.rpm">http://poptop.sourceforge.net/yum/stable/rhel6/pptp-release-current.noarch.rpm</a></code>
</td>
</tr></tbody></table>
</div>
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt2">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">yum
 -y</code><code style="font-size: 1em!important; vertical-align: baseline!important; color: rgb(255,20,147)!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="functions">install</code><code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">pptpd</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
如果是Ubuntu的话，更加简单了：</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">apt-get</code><code style="font-size: 1em!important; vertical-align: baseline!important; color: rgb(255,20,147)!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="functions">install</code><code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">pptpd</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">配置IP地址</span><br style="margin: 0px; padding: 0px;">
基本上程序的安装是全自动完成的了，下面需要进行一些简单的配置，编辑/etc/pptpd.conf ，在最后加入IP地址配置：</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">localip
 10.0.0.1</code>
</td>
</tr></tbody></table>
</div>
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt2">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">remoteip
 10.0.0.100-200</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
上面的IP地址是可以随便填的，ABC三类的内网地址都可以，主要兼顾其他地方的IP配置，不要出现IP冲突就可以了，后面的remoteip，默认从第一个10.0.0.100开始分配给客户，localip表示分配给服务器的内部网关地址。</p>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">配置客户端DNS<br style="margin: 0px; padding: 0px;"></span>要
配置客户端的dns，首先要确定配置文件，查看/etc/pptpd.conf中指定的option文件，如果没有指定，那就默认是/etc/ppp
/pptpd-options，下面是我的默认配置文件，因此要修改/etc/ppp/pptpd-options.pptpd<br style="margin: 0px; padding: 0px;"><a target="_blank" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: rgb(74,99,15); text-decoration: none;" href="http://www.nigesb.com/wp-content/uploads/2014/06/pptp1.jpg"><img src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/pptp1.jpg" style="margin: 10px 0px; padding: 4px; border: 1px solid rgb(221,221,221); vertical-align: baseline; max-width: 610px; height: auto; background: rgb(255,255,255);" class="alignnone size-full wp-image-1639" alt="options.pptpd" width="536" height="91"><br style="margin: 0px; padding: 0px;"></a>在配置文件中加上：</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">ms-dns
 202.96.128.86</code>
</td>
</tr></tbody></table>
</div>
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt2">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">ms-dns
 202.96.128.166</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
这里配置成客户端所在地的DNS就好了。</p>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">配置VPN账号<br style="margin: 0px; padding: 0px;"></span>然后是创建VPN的账号，账号保存在/etc/ppp/chap-secrets，我们打开编辑这个文件，按下面的格式加入自己的账号以及密码，依次为：账号，协议，密码，ip地址。</p>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<a target="_blank" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: rgb(74,99,15); text-decoration: none;" href="http://www.nigesb.com/wp-content/uploads/2014/06/pptp.jpg"><img src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/pptp.jpg" style="margin: 10px 0px; padding: 4px; border: 1px solid rgb(221,221,221); vertical-align: baseline; max-width: 610px; height: auto; background: rgb(255,255,255);" class="size-full wp-image-1638" alt="chap-secret" width="429" height="143"></a></p>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
这里的ip地址如果明文表示静态分配，如果填*就表示动态分配。</p>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">启动服务<br style="margin: 0px; padding: 0px;"></span>配置完毕，可以启动服务并且加入启动项了</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">service
 pptpd restart</code>
</td>
</tr></tbody></table>
</div>
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt2">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">chkconfig
 pptpd on</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
查看一下服务器是否在1723上面监听了<a target="_blank" style="margin: 0px; padding: 0px; border: 0px; font-size: 12px; vertical-align: baseline; color: rgb(74,99,15); text-decoration: none; font-weight: bold; text-align: center; line-height: 1.5em; background-color: rgb(255,255,255);" href="http://www.nigesb.com/wp-content/uploads/2014/06/pptp2.jpg"><img src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/pptp2.jpg" style="margin: 10px 0px; padding: 4px; border: 1px solid rgb(221,221,221); vertical-align: baseline; max-width: 610px; height: auto;" class="size-full wp-image-1640" alt="pptp status" width="711" height="38"></a></p>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">配置系统转发<br style="margin: 0px; padding: 0px;"></span>现在的VPN服务可以连上，但是不能通过VPN服务器进行转发，也就是不能够上网或者访问其他服务器等，需要开启系统转发和NAT。编辑系统配置文件/etc/sysctl.conf，设置如下值为1</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">net.ipv4.ip_forward
 = 1</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
如果未来ipv6普及了，估计应该就是改ipv6了，修改完毕之后要马上生效，使用命令</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">sysctl
 -p</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">配置防火墙转发<br style="margin: 0px; padding: 0px;"></span></p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">iptables
 -t nat -A POSTROUTING -o eth0 -j MASQUERADE</code>
</td>
</tr></tbody></table>
</div>
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt2">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">或</code>
</td>
</tr></tbody></table>
</div>
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">iptables
 -t nat -A POSTROUTING -s 10.0.0.0/24 -o eth0 -j SNAT --to 115.115.115.115</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
其中第一种比较简单，自动伪装ip，第二种的10.0.0.0/24指的是VPN虚拟内网，而115.115.115.115代表外网地址，进行NAT。如果VPN服务器是用来代理上网的，仅有上面的配置会出现访问网站缓慢的情况，需要手动修改一下转发包的mss</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">iptables
 -A FORWARD -p tcp --syn -s 10.0.0.0/24 -j TCPMSS --</code><code style="font-size: 1em!important; vertical-align: baseline!important; color: rgb(255,20,147)!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="functions">set</code><code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">-mss
 1356</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
这样就不会出现打不开网页的问题了，最后可以保存一下防火墙。</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">iptables-save</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">常见的问题<br style="margin: 0px; padding: 0px;"></span><span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">619错误</span><br style="margin: 0px; padding: 0px;">
很多人在拨VPN的时候卡在验证用户名和密码，然后会出现619的错误，这种错误90%以上是由于客户端到服务器的网络中有设备不支持GRE协议或
NAT-T造成的，最常见的是由于客户端的路由器等不支持造成的，在更换以后立马能拨上VPN。而这种错误在服务端的日志也有体现。例如</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">LCP:
 timeout sending Config-Requests</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
下面是双方加解密不一致的:</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">LCP
 terminated by peer (^O^XH-^@&lt;M-Mt^@^@^@^@)</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
<span style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline;">pptp需要用到的端口</span><br style="margin: 0px; padding: 0px;">
pptp使用到的端口只有一个，那就是1723，网上有很多误人子弟的文章还说要开47端口，真是坑爹，因为GRE协议号是47，并不代表需要开47端
口，因此如果是要映射端口的话，1723就完全够了，不要信网上的某些教程,如果使用了iptable来作为防火墙，需要加入规则</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">iptables
 -A INPUT -p tcp --dport 1723 -j ACCEPT</code>
</td>
</tr></tbody></table>
</div>
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt2">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">iptables
 -A INPUT -p 47 -j ACCEPT</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
如果是在内网中，需要网关转发，那么网关需要如下配置：</p>
<div style="font-size: 13px; width: 613.796875px; color: rgb(51,51,51); vertical-align: baseline!important; float: none!important; height: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="syntaxhighlighter nogutter notranslate ">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="lines">
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt1">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">iptables
 -t nat -A PREROUTING -i eth0 -p tcp --dport 1723 -j DNAT --to SERVER_IP</code>
</td>
</tr></tbody></table>
</div>
<div style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;" class="line alt2">
<table style="font-size: 1em!important; vertical-align: baseline!important; border-collapse: collapse!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;"><tbody><tr style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important;">
<td style="font-size: 1em!important; vertical-align: top!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="content">
<code style="font-size: 1em!important; vertical-align: baseline!important; float: none!important; height: auto!important; width: auto!important; line-height: 1.1em!important; font-family: Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important;" class="plain">iptables
 -t nat -A PREROUTING -i eth0 -p 47 -j DNAT --to SERVER_IP</code>
</td>
</tr></tbody></table>
</div>
</div>
</div>
<p style="margin-top: 0px; margin-bottom: 22px; padding-top: 0px; padding-bottom: 0px; border: 0px; font-size: 13px; vertical-align: baseline; line-height: 22px; color: rgb(51,51,51); font-family: Tahoma,Arial,Helvetica,sans-serif; background-color: rgb(247,247,247);">
如需详细文档，可参考：<br style="margin: 0px; padding: 0px;"><a target="_blank" style="margin: 0px; padding: 0px; border: 0px; vertical-align: baseline; color: rgb(74,99,15); text-decoration: none;" href="http://poptop.sourceforge.net/dox/">http://poptop.sourceforge.net/dox/</a></p>

  


  <div id="bottoms" class="clearfix">
    
    <div id="share_weibo">分享到：
      <a data-type="sina" href="javascript:;" title="分享到新浪微博"><img src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/sina.jpg"></a>
      <a data-type="qq" href="javascript:;" title="分享到腾讯微博"><img src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/tec.jpg"></a>
    </div>
  </div>

  <div class="blog_nav">
    <div class="pre_next">
      <a href="https://www.iteye.com/blog/2276702" class="next" title="Iptables—包过滤（网络层）防火墙">Iptables—包过滤（网络层）防火墙</a>
      |
      <a href="https://www.iteye.com/blog/2276704" class="pre" title="Linux操作系统下IPTables配置方法详解">Linux操作系统下IPTables配置方法详解</a>
    </div>
  </div>
  <div class="blog_bottom">
    <ul>
      <li>2014-11-25 12:41</li>
      <li>浏览 1095</li>
      <li><a href="#comments">评论(0)</a></li>
      
      
            
      <li class="last"><a href="https://www.iteye.com/wiki/blog/2276703" target="_blank" class="more">查看更多</a></li>
    </ul>    
  </div>
    
  <div class="blog_comment">
    <h5>评论</h5>
    <a id="comments" name="comments"></a>
    
    
    
  </div>

  <div class="blog_comment">
    <h5>发表评论</h5>
            <p style="text-align:center; margin-top:30px;margin-bottom:0px;"><a href="https://www.iteye.com/login" style="background-color:white;"> <img src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/login_icon.png" style="vertical-align:middle; margin-right: 10px;"></a><a href="https://www.iteye.com/login">  您还没有登录,请您登录后再发表评论 </a></p>
      </div>
  </div>
  <div>
    <script type="text/javascript">
        (function() {
            var s = "_" + Math.random().toString(36).slice(2);
            document.write('<div style="" id="' + s + '"></div>');
            (window.slotbydup = window.slotbydup || []).push({
                id: "u4614430",
                container: s
            });
        })();
    </script><div style="" id="_71jkirvt3x"><iframe id="iframeu4614430_0" name="iframeu4614430_0" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/pcim.html" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" style="border:0;vertical-align:bottom;margin:0;width:658px;height:90px" allowtransparency="true" width="658" height="90" frameborder="0" align="center,center"></iframe></div>
    <!-- 多条广告如下脚本只需引入一次 -->
    <script type="text/javascript" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/c.js" async="async" defer="defer">
    </script>
  </div>
</div>


<script type="text/javascript">
  dp.SyntaxHighlighter.HighlightAll('code', true, true);

  $$('#main .blog_content pre[name=code]').each(function(pre, index){ // blog content
    var post_id = 2276703;
    var location = window.location;
    source_url = location.protocol + "//" + location.host + location.pathname + location.search;
    pre.writeAttribute('codeable_id', post_id);
    pre.writeAttribute('codeable_type', "Blog");
    pre.writeAttribute('source_url', source_url);
    pre.writeAttribute('pre_index', index);
    pre.writeAttribute('title', '使用PPTP配置Linux上的VPN服务器');
  });

  fix_image_size($$('div.blog_content img'), 700);

  function processComment() {
    $$('#main .blog_comment > div').each(function(comment){// comment
      var post_id = comment.id.substr(2);
      $$("#"+comment.id+" pre[name=code]").each(function(pre, index){
        var location = window.location;
        source_url = location.protocol + "//" + location.host + location.pathname + location.search;
        source_url += "#" + comment.id;
        pre.writeAttribute('codeable_id', post_id);
        pre.writeAttribute('codeable_type', "BlogComment");
        pre.writeAttribute('source_url', source_url);
        pre.writeAttribute('pre_index', index);
        pre.writeAttribute('title', '使用PPTP配置Linux上的VPN服务器');
      });
    });
  }

  function quote_comment(id) {
    new Ajax.Request('/editor/quote', {
      parameters: {'id':id, 'type':'BlogComment'},
      onSuccess:function(response){editor.bbcode_editor.textarea.insertAfterSelection(response.responseText);
        Element.scrollTo(editor.bbcode_editor.textarea.element);}
    });
  }

  code_favorites_init();
  processComment();
  new WeiboShare({share_buttons: $('share_weibo'), img_scope: $('blog_content')});
</script>




      </div>
            <script>
        setTimeout(function () {
          var naviga_offsetTop = 0;

          function onload_function() {
            naviga_offsetTop = jQuery("#nav_show_top_stop").position().top;
            jQuery(window).bind("scroll", naviga_stay_top);
            jQuery(window).bind("mousewheel", naviga_stay_top);
            jQuery(document).bind("scroll", naviga_stay_top);
            jQuery(document).bind("mousewheel", naviga_stay_top);
          }

          function naviga_stay_top() {

            var scrollTop = jQuery(document).scrollTop();
            if (scrollTop > (naviga_offsetTop + 250)) {
              jQuery("#nav_show_top_stop").css({
                "position": "fixed"
              });
              jQuery("#nav_show_top_stop").css({
                "top": "0px"
              });
            } else {
              jQuery("#nav_show_top_stop").css({
                "position": "fixed"
              });
              jQuery("#nav_show_top_stop").css({
                "top": naviga_offsetTop + 250 - scrollTop + "px"
              });
            }
          }
          jQuery(document).ready(onload_function());
        }, 200);
      </script>
    </div>
    
    <div id="footer" class="clearfix">
      <!-- <div id="copyright">
        <hr />
        声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。<br />
        &copy; 2003-
        2020 ITeye.com. All rights reserved. [ 京ICP证110151号 京公网安备110105010620 ]
      </div> -->
      <div id="ad_pop">
        <div class="J_adv" data-view="true" data-mod="ad_popu_64" data-mtp="62" data-order="21" data-con="ad_content_2070">
          <!-- 广告位：PC端-iteye博客详情右侧弹窗-300*250 -->
          
          
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
  document.write("<img src='https://stat.iteye.com/?url="+ encodeURIComponent(document.location.href) + "&referrer=" + encodeURIComponent(document.referrer) + "&user_id=' width='0' height='0' />");
</script><img src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/a.gif" width="0" height="0">



   Global site tag (gtag.js) - Google Analytics
  <script async="" src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/js.js"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-127895514-6');
  </script>

  
  
  <script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/jquery-1.js" type="text/javascript"></script>
<script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/report.js" type="text/javascript"></script>
<style>
  .userinfo {display: none !important;}
  .persion_article h3{
    background: none !important;
    border-bottom: none!important;
    padding: 0!important;
    margin-bottom: 0!important;
    line-height: 1!important;
  }
  .persion_article .right_box{
    margin-top: 0!important;
  }
  .persion_article .footer_box .feed_new_tit span{
    padding-left: 0!important;
  }
</style>
<script>
(function($){
  var windowHeight = $(window).height(),
      contentHeight = $(".hide-main-content").height()
      windowHeight = windowHeight * 1.2 //获得可视区域高度
      if(contentHeight > windowHeight){
        $(".hide-article-box").show()
        $(".hide-main-content").css({'height': windowHeight,'overflow':'hidden'})
        $(".hide-article-box").find("#btn-readmore").click(function(){
          $(this).parents('.hide-main-content').removeAttr('style')
          $(this).parent().hide()
        })
      }
})(jQuery)
</script>
<script type="text/javascript">var $csdn_iteye_jq = jQuery.noConflict();// 解决jq与prototype.js命名空间冲突的问题</script>


  
  
  <script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/web-storage-cache.js" type="text/javascript"></script>
  <script src="%E4%BD%BF%E7%94%A8PPTP%E9%85%8D%E7%BD%AELinux%E4%B8%8A%E7%9A%84VPN%E6%9C%8D%E5%8A%A1%E5%99%A8%20-%20-%20ITeye%E5%8D%9A%E5%AE%A2_files/replace.js" type="text/javascript"></script>
  


<div class="newbox"><div class="recommend-right">
  <ul class="recommend-fixed-box">
    
</ul>
</div></div></body></html>