(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{LDGz:function(n,t,e){"use strict";e.d(t,"b",function(){return p}),e.d(t,"a",function(){return h});var r=e("VtSi"),o=e.n(r),c=e("cbiG"),u=e.n(c),a=e("jEko"),i=e("qgmE"),l=e("B6h+"),s=e("yLtY"),f=e("3FBB"),d=Object(l.promisify)(a.a.synchrony.getJWTToken),p=Object(f.a)(d,3e5),h=Object(s.I)(i.a.EDITOR_GET_SYNCHRONY_TOKEN,function(){var n=u()(o.a.mark(function n(t,e){var r,c,u;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.contentId,c=t.draftShareId,u=void 0===c?"":c,n.prev=1,n.t0=e,n.next=5,p.getValue({contentId:r,draftShareId:u});case 5:n.t1=n.sent,(0,n.t0)(null,n.t1),n.next=12;break;case 9:n.prev=9,n.t2=n.catch(1),e(null,!1);case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(t,e){return n.apply(this,arguments)}}())},V56w:function(n,t,e){"use strict";e.d(t,"a",function(){return p});var r=e("tQaH"),o=e.n(r),c=e("Jygk"),u=e.n(c),a=e("ilPL"),i=e("jEko"),l=e("fLXQ");a.j.configure(Object(i.d)());var s=function(n){return{type:"WEBRESOURCE_LOADING",options:{key:n}}},f=function(n){return{type:"WEBRESOURCE_LOADED",options:{key:n}}};var d=!1,p=function(n){return function(n){!1===d&&(d=!0,a.j.resourceList({},function(t,e){n({type:"WEBRESOURCE_LIST_SUCCESS",response:e}),function(n,t){n(s("_super"));var e=u.a.document.createDocumentFragment();t.forEach(function(n){switch(n.type){case"js":e.appendChild(Object(l.c)(o()({src:n.url},n.attributes)));break;case"css":null===u.a.document.querySelector("link[data-wrm-key='".concat(n.attributes["data-wrm-key"],"']"))&&e.appendChild(Object(l.b)(o()({href:n.url},n.attributes)))}});var r=e.querySelectorAll("script"),c=r?r[r.length-1]:null;c&&(c.onload=function(){n(f("_super"))}),u.a.document.head.appendChild(e)}(n,e.resourceList)}))}}},fLXQ:function(n,t,e){"use strict";e.d(t,"c",function(){return s}),e.d(t,"b",function(){return f}),e.d(t,"k",function(){return h}),e.d(t,"a",function(){return g}),e.d(t,"d",function(){return m}),e.d(t,"g",function(){return y}),e.d(t,"h",function(){return b}),e.d(t,"e",function(){return E}),e.d(t,"f",function(){return S}),e.d(t,"j",function(){return k}),e.d(t,"i",function(){return w});var r=e("tQaH"),o=e.n(r),c=e("Jygk"),u=e.n(c),a=e("M2LZ"),i=e("Xzcx"),l=1e3/60;function s(n){var t=d("script",n);return t.async=!1,t}function f(n){return d("link",o()({rel:"stylesheet"},n))}function d(n,t){var e=document.createElement(n);return Object.keys(t).forEach(function(n){return e.setAttribute(n,t[n])}),e}function p(n,t,e,r){if(e<=0||!e||t===n.scrollTop)return n.scrollTop=t,void(r&&r());var o=t-n.scrollTop,c=o/e*l,a=n.scrollTop;u.a.requestAnimationFrame(function e(){var i=a+c;if(o<0&&i<=t||o>0&&i>=t)return n.scrollTop=t,void(r&&r());a=i,n.scrollTop=a,u.a.requestAnimationFrame(e)})}function h(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n){t.container||(t.container=Object(i.i)());var e=t.container,r=t.topGap,o=void 0===r?0:r,c=t.bottomGap,u=void 0===c?0:c,a=t.duration,l=void 0===a?0:a,s=n.getBoundingClientRect(),f=s.top,d=s.bottom,h=t.container,v=h.clientHeight,g=h.scrollTop,m=-f+o,y=d-v+u;return m>0?p(e,g-m,l):y>0?p(e,g+y,l):void 0}}function v(n,t,e){n&&t.split(" ").forEach(function(t){return n.classList[e](t)})}function g(n,t){v(n,t,"add")}function m(){return"undefined"!=typeof document&&document.body?document.body:{}}function y(n,t){var e=t?t.documentElement:document.documentElement;if(n&&e){var r=n.getBoundingClientRect(),o=r.top,c=r.bottom,u=e.offsetHeight;return 0<=o&&o<u||0<=c&&c<=u||o<=0&&0<=c&&c>=u}}function b(n,t){var e=t?t.documentElement:document.documentElement;if(n&&e){var r=n.getBoundingClientRect().top,o=e.offsetHeight;return 0<=r&&r<o}}function E(n){for(var t=n.offsetTop;n.offsetParent;)t+=(n=n.offsetParent).offsetTop;return t}function S(n){if(!n||n===document)return null;var t=u.a.getComputedStyle(n);return n.scrollHeight>n.clientHeight&&"hidden"!==n.style.overflow&&"visible"!==t.overflow?n:S(n.parentNode)}function k(n,t){t=t||S(n),n&&t&&!function(n,t){if(!n)return!1;t=t||document.scrollingElement||document.body.parentNode;var e=n.offsetHeight,r=E(n),o=E(t)+t.scrollTop,c=t.offsetHeight;return r>=o&&r+e<=o+c}(n,t)&&(t.scrollTop=E(n)-E(t)-t.clientHeight/2)}var w=function(n,t,e){return e?(a.a.require(n),new Promise(function(n){var r=u.a.document.createDocumentFragment(),o=t.map(function(n){return new Promise(function(t,e){var o=u.a.document.createElement("script");o.async=!1,o.src=n,o.onload=t,o.onerror=e,r.appendChild(o)})});e.appendChild(r),Promise.all(o).then(n).catch(function(){n()})})):Promise.reject(new Error("script container is not present"))}},hDDR:function(n,t,e){"use strict";e.d(t,"b",function(){return f}),e.d(t,"a",function(){return d}),e.d(t,"c",function(){return p}),e.d(t,"d",function(){return h});var r=e("VtSi"),o=e.n(r),c=e("cbiG"),u=e.n(c),a=e("tQaH"),i=e.n(a),l=e("LDGz"),s=function(n){return n.fabricEditor.synchrony},f=function(n,t){var e=s(t).synchronyConfigMap[n];return void 0!==e?e:null},d=function(n){return s(n).contentReconciliationStatus},p=function(n){return s(n).status},h=function(n,t,e){var r=f(t,n);return r?i()({},r,{jwt:function(){var n=u()(o.a.mark(function n(){var r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.b.getValue({contentId:t,draftShareId:e});case 3:return r=n.sent,n.abrupt("return",r.synchronyToken);case 7:throw n.prev=7,n.t0=n.catch(0),n.t0;case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(){return n.apply(this,arguments)}}()}):r}},kSEI:function(n,t,e){"use strict";var r=e("uDfI"),o=e("2BEd"),c=e("V56w"),u=e("tQaH"),a=e.n(u),i=e("m3Bd"),l=e.n(i),s=e("VrFO"),f=e.n(s),d=e("Y9Ll"),p=e.n(d),h=e("N+ot"),v=e.n(h),g=e("AuHH"),m=e.n(g),y=e("1Pcy"),b=e.n(y),E=e("5Yy7"),S=e.n(E),k=e("ERkP"),w=(e("aWzz"),e("nnRT")),C=e.n(w),L=e("M2LZ"),j=e("jqY8"),O=e("lZ+S"),F=function(){},_=function(n){function t(n){var e;return f()(this,t),(e=v()(this,m()(t).call(this,n)))._closeFlag=e._closeFlag.bind(b()(e)),e}return S()(t,n),p()(t,[{key:"componentDidMount",value:function(){this._createFlag(this.props),!0!==this.props.isSuperbatchLoaded&&this.props.loadSuperbatch({reason:"Need WRM.require and globalRequire to load legacy confluence/flag, which depend on the superbatch. Later, we may consider replacing confluence/flag with atlaskit flags."})}},{key:"shouldComponentUpdate",value:function(n){return!C()(this.props,n)}},{key:"componentWillUnmount",value:function(){this._closeFlag()}},{key:"UNSAFE_componentWillUpdate",value:function(n){this._createFlag(n,!0)}},{key:"_closeFlag",value:function(n,t){this.flagEl&&(this.flagEl.removeEventListener("aui-flag-close",this._closeFlag),this.flagEl.close(),this.props.onClose(t),this.flagEl=void 0)}},{key:"_createFlag",value:function(n,t){var e=this,r=n.isShowing,o=n.isSuperbatchLoaded,c=n.type,u=n.title,i=n.body,s=n.close,f=n.extraClasses,d=l()(n,["isShowing","isSuperbatchLoaded","type","title","body","close","extraClasses"]);return r&&o?(L.a.require(O.a.FLAGS,function(){var n=Object(j.d)("confluence/flag");e.flagEl&&e._closeFlag(null,t);try{e.flagEl=n(a()({type:c,title:u,body:i,close:s,extraClasses:f},d)),e.flagEl.addEventListener("aui-flag-close",e._closeFlag),e.props.onShow(e.flagEl)}catch(n){console.error(n)}}),null):null}},{key:"render",value:function(){return null}}]),t}(k.Component);_.displayName="Flag",_.displayName="Flag",_.defaultProps={onShow:F,onClose:F};t.a=Object(r.connect)(function(n){return{isSuperbatchLoaded:Object(o.a)(n)}},function(n){return{loadSuperbatch:function(t){var e=t.reason;n(Object(c.a)({reason:e}))}}})(_)}}]);
//# sourceMappingURL=fullpage.editor.container~root.78b5f6ce32049ca0e564-v38.js.map