(window.webpackJsonp=window.webpackJsonp||[]).push([[105,358],{B5Kc:function(e,n,t){"use strict";var i=t("VrFO"),r=t.n(i),a=t("N+ot"),o=t.n(a),c=t("AuHH"),s=t.n(c),u=t("1Pcy"),l=t.n(u),d=t("5Yy7"),f=t.n(d),m=t("KEM+"),p=t.n(m),h=t("ERkP"),g=t.n(h),v=(t("aWzz"),t("L21V")),S=t("kFJ8"),_=t("Jygk"),E=t("2srY"),b=t.n(E),I=t("lZoD"),k=t("hcZD"),M=t("bx1d"),w=t("n9CL"),A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DisableSuperAdmin"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableSuperAdmin"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confluence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSuperAdmin"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:184,source:{body:"\n  mutation DisableSuperAdmin {\n    disableSuperAdmin {\n      user {\n        id\n        confluence {\n          roles {\n            isSuperAdmin\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};t.d(n,"a",function(){return O});var D=Object(v.f)({disableSuperAdminErrorTitle:{id:"super-admin.disable.super.admin.error.title",defaultMessage:"Something went wrong",description:"Title for the error if disabling Super Admin fails"},disableSuperAdminErrorDescription:{id:"super-admin.disable.super.admin.error.description",defaultMessage:"If this keeps happening, let us know at support.atlassian.com",description:"Description for the error if disabling Super Admin fails"}}),y=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=o()(this,(e=s()(n)).call.apply(e,[this].concat(a))),p()(l()(t),"handleMutationComplete",function(e){return function(n){var i=t.props.handleMutationCompleteCallback;b()(n,"disableSuperAdmin.user.confluence.roles.isSuperAdmin")||!1?t.handleMutationError(e)():(Object(k.b)(),Object(w.f)(),i().then(function(){return _.window.location.reload()}))}}),p()(l()(t),"handleMutationError",function(e){return function(){var n=t.props,i=n.intl,r=n.handleMutationErrorCallback;e.showErrorFlag({title:i.formatMessage(D.disableSuperAdminErrorTitle),description:i.formatMessage(D.disableSuperAdminErrorDescription)}),r()}}),p()(l()(t),"render",function(){return g.a.createElement(I.c,{to:[M.a]},function(e){return g.a.createElement(S.c,{mutation:A,onCompleted:t.handleMutationComplete(e),onError:t.handleMutationError(e)},function(n){return t.props.children(n,e)})})}),t}return f()(n,e),n}(h.Component);p()(y,"defaultProps",{handleMutationCompleteCallback:function(){return Promise.resolve()},handleMutationErrorCallback:function(){return Promise.resolve()}});var O=Object(v.g)(y)},WlwD:function(e,n,t){"use strict";var i=t("GuU3"),r=t.n(i),a=t("LnsA"),o=t("VrFO"),c=t.n(o),s=t("Y9Ll"),u=t.n(s),l=t("KEM+"),d=t.n(l),f=t("/FQd"),m=t("Z49i"),p=function(){function e(n,t,i){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c()(this,e),d()(this,"initialize",function(){return new Promise(function(e){r._initialized?e(!1):r._storageManager.ready().then(function(){Object(f.b)(Object(m.a)()).then(function(n){r._namespace="".concat(r._prefix,".").concat(n.userId,".").concat(r._id),r._initialized=!0,e(r._initialized)})}).catch(function(e){console.log(e)})})}),d()(this,"getItem",function(e){return r.initialize().then(function(){var n;return r._storageManager.getItem("".concat(r._namespace,".").concat(e)).then(function(t){return(n=r._prefixMatch.exec(t))&&(t=t.replace(n[0],""),+new Date>n[0].replace("#",""))?r._storageManager.removeItem("".concat(r._namespace,".").concat(e)).then(function(){return null}):t})})}),d()(this,"getAndRemoveItem",function(e){return r.getItem(e).then(function(n){return r.removeItem(e).then(function(){return n})})}),d()(this,"getAllItems",function(){return r.initialize().then(function(){var e={};return r._storageManager.iterate(function(n,t){if(t.indexOf("".concat(r._namespace,"."))>-1){var i=t.split("".concat(r._namespace,"."))[1];e[i]=n}}).then(function(){return e})})}),d()(this,"doesContain",function(e){return r.initialize().then(function(){return r.getItem(e).then(function(e){return!!e})})}),d()(this,"getItemAsBoolean",function(e){return r.initialize().then(function(){return r.getItem(e).then(function(e){return"false"!==e&&("true"===e||!!e)})})}),d()(this,"setItem",function(e,n,t){return r.initialize().then(function(){return n="".concat(r._getPrefix(t)).concat(n),r._storageManager.setItem("".concat(r._namespace,".").concat(e),n).then(function(){return n})})}),d()(this,"setItemQuietly",function(e,n,t){try{return r.setItem(e,n,t)}catch(t){console.log("Unable to write to this._storageManager. key: ".concat(e,", value: ").concat(n,", cause: ").concat(t))}}),d()(this,"removeItem",function(e){return r.initialize().then(function(){return r._storageManager.removeItem("".concat(r._namespace,".").concat(e))})}),this._storageManager=n,this._prefix=t,this._id=i,this._delimiter="#",this._prefixMatch=/\d+#/,this._namespace=a?"".concat(t,".").concat(a,".").concat(i):null,this._initialized=!!this._namespace}return u()(e,[{key:"_getPrefix",value:function(e){var n=1e3*(e||0);return n?+new Date+n+this._delimiter:""}}]),e}();t.d(n,"a",function(){return g});var h=r.a.createInstance({name:"sessionStorage"});h.defineDriver(a),h.setDriver(a._driver);var g=new p(r.a.createInstance({name:"localStorage",driver:r.a.LOCALSTORAGE}),"atlassian","frontend");new p(h,"atlassian","frontend")},bx1d:function(e,n,t){"use strict";t.d(n,"a",function(){return _});var i=t("RhWx"),r=t.n(i),a=t("tQaH"),o=t.n(a),c=t("VrFO"),s=t.n(c),u=t("N+ot"),l=t.n(u),d=t("AuHH"),f=t.n(d),m=t("1Pcy"),p=t.n(m),h=t("5Yy7"),g=t.n(h),v=t("KEM+"),S=t.n(v),_=function(e){function n(e){var t;return s()(this,n),t=l()(this,f()(n).call(this)),S()(p()(t),"showFlag",function(e){var n=t.state,i=n.flags,a=n.nextFlagId;if(!i.find(function(n){return n.id===e.id})){var c=o()({id:a},e);return t.setState({flags:[].concat(r()(t.state.flags),[c]),nextFlagId:a+1}).then(function(){return c})}}),S()(p()(t),"hideFlag",function(e){t.setState({flags:t.state.flags.filter(function(n){return n.id!==e})})}),S()(p()(t),"showSuccessFlag",function(e){var n=e.title,i=e.description,r=e.actions;return t.showFlag({type:"success",title:n,description:i,close:"auto",actions:r})}),S()(p()(t),"showInfoFlag",function(e){var n=e.title,i=e.description,r=e.actions;return t.showFlag({type:"info",title:n,description:i,actions:r})}),S()(p()(t),"showWarningFlag",function(e){var n=e.title,i=e.description,r=e.actions;return t.showFlag({type:"warning",title:n,description:i,actions:r})}),S()(p()(t),"showErrorFlag",function(e){var n=e.title,i=e.description,r=e.actions;return t.showFlag({type:"error",title:n,description:i,actions:r})}),t.state={flags:e||[],nextFlagId:e?e.length:0},t}return g()(n,e),n}(t("lZoD").a)},n9CL:function(e,n,t){"use strict";t.d(n,"d",function(){return a}),t.d(n,"a",function(){return o}),t.d(n,"b",function(){return c}),t.d(n,"c",function(){return s}),t.d(n,"f",function(){return u}),t.d(n,"e",function(){return l});var i=t("Jygk"),r="confluence.super.admin.timeout",a=function(e){return Math.round((e-(new Date).getTime())/1e3)},o=function(e,n){return new Date(e.getTime()+1e3*n)},c=function(e){return function(n){var t=n.beforeNotify,i=n.afterNotify,r=n.afterExpiry,o=n.noTimeout;if(e){var c=a(e);return c>0?c<=60?i(e):t(e):r(e)}return o()}},s=function(){return i.localStorage.getItem(r)},u=function(){i.localStorage.removeItem(r)},l=function(){!function(e){i.localStorage.setItem(r,e)}(function(e,n){return o(e,function(e){return 60*e}(n))}(new Date,10).getTime())}},tqyq:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i={DASHBOARD_ROUTE:"dashboard.route.last.v2",DISCOVER_ROUTE:"discover.route.last",MY_WORK_ROUTE:"my-work.route.last",SPACE_ROUTE:"space.route.last",GLOBAL_SIDEBAR_PANEL:"sidebar.global.panel",TINYMCE_PAGE_JUST_PUBLISHED:"editor.tinyMCE.just.published",EDITOR_SURVEY_LAST_SUBMITTED:"editor.survey.last.submitted",MOBILE_WEB_DESKTOP_ACTIVE:"mobile.web.desktop.active",SUPERADMIN_SURVEY_REQUESTED:"superadmin.survey.requested",SUPERADMIN_SURVEY_SUBMITTED:"superadmin.survey.submitted",SUPERADMIN_SESSION_EXPIRED:"superadmin.session.expired"}}}]);
//# sourceMappingURL=super-admin-banner~super-admin-expiration.3fc6c16a985d0afe9d5d-v38.js.map