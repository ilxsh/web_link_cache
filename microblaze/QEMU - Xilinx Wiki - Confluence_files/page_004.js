(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{RfA0:function(e,t,n){"use strict";n.r(t);var i,r,o=n("KEM+"),a=n.n(o),s=n("uDfI"),u=n("kD2R"),c=n("Bud6"),l=n("sbiO"),d=n("+Prw"),h=n("zUx9"),f=n("97Jx"),g=n.n(f),v=n("tQaH"),m=n.n(v),y=n("VrFO"),p=n.n(y),b=n("Y9Ll"),k=n.n(b),E=n("N+ot"),F=n.n(E),A=n("AuHH"),I=n.n(A),O=n("1Pcy"),w=n.n(O),x=n("5Yy7"),C=n.n(x),S=n("EfWO"),M=n.n(S),P=(n("aWzz"),n("ERkP")),N=n.n(P),j=n("L21V"),L=n("uZih"),_=n.n(L),R=n("nnRT"),q=n.n(R),D=n("r9hL"),T=n("cGYM"),V=n("kSEI"),J=n("btMZ"),U=["userLimitReached","editingFailed"],Y=(i=Object(D.b)(),Object(j.g)(r=i(r=function(e){function t(){var e,n;p()(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=F()(this,(e=I()(t)).call.apply(e,[this].concat(r))))._onFlagClose=n._onFlagClose.bind(w()(n)),n}return C()(t,e),k()(t,[{key:"shouldComponentUpdate",value:function(e){var t=["intl","location"],n=_()(e,t),i=_()(this.props,t);return!q()(i,n)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.showFlag,n=e.reason,i=e.triggerAnalytics,r=e.contentId;if("limited"===n&&t){var o=new J.a;i("collab.edit.user.limit.reached",{browser:Object(T.a)("".concat(o.friendlyName(),"-").concat(o.version())),pageId:r,editMode:Object(T.c)("quick")("quick")})}}},{key:"componentWillUnmount",value:function(){this.props.shouldNavigateToEditPage||this._closeNotification()}},{key:"_closeNotification",value:function(){this.props.resetNotification()}},{key:"_resetLegacyFlagParams",value:function(){var e=this.props,t=e.replace,n=e.location,i=_()(n.query,U);t(m()({},n,{query:i,search:M.a.format({query:i})}))}},{key:"_onFlagClose",value:function(){this._resetLegacyFlagParams()}},{key:"render",value:function(){var e=this.props,t=e.reason,n=e.errorData,i=e.showFlag,r=e.intl.formatMessage,o=e.hasLegacyFlagParams,a={};return"locked"===t&&n&&(a={title:r({id:"editor.unavailable.title"}),body:r({id:"limited.mode.existing.editor.body"},{0:n.user}),type:"info"}),"limited"===t&&(a={title:r({id:"collab.edit.user.limit.msg.title"}),body:r({id:"collab.edit.user.limit.msg.body"}),type:"warning"}),"failed"===t&&(a={title:r({id:"editor.unavailable.title"}),body:r({id:"editor.unavailable.generic.body"}),type:"info"}),o&&(a.onClose=this._onFlagClose),i?N.a.createElement(V.a,g()({close:"manual"},a,{isShowing:!0})):null}}]),t}(P.Component))||r)||r);Y.displayName="EditorFlags";var z=Object(d.a)(),H=function(e){return void 0!==e};t.default=Object(s.connect)(function(e,t){var n,i=Object(l.v)(e),r=i.query,o=r.userLimitReached,s=r.editingFailed,u=t.contentId,c=!1,d=z(e,{contentId:u}),f=d.errorData,g=d.contentId,v=d.hasFetched,m=d.statusCode,y=d.shouldNavigateToEditPage;(n=a()({},h.b,"limited")[m]||null)||(H(o)?n="limited":H(s)&&(n="failed")),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return void 0!==e}).length>0}(o,s)&&(c=!0);var p=!!n&&u===g&&v,b=c&&"locked"===n&&m&&m!==h.d;return{contentId:u,reason:n,showFlag:c||b||p&&!c,errorData:f,hasFetchedEditorContent:v,shouldNavigateToEditPage:y,hasLegacyFlagParams:c,location:i}},function(e){return{resetNotification:function(t){return e(Object(c.t)({contentId:t}))},getEditorContent:function(t){return e(Object(c.k)({contentId:t,silent:!0}))},replace:function(t){return e(Object(u.replace)(t))}}})(Y)},btMZ:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var i=n("VrFO"),r=n.n(i),o=n("Y9Ll"),a=n.n(o),s=function(){function t(n){r()(this,t),n?this.userAgent=n:e.window&&(this.userAgent=e.window.navigator.userAgent)}return a()(t,[{key:"isFirefox",value:function(){return-1!==this.userAgent.indexOf("Firefox/")}},{key:"notFirefox",value:function(){return!this.isFirefox()}},{key:"isMSEdge",value:function(){return-1!==this.userAgent.indexOf("Edge/")}},{key:"notMSEdge",value:function(){return!this.isMSEdge()}},{key:"isIE",value:function(){return-1!==this.userAgent.indexOf("MSIE")||-1!==this.userAgent.indexOf("Trident/")||this.isMSEdge()}},{key:"notIE",value:function(){return!this.isIE()}},{key:"isChrome",value:function(){return-1!==this.userAgent.indexOf("Chrome/")}},{key:"notChrome",value:function(){return!this.isChrome()}},{key:"isSafari",value:function(){return-1!==this.userAgent.indexOf("Safari/")&&-1===this.userAgent.indexOf("Chrome/")}},{key:"notSafari",value:function(){return!this.isSafari()}},{key:"isPhantom",value:function(){return-1!==this.userAgent.indexOf("PhantomJS")}},{key:"notPhantom",value:function(){return!this.isPhantom()}},{key:"version",value:function(){if(this.isIE()){var e=this.userAgent.match(/MSIE\s([\d.]+)/)||this.userAgent.match(/rv:([\d.]+)/)||this.userAgent.match(/Edge\/([\d.]+)/);return parseInt(e[1])}return this.isChrome()?parseInt(this.userAgent.match(/Chrome\/([\d.]+)/)[1]):this.isSafari()?parseInt(this.userAgent.match(/Version\/([\d.]+)/)[1]):this.isFirefox()?parseInt(this.userAgent.match(/Firefox\/([\d.]+)/)[1]):void 0}},{key:"friendlyName",value:function(){return this.isMSEdge()?"MSEdge":this.isIE()?"IE":this.isChrome()?"Chrome":this.isSafari()?"Safari":this.isFirefox()?"Firefox":void 0}}]),t}()}).call(this,n("fRV1"))}}]);
//# sourceMappingURL=page.editor-flags.e10a6ecfb7329e46dbee-v38.js.map