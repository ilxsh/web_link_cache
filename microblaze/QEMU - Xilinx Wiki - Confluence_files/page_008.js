(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{"+8xW":function(e,n,t){(n=e.exports=t("RDo7")(!1)).push([e.i,".ByLineWithContributorsComponent_root_1S3{font-size:12px;color:#707070;line-height:1.5;margin:20px 0 24px;display:inline-block;height:40px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.ByLineWithContributorsComponent_root_1S3 .ByLineWithContributorsComponent_text_UCm{margin:0 0 0 10px;float:right}.ByLineWithContributorsComponent_root_1S3 .ByLineWithContributorsComponent_text_UCm a{color:#707070;text-decoration:none}.ByLineWithContributorsComponent_root_1S3 .ByLineWithContributorsComponent_text_UCm a:active,.ByLineWithContributorsComponent_root_1S3 .ByLineWithContributorsComponent_text_UCm a:focus,.ByLineWithContributorsComponent_root_1S3 .ByLineWithContributorsComponent_text_UCm a:hover{text-decoration:underline}.ByLineWithContributorsComponent_root_1S3 .ByLineWithContributorsComponent_text_UCm .ByLineWithContributorsComponent_author_3vs a:first-child{text-decoration:none}.ByLineWithContributorsComponent_root_1S3 .ByLineWithContributorsComponent_text_UCm .ByLineWithContributorsComponent_author_3vs a:active,.ByLineWithContributorsComponent_root_1S3 .ByLineWithContributorsComponent_text_UCm .ByLineWithContributorsComponent_author_3vs a:focus,.ByLineWithContributorsComponent_root_1S3 .ByLineWithContributorsComponent_text_UCm .ByLineWithContributorsComponent_author_3vs a:hover{text-decoration:underline}.ByLineWithContributorsComponent_lastModified_1-B{display:inline-block}.ByLineWithContributorsComponent_lastModified_1-B:first-letter{text-transform:capitalize}.ByLineWithContributorsComponent_byLine_Xwq{display:inline-block;margin-top:3px}",""]),n.locals={root:"ByLineWithContributorsComponent_root_1S3",text:"ByLineWithContributorsComponent_text_UCm",author:"ByLineWithContributorsComponent_author_3vs",lastModified:"ByLineWithContributorsComponent_lastModified_1-B",byLine:"ByLineWithContributorsComponent_byLine_Xwq"}},"+kDd":function(e,n,t){var i=t("+8xW"),r=t("7l8p");"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=i.locals||{},e.exports._getContent=function(){return i},e.exports._getCss=function(){return i.toString()},e.exports._insertCss=function(e){return r(i,e)}},eGiq:function(e,n,t){"use strict";t.r(n);var i,r,a,o=t("VrFO"),s=t.n(o),d=t("Y9Ll"),l=t.n(d),u=t("N+ot"),m=t.n(u),c=t("AuHH"),v=t.n(c),b=t("5Yy7"),p=t.n(b),y=t("ERkP"),f=t.n(y),k=(t("aWzz"),t("kFJ8")),C=t("2srY"),h=t.n(C),_={kind:"Document",definitions:function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})}([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ByLineQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"versionOverride"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"embeddedContentRender"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"current"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"versionOverride"}}},{kind:"Argument",name:{kind:"Name",value:"embeddedContentRender"},value:{kind:"Variable",name:{kind:"Name",value:"embeddedContentRender"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"byLineUserFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contributors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"byLineUserFragment"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"by"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"byLineUserFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"friendlyWhen"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"byLineUserFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Person"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"KnownUser"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}}])),loc:{start:0,end:699,source:{body:"\n  query ByLineQuery(\n    $contentId: ID\n    $versionOverride: Int\n    $embeddedContentRender: String\n  ) {\n    user(current: true) {\n      id\n    }\n    content(\n      id: $contentId\n      version: $versionOverride\n      embeddedContentRender: $embeddedContentRender\n    ) {\n      nodes {\n        id\n        history {\n          createdBy {\n            ...byLineUserFragment\n          }\n          contributors {\n            publishers {\n              users {\n                ...byLineUserFragment\n              }\n            }\n          }\n        }\n        version {\n          by {\n            ...byLineUserFragment\n          }\n          friendlyWhen\n          number\n        }\n      }\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},g=t("97Jx"),L=t.n(g),I=t("1Pcy"),N=t.n(I),S=t("KEM+"),W=t.n(S),B=t("L21V"),x=t("O94r"),F=t.n(x),w=t("IGvV"),U=t("EwSb"),E=t("2rtj"),P=t("+5ab"),V=t("x98U"),O=t("fYdy"),A=t("M2LZ"),D=t("6lDt"),M=t("M6mc"),T=t("3nLK"),R=t("jQYf"),z=t.n(R),j=Object(w.a)(z.a)(i=Object(A.b)(["com.atlassian.plugins.atlassian-connect-plugin:confluence-atlassian-connect-content-byline-resources-v5"])(i=function(e){function n(){return s()(this,n),m()(this,v()(n).apply(this,arguments))}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.props.contentId;return f.a.createElement(T.a,{tagName:"span",contentId:e,location:D.a.SYSTEM_CONTENT_BYLINE},function(e){var n=e.webItems;return f.a.createElement(M.a,{webItems:n,containerTagName:"span",className:z.a.webItemsList,webItemClassName:z.a.bylineWebItem})})}}]),n}(y.Component))||i)||i,q=t("+kDd"),Y=t.n(q),$=(r=Object(w.a)(Y.a),Object(B.g)(a=r(a=function(e){function n(){var e,t;s()(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=m()(this,(e=v()(n)).call.apply(e,[this].concat(r))),W()(N()(t),"renderAvatar",function(e){var n=t.props.currentUserCanViewProfile;return f.a.createElement(V.a,L()({},e,{canViewProfile:n}))}),t}return p()(n,e),l()(n,[{key:"getShowChangesLink",value:function(e,n){var t=n.number,i=t-1,r="pageId=".concat(e,"&selectedPageVersions=").concat(i,"&selectedPageVersions=").concat(t);return f.a.createElement(E.a,{href:"".concat(P.CONTEXT_PATH,"/pages/diffpagesbyversion.action?").concat(r)},n.friendlyWhen)}},{key:"getContributorsData",value:function(){var e=this.props,n=e.version,t=e.author,i=e.contributors,r=e.currentUserCanViewProfile,a=i.find(function(e){return e.userId===t.userId}),o=i.find(function(e){return e.userId===n.by.userId}),s=i.filter(function(e){return e.userId!==t.userId&&e.userId!==n.by.userId});return(a!==o?[a,o]:[a]).concat(s).map(function(e,n){return{key:n,isAnonymous:e.isAnonymous,userId:e.userId,canViewProfile:r,src:e.avatarUrl,name:e.fullName}})}},{key:"renderLastUpdatedLine",value:function(){var e=this.props,n=e.version,t=e.author,i=e.contentId,r=e.currentUserCanViewProfile;if(1===n.number)return n.friendlyWhen;var a=!t.isAnonymous&&t.userId===n.by.userId;return f.a.createElement(B.b,{id:a?"byline.last.updated.self.expanded":"byline.last.updated.expanded",values:{date:this.getShowChangesLink(i,n),contributor:a?null:f.a.createElement(O.a,{userId:n.by.userId,fullName:n.by.fullName,isAnonymous:n.by.isAnonymous,canViewProfile:r,referralSource:"profilecard"})}})}},{key:"render",value:function(){var e=this.props,n=e.author,t=e.contentId,i=e.currentUserCanViewProfile;return f.a.createElement("div",{className:F()("page-metadata-modification-info",Y.a.root)},f.a.createElement("div",{className:Y.a.byLine},f.a.createElement(U.a,{appearance:"stack",data:this.getContributorsData(),avatar:this.renderAvatar,maxCount:4,size:"medium"})),f.a.createElement("div",{className:Y.a.text},f.a.createElement("div",{className:Y.a.author},f.a.createElement(B.b,{id:"byline.created.by.expanded",values:{author:f.a.createElement(O.a,{userId:n.userId,fullName:n.fullName,isAnonymous:n.isAnonymous,withUserHover:i,referralSource:"profilecard"})}})),f.a.createElement("span",{className:Y.a.lastModified,"data-test-id":"page-last-modifed"},this.renderLastUpdatedLine()),f.a.createElement(j,{contentId:t})))}}]),n}(y.Component))||a)||a),Q=t("dvdB");t.d(n,"ByLine",function(){return J});var H=function(e){return{isAnonymous:!e.accountId,userId:e.accountId,fullName:e.displayName,avatarUrl:e.profilePicture.path}},J=function(e){function n(){return s()(this,n),m()(this,v()(n).apply(this,arguments))}return p()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.versionOverride,i=e.embeddedContentRender;return f.a.createElement(k.d,{query:_,variables:{contentId:n,versionOverride:t,embeddedContentRender:i}},function(e){var t=e.data,i=e.loading,r=e.error;if(i)return f.a.createElement(Q.a,null);var a=h()(t,"content.nodes[0]");if(r||!a)return null;var o=H(h()(a,"history.createdBy")),s=H(h()(a,"version.by")),d=(h()(a,"history.contributors.publishers.users")||[]).map(function(e){return H(e)}),l={contentId:n,currentUserCanViewProfile:Boolean(t.user),author:o,contributors:d,version:{friendlyWhen:a.version.friendlyWhen,number:a.version.number,by:s}};return f.a.createElement($,l)})}}]),n}(y.Component);J.displayName="ByLine"},fqwi:function(e,n,t){(n=e.exports=t("RDo7")(!1)).push([e.i,'.ByLineWebItems_webItemsList_2a4{padding:0;margin:0;line-height:16px}.ByLineWebItems_webItemsList_2a4 .ByLineWebItems_bylineWebItem_2kP{margin:0;line-height:1.5}.ByLineWebItems_webItemsList_2a4 .ByLineWebItems_bylineWebItem_2kP img{padding-right:5px;vertical-align:text-bottom}.ByLineWebItems_webItemsList_2a4 .ByLineWebItems_bylineWebItem_2kP:before{content:"\\2022";display:inline-block;color:#707070;padding:0 5px;text-decoration:none}.ByLineWebItems_webItemsList_2a4 .ByLineWebItems_bylineWebItem_2kP:hover:before{text-decoration:none}',""]),n.locals={webItemsList:"ByLineWebItems_webItemsList_2a4",bylineWebItem:"ByLineWebItems_bylineWebItem_2kP"}},jQYf:function(e,n,t){var i=t("fqwi"),r=t("7l8p");"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=i.locals||{},e.exports._getContent=function(){return i},e.exports._getCss=function(){return i.toString()},e.exports._insertCss=function(e){return r(i,e)}},mc6X:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=o(t("ERkP")),r=o(t("aWzz")),a=o(t("O94r"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var n=void 0,t=void 0,r=e.className,o=e.icon,s=e.size,d=e.style,l=e.useIconFont,u=e.customIcon,m=e.onClick,c=e.onMouseEnter,v=e.onMouseLeave,b=e.children;return o&&(n=l?"aui-iconfont-"+o:"aui-icon-"+o),r=(0,a.default)("aui-icon","aui-icon-"+s,n,r),t=d||{},u&&(t.backgroundImage="url("+u+")"),i.default.createElement("span",{className:r,style:t,onClick:m,onMouseEnter:c,onMouseLeave:v},b)};s.displayName="AUIIcon",s.defaultProps={useIconFont:!0,size:"small"},s.propTypes={children:r.default.oneOfType([r.default.node,r.default.string]),style:r.default.object,size:r.default.oneOf(["small","medium","large"]),icon:r.default.string,customIcon:r.default.string,className:r.default.string,useIconFont:r.default.bool,onClick:r.default.func,onMouseEnter:r.default.func,onMouseLeave:r.default.func},n.default=s}}]);
//# sourceMappingURL=page.byline.69299a08fe429e92592e-v38.js.map