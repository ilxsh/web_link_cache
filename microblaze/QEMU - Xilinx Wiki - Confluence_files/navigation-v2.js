(window.webpackJsonp=window.webpackJsonp||[]).push([[389],{"+CY+":function(e,n,i){"use strict";i.d(n,"a",function(){return D});var t=i("VrFO"),a=i.n(t),r=i("Y9Ll"),l=i.n(r),o=i("N+ot"),d=i.n(o),s=i("AuHH"),c=i.n(s),u=i("1Pcy"),m=i.n(u),k=i("5Yy7"),v=i.n(k),p=i("KEM+"),g=i.n(p),f=i("ERkP"),y=(i("aWzz"),i("+Aie")),S=i.n(y),N=i("5Asb"),h={},F=S.a.prototype.stopCallback;S.a.prototype.stopCallback=function(e,n,i){return!!!N.d.map(function(e){return n.classList.contains(e)}).find(function(e){return e})&&F.call(void 0,e,n,i)};var b=150,D=function(e){function n(){var e,i;a()(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return i=d()(this,(e=c()(n)).call.apply(e,[this].concat(r))),g()(m()(i),"listeners",{}),g()(m()(i),"lastFired",0),g()(m()(i),"_call",function(e){var n=+new Date;n-i.lastFired>=b&&(i.lastFired=n,i.props.listener(e))}),i}return v()(n,e),l()(n,[{key:"componentDidMount",value:function(){var e=this.props.accelerator;h[e],h[e]=!0,S.a.bind(e,this._call)}},{key:"componentWillUnmount",value:function(){var e=this.props.accelerator;delete h[e],S.a.unbind(e)}},{key:"render",value:function(){return null}}]),n}(f.PureComponent);D.displayName="ShortcutListener"},"5Asb":function(e,n,i){"use strict";i.d(n,"c",function(){return t}),i.d(n,"b",function(){return a}),i.d(n,"a",function(){return r}),i.d(n,"d",function(){return l});var t={PUBLISH:"mod+enter",EDIT:"e",PREVIEW:"mod+shift+e"},a="mod+s",r="shortcuts-are-allowed",l=["ProseMirror-focused",r]},"5qWw":function(e,n,i){"use strict";i.r(n);var t=i("tQaH"),a=i.n(t),r=i("VrFO"),l=i.n(r),o=i("Y9Ll"),d=i.n(o),s=i("N+ot"),c=i.n(s),u=i("AuHH"),m=i.n(u),k=i("1Pcy"),v=i.n(k),p=i("5Yy7"),g=i.n(p),f=i("KEM+"),y=i.n(f),S=i("7wq/"),N=i.n(S),h=i("ERkP"),F=i.n(h),b=i("2srY"),D=i.n(b),w=(i("aWzz"),i("KsTJ")),C=i("2n/K"),P=i("5qRq"),A=i("I2fK"),E=i("sFs0"),I=i("U2Ew"),M=i("kFJ8"),T=i("PTiB"),O=i("+CY+"),L=i("/FQd"),K=i("fYnN"),V=i.n(K),q=i("L21V"),x=i("JOcB"),j=i("CGqU"),Q=i("T+Mg"),W=i("kY6Y"),B=i("F3xq"),U=i("Pydg"),H=i("hE99"),z=i("x+QU"),Y=i.n(z),G=Y()({loader:function(){return Promise.all([i.e(78),i.e(305)]).then(i.bind(null,"TUln")).then(function(e){return e.AppSwitcher})},loading:function(){return null}});G.displayName="AppSwitcher";var R=Y()({loader:function(){return Promise.all([i.e(0),i.e(90),i.e(87),i.e(307)]).then(i.bind(null,"KwSd")).then(function(e){return e.KeyboardShortcutsDialog})},loading:function(){return null}});R.displayName="KeyboardShortcutsDialog";var $=i("+5ab"),_=i("frDh"),J=Y()({loader:function(){return Promise.all([i.e(0),i.e(2),i.e(42),i.e(54),i.e(72),i.e(70),i.e(93),i.e(355)]).then(i.bind(null,"PreW")).then(function(e){return e.GlobalSearchDrawer})},loading:function(){return null}});J.displayName="GlobalSearchDrawer";var Z=i("MjIW"),X=i("qdfj"),ee=i("EfWO"),ne=i.n(ee),ie=i("Jygk"),te=i.n(ie),ae=function(){var e,n=ne.a.parse(te.a.location.href,!0);te.a.location.assign(ne.a.format({path:n.path,query:a()({},n.query,(e={},y()(e,"useFrontendBranch","off"),y()(e,"useFrontendBuildVersion","off"),e)),hash:n.hash}))},re=Y()({loader:function(){return Promise.all([i.e(0),i.e(3),i.e(89),i.e(87),i.e(230),i.e(300)]).then(i.bind(null,"0yAp")).then(function(e){return e.FeedbackCollector})},loading:function(){return null}});re.displayName="FeedbackCollector";var le=Y()({loader:function(){return Promise.all([i.e(3),i.e(4),i.e(5),i.e(18),i.e(52),i.e(64),i.e(304)]).then(i.bind(null,"T0og")).then(function(e){return e.CreatePageDrawerWrapper})},loading:function(){return null}});le.displayName="CreatePageDrawerLoader";var oe=i("VtSi"),de=i.n(oe),se=i("cbiG"),ce=i.n(se),ue=i("MwrP"),me=i.n(ue),ke=i("+mzV"),ve=i("Clud"),pe=i("EvJo"),ge=i("lZoD"),fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatePageDrawerRecentWorkOnSpacesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cql"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cqlcontext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"recentlyWorkedOnPages"},name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cql"},value:{kind:"Variable",name:{kind:"Name",value:"cql"}}},{kind:"Argument",name:{kind:"Name",value:"cqlcontext"},value:{kind:"Variable",name:{kind:"Name",value:"cqlcontext"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"container"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confluence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasPersonalSpace"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"space"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"recentlyVisitedSpaces"},name:{kind:"Name",value:"recentSpaces"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:763,source:{body:"\n  query CreatePageDrawerRecentWorkOnSpacesQuery(\n    $cql: String!\n    $cqlcontext: String\n  ) {\n    recentlyWorkedOnPages: search(cql: $cql, cqlcontext: $cqlcontext) {\n      count\n      nodes {\n        content {\n          id\n          container {\n            id\n            name\n            key\n            operations {\n              operation\n              targetType\n            }\n          }\n        }\n      }\n    }\n    user {\n      id\n      confluence {\n        hasPersonalSpace\n        space {\n          id\n          name\n          key\n          operations {\n            operation\n            targetType\n          }\n        }\n      }\n    }\n    recentlyVisitedSpaces: recentSpaces {\n      key\n      id\n      name\n      icon {\n        path\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ye={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatePageDrawerPromotedSpacesQuery"},variableDefinitions:[],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalPromotedSpaces"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:150,source:{body:"\n  query CreatePageDrawerPromotedSpacesQuery @experimental {\n    experimentalPromotedSpaces {\n      nodes {\n        id\n        text\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatePageDrawerSpaceSelectorPreloaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cql"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"favoriteSpaces"},name:{kind:"Name",value:"spaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"favourite"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"recentlyWorkedOnPages"},name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cql"},value:{kind:"StringValue",value:"type in (page,blogpost) and id in recentlyModifiedPagesAndBlogPostsByUser(currentUser(), 0, 20)",block:!1}},{kind:"Argument",name:{kind:"Name",value:"cqlcontext"},value:{kind:"StringValue",value:'{"contentStatuses":["current","draft"]}',block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"container"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDefault"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"searchedSpaces"},name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cql"},value:{kind:"Variable",name:{kind:"Name",value:"cql"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"space"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"recentlyVisitedSpaces"},name:{kind:"Name",value:"recentSpaces"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confluence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasPersonalSpace"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"space"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:1693,source:{body:'\n  query CreatePageDrawerSpaceSelectorPreloaderQuery(\n    $cql: String!\n    $limit: Int\n  ) {\n    favoriteSpaces: spaces(offset: 0, first: $limit, favourite: true) {\n      nodes {\n        id\n        key\n        name\n        operations {\n          operation\n          targetType\n        }\n        history {\n          createdBy {\n            displayName\n          }\n        }\n        icon {\n          path\n        }\n      }\n    }\n    recentlyWorkedOnPages: search(\n      cql: "type in (page,blogpost) and id in recentlyModifiedPagesAndBlogPostsByUser(currentUser(), 0, 20)"\n      cqlcontext: "{\\"contentStatuses\\":[\\"current\\",\\"draft\\"]}"\n    ) {\n      count\n      nodes {\n        content {\n          id\n          container {\n            id\n            name\n            key\n            operations {\n              operation\n              targetType\n            }\n            icon {\n              path\n              width\n              height\n              isDefault\n            }\n          }\n        }\n      }\n    }\n    searchedSpaces: search(cql: $cql, first: $limit) {\n      count\n      nodes {\n        space {\n          id\n          homepage {\n            id\n          }\n          operations {\n            operation\n            targetType\n          }\n          key\n          icon {\n            path\n          }\n          name\n        }\n      }\n    }\n    recentlyVisitedSpaces: recentSpaces {\n      key\n      id\n      name\n      icon {\n        path\n      }\n    }\n    user {\n      id\n      confluence {\n        hasPersonalSpace\n        space {\n          id\n          name\n          key\n          operations {\n            operation\n            targetType\n          }\n        }\n      }\n    }\n  }\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatePageDrawerBlueprintNavigationItemExperimentalPreloaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalBlueprints"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentBlueprintId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blueprintModuleCompleteKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isNew"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPromoted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"wizard"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"templateKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHeaderLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionHeader"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"descriptionContent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"itemModuleCompleteKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"new"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skipHowToUse"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"styleClass"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createResult"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"howToUseTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"templateId"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:731,source:{body:"\n  query CreatePageDrawerBlueprintNavigationItemExperimentalPreloaderQuery(\n    $spaceKey: ID!\n  ) @experimental {\n    experimentalBlueprints(spaceKey: $spaceKey) {\n      nodes {\n        name\n        description\n        iconURL\n        contentBlueprintId\n        blueprintModuleCompleteKey\n        isNew\n        isPromoted\n        wizard {\n          pages {\n            id\n            templateKey\n            title\n            descriptionHeaderLink\n            descriptionHeader\n            descriptionContent\n            last\n          }\n        }\n        itemModuleCompleteKey\n        new\n        promoted\n        skipHowToUse\n        styleClass\n        createResult\n        howToUseTemplate\n        templateId\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},he={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatePageDrawerBlueprintNavigationItemPreloaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeHidden"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spaceSidebarLinks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"main"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeHidden"},value:{kind:"Variable",name:{kind:"Name",value:"includeHidden"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webItemKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webItemCompleteKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"styleClass"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDefault"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"iconClass"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canHide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooltip"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confluence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"groups"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"spaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDefault"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:917,source:{body:"\n  query CreatePageDrawerBlueprintNavigationItemPreloaderQuery(\n    $spaceKey: String!\n    $includeHidden: Boolean\n  ) {\n    spaceSidebarLinks(spaceKey: $spaceKey) {\n      main(includeHidden: $includeHidden) {\n        id\n        webItemKey\n        webItemCompleteKey\n        title\n        url\n        position\n        styleClass\n        icon {\n          path\n          width\n          height\n          isDefault\n        }\n        iconClass\n        hidden\n        canHide\n        tooltip\n      }\n    }\n    user {\n      id\n      confluence {\n        groups\n      }\n    }\n    spaces(spaceKey: $spaceKey, first: 1) {\n      nodes {\n        id\n        key\n        name\n        homepage {\n          id\n          title\n        }\n        icon {\n          path\n          width\n          height\n          isDefault\n        }\n        type\n        operations {\n          operation\n          targetType\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatePageDrawerPageSelectorAllPagesInSpacePreloaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"allPages"},name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}},{kind:"Argument",name:{kind:"Name",value:"orderby"},value:{kind:"StringValue",value:"history.by.when desc",block:!1}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"container"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDefault"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:599,source:{body:'\n  query CreatePageDrawerPageSelectorAllPagesInSpacePreloaderQuery(\n    $spaceKey: String!\n    $first: Int\n  ) {\n    allPages: content(\n      spaceKey: $spaceKey\n      orderby: "history.by.when desc"\n      first: $first\n    ) {\n      nodes {\n        id\n        title\n        operations {\n          operation\n          targetType\n        }\n        container {\n          id\n          key\n          operations {\n            operation\n            targetType\n          }\n          icon {\n            path\n            width\n            height\n            isDefault\n          }\n        }\n      }\n    }\n  }\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatePageDrawerSpaceSelectorDefaultSpacePreloaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"defaultSpaces"},name:{kind:"Name",value:"spaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDefault"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:530,source:{body:"\n  query CreatePageDrawerSpaceSelectorDefaultSpacePreloaderQuery(\n    $spaceKey: String!\n  ) {\n    defaultSpaces: spaces(spaceKey: $spaceKey, first: 1) {\n      nodes {\n        id\n        key\n        name\n        operations {\n          operation\n          targetType\n        }\n        homepage {\n          id\n          title\n        }\n        icon {\n          path\n          width\n          height\n          isDefault\n        }\n        type\n        operations {\n          operation\n          targetType\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},De={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatePageDrawerPageSelectorDefaultPagePreloaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"defaultPage"},name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"container"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDefault"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:496,source:{body:"\n  query CreatePageDrawerPageSelectorDefaultPagePreloaderQuery($contentId: ID!) {\n    defaultPage: content(id: $contentId) {\n      nodes {\n        id\n        title\n        operations {\n          operation\n          targetType\n        }\n        container {\n          id\n          key\n          operations {\n            operation\n            targetType\n          }\n          icon {\n            path\n            width\n            height\n            isDefault\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},we=15,Ce=Object(M.e)(function(e){function n(){var e,i;l()(this,n);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=c()(this,(e=m()(n)).call.apply(e,[this].concat(a))),y()(v()(i),"updateOnPageChange",function(e){var n=i.props,t=n.drawer,a=n.contentId;e.contentId===a&&t.contentId===a||!a||(a?(t.setContentId(a),i.prefetchDefaultPages(a)):t.setContentId("no-parent-page"))}),y()(v()(i),"updateOnSpaceChange",function(e){var n=i.props,t=n.drawer,a=n.spaceKey;a?e.spaceKey===a&&t.getSpaceKey()===a||i.initSpace().then(i.initPage):void 0!==e.spaceKey&&i.initWhenNoSpace()}),y()(v()(i),"initSpace",function(){var e=i.props,n=e.drawer,t=e.spaceKey;return n.setSpaceKey(t),i.prefetchDefaultSpaces(t).then(function(e){var a=i.canUpdateSpace(D()(e,"data.defaultSpaces.nodes[0].operations"));return a?n.setSpaceKey(t):i.fetchSpaces().then(function(e){var i=e.spaceKey;n.setSpaceKey(i),n.setContentId("no-parent-page")}),a})}),y()(v()(i),"initInsideSpace",function(){i.props.spaceKey&&i.initSpace().then(i.initPage)}),y()(v()(i),"initPage",function(e){var n=i.props,t=n.contentId,a=n.drawer,r=n.isBlogpost;t&&!r&&e?(a.setContentId(t),i.prefetchDefaultPages(t)):a.setContentId("no-parent-page")}),y()(v()(i),"processData",function(e){return(e||[]).map(function(e){return D()(e,"space")||e}).filter(function(e){return!!e}).filter(function(e){var n=D()(e,"operations");return i.canUpdateSpace(n)}).map(function(e){var n=e.name,i=e.key,t=e.icon,a=e.iconPath,r=e.id,l=e.text,o=t&&t.path||a||"";return{name:n||l,key:i||r,iconPath:o}})}),y()(v()(i),"fetchSpaces",ce()(de.a.mark(function e(){var n,t,a,r,l,o,d,s;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.props.isAnonymous,e.next=3,i.fetchRecentWorkOnSpaces;case 3:if(t=e.sent,a=D()(t,"data.recentlyWorkedOnPages.nodes")||[],r=i.processData(a.map(function(e){return D()(e,"content.container",{})})),l=D()(t,"data.user.confluence.space")||{},!1!==n||me()(l)){e.next=9;break}return e.abrupt("return",{spaceKey:l.key});case 9:if(!(r.length>0)){e.next=11;break}return e.abrupt("return",{spaceKey:r[0].key});case 11:if(!((o=i.processData(D()(t,"data.recentlyVisitedSpaces"))).length>0)){e.next=16;break}return e.abrupt("return",{spaceKey:o.key});case 16:return e.next=18,i.fetchPromotedSpaces;case 18:return d=e.sent,s=i.processData(D()(d,"data.experimentalPromotedSpaces.nodes")),e.abrupt("return",{spaceKey:s[0].key});case 21:case"end":return e.stop()}},e)}))),y()(v()(i),"canUpdateSpace",function(e){return!e||e.some(function(e){return"space"===e.targetType&&"update"===e.operation||"page"===e.targetType&&"create"===e.operation})}),y()(v()(i),"getPageSearchCql",function(e){var n=e.keyword,t=e.spaceKey,a=e.contentId,r="type in (page,blogpost)";return a&&(r+=" AND id ='".concat(a,"'")),n&&(r+=" AND title ~ '".concat(n.replace(/\'/g,"%27"),"*'")),t&&(r+=" AND space.key = '".concat(t,"'")),i.props.isAnonymous||(r+=" and id in recentlyModifiedPagesAndBlogPostsByUser(currentUser(), 0, 20)"),r+=" order by lastModified desc"}),y()(v()(i),"lazyPrefetchQuery",function(e,n){return new Promise(function(t){setTimeout(function(){i.props.client.query({query:e,errorPolicy:"all",fetchPolicy:"cache-first",context:{single:!0},variables:n}).then(function(e){t(e)})},1e3)})}),y()(v()(i),"prefetchSpaceSelector",function(e){return i.lazyPrefetchQuery(Se,{cql:"type = 'space'",spaceKey:e,limit:25})}),y()(v()(i),"prefetchPageSelectorAllPagesInSpace",function(e){return i.lazyPrefetchQuery(Fe,{spaceKey:e,first:we})}),y()(v()(i),"prefetchExperimentalSpaceBlueprint",function(e){return i.lazyPrefetchQuery(Ne,{spaceKey:e})}),y()(v()(i),"prefetchSpaceBlueprint",function(e){return i.lazyPrefetchQuery(he,{spaceKey:e,includeHidden:!0})}),y()(v()(i),"prefetchDefaultSpaces",function(e){return i.lazyPrefetchQuery(be,{spaceKey:e})}),y()(v()(i),"prefetchDefaultPages",function(e){return i.lazyPrefetchQuery(De,{contentId:e})}),y()(v()(i),"fetchRecentWorkOnSpaces",i.lazyPrefetchQuery(fe,{cql:i.getPageSearchCql({}),cqlcontext:'{"contentStatuses":["current", "draft"]}'})),y()(v()(i),"fetchPromotedSpaces",i.lazyPrefetchQuery(ye,{single:!0})),i}return g()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.spaceKey,i=e.contentId;n||i?this.initInsideSpace():this.initWhenNoSpace()}},{key:"componentDidUpdate",value:function(e){this.updateOnPageChange(e),this.updateOnSpaceChange(e)}},{key:"initWhenNoSpace",value:function(){var e=this;this.fetchSpaces().then(function(n){var i=n.spaceKey;e.props.drawer.setSpaceKey(i),e.prefetchDefaultSpaces(i).then(function(n){var i=D()(n,"data.defaultSpaces.nodes[0].homepage.id");i?e.props.drawer.setContentId(i):e.props.drawer.setContentId("no-parent-page")}),e.prefetchSpaceSelector(i),e.prefetchExperimentalSpaceBlueprint(i),e.prefetchSpaceBlueprint(i),e.prefetchPageSelectorAllPagesInSpace(i)})}},{key:"render",value:function(){return null}}]),n}(h.PureComponent)),Pe=function(e){function n(){return l()(this,n),c()(this,m()(n).apply(this,arguments))}return g()(n,e),d()(n,[{key:"render",value:function(){return F.a.createElement(L.a,null,function(e){var n=e.userId;return F.a.createElement(ve.b.Consumer,null,function(e){var i=e.match;return F.a.createElement(ke.a.Consumer,null,function(e){var t=e.spaceKey,a=e.contentId;return F.a.createElement(ge.c,{to:[pe.a]},function(e){return F.a.createElement(Ce,{spaceKey:t,isAnonymous:!n,drawer:e,contentId:"string"==typeof a&&a.length>0?a:null,isBlogpost:D()(i,"name")===$.VIEW_BLOG_DATE_LEGACY.name||D()(i,"name")===$.VIEW_BLOG.name})})})})})}}]),n}(h.PureComponent);Pe.displayName="CreatePageDrawerPreloader";var Ae=i("c3Dk"),Ee=i("1esp"),Ie=i("POWg"),Me=i("Rj53"),Te=i.n(Me),Oe=i("3Z2R"),Le=i("KjBU"),Ke=i.n(Le),Ve=i("7A9o"),qe=i("EFtY"),xe=i.n(qe),je=Y()({loader:function(){return Promise.all([i.e(0),i.e(89),i.e(306)]).then(i.bind(null,"UY0x")).then(function(e){return e.AddPersonalSpaceDialog})},loading:function(){return null}});je.displayName="LazyAddPersonalSpaceDialog";var Qe=Y()({loader:function(){return Promise.all([i.e(0),i.e(309)]).then(i.bind(null,"nU90")).then(function(e){return e.AboutConfluenceDialog})},loading:function(){return null}});Qe.displayName="AboutConfluenceDialogLoader";var We=Y()({loader:function(){return Promise.all([i.e(0),i.e(3),i.e(4),i.e(5),i.e(87),i.e(218),i.e(308)]).then(i.bind(null,"9gUz")).then(function(e){return e.GiveFeedbackDialog})},loading:function(){return null}});function Be(){var e=N()(["\n  color: ",";\n"]);return Be=function(){return e},e}We.displayName="GiveFeedbackDialogLoader";var Ue=w.default.div(Be(),Ve.colors.N100A),He=function(e,n){return e.replace("$generalUtil.doubleUrlEncode($helper.action.authenticatedUser.name)",n.currentUser)},ze=function(e){return F.a.createElement("span",{id:e,style:{opacity:0}},"-")};ze.displayName="createFakeWebDriverTarget";var Ye=function(){return F.a.createElement(Ue,null,F.a.createElement(xe.a,{size:"small"}))};Ye.displayName="createExternalLinkIconNode";var Ge=function(e){return F.a.createElement(Qe,{onClose:e})};Ge.displayName="createAboutConfluenceDialog";var Re=function(e){return F.a.createElement(We,{onClose:e})};Re.displayName="createGiveFeedbackDialog";var $e=function(e){return F.a.createElement(R,{onClose:e})};$e.displayName="createKeyboardShortcutsDialog";var _e=function(e){return F.a.createElement(je,{onClose:e})};_e.displayName="createAddPesonalSpaceDialog";var Je=function(e,n){var i=n.url,t=n.params,a=n.label,r=n.moduleKey,l=n.id,o=void 0===l?"":l,d=n.tooltip,s=void 0===d?"":d,c=n.styleClass,u=void 0===c?"":c;switch(a=Ke()(a),r){case"confluence-about":return{getDialog:Ge,elemAfter:ze("confluence-about-link"),content:a};case"gadget-directory":return null;case"user-history":return{action:function(){return console.log("open ViewRecentsModalContainer")},content:a};case"user-profile":var m=He(i,e);return{href:m+(m.indexOf("?")>-1?"&":"?")+"src=usermenu",target:"_blank",content:a,title:s,elemAfter:Ye()};case"keyboard-shortcuts-dialog-help-menu":return{getDialog:$e,elemAfter:ze("keyboard-shortcuts-link"),content:a};case"create-personal-space":return{getDialog:_e,content:a};case"adg3-give-feedback":return{getDialog:Re,content:a};case"login":var k=te.a.location,v=k.pathname+k.search+k.hash;return v.startsWith("/wiki")&&(v=v.slice("/wiki".length)),{href:function(e,n){var i=ne.a.default.parse(n,!0);return delete i.search,i.query=Object.assign({},i.query,e),ne.a.default.format(i)}({os_destination:v},i),content:a};default:var p={href:He(i,e),target:t&&t.target||"_self",content:a,title:s},g=function(e){return e.indexOf("ap-dialog")>=0||e.indexOf("ap-inline-dialog")>=0}(u);return p.elemAfter=F.a.createElement("span",null,o?ze(o):null,g?F.a.createElement("a",{href:p.href,className:u,ref:function(e){return function(n){e.action=function(){return n.click()}}}(p)}):null),g&&(p.href="",p.target=""),p}},Ze=Object(q.f)({"system.user/adg3-section":{id:"help.us.improve",defaultMessage:"Help us improve"},"system.user/user-preferences":{id:"adg3.user.profile.other",defaultMessage:"My Confluence"},"system.help/pages":{id:"help.name",defaultMessage:"Help"},"system.help/pages/legal-section":{id:"system.help.legal",defaultMessage:"Legal"}}),Xe=function(e){function n(){return l()(this,n),c()(this,m()(n).apply(this,arguments))}return g()(n,e),d()(n,[{key:"renderDropDownMenu",value:function(e,n){var i=this,t=this.props,a=t.itemsAfter,r=t.dropDownkey,l=t.dialogFn,o=[];if(e&&e.length){var d=Te()(e,"section");o=(o=n.map(function(e){var n=d[e];return n?{heading:Ze.hasOwnProperty(e)?F.a.createElement(q.b,Ze[e]):null,items:n.map(function(e){return Je(i.props,e)}).filter(function(e){return Boolean(e)})}:null})).filter(function(e){return Boolean(e)})}return a&&(o=o.concat(a)),o.map(function(e,n){return F.a.createElement(Ae.a,{title:e.heading,key:"webDropdownheading".concat(r).concat(n)},e.items.map(function(e,i){var t=e.getDialog?function(){l(e.getDialog)}:null,a=e.action||t;return F.a.createElement(Ee.a,{key:"webDropDownItem".concat(r).concat(n).concat(i),href:e.href||null,target:e.target||null,elemAfter:e.elemAfter||null,onClick:a,title:e.title,shouldAllowMultiline:!1},e.content)}))})}},{key:"render",value:function(){var e=this,n=this.props.location;return F.a.createElement(Oe.a,{location:n,hasMultipleSections:!0,renderWhenLoading:!0},function(n){var i=n.webItems,t=n.webSections;return n.loading?F.a.createElement(Ie.a,null):e.renderDropDownMenu(i,t)})}}]),n}(h.Component);Xe.displayName="GlobalNavDropdownMenu";var en=Y()({loader:function(){return Promise.all([i.e(44),i.e(69),i.e(85),i.e(301)]).then(i.bind(null,"mDCw")).then(function(e){return e.EAPFeedbackSpotlightCoordinator})},loading:function(){return null}});en.displayName="LazyEAPFeedbackSpotlightCoordinator";var nn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GlobalNavigationQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tenant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edition"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"spaViewModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAnonymous"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"current"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPrimary"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"confluence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canBeSuperAdmin"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:333,source:{body:"\n  query GlobalNavigationQuery {\n    tenant {\n      editions {\n        edition\n      }\n    }\n    spaViewModel {\n      isAnonymous\n    }\n    user(current: true) {\n      id\n      displayName\n      photos {\n        value\n        isPrimary\n      }\n      confluence {\n        roles {\n          canBeSuperAdmin\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},tn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WebItemsGlobalPrefetchQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"location"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locations"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"version"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"webItemSections"},arguments:[{kind:"Argument",name:{kind:"Name",value:"location"},value:{kind:"Variable",name:{kind:"Name",value:"location"}}},{kind:"Argument",name:{kind:"Name",value:"locations"},value:{kind:"Variable",name:{kind:"Name",value:"locations"}}},{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"version"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"styleClass"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"completeKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasCondition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"params"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moduleKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"section"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"styleClass"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooltip"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urlWithoutContextPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:683,source:{body:"\n  query WebItemsGlobalPrefetchQuery(\n    $location: String\n    $locations: [String]\n    $contentId: ID\n    $spaceKey: String\n    $version: Int\n  ) {\n    webItemSections(\n      location: $location\n      locations: $locations\n      contentId: $contentId\n      key: $spaceKey\n      version: $version\n    ) {\n      id\n      label\n      styleClass\n      items {\n        accessKey\n        completeKey\n        hasCondition\n        id\n        icon {\n          path\n        }\n        params {\n          key\n          value\n        }\n        label\n        moduleKey\n        section\n        styleClass\n        tooltip\n        url\n        urlWithoutContextPath\n        weight\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},an=function(){return F.a.createElement("div",{style:{width:"100%",height:29}})};an.displayName="loadingDiv";var rn=Y()({loader:function(){return i.e(303).then(i.bind(null,"35M8")).then(function(e){return e.ExitBranchDeploy})},loading:an});rn.displayName="ExitBranchDeploy";var ln=Y()({loader:function(){return i.e(302).then(i.bind(null,"9rfu")).then(function(e){return e.FeedbackCollectorButton})},loading:an});ln.displayName="FeedbackCollectorButton";var on={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GlobalHelpItemQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"current"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:113,source:{body:"\n  query GlobalHelpItemQuery {\n    user(current: true) {\n      id\n      emails {\n        value\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};function dn(){var e=N()(["\n  min-width: 100px;\n  min-height: 100px;\n  display: flex;\n  flex: 1 1 auto;\n  justify-content: center;\n  align-items: center;\n"]);return dn=function(){return e},e}var sn=w.default.div(dn()),cn=function(e){function n(){return l()(this,n),c()(this,m()(n).apply(this,arguments))}return g()(n,e),d()(n,[{key:"getDevItems",value:function(){var e=this.props.isBranchDeploy,n={heading:"devMenu",items:[{content:"Dev tools",action:this.props.onOpenDevTools}]};return n.items.push({content:F.a.createElement(ln,null),action:this.props.onOpenFeedbackCollector}),e&&n.items.push({content:F.a.createElement(rn,null),action:ae}),[n]}},{key:"render",value:function(){var e=this,n=this.props.dialogFn;return F.a.createElement(sn,null,F.a.createElement(M.d,{query:on},function(i){var t=i.data,a=(D()(t,"user.emails")||[]).some(function(e){return e.value&&e.value.endsWith("@atlassian.com")});return F.a.createElement(Xe,{dropDownkey:"globalHelpItem",location:Z.a.SYSTEM_HELP,itemsAfter:a?e.getDevItems():null,renderWhenLoading:!0,dialogFn:n})}))}}]),n}(h.Component);cn.displayName="GlobalHelpMenu";var un=i("v5ep"),mn=i("WA7k"),kn=i.n(mn),vn=function(){return F.a.createElement(un.a,{size:"medium"})};vn.displayName="ConfluenceLogoMedium";var pn=function(){return F.a.createElement("div",{style:{height:"40px",width:"40px",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1"}},F.a.createElement("img",{src:kn.a,width:"34px",height:"34px",style:{display:"flex"}}))};pn.displayName="ConfluenceLogoMediumRed";var gn=Object(q.f)({productTooltip:{id:"navigation.product.tooltip",defaultMessage:"Confluence [g d]",description:"a tooltip with the name of the Application [g d] is a keyboard shortcut"},searchTooltip:{id:"navigation.search.tooltip",defaultMessage:"Search [/]",description:"a tooltip to open a search ui the [/] is a keyboard shortcut"},helpName:{id:"navigation.help.name",defaultMessage:"Help"},notificationsTooltip:{id:"navigation.notifications.tooltip",defaultMessage:"Notifications"},createTooltip:{id:"navigation.create.tooltip",defaultMessage:"Create [c]",description:"a tooltip to open a create page ui the [c] is a keyboard shortcut"},switchApp:{id:"navigation.notifications.switch",defaultMessage:"Switch to ...",description:"a tooltip for a menu that allows changing the app the user is in"}}),fn=function(e){return F.a.createElement(sn,null,F.a.createElement(Xe,{dropDownkey:"globalAccountItem",location:Z.a.SYSTEM_USER,dialogFn:e,renderWhenLoading:!0}))};fn.displayName="ProfileDropdown";var yn=function(){},Sn=function(e){var n=e.className;return F.a.createElement(G,{className:n})};Sn.displayName="AppSwitcherDropdown";var Nn="".concat($.CONTEXT_PATH,"/login.action?os_destination=").concat(te.a.location.pathname.replace($.CONTEXT_PATH,"")),hn=function(e){var n=e.children;return F.a.createElement(h.Fragment,null,n)};hn.displayName="NoopComponent";var Fn=function(e){function n(){var e,i;l()(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=c()(this,(e=m()(n)).call.apply(e,[this].concat(r))),y()(v()(i),"state",{isSearchDrawerOpen:!1,isCreateDrawerOpen:!1,isDevToolsOpen:!1,isFeedbackCollectorOpen:!1,isNotificationDrawerOpen:!1,activeDialog:null,profileAvatarNode:null,showEAPFeedbackSpotlight:!0}),y()(v()(i),"withKeyboardAnalytics",function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=i.props.createAnalyticsEvent;return function(i){var o={type:"sendUIEvent",data:{action:"clicked",actionSubject:"keyboardShortcut",source:"globalNavigation",attributes:a()({navigationLayer:e,isExpanded:n,key:i.key,navVersion:"2"},r)}};l(o).fire(),t()}}),y()(v()(i),"withCustomAnalytics",function(e,n){var t=i.props.createAnalyticsEvent;return function(){var i={type:"sendUIEvent",data:a()({},n)};t(i).fire(),e()}}),y()(v()(i),"openSearchDrawer",function(){i.setState({isSearchDrawerOpen:!0})}),y()(v()(i),"closeSearchDrawer",function(){i.setState({isSearchDrawerOpen:!1})}),y()(v()(i),"globalSearchDrawer",function(){return F.a.createElement(J,{closeDrawer:i.closeSearchDrawer})}),y()(v()(i),"openCreateDialog",function(){(0,i.props.setQueryParams)({createDialog:!0})}),y()(v()(i),"openCreateDialogWithAnalytics",i.withCustomAnalytics(i.openCreateDialog,{action:"clicked",actionSubject:"button",source:"globalNavigation",actionSubjectId:"create",attributes:{actionSubject:"createPageModal"}})),y()(v()(i),"openCreateDrawer",function(){i.setState({isCreateDrawerOpen:!0})}),y()(v()(i),"openCreateDrawerWithAnalytics",i.withCustomAnalytics(i.openCreateDrawer,{action:"clicked",actionSubject:"button",source:"globalNavigation",actionSubjectId:"create",attributes:{actionSubject:"createPageDrawer"}})),y()(v()(i),"closeCreateDrawer",function(){i.setState({isCreateDrawerOpen:!1})}),y()(v()(i),"openNotificationDrawer",function(){i.setState({isNotificationDrawerOpen:!0})}),y()(v()(i),"closeNotificationDrawer",function(){i.setState({isNotificationDrawerOpen:!1})}),y()(v()(i),"openDevTools",function(){i.setState({isDevToolsOpen:!0})}),y()(v()(i),"closeDevTools",function(){i.setState({isDevToolsOpen:!1})}),y()(v()(i),"openFeedbackCollector",function(){i.setState({isFeedbackCollectorOpen:!0})}),y()(v()(i),"closeFeedbackCollector",function(){i.setState({isFeedbackCollectorOpen:!1})}),y()(v()(i),"openDialog",function(e){i.setState({activeDialog:e(i.closeDialog)})}),y()(v()(i),"closeDialog",function(e){e&&i.addFlag(e),i.setState({activeDialog:void 0})}),y()(v()(i),"openKeyboardShortcutsDialog",function(){i.openDialog(function(e){return F.a.createElement(R,{onClose:e})})}),y()(v()(i),"productClick",function(e){e.preventDefault(),e.stopPropagation(),e.metaKey?te.a.open($.CONTEXT_PATH,"_blank"):i.props.push($.CONTEXT_PATH)}),y()(v()(i),"goToDashboard",function(){i.props.push("".concat($.CONTEXT_PATH,"/discover/all-updates"))}),y()(v()(i),"createDrawerContents",function(){return F.a.createElement(le,{onClose:i.closeCreateDrawer})}),y()(v()(i),"helpMenuMaker",function(e){return F.a.createElement(cn,{onOpenDevTools:i.openDevTools,onOpenFeedbackCollector:i.openFeedbackCollector,dialogFn:i.openDialog,isBranchDeploy:e})}),y()(v()(i),"helpMenu",function(){return i.helpMenuMaker(!1)}),y()(v()(i),"branchDeployHelpMenu",function(){return i.helpMenuMaker(!0)}),y()(v()(i),"addFlag",function(e){i.props.flags.showFlag(a()({close:"auto"},e))}),y()(v()(i),"closeEAPFeedbackSpotlight",function(){i.setState({showEAPFeedbackSpotlight:!1})}),y()(v()(i),"getProfileRef",function(e){e&&e.current&&!i.state.profileAvatarNode&&i.setState({profileAvatarNode:e.current})}),y()(v()(i),"shouldDisplayEAPFeedbackSpotlight",function(e,n){var t=i.state,a=t.showEAPFeedbackSpotlight,r=t.profileAvatarNode;if(a&&n["confluence.frontend.eap.spotlight"]){var l=D()(e,"user.confluence.roles.canBeSuperAdmin")||!1,o=D()(e,"tenant.editions.edition")||null;return l&&"PREMIUM"===o&&Boolean(r)}return!1}),i}return g()(n,e),d()(n,[{key:"render",value:function(){var e=this,n=this.props.intl,i=this.state,t=i.isSearchDrawerOpen,a=i.isCreateDrawerOpen,r=i.isFeedbackCollectorOpen,l=i.isDevToolsOpen,o=i.activeDialog,d=i.isNotificationDrawerOpen,s={productIcon:vn,productTooltip:n.formatMessage(gn.productTooltip),onSearchClick:this.openSearchDrawer,onSearchDrawerClose:this.closeSearchDrawer,isSearchDrawerOpen:t,searchTooltip:n.formatMessage(gn.searchTooltip),searchDrawerContents:this.globalSearchDrawer,shouldSearchDrawerUnmountOnExit:!0,createTooltip:n.formatMessage(gn.createTooltip),isCreateDrawerOpen:a,onCreateDrawerClose:this.closeCreateDrawer,createDrawerContents:this.createDrawerContents,createDrawerWidth:"medium",shouldCreateDrawerUnmountOnExit:!0,product:"confluence",locale:n.locale,fabricNotificationLogUrl:"/gateway/api/notification-log/",onNotificationDrawerOpen:this.openNotificationDrawer,onNotificationDrawerClose:this.closeNotificationDrawer,isNotificationDrawerOpen:d,notificationToolTip:n.formatMessage(gn.notificationsTooltip),shouldNotificationDrawerUnmountOnExit:!0,helpItems:this.helpMenu,helpToolTip:n.formatMessage(gn.helpName),appSwitcherComponent:Sn,appSwitcherTooltip:n.formatMessage(gn.switchApp),enableAtlassianSwitcher:!1},c=[{query:nn},{query:tn,variables:{locations:[],location:Z.a.SYSTEM_USER,contentId:null,spaceKey:null,version:null}},{query:tn,variables:{locations:[],location:Z.a.SYSTEM_HELP,contentId:null,spaceKey:null,version:null}}];return s.onProductClick=this.productClick,F.a.createElement(P.a,null,function(n){return F.a.createElement(E.a,null,function(i){var t=i.state.activeView.type,a=!n.state.isCollapsed,d=e.withKeyboardAnalytics(t,a,e.openKeyboardShortcutsDialog),u=e.withKeyboardAnalytics(t,a,e.openCreateDrawer,{actionSubject:"createPageDrawer"}),m=e.withKeyboardAnalytics(t,a,e.openSearchDrawer),k=e.withKeyboardAnalytics(t,a,e.openCreateDialog,{actionSubject:"createPageModal"});return F.a.createElement(h.Fragment,null,F.a.createElement(L.a,null,function(n){var i=n.cloudId,t=n.featureFlagClient,a=n.featureFlags,r=Boolean(V.a.get("useFrontendBuildVersion")),l=V.a.get("useFrontendBranch");"off"===l&&(l="");var o=a["confluence.frontend.branch.deployment"];"off"===o&&(o="");var v=l||o,p="Latest production. ";l?p="Branch: ".concat(v,". "):o&&(p="Feature flag controlled branch: ".concat(v,". "));var g=H.a?"build: ".concat(H.a,". "):"";(l||o)&&(s.productTooltip="".concat(p).concat(g).concat(l||r?'To exit branch deploy, select "Exit branch" under the help menu':""),s.productIcon=pn,s.helpItems=e.branchDeployHelpMenu),"variation"===t.getVariantValue("confluence.frontend.enable.atlassian.switcher.in.global.nav",{default:"not-enrolled",oneOf:["not-enrolled","control","variation"],shouldTrackExposureEvent:!0})&&(s.enableAtlassianSwitcher=!0,s.triggerXflow=yn);var f=a["confluence.frontend.create.page.drawer"];s.onCreateClick=f?e.openCreateDrawerWithAnalytics:e.openCreateDialogWithAnalytics;var y=a["confluence.frontend.global-quick-search.pre-fetching"]?_.b:hn;return F.a.createElement(h.Fragment,null,F.a.createElement("span",{"data-test-id":"global-navigation-v2"}),F.a.createElement(x.a,{queryProps:c},function(n){var t=n.results;if(n.loading)return F.a.createElement(B.a,null);var r=t[0].data;if(D()(r,"spaViewModel.isAnonymous",!0))s.loginHref=Nn,delete s.enableAtlassianSwitcher,delete s.triggerXflow,delete s.appSwitcherComponent;else{s.getProfileRef=e.getProfileRef,s.profileItems=function(){return fn(e.openDialog)};var l=D()(r,"user")||{photos:[],displayName:null};s.profileIconUrl=D()(l,"photos[0].value"),s.profileTooltip=l.displayName?l.displayName:null,s.cloudId=i}var o=e.shouldDisplayEAPFeedbackSpotlight(r,a);return F.a.createElement(y,{context:"confluence",cloudId:i},F.a.createElement(W.a,s),o&&F.a.createElement(en,{targetNode:e.state.profileAvatarNode,onClick:e.closeEAPFeedbackSpotlight}),f?F.a.createElement(Pe,null):null)}),f?F.a.createElement(O.a,{accelerator:"c",listener:u}):F.a.createElement(O.a,{accelerator:"c",listener:k}),F.a.createElement(O.a,{accelerator:"?",listener:d}),F.a.createElement(O.a,{accelerator:"g d",listener:e.goToDashboard}),F.a.createElement(O.a,{accelerator:"g n",listener:e.openNotificationDrawer}),F.a.createElement(O.a,{accelerator:["/","g g","g r"],listener:m}),"hello.atlassian.net"===te.a.location.hostname?F.a.createElement(O.a,{accelerator:"g f",listener:e.openFeedbackCollector}):null)}),F.a.createElement(U.b,null,l&&F.a.createElement(j.a,{onClose:e.closeDevTools}),r&&F.a.createElement(re,{onClose:e.closeFeedbackCollector}),o))})})}}]),n}(h.Component);Fn.displayName="GlobalNavigationComponent";var bn=Object(X.a)(Object(q.g)(Object(T.a)()(Object(Q.a)(Fn)))),Dn=Y()({loader:function(){return Promise.all([i.e(44),i.e(69),i.e(85),i.e(299)]).then(i.bind(null,"rQ+2")).then(function(e){return e.NavigationSpotlightCoordinator})},loading:function(){return null}});Dn.displayName="NavigationSpotlightCoordinatorLoader";var wn,Cn,Pn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NavigationQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lookAndFeel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"custom"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"header"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryNavigation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"global"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"header"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryNavigation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:342,source:{body:"\n  query NavigationQuery {\n    lookAndFeel {\n      custom {\n        header {\n          backgroundColor\n          primaryNavigation {\n            color\n          }\n        }\n      }\n      global {\n        header {\n          backgroundColor\n          primaryNavigation {\n            color\n          }\n        }\n      }\n      selected\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},An=i("j7h5"),En=i("7cEc"),In=function(e){return e.startsWith("rgba(")&&4===e.split(",").length?"rgb".concat(e.substring(4,e.lastIndexOf(",")),")"):e},Mn=function(e){return e.startsWith("#")||e.startsWith("rgb(")||e.startsWith("rgba(")||e.startsWith("hsl(")||e.startsWith("hsla(")},Tn=function(e){var n=function(e){return{foreground:In(e.foreground),background:In(e.background)}}(function(e){var n=D()(e,"header.primaryNavigation.color","").trim(),i=D()(e,"header.backgroundColor","").trim();return{foreground:Mn(n)?n:"#ffffff",background:Mn(i)?i:"#0049B0"}}(e)),i=n.foreground,t=n.background;return"#ffffff"===i&&"#205081"===t?En.a:function(e,n){return Object(An.a)({product:{text:e,background:n}})}(i,"#205081"===t?"#0049B0":t)},On=i("ndt2"),Ln=i("wgWf");function Kn(){var e=N()(["\n  @media print {\n    display: none !important;\n  }\n"]);return Kn=function(){return e},e}i.d(n,"NoPrintContainer",function(){return Vn}),i.d(n,"Navigation",function(){return qn});var Vn=w.default.div(Kn()),qn=Object(T.a)()((Cn=wn=function(e){function n(){var e,i;l()(this,n);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=c()(this,(e=m()(n)).call.apply(e,[this].concat(a))),y()(v()(i),"state",{showSpotlight:!1,spotlightTargetNode:null}),y()(v()(i),"getCollapseAffordanceRef",function(e){return function(n){var t=n.expandCollapseAffordance;t&&t.current&&t.current!==i.state.spotlightTargetNode&&i.setState({spotlightTargetNode:t.current,showSpotlight:e.state.isCollapsed})}}),y()(v()(i),"openSpotlight",function(){i.setState({showSpotlight:!0})}),y()(v()(i),"closeSpotlight",function(){i.setState({showSpotlight:!1})}),i}return g()(n,e),d()(n,[{key:"componentDidMount",value:function(){Ln.a.preload()}},{key:"render",value:function(){var e=this,n=this.props,i=n.children,t=n.topOffset;return F.a.createElement(C.a,null,F.a.createElement("div",{"data-test-id":"confluence-navigation-v2"},F.a.createElement(P.a,null,function(n){return F.a.createElement(h.Fragment,null,F.a.createElement(Vn,null,F.a.createElement(L.a,null,function(i){var r=i.featureFlagClient.getBooleanValue("confluence.frontend.nav.v2",{default:!1});return F.a.createElement(M.d,{query:Pn},function(i){var l=i.data;if(i.loading)return F.a.createElement(On.a,{standalone:!0});var o=l.lookAndFeel.selected,d=Tn(D()(l,"lookAndFeel.".concat(o))||null);return F.a.createElement(A.a,{theme:function(e){return a()({},e,{context:"product",mode:d})}},F.a.createElement(E.a,null,function(i){var a=e.state,l=a.showSpotlight,o=a.spotlightTargetNode;if(i.state.activeView){var d=e.props.createAnalyticsEvent,s=i.state.activeView.type,c=!n.state.isCollapsed;return i.state.activeView?F.a.createElement(h.Fragment,null,F.a.createElement(O.a,{accelerator:"[",listener:function(){d({type:"sendUIEvent",data:{action:"clicked",actionSubject:"keyboardShortcut",source:"globalNavigation",attributes:{navigationLayer:s,isExpanded:c,key:"[",navVersion:"2"}}}).fire(),n.toggleCollapse()}}),F.a.createElement(I.a,{globalNavigation:bn,experimental_flyoutOnHover:r,experimental_alternateFlyoutBehaviour:!0,experimental_fullWidthFlyout:!0,onCollapseEnd:e.openSpotlight,onExpandStart:e.closeSpotlight,getRefs:e.getCollapseAffordanceRef(n),topOffset:t}),r&&l&&o&&F.a.createElement(Dn,{targetNode:o,onClick:e.closeSpotlight})):null}return null}))})})),i)})))}}]),n}(h.PureComponent),y()(wn,"defaultProps",{children:null,topOffset:0}),Cn))},6:function(e,n){},CGqU:function(e,n,i){"use strict";i.d(n,"a",function(){return a});var t=i("x+QU"),a=i.n(t)()({loader:function(){return Promise.all([i.e(0),i.e(4),i.e(6),i.e(5),i.e(15),i.e(18),i.e(30),i.e(90),i.e(148),i.e(242),i.e(350)]).then(i.bind(null,"G4Dj")).then(function(e){return e.DevToolsDialog})},loading:function(){return null}});a.displayName="DevToolsDialog"},JOcB:function(e,n,i){"use strict";i.d(n,"a",function(){return D});var t=i("97Jx"),a=i.n(t),r=i("m3Bd"),l=i.n(r),o=i("VrFO"),d=i.n(o),s=i("Y9Ll"),c=i.n(s),u=i("N+ot"),m=i.n(u),k=i("AuHH"),v=i.n(k),p=i("1Pcy"),g=i.n(p),f=i("5Yy7"),y=i.n(f),S=i("KEM+"),N=i.n(S),h=i("ERkP"),F=i.n(h),b=i("kFJ8"),D=(i("aWzz"),function(e){function n(){var e,i;d()(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=m()(this,(e=v()(n)).call.apply(e,[this].concat(r))),N()(g()(i),"_queryResults",[]),N()(g()(i),"_queryProperties",[]),N()(g()(i),"_anyLoading",function(){return i._queryResults.some(function(e){return!0===e.loading})}),N()(g()(i),"_renderQueryComponent",function(e,n,t){return e.length?F.a.createElement(b.d,a()({errorPolicy:"all"},e[t]),function(a){var r=a.data,o=a.loading,d=a.error,s=l()(a,["data","loading","error"]);i._queryResults[t]={data:r,loading:o,error:d},i._queryProperties[t]=s;var c=t+1;return e.length>c?i._renderQueryComponent(e,n,c):n({results:i._queryResults,loading:i._anyLoading(),properties:i._queryProperties})}):n({results:[],loading:!1})}),i}return y()(n,e),c()(n,[{key:"render",value:function(){var e=this.props,n=e.queryProps,i=e.children;return this._renderQueryComponent(n,i,0)}}]),n}(h.Component));D.displayName="QueryGroup"},"T+Mg":function(e,n,i){"use strict";i.d(n,"a",function(){return h});var t=i("97Jx"),a=i.n(t),r=i("VrFO"),l=i.n(r),o=i("Y9Ll"),d=i.n(o),s=i("N+ot"),c=i.n(s),u=i("AuHH"),m=i.n(u),k=i("5Yy7"),v=i.n(k),p=i("KEM+"),g=i.n(p),f=i("ERkP"),y=i.n(f),S=i("lZoD"),N=i("bx1d");function h(e){var n,i;return i=n=function(n){function i(){return l()(this,i),c()(this,m()(i).apply(this,arguments))}return v()(i,n),d()(i,[{key:"render",value:function(){var n=this;return y.a.createElement(S.c,{to:[N.a]},function(i){return y.a.createElement(e,a()({},n.props,{flags:i}))})}}]),i}(f.Component),g()(n,"displayName","withFlags(".concat(e.displayName||e.name,")")),i}},WA7k:function(e,n){e.exports="data:image/svg+xml;base64,PHN2ZyBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM0IDM0Ij48cGF0aCBkPSJNMTcgMzRhMTcgMTcgMCAxIDEgMTctMTcgMTcgMTcgMCAwIDEtMTcgMTd6TTcuNzIgMjEuODdjLS4yMS4zMi0uNDQuNjktLjYzIDFhLjU5LjU5IDAgMCAwIC4yMS44Mmw0LjEyIDIuNDFhLjY2LjY2IDAgMCAwIC40OC4wNy42My42MyAwIDAgMCAuMzktLjI4bC42MS0xYzEuNjMtMi41NiAzLjI3LTIuMjUgNi4yMy0uOWw0LjA4IDEuODVhLjY2LjY2IDAgMCAwIC40OSAwIC42Mi42MiAwIDAgMCAuMzYtLjMybDItNC4yMmEuNTkuNTkgMCAwIDAtLjMyLS43OWMtLjg2LS4zOS0yLjU4LTEuMTYtNC4xMi0xLjg2LTUuNjItMi41My0xMC4yOS0yLjM2LTEzLjkgMy4yMnptMTguNTYtOS41NmMuMjEtLjMyLjQ0LS42OS42My0xYS41OS41OSAwIDAgMC0uMjEtLjgyTDIyLjU4IDguMWEuNjYuNjYgMCAwIDAtLjUtLjA4LjYzLjYzIDAgMCAwLS40LjI5bC0uNjEgMWMtMS42MyAyLjU2LTMuMjcgMi4yNS02LjIzLjlsLTQuMDctMS44OGEuNjYuNjYgMCAwIDAtLjQ5IDAgLjYyLjYyIDAgMCAwLS4zNi4zMkw4IDEyLjg1YS41OS41OSAwIDAgMCAuMzIuNzljLjg2LjM5IDIuNTcgMS4xNSA0LjEyIDEuODYgNS41NiAyLjU2IDEwLjIzIDIuMzkgMTMuODQtMy4xOXoiIGZpbGw9IiNmZjU2MzAiLz48L3N2Zz4="},bx1d:function(e,n,i){"use strict";i.d(n,"a",function(){return S});var t=i("RhWx"),a=i.n(t),r=i("tQaH"),l=i.n(r),o=i("VrFO"),d=i.n(o),s=i("N+ot"),c=i.n(s),u=i("AuHH"),m=i.n(u),k=i("1Pcy"),v=i.n(k),p=i("5Yy7"),g=i.n(p),f=i("KEM+"),y=i.n(f),S=function(e){function n(e){var i;return d()(this,n),i=c()(this,m()(n).call(this)),y()(v()(i),"showFlag",function(e){var n=i.state,t=n.flags,r=n.nextFlagId;if(!t.find(function(n){return n.id===e.id})){var o=l()({id:r},e);return i.setState({flags:[].concat(a()(i.state.flags),[o]),nextFlagId:r+1}).then(function(){return o})}}),y()(v()(i),"hideFlag",function(e){i.setState({flags:i.state.flags.filter(function(n){return n.id!==e})})}),y()(v()(i),"showSuccessFlag",function(e){var n=e.title,t=e.description,a=e.actions;return i.showFlag({type:"success",title:n,description:t,close:"auto",actions:a})}),y()(v()(i),"showInfoFlag",function(e){var n=e.title,t=e.description,a=e.actions;return i.showFlag({type:"info",title:n,description:t,actions:a})}),y()(v()(i),"showWarningFlag",function(e){var n=e.title,t=e.description,a=e.actions;return i.showFlag({type:"warning",title:n,description:t,actions:a})}),y()(v()(i),"showErrorFlag",function(e){var n=e.title,t=e.description,a=e.actions;return i.showFlag({type:"error",title:n,description:t,actions:a})}),i.state={flags:e||[],nextFlagId:e?e.length:0},i}return g()(n,e),n}(i("lZoD").a)},wgWf:function(e,n,i){"use strict";i.d(n,"a",function(){return l});i("ERkP");var t=i("x+QU"),a=i.n(t),r=i("y8te"),l=a()({loader:function(){return Promise.all([i.e(12),i.e(10),i.e(19),i.e(41),i.e(67),i.e(145),i.e(99),i.e(311)]).then(i.bind(null,"FUCS")).then(function(e){return e.SpaceNavigation})},loading:r.a});l.displayName="SpaceNavigationLoader"},y8te:function(e,n,i){"use strict";i.d(n,"a",function(){return g});var t=i("VrFO"),a=i.n(t),r=i("Y9Ll"),l=i.n(r),o=i("N+ot"),d=i.n(o),s=i("AuHH"),c=i.n(s),u=i("5Yy7"),m=i.n(u),k=i("ERkP"),v=i.n(k),p=i("es0P"),g=function(e){function n(){return a()(this,n),d()(this,c()(n).apply(this,arguments))}return m()(n,e),l()(n,[{key:"render",value:function(){return v.a.createElement(p.a,{type:"container"})}}]),n}(k.PureComponent);g.displayName="ContainerSkeleton"}}]);
//# sourceMappingURL=navigation-v2.1219823c26228040c0fb-v38.js.map