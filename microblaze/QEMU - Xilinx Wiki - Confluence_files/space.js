(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{"+CY+":function(e,n,t){"use strict";t.d(n,"a",function(){return S});var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),s=t.n(l),c=t("AuHH"),u=t.n(c),d=t("1Pcy"),m=t.n(d),k=t("5Yy7"),p=t.n(k),v=t("KEM+"),f=t.n(v),y=t("ERkP"),g=(t("aWzz"),t("+Aie")),h=t.n(g),N=t("5Asb"),b={},I=h.a.prototype.stopCallback;h.a.prototype.stopCallback=function(e,n,t){return!!!N.d.map(function(e){return n.classList.contains(e)}).find(function(e){return e})&&I.call(void 0,e,n,t)};var C=150,S=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=s()(this,(e=u()(n)).call.apply(e,[this].concat(r))),f()(m()(t),"listeners",{}),f()(m()(t),"lastFired",0),f()(m()(t),"_call",function(e){var n=+new Date;n-t.lastFired>=C&&(t.lastFired=n,t.props.listener(e))}),t}return p()(n,e),o()(n,[{key:"componentDidMount",value:function(){var e=this.props.accelerator;b[e],b[e]=!0,h.a.bind(e,this._call)}},{key:"componentWillUnmount",value:function(){var e=this.props.accelerator;delete b[e],h.a.unbind(e)}},{key:"render",value:function(){return null}}]),n}(y.PureComponent);S.displayName="ShortcutListener"},"+Prw":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var i=t("hqKg"),a=t("zUx9"),r=function(e,n){return n.contentId},o=function(e){return e.views.viewPage.editorContent},l=function(){return Object(i.createSelector)(r,o,function(e,n){var t=n.get("hasFetched",!1),i=n.get("contentId"),r=n.get("silent",!1),o=n.get("statusCode"),l=n.get("errorData",null),s=n.get("result",null),c=n.get("spaceKey",null),u=i===e,d=!1===t&&u;return{spaceKey:c,statusCode:o,hasFetched:t,contentId:i,errorData:l&&"function"==typeof l.toJS?l.toJS():l,result:s&&"function"==typeof s.toJS?s.toJS():s,isRequesting:d,shouldNavigateToEditPage:!r&&t&&u&&o===a.d}})}},"0Dc1":function(e,n,t){"use strict";t.d(n,"a",function(){return T});var i=t("VtSi"),a=t.n(i),r=t("tQaH"),o=t.n(r),l=t("ddV6"),s=t.n(l),c=t("cbiG"),u=t.n(c),d=t("VrFO"),m=t.n(d),k=t("Y9Ll"),p=t.n(k),v=t("N+ot"),f=t.n(v),y=t("AuHH"),g=t.n(y),h=t("5Yy7"),N=t.n(h),b=t("KEM+"),I=t.n(b),C=(t("aWzz"),t("ERkP")),S=t("Z49i"),L=t("/FQd"),F=t("KkZ4"),E=t("liLY"),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter(function(n){return e[n]}).reduce(function(n,t){return n[t]=e[t],n},{})},T=function(e){function n(){return m()(this,n),f()(this,g()(n).apply(this,arguments))}return N()(n,e),p()(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.subject,t=e.subjectId;Object(E.c)("".concat(n,".").concat(t,".end"))||this.performanceEnd()}},{key:"performanceEnd",value:function(){var e=u()(a.a.mark(function e(){var n,t,i,r,l,c,u,d,m,k,p,v,f;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,t=n.details,i=n.subject,r=n.subjectId,l=n.includeFeatureFlags,c="".concat(i,".").concat(r,".end"),Object(E.b)(c),u=Object(E.d)("".concat(i,".").concat(r,".start"),c),e.prev=4,d=Object(F.getAnalyticsWebClient)(),m=l?Object(L.b)(Object(S.a)()):Promise.resolve({}),e.next=9,Promise.all([d,m]);case 9:k=e.sent,p=s()(k,2),v=p[0],f=p[1].featureFlags,v.sendOperationalEvent({tags:["performance"],source:"confluence-frontend",action:"done",actionSubject:i,actionSubjectId:r,attributes:o()({featureFlags:w(f),duration:u},t)}),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(4);case 18:case"end":return e.stop()}},e,this,[[4,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null}}]),n}(C.Component);I()(T,"defaultProps",{subjectId:"",includeFeatureFlags:!1}),T.displayName="PerformanceEnd"},"1vxf":function(e,n,t){"use strict";var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),s=t.n(l),c=t("AuHH"),u=t.n(c),d=t("5Yy7"),m=t.n(d),k=t("ERkP"),p=t.n(k),v=(t("aWzz"),t("kFJ8")),f=t("/FQd"),y=t("KEM+"),g=t.n(y),h=t("2srY"),N=t.n(h),b=t("UIW9"),I=t("1Pcy"),C=t.n(I),S=t("7wq/"),L=t.n(S),F=t("KsTJ"),E=t("0Dc1"),w=t("QddB"),T=t.n(w),D=t("PTiB"),U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikeSummaryQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"current"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tenant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cloudId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:477,source:{body:"\n  query LikeSummaryQuery($contentId: ID!, $contentType: String!) {\n    user(current: true) {\n      id\n    }\n    tenant {\n      cloudId\n    }\n    content(id: $contentId, type: $contentType) {\n      nodes {\n        id\n        likes {\n          nodes {\n            user {\n              accountId\n              displayName\n              profilePicture {\n                path\n              }\n            }\n            currentUserIsFollowing\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},x=t("L21V"),P=t("WELO"),O=t("+ypV"),_=t.n(O),j=t("7A9o");function V(){var e=L()(["\n  background: 0;\n  border: 0;\n  cursor: pointer;\n  color: ",";\n  font-size: inherit;\n  "," /* legacy styling */\n  outline: 0;\n  padding: 0;\n\n  &:hover {\n    cursor: pointer;\n    color: ",";\n    text-decoration: underline;\n  }\n\n  & > span {\n    vertical-align: bottom;\n  }\n"]);return V=function(){return e},e}var A=F.default.button(V(),function(e){return e.isComment?"#707070":j.colors.B400},function(e){return e.isComment?"":"line-height: 20px;"},function(e){return e.isComment?"#707070":j.colors.B400}),B=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=s()(this,(e=u()(n)).call.apply(e,[this].concat(r))),g()(C()(t),"state",{isLikedByCurrentUser:t.props.isLikedByCurrentUser}),g()(C()(t),"onLikeClick",function(){var e=t.props,n=e.likeContent,i=e.unlikeContent;t.state.isLikedByCurrentUser?(i(),t.setState({isLikedByCurrentUser:!1})):(n(),t.setState({isLikedByCurrentUser:!0}))}),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.isForComment,t=e.isForInlineComment,i=this.state.isLikedByCurrentUser,a=n||t;return p.a.createElement(A,{isComment:a,onClick:this.onLikeClick},a?null:p.a.createElement(_.a,{size:P.b.medium,primaryColor:j.colors.N500}),p.a.createElement("span",null,i?p.a.createElement(x.b,{id:"likes.action.unlike",defaultMessage:"Unlike",description:"Verb: to unlike a piece of content"}):p.a.createElement(x.b,{id:"likes.action.like",defaultMessage:"Like",description:"Verb: to like a piece of content"})))}}]),n}(k.PureComponent);B.displayName="LikeButtonComponent";var M={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikeButtonQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:212,source:{body:"\n  query LikeButtonQuery($contentId: ID!, $contentType: String) {\n    content(id: $contentId, type: $contentType) {\n      nodes {\n        id\n        likes {\n          currentUserLikes\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeButtonLikeMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likeContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:220,source:{body:"\n  mutation LikeButtonLikeMutation($contentId: ID!) {\n    likeContent(input: { contentId: $contentId }) {\n      content {\n        id\n        likes {\n          count\n          currentUserLikes\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeButtonUnlikeMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlikeContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:224,source:{body:"\n  mutation LikeButtonUnlikeMutation($contentId: ID!) {\n    unlikeContent(input: { contentId: $contentId }) {\n      content {\n        id\n        likes {\n          count\n          currentUserLikes\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},H=Object(D.a)()(function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=s()(this,(e=u()(n)).call.apply(e,[this].concat(r))),g()(C()(t),"fireLikeAnalyticsEvent",function(){t.fireAnalyticsEvent("created")}),g()(C()(t),"fireUnlikeAnalyticsEvent",function(){t.fireAnalyticsEvent("deleted")}),g()(C()(t),"generateMutation",function(e){var n=t.props.contentId;return function(){e({variables:{contentId:n}})}}),t}return m()(n,e),o()(n,[{key:"getAnalyticsData",value:function(e){var n=this.props,t=n.contentId,i=n.contentType,a=n.containerId,r=n.containerType,o=n.isForComment,l=n.isForInlineComment;return{action:e,actionSubject:"like",containerType:o||l?"page":r,containerId:a,objectType:l?"inlineComment":o?"comment":"page",objectId:t,source:"likeButton",attributes:{componentVersion:"v2",pageType:"blogpost"===i||"blogpost"===r?"blogpost":"page"}}}},{key:"fireAnalyticsEvent",value:function(e){this.props.createAnalyticsEvent({type:"sendTrackEvent",data:this.getAnalyticsData(e)}).fire()}},{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,i=n.contentType,a=n.isForComment,r=n.isForInlineComment,o={contentId:t,contentType:i};return p.a.createElement(v.d,{query:M,variables:o},function(n){var t=n.data,i=n.loading,l=n.error;if(i||l)return null;var s=N()(t,"content.nodes[0].likes.currentUserLikes");return p.a.createElement(v.c,{mutation:q,onCompleted:e.fireLikeAnalyticsEvent,refetchQueries:[{query:U,variables:o}]},function(n,t){return T()(t),p.a.createElement(v.c,{mutation:$,onCompleted:e.fireUnlikeAnalyticsEvent,refetchQueries:[{query:U,variables:o}]},function(t,i){return T()(i),p.a.createElement(B,{likeContent:e.generateMutation(n),unlikeContent:e.generateMutation(t),isLikedByCurrentUser:s,isForComment:a,isForInlineComment:r})})})})}}]),n}(k.PureComponent)),Q=t("97Jx"),R=t.n(Q),z=t("BEru"),Y=t("ok3R"),G=t("yTLO");function W(e,n){return e?"/people/".concat(e,"?ref=confluence").concat(n?"&src=".concat(encodeURIComponent(n)):""):""}function J(){var e=L()(["\n  cursor: pointer;\n"]);return J=function(){return e},e}function K(){var e=L()(["\n  "," &:hover {\n    ",";\n  }\n"]);return K=function(){return e},e}function Z(){var e=L()(["\n  background: 0;\n  border: 0;\n"]);return Z=function(){return e},e}var X=new z.b({url:"/gateway/api/directory/graphql",cacheSize:100,cacheMaxAge:3e5}),ee=Object(x.f)({people:{id:"likes.summary.count.people",defaultMessage:"{numLikers} people",description:"number of people who like content"},others:{id:"likes.summary.count.others",defaultMessage:"{numLikers} others",description:"number of other people who like content"}}),ne=Object(F.default)(Y.b)(Z()),te=F.default.a(K(),function(e){return e.isForComment&&"color: #707070;"},function(e){return e.isForComment&&"color: #707070;"}),ie=F.default.a(J());function ae(e,n,t){var i=n?ee.people:ee.others;return p.a.createElement(ie,{onClick:t},p.a.createElement(x.b,R()({},i,{values:{numLikers:e}})))}ie.displayName="PointerLink",ae.displayName="generateLikeDialogLink";var re=p.a.createElement(k.Fragment,null," ",p.a.createElement(x.b,{id:"likes.summary.separator.and",defaultMessage:"and",description:"Word and used in listing things"})," "),oe=p.a.createElement(k.Fragment,null,p.a.createElement(x.b,{id:"likes.summary.separator.comma",defaultMessage:",",description:"comma punctuation used in listing things"})," "),le=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"getUserLinkTemplate",value:function(e){var n=e.accountId,t=e.displayName,i=this.props,a=i.cloudId,r=i.isForComment,o=p.a.createElement(z.c,{cloudId:a,userId:n,resourceClient:X});return p.a.createElement(te,{isForComment:r,href:W(n,"profileCard")},p.a.createElement(G.a,{tag:"span",component:ne,content:o},p.a.createElement("span",null,t)))}},{key:"generateYou",value:function(){return p.a.createElement(x.b,{id:"likes.summary.word.you",defaultMessage:"You",description:"You are the user"})}},{key:"generatePromoted",value:function(e,n,t){var i=this,a=e.length-1,r=n;return e.map(function(e,n){var o;return r&&(o=n===a&&0===t?re:oe),r=!0,p.a.createElement(k.Fragment,{key:e.accountId},o,i.getUserLinkTemplate(e))})}},{key:"generateNonPromoted",value:function(e,n){var t=this.getUserLinkTemplate(e[0]);if(e.length>1){var i=this.props.handleDialogLinkClick;t=ae(e.length,n,i)}return p.a.createElement(k.Fragment,null,!n&&re,t)}},{key:"generateMessage",value:function(){var e=this.props,n=e.likedBy,t=e.currentUserId,i=[],a=[],r=!1,o=!0;n.forEach(function(e){e.accountId===t?(r=!0,o=!1):i.length<3&&e.currentUserIsFollowing?(i.push(e),o=!1):a.push(e)});var l=i.length,s=a.length,c=r?2:l+s;return p.a.createElement("span",null,r&&this.generateYou(),l?this.generatePromoted(i,r,a.length):null,s?this.generateNonPromoted(a,o):null," ",p.a.createElement(x.b,{id:"likes.summary.phrase.likeThis",defaultMessage:"{numLikers, plural, one {likes this} other {like this}}",description:"suffix for number of users who like this piece of content",values:{numLikers:c}}))}},{key:"render",value:function(){var e=this.props,n=e.currentUserId,t=e.likedBy,i=e.isForComment;return 0===t.length?!i&&n?p.a.createElement(x.b,{id:"likes.phrase.bethefirst",defaultMessage:"Be the first to like this",description:"Message for content without any likes"}):null:this.generateMessage()}}]),n}(k.PureComponent);function se(){var e=L()(["\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return se=function(){return e},e}le.displayName="LikeSummaryMessageComponent";var ce=F.default.span(se());ce.displayName="SummaryLink";var ue=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"renderForNotInlineComment",value:function(){var e=this.props,n=e.cloudId,t=e.likedBy,i=e.currentUserId,a=e.isForComment,r=e.onClick;return p.a.createElement("span",{"data-test-id":"likes-summary-span"},a&&t.length>0?p.a.createElement(_.a,{size:P.b.small,primaryColor:"#707070"}):null,p.a.createElement(le,{likedBy:t,currentUserId:i,cloudId:n,isForComment:a,handleDialogLinkClick:r}))}},{key:"renderForInlineComment",value:function(){var e=this.props,n=e.likedBy,t=e.onClick;return n.length?p.a.createElement("span",null,p.a.createElement(_.a,{size:P.b.small,primaryColor:"#707070"}),p.a.createElement(ce,{onClick:t,"data-test-id":"likes-summary-link"},n.length)):null}},{key:"render",value:function(){return this.props.isForInlineComment?this.renderForInlineComment():this.renderForNotInlineComment()}}]),n}(k.PureComponent);ue.displayName="LikeSummaryComponent";var de=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.onClick,a=e.isForComment,r=e.isForInlineComment,o={contentId:n,contentType:t};return p.a.createElement(v.d,{query:U,variables:o},function(e){var n=e.data,t=e.loading,o=e.error;if(t||o)return null;var l=N()(n,"user.id"),s=N()(n,"tenant.cloudId"),c=(N()(n,"content.nodes[0].likes.nodes")||[]).map(function(e){return{displayName:e.user.displayName,accountId:e.user.accountId,avatarUrl:e.user.profilePicture&&e.user.profilePicture.path,currentUserIsFollowing:e.currentUserIsFollowing}});return p.a.createElement(ue,{likedBy:c,cloudId:s,currentUserId:l,onClick:i,isForComment:a,isForInlineComment:r})})}}]),n}(k.PureComponent);de.displayName="LikeSummary";var me=t("Pydg"),ke=t("ZmIu"),pe=t("llcG"),ve=t("wySS"),fe=t("2rtj");function ye(){var e=L()(["\n  flex-grow: 1;\n  padding: 0 10px;\n"]);return ye=function(){return e},e}function ge(){var e=L()(["\n  line-height: 0;\n"]);return ge=function(){return e},e}function he(){var e=L()(["\n  border-bottom: 1px solid ",";\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  overflow: auto;\n"]);return he=function(){return e},e}var Ne=Object(x.f)({followUser:{id:"likes.dialog.action.follow",defaultMessage:"Follow",description:"Verb for following/subscribing to a user"},dialogHeading:{id:"likes.dialog.phrase.likers",defaultMessage:"People who like this",description:"People who like the piece of content"},following:{id:"likes.dialog.noun.following",defaultMessage:"Following",description:"Gerund for a user you already follow"},close:{id:"likes.dialog.action.close",defaultMessage:"Close",description:"Button for closing dialog"}}),be=F.default.div(he(),j.colors.N50);be.displayName="LikeUserRow";var Ie=F.default.div(ge());Ie.displayName="AvatarContainer";var Ce=F.default.div(ye());Ce.displayName="UserNameContainer";var Se=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"renderLikeRow",value:function(e){var n=e.displayName,t=e.accountId,i=e.avatarUrl,a=e.currentUserIsFollowing;if(!n)return null;var r=this.props.followUser;return p.a.createElement(be,{key:t,"data-test-id":"like-row"},p.a.createElement(Ie,null,p.a.createElement(ve.a,{src:i,size:"medium"})),p.a.createElement(Ce,null,p.a.createElement(fe.a,{target:"_blank",href:W(t)},n)),p.a.createElement("div",null,a?p.a.createElement(x.b,Ne.following):p.a.createElement(pe.a,{onClick:function(){r(t)},"data-test-id":"follow-user-button"},p.a.createElement(x.b,Ne.followUser))))}},{key:"render",value:function(){var e=this,n=this.props,t=n.onClose,i=n.likedBy,a=[{text:p.a.createElement(x.b,Ne.close),onClick:t}];return p.a.createElement(me.b,null,p.a.createElement(ke.a,{actions:a,onClose:t,width:"small",heading:p.a.createElement(x.b,Ne.dialogHeading)},i.map(function(n){return e.renderLikeRow(n)})))}}]),n}(k.PureComponent);Se.displayName="LikeDialogComponent";var Le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikesDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:403,source:{body:"\n  query LikesDialogQuery($contentId: ID!, $contentType: String!) {\n    content(id: $contentId, type: $contentType) {\n      nodes {\n        id\n        likes {\n          nodes {\n            user {\n              accountId\n              displayName\n              profilePicture {\n                path\n              }\n            }\n            currentUserIsFollowing\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeDialogFollowMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"accountId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"followUserInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"accountId"},value:{kind:"Variable",name:{kind:"Name",value:"accountId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUserFollowing"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158,source:{body:"\n  mutation LikeDialogFollowMutation($accountId: String!) {\n    followUser(followUserInput: { accountId: $accountId }) {\n      currentUserFollowing\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ee=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"getFollowUserMutation",value:function(e){return function(n){e({variables:{accountId:n}})}}},{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,i=n.contentType,a=n.onClose,r={contentId:t,contentType:i};return p.a.createElement(v.d,{query:Le,variables:r},function(n){var t=n.data,i=n.loading,o=n.error;if(i||o||!t)return null;var l=(N()(t,"content.nodes[0].likes.nodes")||[]).map(function(e){return{accountId:e.user&&e.user.accountId,displayName:e.user&&e.user.displayName,avatarUrl:N()(e,"user.profilePicture.path"),currentUserIsFollowing:e.currentUserIsFollowing}});return p.a.createElement(v.c,{mutation:Fe,refetchQueries:[{query:Le,variables:r}]},function(n){return p.a.createElement(Se,{likedBy:l,onClose:a,followUser:e.getFollowUserMutation(n)})})})}}]),n}(k.PureComponent);function we(){var e=L()(["\n  "," /* include this for inline comments because HoverContainer renders empty div */\n  + div {\n    display: inline;\n  }\n"]);return we=function(){return e},e}function Te(){var e=L()(["\n  margin-left: 20px;\n"]);return Te=function(){return e},e}function De(){var e=L()(["\n  color: #707070;\n  padding: 0 5px;\n"]);return De=function(){return e},e}Ee.displayName="LikeDialog";var Ue=F.default.span(De());Ue.displayName="SeparatorDot";var xe=F.default.span(Te());xe.displayName="SeparatorSpan";var Pe=F.default.span(we(),function(e){return e.isComment&&"font-size: 12px;\n    color: #707070;"});Pe.displayName="LikesContainer";var Oe=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=s()(this,(e=u()(n)).call.apply(e,[this].concat(r))),g()(C()(t),"state",{isShowingDialog:!1}),g()(C()(t),"onSummaryClick",function(){t.setState({isShowingDialog:!0})}),g()(C()(t),"onCloseDialog",function(){t.setState({isShowingDialog:!1})}),t}return m()(n,e),o()(n,[{key:"renderSummarySeparator",value:function(){var e=this.props,n=e.isForComment,t=e.isForInlineComment,i=e.hasLikes;return t?null:n?i?p.a.createElement(Ue,null,"•"):null:p.a.createElement(xe,null)}},{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.containerId,a=e.containerType,r=e.isAnonymous,o=e.hasLikes,l=e.isForComment,s=e.isForInlineComment,c=l&&(!r||o);return p.a.createElement(Pe,{isComment:l||s},c&&p.a.createElement(Ue,null,"•"),r?null:p.a.createElement("span",null,p.a.createElement(H,{contentId:n,contentType:t,containerId:i,containerType:a,isForComment:l,isForInlineComment:s}),this.renderSummarySeparator()),p.a.createElement(de,{contentId:n,contentType:t,onClick:this.onSummaryClick,isForComment:l,isForInlineComment:s}),p.a.createElement(E.a,{subject:"likes",subjectId:n,details:{isForComment:l,isForInlineComment:s}}),this.state.isShowingDialog?p.a.createElement(Ee,{contentId:n,contentType:t,onClose:this.onCloseDialog}):null)}}]),n}(k.PureComponent);Oe.displayName="LikesComponent";var _e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:440,source:{body:"\n  query LikesQuery($contentId: ID!, $contentType: String!) {\n    content(id: $contentId, type: $contentType) {\n      nodes {\n        id\n        likes {\n          count\n          currentUserLikes\n          nodes {\n            user {\n              accountId\n              displayName\n              profilePicture {\n                path\n              }\n            }\n            currentUserIsFollowing\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},je=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.containerId,a=e.containerType,r=e.isAnonymous,o=e.isForComment,l=e.isForInlineComment,s={contentId:n,contentType:t};return p.a.createElement(k.Fragment,null,p.a.createElement(b.a,{subject:"likes",subjectId:n,markBeforeMount:!0}),p.a.createElement(v.d,{query:_e,variables:s},function(e){var s=e.data,c=e.loading,u=e.error;if(c||u)return null;var d=(N()(s,"content.nodes[0].likes")||{}).count>0;return p.a.createElement(Oe,{contentId:n,contentType:t,containerId:i,containerType:a,hasLikes:d,isAnonymous:r,isForComment:o,isForInlineComment:l})}))}}]),n}(k.PureComponent);g()(je,"defaultProps",{isAnonymous:!1}),je.displayName="Likes";var Ve,Ae,Be,Me=t("O94r"),qe=t.n(Me),$e=t("IGvV"),He=t("frfT"),Qe=function(){return p.a.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.a.createElement("path",{d:"M4.00029867,12.0000027 L4.00029867,19.0000003 C3.99379083,19.2619469 4.0938648,19.5154845 4.27800285,19.7035645 C4.46214091,19.8916445 4.71487577,19.9984685 4.97933941,20 L5.99875297,20 L5.99875297,11.0000031 L4.97933941,11.0000031 C4.71487577,11.0015345 4.46214091,11.1083586 4.27800285,11.2964386 C4.0938648,11.4845186 3.99379083,11.7380562 4.00029867,12.0000027 Z M19.2814088,11.0400031 C18.7031035,10.3648275 17.8537454,9.97663317 16.959972,9.97900342 L14.3256459,9.97900342 C14.3660187,9.79800348 14.4063915,9.61900354 14.4366711,9.4470036 C14.9514245,6.5130046 14.4366711,5.44700497 13.9320109,4.85300517 C13.4705845,4.31076256 12.7907146,3.99849428 12.0748615,4.00000546 C10.5305357,4.05274499 9.2630356,5.22781051 9.10745966,6.75100452 C8.71382472,8.59000389 8.6532655,8.75100384 8.13851212,9.47600359 L7.37142865,10.5650032 C7.13702441,10.900368 7.01037109,11.2980817 7.00807332,11.7060028 L7.00807332,17.9790007 C7.0094101,18.5107601 7.22390249,19.0202137 7.60436426,19.3952867 C7.98482603,19.7703597 8.50009148,19.9803277 9.03680723,19.979 L16.2837274,19.979 C17.7690249,19.9867984 19.0398298,18.9240081 19.2814088,17.4720009 L19.9576535,13.4720022 C20.1064636,12.6021375 19.8588502,11.7116379 19.2814088,11.0400031 Z M17.2829545,17.140001 C17.2013522,17.6232979 16.7783039,17.9768163 16.2837274,17.9750007 L9.03680723,17.9750077 L9.03680723,11.7060028 L9.8038907,10.6170032 C10.5252697,9.572607 10.9727451,8.36664508 11.105914,7.1080044 C11.1422788,6.56547046 11.3606605,5.89943888 12.0748615,6.00000478 C12.7890625,6.10057068 12.6501741,7.91600412 12.4382168,9.10000372 C12.2228565,10.0810361 11.9326853,11.0444672 11.5702013,11.9820027 L16.959972,11.9740027 C17.2574249,11.9729101 17.5402185,12.1018688 17.7328364,12.3264423 C17.9254544,12.5510157 18.0082813,12.848334 17.9591992,13.1390023 L17.2829545,17.140001 Z",fill:"currentColor",fillRule:"evenodd"}))},Re=t("sAnD"),ze=t.n(Re),Ye=Object($e.a)(ze.a)((Be=Ae=function(e){function n(e){var t;return a()(this,n),(t=s()(this,u()(n).call(this,e))).onLikeClick=t.onLikeClick.bind(C()(t)),t.state={isLikedByCurrentUser:e.isLikedByCurrentUser},t}return m()(n,e),o()(n,[{key:"onLikeClick",value:function(e){var n=this.props,t=n.likeContent,i=n.unlikeContent,a=this.state.isLikedByCurrentUser;e.preventDefault(),a?(i(),this.setState({isLikedByCurrentUser:!1})):(t(),this.setState({isLikedByCurrentUser:!0}))}},{key:"render",value:function(){var e=this.props,n=e.isForComment,t=e.isForInlineComment,i=this.state.isLikedByCurrentUser;return p.a.createElement("a",{className:qe()("like-button",ze.a.likeLink),onClick:this.onLikeClick},n||t?null:p.a.createElement(He.a,{glyph:Qe,size:P.b.medium}),p.a.createElement("span",null,i?p.a.createElement(x.b,{id:"likes.unlike"}):p.a.createElement(x.b,{id:"likes.like"})))}}]),n}(k.Component),g()(Ae,"displayName","LikeButton"),Ve=Be))||Ve,Ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikeButtonQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLikes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:183,source:{body:"\n  query LikeButtonQuery($contentId: ID!, $contentType: String!) @experimental {\n    experimentalLikes(id: $contentId, type: $contentType) {\n      id\n      currentUserLikes\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},We={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeButtonLikeMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLike"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:344,source:{body:"\n  mutation LikeButtonLikeMutation($contentId: ID!) @experimental {\n    experimentalLike(contentId: $contentId) {\n      id\n      count\n      currentUserLikes\n      nodes {\n        user {\n          accountId\n          displayName\n          profilePicture {\n            path\n          }\n        }\n        currentUserIsFollowing\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeButtonLikeMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalUnlike"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:346,source:{body:"\n  mutation LikeButtonLikeMutation($contentId: ID!) @experimental {\n    experimentalUnlike(contentId: $contentId) {\n      id\n      count\n      currentUserLikes\n      nodes {\n        user {\n          accountId\n          displayName\n          profilePicture {\n            path\n          }\n        }\n        currentUserIsFollowing\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ke=function(e){function n(e){var t;a()(this,n),t=s()(this,u()(n).call(this,e)),g()(C()(t),"likeContent",function(e){var n=t.props.contentId;return function(){e({variables:{contentId:n}})}}),g()(C()(t),"unlikeContent",function(e){var n=t.props.contentId;return function(){e({variables:{contentId:n}})}});var i=t.fireAnalyticsEvent;return t.fireLikeAnalyticsEvent=i.bind(C()(t),"created"),t.fireUnlikeAnalyticsEvent=i.bind(C()(t),"deleted"),t}return m()(n,e),o()(n,[{key:"getAnalyticsData",value:function(e){var n=this.props,t=n.contentId,i=n.contentType,a=n.containerId,r=n.containerType,o=n.isForComment,l=n.isForInlineComment;return{action:e,actionSubject:"like",containerType:o||l?"page":r,containerId:a,objectType:l?"inlineComment":o?"comment":"page",objectId:t,source:"likeButton",attributes:{pageType:"blogpost"===i||"blogpost"===r?"blogpost":"page"}}}},{key:"fireAnalyticsEvent",value:function(e){this.props.createAnalyticsEvent({type:"sendTrackEvent",data:this.getAnalyticsData(e)}).fire()}},{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,i=n.contentType,a=n.isForComment,r=n.isForInlineComment,o={contentId:t,contentType:i};return p.a.createElement(v.d,{query:Ge,variables:o},function(n){var t=n.data,i=n.loading,o=n.error;if(i||o||!t||!t.experimentalLikes)return null;var l=t&&t.experimentalLikes;return p.a.createElement(v.c,{mutation:We,onCompleted:e.fireLikeAnalyticsEvent},function(n,t){return T()(t),p.a.createElement(v.c,{mutation:Je,onCompleted:e.fireUnlikeAnalyticsEvent},function(t,i){return T()(i),p.a.createElement(Ye,{likeContent:e.likeContent(n),unlikeContent:e.unlikeContent(t),isLikedByCurrentUser:l.currentUserLikes,isForComment:a,isForInlineComment:r})})})})}}]),n}(k.Component);Ke.displayName="LikeButton";var Ze=Object(D.a)()(Ke),Xe=t("zQXw"),en=t("9Kiz"),nn=t("sbiO"),tn=function(){function e(){a()(this,e)}return o()(e,null,[{key:"_getUserLinkTemplate",value:function(e){var n=this._htmlEscape(e.displayName),t=this._htmlEscape(e.accountId);return'<a href="'.concat(Object(nn.k)(t,"profileCard"),'" data-account-id="').concat(t,'" class="confluence-userlink" target="_blank">').concat(n,"</a>")}},{key:"getI18n",value:function(e,n,t){var i=this;if(!e||0===Object(Xe.d)(e))return{key:"",args:[]};var a=["likes.summary"],r=[],o=[],l=[];return e.forEach(function(e){e.accountId&&e.accountId===t?a.push(".you"):o.length<3&&e.currentUserIsFollowing?o.push(e):l.push(e)}),o.length>0&&(a.push("."),a.push(o.length),a.push(".promoted"),o.forEach(function(e){r.push(i._getUserLinkTemplate(e))})),1===l.length?(a.push(".1.non-promoted"),r.push(this._getUserLinkTemplate(l[0]))):l.length>1&&(a.push(".x.non-promoted"),r.push(l.length),r.push('class="likes" data-content-id="'.concat(n,'"'))),{key:a.join(""),args:r}}},{key:"_htmlEscape",value:function(e){var n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};return"".concat(e).replace(/[&><"']/g,function(e){return n[e]})}},{key:"renderHtmlMessage",value:function(e,n,t,i){var a=this.getI18n(e,n,t);if(!a.key){if(i||!t)return null;a.key="likes.bethefirst"}return p.a.createElement(x.b,{id:a.key,values:Object.assign({},a.args)},function(e){return p.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}})})}}]),e}(),an=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=s()(this,(e=u()(n)).call.apply(e,[this].concat(r))),g()(C()(t),"state",{hoverNode:null}),g()(C()(t),"_setLikesHoverNode",function(e){t.setState({hoverNode:e})}),t}return m()(n,e),o()(n,[{key:"_renderForNotInlineComment",value:function(){var e=this.props,n=e.contentId,t=e.likedBy,i=e.currentUser,a=e.isForComment,r=e.onClick;return p.a.createElement(k.Fragment,null,p.a.createElement("span",{className:"like-summary",onClick:r,ref:this._setLikesHoverNode},tn.renderHtmlMessage(t,n,i,a)),p.a.createElement(en.a,{node:this.state.hoverNode}))}},{key:"_renderForInlineComment",value:function(){var e=this.props,n=e.likedBy,t=e.onClick;return Object(Xe.d)(n)?p.a.createElement("span",null,p.a.createElement("span",null,p.a.createElement(He.a,{glyph:Qe,size:P.b.small}),p.a.createElement("a",{className:"likes",onClick:t},Object(Xe.d)(n)))):null}},{key:"render",value:function(){return this.props.isForInlineComment?this._renderForInlineComment():this._renderForNotInlineComment()}}]),n}(k.Component);g()(an,"displayName","LikeSummary"),an.displayName="LikeSummary";var rn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikeSummaryQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLikes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:337,source:{body:"\n  query LikeSummaryQuery($contentId: ID!, $contentType: String!) @experimental {\n    experimentalLikes(id: $contentId, type: $contentType) {\n      id\n      nodes {\n        user {\n          accountId\n          displayName\n          profilePicture {\n            path\n          }\n        }\n        currentUserIsFollowing\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},on=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.onClick,a=e.isForComment,r=e.isForInlineComment,o={contentId:n,contentType:t};return p.a.createElement(f.a,null,function(e){var t=e.userId;return p.a.createElement(v.d,{query:rn,variables:o},function(e){var o=e.data,l=e.loading,s=e.error;if(l||s||!o||!o.experimentalLikes)return null;var c=o&&o.experimentalLikes,u=c&&c.nodes?c.nodes.map(function(e){return{displayName:e.user&&e.user.displayName,accountId:e.user&&e.user.accountId,avatarUrl:e.user&&e.user.profilePicture&&e.user.profilePicture.path,currentUserIsFollowing:e.currentUserIsFollowing}}):[];return p.a.createElement(an,{contentId:n,likedBy:u,currentUser:t,onClick:i,isForComment:a,isForInlineComment:r,isLoading:l})})})}}]),n}(k.Component);on.displayName="LikeSummary";var ln=on,sn=t("x98U"),cn=t("fYdy"),un={LikeRow:{borderBottom:"1px solid #ccc",display:"flex",alignItems:"center",padding:"10px",overflow:"auto"},avatarContainer:{lineHeight:0},likeUser:{flexGrow:1,padding:"0 10px"}},dn=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"_renderLikeRow",value:function(e){if(!e.displayName)return null;var n=this.props.followUser;return p.a.createElement("div",{style:un.LikeRow,key:e.accountId,"data-test-id":"like-row"},p.a.createElement("div",{style:un.avatarContainer},p.a.createElement(sn.a,{canViewProfile:!0,src:e.avatarUrl,size:"medium",withUserHover:!1,userId:e.accountId})),p.a.createElement("div",{style:un.likeUser},p.a.createElement(cn.a,{fullName:e.displayName,userId:e.accountId,withUserHover:!1})),p.a.createElement("div",null,e.currentUserIsFollowing?p.a.createElement(x.b,{id:"likes.following"}):p.a.createElement(pe.a,{onClick:function(){n(e.accountId)},"data-test-id":"follow-user-button"},p.a.createElement(x.b,{id:"likes.follow"}))))}},{key:"render",value:function(){var e=this,n=this.props,t=n.onClose,i=n.likedBy,a=[{text:"Close",onClick:t}];return p.a.createElement(me.b,null,p.a.createElement(ke.a,{actions:a,onClose:t,width:"small",heading:p.a.createElement(x.b,{id:"likes.peoplewholikethis"})},i.map(function(n){return e._renderLikeRow(n)})))}}]),n}(k.Component);g()(dn,"displayName","LikeDialog"),dn.displayName="LikeDialog";var mn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikesDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLikes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:337,source:{body:"\n  query LikesDialogQuery($contentId: ID!, $contentType: String!) @experimental {\n    experimentalLikes(id: $contentId, type: $contentType) {\n      id\n      nodes {\n        user {\n          accountId\n          displayName\n          profilePicture {\n            path\n          }\n        }\n        currentUserIsFollowing\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},kn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeDialogFollowMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"accountId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"followUserInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"accountId"},value:{kind:"Variable",name:{kind:"Name",value:"accountId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUserFollowing"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158,source:{body:"\n  mutation LikeDialogFollowMutation($accountId: String!) {\n    followUser(followUserInput: { accountId: $accountId }) {\n      currentUserFollowing\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},pn=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=s()(this,(e=u()(n)).call.apply(e,[this].concat(r))),g()(C()(t),"followUser",function(e){return function(n){e({variables:{accountId:n}})}}),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,i=n.contentType,a=n.onClose,r={contentId:t,contentType:i};return p.a.createElement(v.d,{query:mn,variables:r},function(n){var t=n.data,i=n.loading,o=n.error;if(i||o||!t||!t.experimentalLikes)return null;var l=(t&&t.experimentalLikes).nodes.map(function(e){return{accountId:e.user&&e.user.accountId,displayName:e.user&&e.user.displayName,avatarUrl:e.user&&e.user.profilePicture&&e.user.profilePicture.path,currentUserIsFollowing:e.currentUserIsFollowing}});return p.a.createElement(v.c,{mutation:kn,refetchQueries:[{query:mn,variables:r}]},function(n,t){return T()(t),p.a.createElement(dn,{likedBy:l,onClose:a,followUser:e.followUser(n),isLoading:i})})})}}]),n}(k.Component);pn.displayName="LikeDialog";var vn,fn,yn,gn=pn,hn=t("dnuq"),Nn=t.n(hn),bn=Object($e.a)(Nn.a)((yn=fn=function(e){function n(e){var t;return a()(this,n),(t=s()(this,u()(n).call(this,e))).onSummaryClick=t.onSummaryClick.bind(C()(t)),t.onCloseDialog=t.onCloseDialog.bind(C()(t)),t.state={isShowingDialog:!1},t}return m()(n,e),o()(n,[{key:"onSummaryClick",value:function(e){e.target&&("A"===e.target.tagName&&"likes"===e.target.className||"SPAN"===e.target.tagName&&"like-summary"===e.target.className)&&(e.preventDefault(),this.setState({isShowingDialog:!0}))}},{key:"onCloseDialog",value:function(e){e&&e.preventDefault(),this.setState({isShowingDialog:!1})}},{key:"_renderSummarySeparator",value:function(){var e=this.props,n=e.isForComment,t=e.isForInlineComment,i=e.hasLikes;return t?null:n?i?p.a.createElement("span",{className:"likeSmall"},n?p.a.createElement("span",{className:Nn.a.commentSeparator},"•"):p.a.createElement("span",{style:{marginLeft:3}}),p.a.createElement(He.a,{glyph:Qe,size:P.b.small})):null:p.a.createElement("span",{className:Nn.a.separator})}},{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.containerId,a=e.containerType,r=e.isAnonymous,o=e.hasLikes,l=e.isForComment,s=e.isForInlineComment,c=l&&(!r||o);return p.a.createElement("div",{className:qe()(Nn.a.Likes,g()({},Nn.a.withDot,c))},r?null:p.a.createElement("span",null,p.a.createElement(Ze,{contentId:n,contentType:t,containerId:i,containerType:a,isForComment:l,isForInlineComment:s}),this._renderSummarySeparator()),p.a.createElement(ln,{contentId:n,contentType:t,onClick:this.onSummaryClick,isForComment:l,isForInlineComment:s}),this.state.isShowingDialog?p.a.createElement(gn,{contentId:n,contentType:t,onClose:this.onCloseDialog}):null)}}]),n}(k.Component),g()(fn,"displayName","LikesComponent"),vn=yn))||vn,In={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLikes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167,source:{body:"\n  query LikesQuery($contentId: ID!, $contentType: String!) @experimental {\n    experimentalLikes(id: $contentId, type: $contentType) {\n      id\n      count\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};je.displayName="LikesV2";var Cn=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.containerId,a=e.containerType,r=e.isForComment,o=e.isForInlineComment,l={contentId:n,contentType:t};return p.a.createElement(f.a,null,function(e){var s=e.userId,c=e.featureFlags,u=Boolean(!s);return c["confluence.frontend.likes.v2"]?p.a.createElement(je,{contentId:n,contentType:t,containerId:i,containerType:a,isAnonymous:u,isForComment:r,isForInlineComment:o}):p.a.createElement(v.d,{query:In,variables:l},function(e){var l=e.data,s=e.loading,c=e.error;if(s||c||!l||!l.experimentalLikes)return null;var d=(l&&l.experimentalLikes).count>0;return p.a.createElement(bn,{contentId:n,contentType:t,containerId:i,containerType:a,hasLikes:d,isAnonymous:u,isForComment:r,isForInlineComment:o})})})}}]),n}(k.Component);Cn.displayName="Likes";n.a=Cn},"5Asb":function(e,n,t){"use strict";t.d(n,"c",function(){return i}),t.d(n,"b",function(){return a}),t.d(n,"a",function(){return r}),t.d(n,"d",function(){return o});var i={PUBLISH:"mod+enter",EDIT:"e",PREVIEW:"mod+shift+e"},a="mod+s",r="shortcuts-are-allowed",o=["ProseMirror-focused",r]},"9nrt":function(e,n,t){(n=e.exports=t("RDo7")(!1)).push([e.i,'.LikesComponent_Likes_2Co{display:inline}.LikesComponent_Likes_2Co.LikesComponent_withDot_3lV:before{content:"\\2022";color:#707070;padding:0 5px}.LikesComponent_Likes_2Co .aui-iconfont-like{color:#707070}.LikesComponent_Likes_2Co .LikesComponent_likeLink_3eF{cursor:pointer}.LikesComponent_Likes_2Co .LikesComponent_likeIcon_3hJ{margin-right:5px}.LikesComponent_Likes_2Co .LikesComponent_separator_1w0{margin-left:20px}.LikesComponent_Likes_2Co .LikesComponent_inlineCommentSeparator_2wS{margin-left:3px}.LikesComponent_Likes_2Co .LikesComponent_commentSeparator_2hk{content:"\\2022";color:#707070;padding:0 5px}.LikesComponent_Likes_2Co a,.LikesComponent_Likes_2Co a:active,.LikesComponent_Likes_2Co a:focus,.LikesComponent_Likes_2Co a:hover,.LikesComponent_Likes_2Co a:visited{color:#0052cc}.LikesComponent_Likes_2Co a:hover{text-decoration:underline}.LikesComponent_Likes_2Co .likeSmall svg{color:#707070}#likes-and-labels-container{overflow:hidden;margin:10px 0;padding:10px 0;clear:both}#likes-and-labels-container #react-likes-section{float:left;font-size:13px;width:48%}.ic-action-like div,.ic-actions>ul li div{display:inline-block}.ic-action-like div>span,.ic-actions>ul li div>span{display:inherit;font-size:12px;color:#707070}.ic-action-like div>span svg,.ic-actions>ul li div>span svg{color:#707070;position:relative;top:1px}.ic-action-like div>span a,.ic-action-like div>span a:hover,.ic-action-like div>span a:link,.ic-action-like div>span a:visited,.ic-actions>ul li div>span a,.ic-actions>ul li div>span a:hover,.ic-actions>ul li div>span a:link,.ic-actions>ul li div>span a:visited{cursor:pointer;color:#707070}',""]),n.locals={Likes:"LikesComponent_Likes_2Co",withDot:"LikesComponent_withDot_3lV",likeLink:"LikesComponent_likeLink_3eF",likeIcon:"LikesComponent_likeIcon_3hJ",separator:"LikesComponent_separator_1w0",inlineCommentSeparator:"LikesComponent_inlineCommentSeparator_2wS",commentSeparator:"LikesComponent_commentSeparator_2hk"}},Bud6:function(e,n,t){"use strict";t.d(n,"l",function(){return o}),t.d(n,"a",function(){return l}),t.d(n,"b",function(){return s}),t.d(n,"c",function(){return c}),t.d(n,"z",function(){return u}),t.d(n,"o",function(){return d}),t.d(n,"q",function(){return m}),t.d(n,"p",function(){return k}),t.d(n,"t",function(){return p}),t.d(n,"w",function(){return v}),t.d(n,"A",function(){return f}),t.d(n,"m",function(){return y}),t.d(n,"E",function(){return g}),t.d(n,"D",function(){return h}),t.d(n,"n",function(){return N}),t.d(n,"C",function(){return b}),t.d(n,"B",function(){return I}),t.d(n,"k",function(){return C}),t.d(n,"r",function(){return S}),t.d(n,"s",function(){return L}),t.d(n,"v",function(){return F}),t.d(n,"y",function(){return E}),t.d(n,"h",function(){return w}),t.d(n,"F",function(){return T}),t.d(n,"G",function(){return D}),t.d(n,"e",function(){return U}),t.d(n,"f",function(){return x}),t.d(n,"g",function(){return P}),t.d(n,"u",function(){return O}),t.d(n,"x",function(){return _}),t.d(n,"d",function(){return j}),t.d(n,"i",function(){return V}),t.d(n,"j",function(){return A});var i=t("jEko"),a=t("yLtY"),r=t("2M9l"),o=(Object(a.k)(r.G),Object(a.k)(r.C)),l=Object(a.k)(r.a),s=Object(a.k)(r.b),c=Object(a.k)(r.c),u=Object(a.k)(r.H),d=Object(a.k)(r.q),m=Object(a.k)(r.u),k=Object(a.k)(r.t),p=Object(a.k)(r.D),v=Object(a.k)(r.p),f=Object(a.k)(r.w),y=Object(a.k)(r.n),g=Object(a.k)(r.I),h=Object(a.k)(r.z),N=Object(a.k)(r.o),b=Object(a.k)(r.y),I=Object(a.k)(r.x),C=Object(a.I)(r.e,i.a.content.editorPage,{schema:a.J.content}),S=Object(a.I)(r.h,i.a.content.publishEditorPage,{schema:a.J.content}),L=Object(a.I)(r.f,i.a.content.publishEditorPageFromTemplate,{schema:a.J.content}),F=(Object(a.I)(r.g,i.a.content.renderContent),Object(a.I)(r.k,i.a.content.publishEditorPage)),E=Object(a.k)(r.F),w=Object(a.I)(r.d,i.a.content.getBreadcrumbs),T=Object(a.I)(r.A,i.a.content.updateInlineTask),D=Object(a.I)(r.B,i.a.content.updateParentPage,{schema:a.J.content}),U=Object(a.I)(r.j,i.a.content.deleteContent),x=Object(a.I)(r.l,i.a.content.relationSourcesForTarget),P=Object(a.I)(r.m,i.a.content.relationSourcesForTarget),O=Object(a.I)(r.v,i.a.content.revertContent),_=Object(a.k)(r.E),j=Object(a.I)(r.i,i.a.content.createPage,{schema:a.J.content}),V=Object(a.I)(r.r,i.a.content.editorPage,{schema:a.J.content}),A=Object(a.I)(r.s,i.a.content.draftMetadata,{schema:a.J.content})},GYRL:function(e,n,t){"use strict";var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),s=t.n(l),c=t("AuHH"),u=t.n(c),d=t("5Yy7"),m=t.n(d),k=t("KEM+"),p=t.n(k),v=t("ERkP"),f=t.n(v),y=(t("aWzz"),t("1Pcy")),g=t.n(y),h=t("VSaf"),N=t("U728"),b=function(e){function n(e){var t;return a()(this,n),t=s()(this,u()(n).call(this,e)),p()(g()(t),"trackAttempt",function(){var e=t.props,n=e.experience,i=e.experienceId,a=e.attributes;!t.hasTrackedExperience&&!t.hasStartedExperience&&n&&i&&(Object(N.a)({experience:n,experienceId:i,isAttempt:!0,attributes:a}),t.hasStartedExperience=!0)}),p()(g()(t),"trackSuccess",function(){t.trackExperience(!0)}),p()(g()(t),"trackFailure",function(){t.trackExperience(!1)}),t.hasTrackedExperience=!1,t.hasStartedExperience=!1,t}return m()(n,e),o()(n,[{key:"trackExperience",value:function(e){var n=this.props,t=n.experience,i=n.experienceId,a=n.attributes;!this.hasTrackedExperience&&t&&i&&(Object(N.a)({experience:t,experienceId:i,wasExperienceSuccessful:e,attributes:a}),this.hasTrackedExperience=!0)}},{key:"render",value:function(){var e=this.props,n=e.experience,t=e.experienceId,i=e.children;return f.a.createElement(h.a.Provider,{value:{experience:n,experienceId:t,onSuccess:this.trackSuccess,onFailure:this.trackFailure,onAttempt:this.trackAttempt}},i)}}]),n}(v.Component);p()(b,"defaultProps",{experience:"",experienceId:"",attributes:{}}),p()(b,"displayName","ExperienceTrackingProvider"),b.displayName="ExperienceTrackingProvider",t.d(n,"a",function(){return I}),t.d(n,!1,function(){return N.a});var I=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.experience,t=e.experienceId,i=e.attributes;return f.a.createElement(b,{key:t,experience:n,experienceId:t,attributes:i},this.props.children)}}]),n}(v.Component);p()(I,"displayName","ExperienceProvider"),I.displayName="ExperienceProvider"},PqXK:function(e,n,t){"use strict";var i=t("uDfI"),a=t("yLtY"),r=t("2BEd"),o=t("ddV6"),l=t.n(o),s=t("VrFO"),c=t.n(s),u=t("Y9Ll"),d=t.n(u),m=t("N+ot"),k=t.n(m),p=t("AuHH"),v=t.n(p),f=t("1Pcy"),y=t.n(f),g=t("5Yy7"),h=t.n(g),N=t("KEM+"),b=t.n(N),I=t("aWzz"),C=t.n(I),S=t("ERkP"),L=t.n(S),F=t("M2LZ"),E=t("L21V"),w=t("/FQd"),T=t("+CY+"),D=function(e){function n(){var e,i;c()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return i=k()(this,(e=v()(n)).call.apply(e,[this].concat(r))),b()(y()(i),"state",{isReady:!1}),b()(y()(i),"_loadInlineCommentResource",function(){var e=i.props.intl;F.a.require(["wr!com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources","wr!confluence.extra.jira:web-resources"],function(){var n=t.e(293).then(t.t.bind(null,"xL3T",7)),a=Promise.all([t.e(85),t.e(292)]).then(t.bind(null,"i8tr"));Promise.all([a,n]).then(function(n){var t=l()(n,2),a=t[0],r=t[1];i.removeCss=i.context.insertCss.apply(void 0,[r]),a.default(e.formatMessage),i.setState({isReady:!0})})})}),i}return h()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.props.isSuperbatchLoaded&&this._loadInlineCommentResource()}},{key:"componentWillUnmount",value:function(){this.removeCss&&this.removeCss()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var n=e.isSuperbatchLoaded;this.props.isSuperbatchLoaded!==n&&n&&this._loadInlineCommentResource()}},{key:"_sendClickForNextComment",value:function(){document.querySelector(".ic-sidebar #ic-nav-next").click()}},{key:"_sendClickForPreviousComment",value:function(){document.querySelector(".ic-sidebar #ic-nav-previous").click()}},{key:"_sendClickToHideComments",value:function(){document.querySelector(".ic-sidebar .ic-action-hide").click()}},{key:"render",value:function(){var e=this,n=this.props,t=n.isFabricEditorEnabled,i=n.contentId,a=n.isEditorResourceLoaded,r=n.spaceId,o=this.state.isReady;return L.a.createElement(w.a,null,function(n){var l=n.featureFlags;return L.a.createElement(S.Fragment,null,L.a.createElement(T.a,{accelerator:"n",listener:e._sendClickForNextComment}),L.a.createElement(T.a,{accelerator:"p",listener:e._sendClickForPreviousComment}),L.a.createElement(T.a,{accelerator:"]",listener:e._sendClickToHideComments}),L.a.createElement("div",{className:"view-page-body","data-content-id":i,"data-space-id":r,"data-should-squeeze":!t,"data-unified-profile-cards":!0,"data-page-content-css-selector":t?"[data-test-id=page-content-only]":"","data-page-header-css-selector":t?"[data-test-id=page-content-header]":"","data-editor-resource-loaded":a,"data-gdpr-inline-comments":!0===l["confluence.frontend.gdpr.inline.comments.user.profile"]?"true":"false","data-test-id":o?"inline-comments-ready":void 0}))})}}]),n}(S.PureComponent);b()(D,"contextTypes",{insertCss:C.a.func.isRequired}),D.displayName="InlineCommentsComponent";var U=Object(E.g)(D);n.a=Object(i.connect)(function(e){var n=e.views.viewPage.quickEditPreload.get("hasLoaded"),t=e.router.params.spaceKey,i=Object(a.z)(e,t),o=i?i.id:null;return{isEditorResourceLoaded:n,isSuperbatchLoaded:Object(r.a)(e),spaceId:o}},null)(U)},UIW9:function(e,n,t){"use strict";t.d(n,"a",function(){return y});var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),s=t.n(l),c=t("AuHH"),u=t.n(c),d=t("5Yy7"),m=t.n(d),k=t("KEM+"),p=t.n(k),v=t("ERkP"),f=(t("aWzz"),t("liLY")),y=function(e){function n(e){var t;return a()(this,n),t=s()(this,u()(n).call(this,e)),e.markBeforeMount&&t.markStart(),t}return m()(n,e),o()(n,[{key:"componentDidMount",value:function(){this.props.markBeforeMount||this.markStart()}},{key:"markStart",value:function(){var e=this.props,n=e.subject,t=e.subjectId,i="".concat(n,".").concat(t,".start"),a="".concat(n,".").concat(t,".end");Object(f.a)([i,a]),Object(f.b)(i)}},{key:"render",value:function(){return null}}]),n}(v.Component);p()(y,"defaultProps",{subjectId:"",markBeforeMount:!1}),y.displayName="PerformanceStart"},aZAq:function(e,n,t){(n=e.exports=t("RDo7")(!1)).push([e.i,".LikeButtonComponent_likeLink_2jk{cursor:pointer;color:#0052cc}.LikeButtonComponent_likeLink_2jk:hover{cursor:pointer;color:#0065ff;text-decoration:underline}.LikeButtonComponent_likeLink_2jk span{vertical-align:bottom}.LikeButtonComponent_likeLink_2jk span svg{color:#42526e}.LikeButtonComponent_likeIcon_1dN{height:24px;width:24px;margin-right:5px}",""]),n.locals={likeLink:"LikeButtonComponent_likeLink_2jk",likeIcon:"LikeButtonComponent_likeIcon_1dN"}},dnuq:function(e,n,t){var i=t("9nrt"),a=t("7l8p");"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=i.locals||{},e.exports._getContent=function(){return i},e.exports._getCss=function(){return i.toString()},e.exports._insertCss=function(e){return a(i,e)}},fYdy:function(e,n,t){"use strict";t.d(n,"a",function(){return N});var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),s=t.n(l),c=t("AuHH"),u=t.n(c),d=t("5Yy7"),m=t.n(d),k=t("KEM+"),p=t.n(k),v=(t("aWzz"),t("ERkP")),f=t.n(v),y=t("L21V"),g=t("sbiO"),h=t("3iG9"),N=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"renderUserLink",value:function(){var e=this.props,n=e.userId,t=e.fullName,i=e.referralSource,a=e.onUserLinkClick;return f.a.createElement("a",{target:"_blank",onClick:a,href:Object(g.k)(n,i)},t)}},{key:"render",value:function(){var e=this.props,n=e.userId,t=e.className,i=e.isAnonymous,a=e.canViewProfile,r=e.withUserHover;return i?f.a.createElement("div",{className:t},f.a.createElement(y.b,{id:"anonymous.name"})):r?f.a.createElement(h.a,{isAnonymous:i,canViewProfile:a,userId:n},this.renderUserLink()):this.renderUserLink()}}]),n}(v.Component);p()(N,"defaultProps",{onUserLinkClick:function(){},withUserHover:!0}),N.displayName="ProfileLink"},liLY:function(e,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"a",function(){return o}),t.d(n,"c",function(){return l}),t.d(n,"d",function(){return s});var i=t("Jygk"),a=t.n(i),r=function(e){a.a.performance&&a.a.performance.mark&&a.a.performance.mark(e)},o=function(e){a.a.performance&&a.a.performance.clearMarks&&e.forEach(function(e){return a.a.performance.clearMarks(e)})},l=function(e){if(a.a.performance&&a.a.performance.getEntriesByName){var n=a.a.performance.getEntriesByName(e);return n&&n[0]}},s=function(e,n){if(a.a.performance&&a.a.performance.getEntriesByName){var t=a.a.performance.getEntriesByName(e),i=a.a.performance.getEntriesByName(n);if(t.length&&i.length)return Math.abs(t[0].startTime-i[0].startTime)}return 0}},sAnD:function(e,n,t){var i=t("aZAq"),a=t("7l8p");"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=i.locals||{},e.exports._getContent=function(){return i},e.exports._getCss=function(){return i.toString()},e.exports._insertCss=function(e){return a(i,e)}},tlRP:function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return o});var i=t("x+QU"),a=t.n(i),r=a()({loader:function(){return Promise.all([t.e(97),t.e(316)]).then(t.bind(null,"mPgm")).then(function(e){return e.RestrictedPage})},loading:function(){return null}});r.displayName="RestrictedPage";var o=a()({loader:function(){return Promise.all([t.e(97),t.e(315)]).then(t.bind(null,"5C6J")).then(function(e){return e.RestrictedSpace})},loading:function(){return null}});o.displayName="RestrictedSpace"},x98U:function(e,n,t){"use strict";t.d(n,"a",function(){return C});var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),s=t.n(l),c=t("AuHH"),u=t.n(c),d=t("5Yy7"),m=t.n(d),k=t("KEM+"),p=t.n(k),v=(t("aWzz"),t("ERkP")),f=t.n(v),y=t("wySS"),g=t("sbiO"),h=t("/FQd"),N=t("JA6b"),b=t("3iG9"),I="".concat(g.a,"/images/icons/profilepics/anonymous.png"),C=function(e){function n(){return a()(this,n),s()(this,u()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"canHoverUser",value:function(){var e=this.props,n=e.withUserHover,t=e.userId;return n&&t}},{key:"renderAvatar",value:function(){var e=this.props,n=e.enableTooltip,t=e.canViewProfile,i=e.isAnonymous,a=e.userId,r=e.size,o=this.props.src;return o=!0!==t||i?I:o,f.a.createElement(y.a,{userId:a,src:o,size:r,target:"_blank",enableTooltip:!this.canHoverUser()&&n})}},{key:"render",value:function(){var e=this,n=this.props,t=n.userId,i=n.canViewProfile;return this.canHoverUser()?f.a.createElement(h.a,null,function(n){return n.featureFlags["confluence.frontend.profile-cards.v2"]?f.a.createElement(N.a,{userId:t,canViewProfile:i},e.renderAvatar()):f.a.createElement(b.a,{userId:t,canViewProfile:i},e.renderAvatar())}):this.renderAvatar()}}]),n}(v.Component);p()(C,"defaultProps",{enableTooltip:!0,withUserHover:!0,isHover:!1}),C.displayName="ProfilePictureWithCard"},"z/oC":function(e,n,t){"use strict";t.d(n,"a",function(){return b});var i,a=t("VrFO"),r=t.n(a),o=t("Y9Ll"),l=t.n(o),s=t("N+ot"),c=t.n(s),u=t("AuHH"),d=t.n(u),m=t("1Pcy"),k=t.n(m),p=t("5Yy7"),v=t.n(p),f=(t("aWzz"),t("ERkP")),y=t("bfgX"),g=t("M2LZ"),h=t("jqY8"),N=t("lZ+S"),b=Object(g.b)(N.a.CONFLUENCE_PREVIEWER)(i=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=c()(this,(e=d()(n)).call.apply(e,[this].concat(a)))).handlePopstate=t.handlePopstate.bind(k()(t)),t}return v()(n,e),l()(n,[{key:"componentDidMount",value:function(){this.reInitialisePreviewer(),Object(h.a)("popstate",this.handlePopstate)}},{key:"shouldComponentUpdate",value:function(e){return e.query!==this.props.query}},{key:"componentDidUpdate",value:function(){this.reInitialisePreviewer()}},{key:"componentWillUnmount",value:function(){this.resetFilesList(),Object(h.l)("popstate",this.handlePopstate)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.contentId!==this.props.contentId&&this.resetFilesList()}},{key:"handlePopstate",value:function(){this.reInitialisePreviewer()}},{key:"resetFilesList",value:function(){Object(y.b)("reset-file-list.filePreviews")}},{key:"reInitialisePreviewer",value:function(){var e=Object(h.d)("cp/confluence/file-preview-loader");e&&"function"==typeof e.setupPreviewerForSPA&&e.setupPreviewerForSPA()}},{key:"render",value:function(){return null}}]),n}(f.Component))||i;b.displayName="ConfluencePreview"}}]);
//# sourceMappingURL=space.overview~space.viewpage.0f3f2cd6ddad61c94a67-v38.js.map