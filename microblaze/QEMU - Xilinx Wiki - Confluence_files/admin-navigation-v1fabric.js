(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"0k5O":function(e,t,n){"use strict";var r=n("x+QU"),a=n.n(r)()({loader:function(){return Promise.all([n.e(12),n.e(101),n.e(400)]).then(n.bind(null,"XDCa"))},loading:function(){return null}});n.d(t,"a",function(){return a})},Tl5U:function(e,t,n){"use strict";var r=n("tQaH"),a=n.n(r),c=n("VtSi"),o=n.n(c),u=n("cbiG"),i=n.n(u),s=n("jEko"),l=n("z1Ea"),p=n("3ldI"),f=n("ddV6"),d=n.n(f),m=n("Jygk"),v=n.n(m),h=n("idn7");function y(e,t){var n={source:e},r=v.a.require("confluence/jim/editor-plugins/jira-paste-link").pasteHandler(n,null,function(){});if(!r||!r.params)return null;var a=JSON.parse(JSON.stringify(t));return a.attrs.parameters||(a.attrs.parameters={}),a.attrs.parameters.macroParams=Object(h.d)(r.params),a}function b(e){return x.apply(this,arguments)}function x(){return(x=i()(o.a.mark(function e(t){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={macroDefinition:{name:"jira"},contentId:t},e.next=3,ke(n);case 3:return r=e.sent,e.abrupt("return",function(e){return y(e,r)});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=function(e){for(;-1!==e.indexOf("{}{}");)e=e.replace("{}{}","{}");return e="^"+(e=function(e,t,n){return n.replace(new RegExp(e,"g"),t)}("{}","[^/]*?",e=function(e){return e.replace(/[\-\[\]\/\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}(e)))+"$"},w=function(e){return["http://","https://","http://{}","https://{}","http://{}.{}","https://{}.{}","http://{}.{}.{}","https://{}.{}.{}"].every(function(t){return t!==e})},E=function(e){return e.autoconvertData&&e.autoconvertData.urlParameter&&e.autoconvertData.patterns},N=function(){var e=i()(o.a.mark(function e(t,n){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(e){return ke({macroDefinition:{name:e},contentId:n})}));case 2:return r=e.sent,e.abrupt("return",r.reduce(function(e,n,r){return e[t[r]]=n,e},{}));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),I=function(e,t,n){var r=t.find(function(t){return!!e.match(t.matcher)});if(r){var a=r.macroName,c=r.urlParameter,o={};o[c]=e;var u=n[a],i=JSON.parse(JSON.stringify(u));return i.attrs.text="".concat(c," = ").concat(e),i.attrs.extensionKey=a,i.attrs.parameters||(i.attrs.parameters={}),i.attrs.parameters.macroParams=Object(h.d)(o),i}return null};function k(e,t){return M.apply(this,arguments)}function M(){return(M=i()(o.a.mark(function e(t,n){var r,a,c,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,t();case 3:return a=e.sent,c=[],a.forEach(function(e){E(e)&&e.autoconvertData.patterns.forEach(function(t){if(w(t)){var n={macroName:e.macroName,urlParameter:e.autoconvertData.urlParameter,matcher:g(t)};c.push(n.macroName),r.push(n)}})}),e.next=8,N(c,n);case 8:return u=e.sent,e.abrupt("return",function(e){return I(e,r,u)});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var O=function(){return null},P=function(){var e=i()(o.a.mark(function e(t,n){var r,a,c,u,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.contentId){e.next=3;break}return e.abrupt("return",O);case 3:return e.next=5,Promise.all([b(r),k(t,r)]);case 5:return a=e.sent,c=d()(a,2),u=c[0],i=c[1],e.abrupt("return",function(e){return u(e)||i(e)});case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),T=n("RhWx"),L=n.n(T),_={align:!0,anchor:!0,bgcolor:!0,center:!0,cheese:!0,clickable:!0,code:!0,colgroup:!0,column:!0,"content-by-user":!0,copyright:!0,"create-space-button":!0,div:!0,"fancy-bullets":!0,favpages:!0,"gadget-b7a6531b1c147f2e175f1209bed5c0ad":!0,"global-reports":!0,highlight:!0,htmlcomment:!0,im:!0,img:!0,info:!0,junitreport:!0,li:!0,loremipsum:!0,lozenge:!0,multimedia:!0,navmap:!0,network:!0,noformat:!0,note:!0,ol:!0,p:!0,panel:!0,pre:!0,"privacy-policy":!0,"privacy-mark":!0,"recently-used-labels":!0,"reg-tm":!0,rollover:!0,roundrect:!0,search:!0,section:!0,sm:!0,"space-attachments":!0,"space-details":!0,span:!0,strike:!0,style:!0,table:!0,tbody:!0,td:!0,th:!0,thead:!0,tr:!0,tip:!0,tm:!0,ul:!0,warning:!0};function j(e){var t=e.alternateId||(e.id?e.id.replace("macro-",""):e.macroName);return!_[t]}var C=n("KEM+"),A=n.n(C),V=n("ERkP"),R=n.n(V),K=n("hovX"),D=n("SQ8X"),J=n("97Jx"),H=n.n(J),U=n("hPIT"),B=n("MtXh"),Q={insertCss:function(e){return e._insertCss()}},S=function(e){var t=e.contentId,n=e.spaceKey,r=e.store,c=e.canUseMigrationHandler,o=q,u=A()({},l.d.MACRO_CORE,o({contentId:t,spaceKey:n,store:r})),i=c?A()({},l.d.MIGRATION,function(e){var t=e.contentId;return function(e){if(!e)return null;var n=e.extensionKey,r=e.parameters;if(n===l.c.INLINE_EXTERNAL_IMAGE){var a=r;return R.a.createElement(B.a,a)}if(n===l.c.INLINE_MEDIA_IMAGE){var c=r;return R.a.createElement(U.a,H()({},c,{contentId:t}))}return null}}({contentId:t})):{};return a()({},u,i)},q=function(e){var t=e.contentId,n=e.spaceKey;e.store;return function(e){var r=e.extensionKey,a={node:e,contentId:t,spaceKey:n,mode:"editor",context:Q};switch(r){case"contributors":case"pagetreesearch":case"toc":case"pagetree":return null;case"excerpt-include":return R.a.createElement(D.c,a);default:return R.a.createElement(K.a,a)}}},z=n("xLJ5");n("veuJ");var G=n("VrFO"),X=n.n(G),F=n("Y9Ll"),W=n.n(F),Y=n("N+ot"),$=n.n(Y),Z=n("AuHH"),ee=n.n(Z),te=n("5Yy7"),ne=n.n(te),re=n("L21V"),ae=n("2srY"),ce=n.n(ae),oe=n("wbjG"),ue=n.n(oe),ie=n("Knja"),se=function(e){function t(){return X()(this,t),$()(this,ee()(t).apply(this,arguments))}return ne()(t,e),W()(t,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.intl.formatMessage({id:ce()(t,"parameters.macroMetadata.title.key")}),r=-1!==t.extensionKey.indexOf("jira")?R.a.createElement(ie.a,{size:"small",label:n}):R.a.createElement(ue.a,{label:n}),a=t.type===l.e?"680px":"100%";return R.a.createElement("div",{style:{display:"inline-block",backgroundColor:"#F4F5F7",borderRadius:5,width:a,height:25,padding:5}},r,R.a.createElement("span",{style:{paddingLeft:5,position:"absolute"}},n))}}]),t}(V.Component);se.displayName="DeadMacroRenderer";var le=Object(re.g)(se),pe={insertCss:function(e){return e._insertCss()}},fe=function(e){var t=e.canUseMigrationHandler,n=de,r=A()({},l.d.MACRO_CORE,n()),c=t?A()({},l.d.MIGRATION,function(){return function(e){return null}}()):{},o=A()({},l.d.TEMPLATE,z.f);return a()({},r,o,c)},de=function(){return function(e){var t=e.extensionKey,n={node:e,contentId:"0",mode:"editor",context:pe};switch(t){case"detailssummary":case"recently-updated":case"children":case"attachments":case"contentbylabel":case"profile-picture":case"pagetree":case"include":case"tasks-report-macro":case"profile":case"widget":case"excerpt-include":case"spaces":return R.a.createElement(K.a,n);default:return R.a.createElement(le,n)}}};n.d(t,"e",function(){return ye}),n.d(t,"d",function(){return be}),n.d(t,"b",function(){return xe}),n.d(t,"i",function(){return ge}),n.d(t,"g",function(){return Ne}),n.d(t,"h",function(){return Ie}),n.d(t,"a",function(){return ke}),n.d(t,"c",function(){return S}),n.d(t,!1,function(){}),n.d(t,"f",function(){return fe}),n.d(t,!1,function(){});var me=Object(p.a)(),ve=["toc","expand","jira","trello-board","status"],he={type:"extension",content:l.b},ye=function(){return me().then(function(e){return e.filter(function(e){return j(e)&&!e.hidden})})};function be(){return ye().then(function(e){return e.filter(function(e){return ve.includes(e.macroName)})})}function xe(e){return P(ye,e)}function ge(e,t){var n=e.macroName;return e.anyParameterRequired||"children"===n||"tasks-report-macro"===n?function(e,t,n){return new Promise(function(){var r=i()(o.a.mark(function r(c,u){var i,s;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(p.b)();case 2:i=r.sent,n&&(i.metadataList=i.metadataList.filter(n)),s=Ee(i,t,e,c,u);try{i.open(a()({},s,{presetMacroMetadata:e}))}catch(e){u(e)}case 6:case"end":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}())}(e,t):ke({macroDefinition:{name:n,body:"",params:{}},contentId:t.contentId})}function we(e,t,n){var r=e.name,a=e.body,c=e.params,o=e.defaultParameterValue,u=e.schemaVersion;return{macroDefinition:{name:r||"",body:a||"",params:c,defaultParameterValue:o||"",schemaVersion:u},contentId:t.contentId,selectedMacro:n}}function Ee(e,t,n,r,a){var c,u=function(e){var t=L()(e.metadataList);return e.metadataList=e.metadataList.filter(j),function(){e.metadataList=t}}(e);return{autoClose:!1,onComplete:function(){var s=i()(o.a.mark(function i(s){var l,p,f;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return c=!0,e.UI.showBrowserSpinner(!0),l=n&&n.hasOwnProperty("content")?n:null,p=we(s,t,l),o.prev=4,o.next=7,ke(p);case 7:f=o.sent,r(f),e.close(),u(),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(4),a(o.t0);case 16:case"end":return o.stop()}},i,null,[[4,13]])}));return function(e){return s.apply(this,arguments)}}(),onCancel:function(){u(),c||a({reason:"cancel"})}}}function Ne(e,t){return new Promise(function(){var n=i()(o.a.mark(function n(r,c){var u,i;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.b)();case 2:u=n.sent,t&&(u.metadataList=u.metadataList.filter(t)),i=Ee(u,e,null,r,c);try{u.open(a()({},i,{selectedMacro:null}))}catch(e){c(e)}case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}function Ie(e,t,n){return new Promise(function(){var r=i()(o.a.mark(function r(c,u){var i,s,l;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(h.b)(e||he);case 2:return i=r.sent,r.next=5,Object(p.b)();case 5:s=r.sent,n&&(s.metadataList=s.metadataList.filter(n)),l=Ee(s,t,e,c,u);try{s.open(a()({},l,{selectedMacro:i}))}catch(e){u(e)}case 9:case"end":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}())}var ke=function(){var e=i()(o.a.mark(function e(t){var n,r,c,u,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.macroDefinition,r=t.contentId,c=t.selectedMacro,e.next=3,s.a.content.getMacroPlaceholderADF(n,r);case 3:return u=e.sent,(i=a()({},u)).type===l.a&&(c?i.content=c.content:i.content&&0!==i.content.length||(i.content=l.b)),e.abrupt("return",Object(h.c)(i));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},WrQT:function(e,t,n){(t=e.exports=n("RDo7")(!1)).push([e.i,".TemplateVariable_root_3xJ span{color:#a5adba;max-width:none!important}.TemplateVariable_root_3xJ .TemplateVariable_name_20a{color:#253858}",""]),t.locals={root:"TemplateVariable_root_3xJ",name:"TemplateVariable_name_20a"}},XHKW:function(e,t,n){var r=n("WrQT"),a=n("7l8p");"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return a(r,e)}},bwNV:function(e,t,n){"use strict";var r=n("x+QU"),a={loader:function(){return n.e(396).then(n.bind(null,"66Bi"))},loading:function(){return null}},c=n.n(r)()(a);n.d(t,"a",function(){return c})},veuJ:function(e,t,n){"use strict";var r=n("x+QU"),a=n.n(r)()({loader:function(){return Promise.all([n.e(0),n.e(4),n.e(5),n.e(18),n.e(397)]).then(n.bind(null,"gB0f"))},loading:function(){return null}});n.d(t,"a",function(){return a})},xLJ5:function(e,t,n){"use strict";var r=n("tQaH"),a=n.n(r),c=n("nnRT"),o=n.n(c),u=n("ERkP"),i=n.n(u),s=n("x+QU"),l=n.n(s),p=n("4wq+"),f=l()({loader:function(){return Promise.all([n.e(0),n.e(4),n.e(5),n.e(18),n.e(398)]).then(n.bind(null,"9qrP"))},loading:function(){return i.a.createElement(p.a,{size:"medium"})}}),d=n("z1Ea"),m=n("VrFO"),v=n.n(m),h=n("Y9Ll"),y=n.n(h),b=n("N+ot"),x=n.n(b),g=n("AuHH"),w=n.n(g),E=n("5Yy7"),N=n.n(E),I=n("0TBH"),k=n("aWzz"),M=n.n(k),O=n("06K+"),P=n("IGvV"),T=n("XHKW"),L=n.n(T),_={insertCss:M.a.func},j=Object(I.a)(_),C=function(e){function t(){return v()(this,t),x()(this,w()(t).apply(this,arguments))}return N()(t,e),y()(t,[{key:"_getText",value:function(){var e=this.props.parameters,t=['type="'.concat(e.type,'"')];return e.params&&(e.params.rows&&e.params.columns?(t.push('rows="'.concat(e.params.rows,'"')),t.push('columns="'.concat(e.params.columns,'"'))):e.params.options&&t.push('options="'.concat(e.params.options.join(","),'"'))),"| ".concat(t.join(", "))}},{key:"render",value:function(){var e=this.props.parameters,t=i.a.createElement("span",{className:L.a.name},"$",e.name);return i.a.createElement(j,null,i.a.createElement("span",{className:L.a.root},i.a.createElement(O.a,{text:this._getText(),elemBefore:t})))}}]),t}(u.PureComponent);C.displayName="TemplateVariables";var A=Object(P.a)(L.a)(C),V=function(e){if(!e)return null;var t=e.extensionKey,n=e.parameters;if(t===d.c.TEMPLATE){return i.a.createElement(A,{parameters:n,context:{insertCss:function(e){return e._insertCss()}}})}return null};n.d(t,"c",function(){return R}),n.d(t,"b",function(){return K}),n.d(t,"a",function(){return D}),n.d(t,"d",function(){return H}),n.d(t,"g",function(){return U}),n.d(t,"h",function(){return B}),n.d(t,"e",function(){return Q}),n.d(t,"f",function(){return V});var R="text",K="textarea",D="select",J="variable_name";function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return{type:d.e,attrs:{extensionType:d.d.TEMPLATE,extensionKey:d.c.TEMPLATE,parameters:{type:R,name:e}}}}function U(e){return e.attrs&&e.attrs.extensionType===d.d.TEMPLATE}function B(e,t){return new Promise(function(n,r){if(e.attrs&&t.setActiveModal){var c=e.attrs.parameters;t.setActiveModal(f,{defaultVariableType:c.type,defaultVariableName:c.name,defaultRows:c.params&&c.params.rows,defaultColumns:c.params&&c.params.columns,defaultListOptions:c.params&&c.params.options,onSave:function(t){var r=Object(d.h)(e,t),c=d.f;r.type===d.a?c=d.a:r.type===d.e&&(c=d.e),n(a()({},r,{type:c,attrs:r.attrs||{}}))},onClose:function(){t.closeActiveModal&&t.closeActiveModal()}})}else r(new Error("Cannot open editing template variable dialog"))})}function Q(e){return Object(d.g)(e,d.e).filter(U).reduce(function(e,t){var n=t.attrs.parameters,r=n.name,a=n.type,c=n.params,u=void 0===c?{}:c;if(!e.groupedByName[r])return e.groupedByName[r]=t,e;var i=e.groupedByName[r].attrs.parameters;return(i.type!==a||!o()(i.params,u))&&(e.invalidNodes.push(t),e.invalidUniqueNames.includes(r)||e.invalidUniqueNames.push(r)),e},{groupedByName:{},invalidNodes:[],invalidUniqueNames:[]})}}}]);
//# sourceMappingURL=admin-navigation-v1~fabric.editpage~fabric.template.editor~global-navigation-v1~navigation-v2-integr~f1c0bdd8.6870c755ea53ba724a2d-v38.js.map