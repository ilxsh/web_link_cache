(window.webpackJsonp=window.webpackJsonp||[]).push([[660],{"+xrG":function(n,e,t){"use strict";t.r(e);var o=t("HGgJ"),i=t("Jygk"),a=t.n(i),r=function(n,e){if(n){var t=new window.MutationObserver(e);return t.observe(n,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),t}};function c(n,e,t){var o;return function(){var i=this,a=arguments,r=t&&!o;clearTimeout(o),o=setTimeout(function(){o=null,t||n.apply(i,a)},e),r&&n.apply(i,a)}}var d=function(n,e){var t=c(e,50),o=n.querySelectorAll("img");[].forEach.call(o,function(n){"true"!==n.dataset.fallbackImgLoadedListener&&(n.addEventListener("load",t),n.dataset.fallbackImgLoadedListener="true")})},u=function(n,e,t){var i,a=!1;document.addEventListener("click",function(n){n.srcElement&&"A"===n.srcElement.tagName&&(a=!0,i=n.srcElement.href,Object(o.a)(i,t,function(t){e(t),n.preventDefault(),a=!1}))}),window.addEventListener("beforeunload",function(){a&&(a=!1,n(i))})},f=function(n){var e=c(n,50);window.addEventListener("resize",e)},l=t("tQaH"),s=t.n(l),p=t("jqY8"),g=function(n){var e=function(n){return function(e){var t=Object(p.g)(),o=t.origin;o||(o="".concat(t.protocol,"//").concat(t.hostname).concat(t.port?":".concat(t.port):"")),Object(p.c)().parent.postMessage(s()({},e,{bridgeId:n}),o)}}(n);return{onIframeLoaded:function(n){e(function(n){return{type:"iframeDOMContentLoaded",location:n}}(n))},pushLocationToParent:function(n){e(function(n){return{type:"postNextIframeLocation",nextLocation:n}}(n))},updateLocationToParent:function(n){e(function(n){return{type:"postUpdateIframeLocation",nextLocation:n}}(n))},updateIframeSize:function(){e(function(){var n=a.a.document.body.getBoundingClientRect();return{type:"postIframeSize",width:n.width,height:n.height}}())},updateIframeAnchor:function(n){e(function(n){return{type:"postUpdateIframeAnchor",anchor:n}}(n))}}},w=t("z6J1"),y=t("+5ab"),b="/pages/editpage.action?pageId=",m="/pages/editblogpost.action?pageId=";function v(n){a.a.top.location=n}function h(n){!function(n){if(n.key&&"e"===n.key.toLowerCase()&&function(n){return-1===["INPUT","TEXTAREA","BUTTON","SELECT"].indexOf(n.tagName)}(n.target)){var e=Object(w.a)(a.a,document),t=e.contentType,o=e.pageId;y.CONTEXT_PATH&&o&&t&&("page"===t?v("".concat(y.CONTEXT_PATH).concat(b).concat(o)):"blogpost"===t&&v("".concat(y.CONTEXT_PATH).concat(m).concat(o)))}}(n)}t.d(e,"start",function(){return I});var I=function(n,e){var i=function(t){n.top.location=t,e.write("<style>body { display:none!important }</style>\x3c!--")},a=Object(w.a)(n,e),c=a.isFallbackModeIframe,l=a.isIframeAllowed,s=a.isViewPageContentOnly,p=a.isWhitelisted,y=a.bridgeId,b=a.isSpaceOverview,m=a.isOverflowAllowed,v=g(y).onIframeLoaded,I=p||l;if(c){if(s){var L=e.createElement("base");L.target="_top",e.getElementsByTagName("head")[0].appendChild(L)}I||i(n.location.href),l&&!p&&(e.addEventListener("DOMContentLoaded",function(){t("HEvi"),t("6t7U"),t("04PE"),b&&e.querySelector("body").classList.add("space-overview"),m&&e.querySelector("html").classList.add("allow-overflow"),function(n,e,t){var o=g(n),i=o.pushLocationToParent,a=o.updateIframeSize,c=o.updateIframeAnchor,l=t.location.href;u(i,c,l),r(e.body,function(){a(),d(e.body,a)}),f(a),d(e.body,a),a()}(y,e,n),v(n.location.href),e.querySelector("body").classList.add("dom-is-ready")}),e.addEventListener("keydown",h),n.addEventListener("load",function(){Object(o.a)(n.location.href,n.location.href),e.querySelector("body").classList.add("document-has-loaded")}))}else if(s){var E=n.location.href,O=E.split("#")[1],x=E.replace("/content-only/","/pages/").replace(/&iframeId=(.*)$/,"").replace(/#(.*)$/,"");i(x+=O?"#".concat(O):"")}}},"0+IW":function(n,e,t){(n.exports=t("RDo7")(!1)).push([n.i,"body.cq-body{overflow-y:visible;background:#fff;height:auto!important;min-height:500px}body.cq-body .aui-page-panel{border-bottom:0}body.cq-body .cq-page-header .aui-page-header-inner,body.cq-body .cq-page-main .aui-page-panel-inner{max-width:1000px;width:100%}body.cq-body .cq-page-main .aui-page-panel-inner.cq-inner-no-fixed-width{max-width:100%}body.cq-body .onboarding{position:relative;padding-top:110px;width:100%}body.cq-body .onboarding h1{text-transform:uppercase;color:#707070;font-size:12px;font-weight:700}body.cq-body .onboarding .ask-question-image-container{position:absolute;top:0;left:50%;margin-left:-60px}body.cq-body .onboarding .aui{margin-top:20px}body.cq-body #full-height-container{height:auto;background-color:#fff}",""])},"04PE":function(n,e,t){var o=t("0+IW");"string"==typeof o&&(o=[[n.i,o,""]]);var i={insertAt:"bottom",singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};t("cuK8")(o,i);o.locals&&(n.exports=o.locals)},"6t7U":function(n,e,t){var o=t("OfEr");"string"==typeof o&&(o=[[n.i,o,""]]);var i={insertAt:"bottom",singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};t("cuK8")(o,i);o.locals&&(n.exports=o.locals)},HEvi:function(n,e,t){var o=t("YwBH");"string"==typeof o&&(o=[[n.i,o,""]]);var i={insertAt:"bottom",singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};t("cuK8")(o,i);o.locals&&(n.exports=o.locals)},HGgJ:function(n,e,t){"use strict";t.d(e,"b",function(){return c}),t.d(e,"a",function(){return d});var o=t("ddV6"),i=t.n(o),a=t("Jygk"),r=t.n(a),c=function(n,e){var t=n;0===n.indexOf("#")&&(t=n.substring(1));var o=r.a.document.getElementById(t);o||(o=r.a.document.querySelector('[name="'.concat(t,'"]'))),function(n){if(n){var e=n.style.display;n.style.display="inline-block",n.scrollIntoView(),n.style.display=e}}(o),e&&e()};function d(n,e,t){var o=e.split("#"),a=i()(o,1)[0],r=n.split("#"),d=i()(r,2),u=d[0],f=d[1];f&&u===a&&c(f,t)}},OfEr:function(n,e,t){(n.exports=t("RDo7")(!1)).push([n.i,"body.confluence-inline-tasks{padding-top:10px}body.page-gadget.confluence-inline-tasks #main{width:100%;padding-left:10px}",""])},RDo7:function(n,e){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t=function(n,e){var t=n[1]||"",o=n[3];if(!o)return t;if(e&&"function"==typeof btoa){var i=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(o),a=o.sources.map(function(n){return"/*# sourceURL="+o.sourceRoot+n+" */"});return[t].concat(a).concat([i]).join("\n")}return[t].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var o={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(o[a]=!0)}for(i=0;i<n.length;i++){var r=n[i];"number"==typeof r[0]&&o[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),e.push(r))}},e}},YwBH:function(n,e,t){(n.exports=t("RDo7")(!1)).push([n.i,"body.page-gadget,html{height:auto;overflow:hidden}.allow-overflow{overflow:auto}.allow-overflow body{background-color:#fff}.allow-overflow .ap-container iframe,.allow-overflow .aui-page-panel{border:0}body.page-gadget{background:#fff;opacity:1;padding-top:60px}body.page-gadget #page{position:relative}body.page-gadget #main{padding:0;position:static;width:calc(100% - 110px);margin:0 auto}body.page-gadget.space-overview #main{width:calc(100% - 40px)}body.page-gadget #main.aui-page-panel{border-bottom:0}body.page-gadget #full-height-container,body.page-gadget #page{height:auto}body.theme-default #full-height-container{background-color:#fff}",""])},jqY8:function(n,e,t){"use strict";function o(n){window.location=n}function i(){return"undefined"!=typeof window?window.location:void 0}function a(){if("undefined"!=typeof window&&window.location){var n=window.location.origin;return n||(n="".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"")),n}}function r(){"undefined"!=typeof window&&window.location.reload()}function c(n){return"undefined"==typeof window||window.confirm(n)}function d(){if("undefined"!=typeof window){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];window.addEventListener.apply(window,e)}}function u(){if("undefined"!=typeof window){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];window.removeEventListener.apply(window,e)}}function f(){return"undefined"==typeof window?0:window.pageYOffset}function l(){return"undefined"==typeof window?0:window.innerWidth}function s(){return"undefined"==typeof window?0:window.innerHeight}function p(){if(window&&window.require){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return window.require.apply(window,e)}}function g(){return window}t.d(e,"j",function(){return o}),t.d(e,"g",function(){return i}),t.d(e,"h",function(){return a}),t.d(e,"k",function(){return r}),t.d(e,"b",function(){return c}),t.d(e,"a",function(){return d}),t.d(e,"l",function(){return u}),t.d(e,"i",function(){return f}),t.d(e,"f",function(){return l}),t.d(e,"e",function(){return s}),t.d(e,"d",function(){return p}),t.d(e,"c",function(){return g})},z6J1:function(n,e,t){"use strict";var o=t("ddV6"),i=t.n(o),a={};function r(n,e){var t=n.getElementsByName(e)[0];return t&&t.getAttribute("content")||""}e.a=function(n,e){var t=n.location.href,o="true"===r(e,"ajs-iframe-allowed-for-spa")||!1,c=void 0!==n.__SKIP_FALLBACK_MODE__&&n.__SKIP_FALLBACK_MODE__||function(n){return Object.keys(a).filter(function(e){return-1!==n.indexOf(a[e])}).length>0}(t);return{spaceKey:r(e,"confluence-space-key"),isIframeAllowed:o,isWhitelisted:c,isViewPageContentOnly:t.indexOf("/content-only/")>-1,isFallbackModeIframe:function(n){if(n.top===n.self)return!1;var e=n.frameElement&&n.frameElement.getAttribute("data-is-fallback-mode-iframe");return!(!e||"true"!==e)}(n),bridgeId:function(n){return n.frameElement&&n.frameElement.getAttribute("data-bridge-id")}(n),isSpaceOverview:t.indexOf("isSpaceOverview=true")>0,isOverflowAllowed:-1!==decodeURIComponent(function(n){return n.location&&n.location.search?n.location.search.substr(1).split("&").reduce(function(n,e){var t=e.split("="),o=i()(t,2),a=o[0],r=o[1];return n[a]=decodeURIComponent(r),n},{}):{}}(n).addonUrl||t).indexOf("/customcontent/"),darkFeatures:(r(e,"ajs-enabled-dark-features")||"").split(","),contentType:r(e,"ajs-content-type")||"",pageId:r(e,"ajs-page-id")}}}}]);
//# sourceMappingURL=fallback-mode-top-frame.f19129186a8faa97c9f9-v38.js.map