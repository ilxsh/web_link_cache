<!DOCTYPE html>
<html lang="zh-cn"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="referrer" content="origin">
    <title>sshd_config配置详解 - 莘莘学子 - 博客园</title>
<meta property="og:description" content="sshd_config配置详解 名称 sshd_config - OpenSSH SSH 服务器守护进程配置文件 大纲 /etc/ssh/sshd_config 描述 sshd(8) 默认从 /etc">
    <link type="text/css" rel="stylesheet" href="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-En_summerGarden.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-En_summerGarden-mobile.css">
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/wangliangblog/rss">
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/wangliangblog/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/wangliangblog/wlwmanifest.xml">
    <script src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/osd.js"></script><script src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/pubads_impl_rendering_2019050901.js"></script><script async="" src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/analytics.js"></script><script src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/jquery-2.js"></script>
    <script>var currentBlogId=93275;var currentBlogApp='wangliangblog',cb_enable_mathjax=false;var isLogined=false;</script>
    <script src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.js" type="text/javascript"></script>
<link rel="preload" href="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/integrator.js" as="script"><script type="text/javascript" src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/integrator.js"></script><script src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/pubads_impl_2019050901.js" async=""></script></head>
<body>
<a name="top"></a>


<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a id="lnkBlogLogo" href="https://www.cnblogs.com/wangliangblog/"><img id="blogLogo" src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/logo.gif" alt="Return Home"></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/wangliangblog/">莘莘学子</a></h1>
<h2></h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<!--done-->
			<ul id="navList">
				<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">CnBlogs</a></li>
				<li><a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/wangliangblog/">Home</a></li>
				<li><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">New Post</a></li>
				<li><a id="blog_nav_contact" accesskey="9" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90">Contact</a></li>
				<li><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">Admin</a></li>
				<li><a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/wangliangblog/rss">Rss</a>
				<a id="blog_nav_rss_image" class="aHeaderXML" href="https://www.cnblogs.com/wangliangblog/rss"><img src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/xml.gif" alt="Rss"></a></li>
			</ul>


		<div class="blogStats">
			
			<div id="blog_stats">
<!--done-->
Posts - 57&nbsp;
Articles - 0&nbsp;
Comments - 0&nbsp;
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
        <div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/wangliangblog/p/6226488.html">sshd_config配置详解</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><p>sshd_config配置详解</p>
<p>名称<br>     sshd_config - OpenSSH SSH 服务器守护进程配置文件</p>
<p>大纲<br>     /etc/ssh/sshd_config</p>
<p>描述<br>     sshd(8) 默认从 /etc/ssh/sshd_config 文件(或通过 -f 命令行选项指定的文件)读取配置信息。<br>     配置文件是由"指令 值"对组成的，每行一个。空行和以'#'开头的行都将被忽略。<br>     如果值中含有空白符或者其他特殊符号，那么可以通过在两边加上双引号(")进行界定。<br>     [注意]值是大小写敏感的，但指令是大小写无关的。</p>
<p>     当前所有可以使用的配置指令如下：</p>
<p>     AcceptEnv<br>             指定客户端发送的哪些环境变量将会被传递到会话环境中。[注意]只有SSH-2协议支持环境变量的传递。<br>             细节可以参考 ssh_config(5) 中的 SendEnv 配置指令。<br>             指令的值是空格分隔的变量名列表(其中可以使用'*'和'?'作为通配符)。也可以使用多个 AcceptEnv 达到同样的目的。<br>             需要注意的是，有些环境变量可能会被用于绕过禁止用户使用的环境变量。由于这个原因，该指令应当小心使用。<br>             默认是不传递任何环境变量。</p>
<p>     AddressFamily<br>             指定 sshd(8) 应当使用哪种地址族。取值范围是："any"(默认)、"inet"(仅IPv4)、"inet6"(仅IPv6)。</p>
<p>     AllowGroups<br>             这个指令后面跟着一串用空格分隔的组名列表(其中可以使用"*"和"?"通配符)。默认允许所有组登录。<br>             如果使用了这个指令，那么将仅允许这些组中的成员登录，而拒绝其它所有组。<br>             这里的"组"是指"主组"(primary group)，也就是/etc/passwd文件中指定的组。<br>             这里只允许使用组的名字而不允许使用GID。相关的 allow/deny 指令按照下列顺序处理：<br>             DenyUsers, AllowUsers, DenyGroups, AllowGroups</p>
<p>     AllowTcpForwarding<br>             是否允许TCP转发，默认值为"yes"。<br>             禁止TCP转发并不能增强安全性，除非禁止了用户对shell的访问，因为用户可以安装他们自己的转发器。</p>
<p>     AllowUsers<br>             这个指令后面跟着一串用空格分隔的用户名列表(其中可以使用"*"和"?"通配符)。默认允许所有用户登录。<br>             如果使用了这个指令，那么将仅允许这些用户登录，而拒绝其它所有用户。<br>             如果指定了 USER@HOST 模式的用户，那么 USER 和 HOST 将同时被检查。<br>             这里只允许使用用户的名字而不允许使用UID。相关的 allow/deny 指令按照下列顺序处理：<br>             DenyUsers, AllowUsers, DenyGroups, AllowGroups</p>
<p>     AuthorizedKeysFile<br>             存放该用户可以用来登录的 RSA/DSA 公钥。<br>             该指令中可以使用下列根据连接时的实际情况进行展开的符号：<br>             %% 表示'%'、%h 表示用户的主目录、%u 表示该用户的用户名。<br>             经过扩展之后的值必须要么是绝对路径，要么是相对于用户主目录的相对路径。<br>             默认值是".ssh/authorized_keys"。</p>
<p>     Banner<br>             将这个指令指定的文件中的内容在用户进行认证前显示给远程用户。<br>             这个特性仅能用于SSH-2，默认什么内容也不显示。"none"表示禁用这个特性。</p>
<p>     ChallengeResponseAuthentication<br>             是否允许质疑-应答(challenge-response)认证。默认值是"yes"。<br>             所有 login.conf(5) 中允许的认证方式都被支持。</p>
<p>     Ciphers<br>             指定SSH-2允许使用的加密算法。多个算法之间使用逗号分隔。可以使用的算法如下：<br>             "aes128-cbc", "aes192-cbc", "aes256-cbc", "aes128-ctr", "aes192-ctr", "aes256-ctr",<br>             "3des-cbc", "arcfour128", "arcfour256", "arcfour", "blowfish-cbc", "cast128-cbc"<br>             默认值是可以使用上述所有算法。</p>
<p>     ClientAliveCountMax<br>             sshd(8) 在未收到任何客户端回应前最多允许发送多少个"alive"消息。默认值是 3 。<br>             到达这个上限后，sshd(8) 将强制断开连接、关闭会话。<br>             需要注意的是，"alive"消息与 TCPKeepAlive 有很大差异。<br>             "alive"消息是通过加密连接发送的，因此不会被欺骗；而 TCPKeepAlive 却是可以被欺骗的。<br>             如果 ClientAliveInterval 被设为 15 并且将 ClientAliveCountMax 保持为默认值，<br>             那么无应答的客户端大约会在45秒后被强制断开。这个指令仅可以用于SSH-2协议。</p>
<p>     ClientAliveInterval<br>             设置一个以秒记的时长，如果超过这么长时间没有收到客户端的任何数据，<br>             sshd(8) 将通过安全通道向客户端发送一个"alive"消息，并等候应答。<br>             默认值 0 表示不发送"alive"消息。这个选项仅对SSH-2有效。</p>
<p>     Compression<br>             是否对通信数据进行加密，还是延迟到认证成功之后再对通信数据加密。<br>             可用值："yes", "delayed"(默认), "no"。</p>
<p>     DenyGroups<br>             这个指令后面跟着一串用空格分隔的组名列表(其中可以使用"*"和"?"通配符)。默认允许所有组登录。<br>             如果使用了这个指令，那么这些组中的成员将被拒绝登录。<br>             这里的"组"是指"主组"(primary group)，也就是/etc/passwd文件中指定的组。<br>             这里只允许使用组的名字而不允许使用GID。相关的 allow/deny 指令按照下列顺序处理：<br>             DenyUsers, AllowUsers, DenyGroups, AllowGroups</p>
<p>     DenyUsers<br>             这个指令后面跟着一串用空格分隔的用户名列表(其中可以使用"*"和"?"通配符)。默认允许所有用户登录。<br>             如果使用了这个指令，那么这些用户将被拒绝登录。<br>             如果指定了 USER@HOST 模式的用户，那么 USER 和 HOST 将同时被检查。<br>             这里只允许使用用户的名字而不允许使用UID。相关的 allow/deny 指令按照下列顺序处理：<br>             DenyUsers, AllowUsers, DenyGroups, AllowGroups</p>
<p>     ForceCommand<br>             强制执行这里指定的命令而忽略客户端提供的任何命令。这个命令将使用用户的登录shell执行(shell -c)。<br>             这可以应用于 shell 、命令、子系统的完成，通常用于 Match 块中。<br>             这个命令最初是在客户端通过 SSH_ORIGINAL_COMMAND 环境变量来支持的。</p>
<p>     GatewayPorts<br>             是否允许远程主机连接本地的转发端口。默认值是"no"。<br>             sshd(8) 默认将远程端口转发绑定到loopback地址。这样将阻止其它远程主机连接到转发端口。<br>             GatewayPorts 指令可以让 sshd 将远程端口转发绑定到非loopback地址，这样就可以允许远程主机连接了。<br>             "no"表示仅允许本地连接，"yes"表示强制将远程端口转发绑定到统配地址(wildcard address)，<br>             "clientspecified"表示允许客户端选择将远程端口转发绑定到哪个地址。</p>
<p>     GSSAPIAuthentication<br>             是否允许使用基于 GSSAPI 的用户认证。默认值为"no"。仅用于SSH-2。</p>
<p>     GSSAPICleanupCredentials<br>             是否在用户退出登录后自动销毁用户凭证缓存。默认值是"yes"。仅用于SSH-2。</p>
<p>     HostbasedAuthentication<br>             这个指令与 RhostsRSAAuthentication 类似，但是仅可以用于SSH-2。推荐使用默认值"no"。<br>             推荐使用默认值"no"禁止这种不安全的认证方式。</p>
<p>     HostbasedUsesNameFromPacketOnly<br>             在开启 HostbasedAuthentication 的情况下，<br>             指定服务器在使用 ~/.shosts ~/.rhosts /etc/hosts.equiv 进行远程主机名匹配时，是否进行反向域名查询。<br>             "yes"表示 sshd(8) 信任客户端提供的主机名而不进行反向查询。默认值是"no"。</p>
<p>     HostKey<br>             主机私钥文件的位置。如果权限不对，sshd(8) 可能会拒绝启动。<br>             SSH-1默认是 /etc/ssh/ssh_host_key 。<br>             SSH-2默认是 /etc/ssh/ssh_host_rsa_key 和 /etc/ssh/ssh_host_dsa_key 。<br>             一台主机可以拥有多个不同的私钥。"rsa1"仅用于SSH-1，"dsa"和"rsa"仅用于SSH-2。</p>
<p>     IgnoreRhosts<br>             是否在 RhostsRSAAuthentication 或 HostbasedAuthentication 过程中忽略 .rhosts 和 .shosts 文件。<br>             不过 /etc/hosts.equiv 和 /etc/shosts.equiv 仍将被使用。推荐设为默认值"yes"。</p>
<p>     IgnoreUserKnownHosts<br>             是否在 RhostsRSAAuthentication 或 HostbasedAuthentication 过程中忽略用户的 ~/.ssh/known_hosts 文件。<br>             默认值是"no"。为了提高安全性，可以设为"yes"。</p>
<p>     KerberosAuthentication<br>             是否要求用户为 PasswordAuthentication 提供的密码必须通过 Kerberos KDC 认证，也就是是否使用Kerberos认证。<br>             要使用Kerberos认证，服务器需要一个可以校验 KDC identity 的 Kerberos servtab 。默认值是"no"。</p>
<p>     KerberosGetAFSToken<br>             如果使用了 AFS 并且该用户有一个 Kerberos 5 TGT，那么开启该指令后，<br>             将会在访问用户的家目录前尝试获取一个 AFS token 。默认为"no"。</p>
<p>     KerberosOrLocalPasswd<br>             如果 Kerberos 密码认证失败，那么该密码还将要通过其它的认证机制(比如 /etc/passwd)。<br>             默认值为"yes"。</p>
<p>     KerberosTicketCleanup<br>             是否在用户退出登录后自动销毁用户的 ticket 。默认值是"yes"。</p>
<p>     KeyRegenerationInterval<br>             在SSH-1协议下，短命的服务器密钥将以此指令设置的时间为周期(秒)，不断重新生成。<br>             这个机制可以尽量减小密钥丢失或者黑客攻击造成的损失。<br>             设为 0 表示永不重新生成，默认为 3600(秒)。</p>
<p>     ListenAddress<br>             指定 sshd(8) 监听的网络地址，默认监听所有地址。可以使用下面的格式：</p>
<p>                   ListenAddress host|IPv4_addr|IPv6_addr<br>                   ListenAddress host|IPv4_addr:port<br>                   ListenAddress [host|IPv6_addr]:port</p>
<p>             如果未指定 port ，那么将使用 Port 指令的值。<br>             可以使用多个 ListenAddress 指令监听多个地址。</p>
<p>     LoginGraceTime<br>             限制用户必须在指定的时限内认证成功，0 表示无限制。默认值是 120 秒。</p>
<p>     LogLevel<br>             指定 sshd(8) 的日志等级(详细程度)。可用值如下：<br>             QUIET, FATAL, ERROR, INFO(默认), VERBOSE, DEBUG, DEBUG1, DEBUG2, DEBUG3<br>             DEBUG 与 DEBUG1 等价；DEBUG2 和 DEBUG3 则分别指定了更详细、更罗嗦的日志输出。<br>             比 DEBUG 更详细的日志可能会泄漏用户的敏感信息，因此反对使用。</p>
<p>     MACs<br>             指定允许在SSH-2中使用哪些消息摘要算法来进行数据校验。<br>             可以使用逗号分隔的列表来指定允许使用多个算法。默认值(包含所有可以使用的算法)是：<br>             hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-sha1-96,hmac-md5-96</p>
<p>     Match<br>             引入一个条件块。块的结尾标志是另一个 Match 指令或者文件结尾。<br>             如果 Match 行上指定的条件都满足，那么随后的指令将覆盖全局配置中的指令。<br>             Match 的值是一个或多个"条件-模式"对。可用的"条件"是：User, Group, Host, Address 。<br>             只有下列指令可以在 Match 块中使用：AllowTcpForwarding, Banner,<br>             ForceCommand, GatewayPorts, GSSApiAuthentication,<br>             KbdInteractiveAuthentication, KerberosAuthentication,<br>             PasswordAuthentication, PermitOpen, PermitRootLogin,<br>             RhostsRSAAuthentication, RSAAuthentication, X11DisplayOffset,<br>             X11Forwarding, X11UseLocalHost</p>
<p>     MaxAuthTries<br>             指定每个连接最大允许的认证次数。默认值是 6 。<br>             如果失败认证的次数超过这个数值的一半，连接将被强制断开，且会生成额外的失败日志消息。</p>
<p>     MaxStartups<br>             最大允许保持多少个未认证的连接。默认值是 10 。<br>             到达限制后，将不再接受新连接，除非先前的连接认证成功或超出 LoginGraceTime 的限制。</p>
<p>     PasswordAuthentication<br>             是否允许使用基于密码的认证。默认为"yes"。</p>
<p>     PermitEmptyPasswords<br>             是否允许密码为空的用户远程登录。默认为"no"。</p>
<p>     PermitOpen<br>             指定TCP端口转发允许的目的地，可以使用空格分隔多个转发目标。默认允许所有转发请求。<br>             合法的指令格式如下：<br>                   PermitOpen host:port<br>                   PermitOpen IPv4_addr:port<br>                   PermitOpen [IPv6_addr]:port<br>             "any"可以用于移除所有限制并允许一切转发请求。</p>
<p>     PermitRootLogin<br>             是否允许 root 登录。可用值如下：<br>             "yes"(默认) 表示允许。"no"表示禁止。<br>             "without-password"表示禁止使用密码认证登录。<br>             "forced-commands-only"表示只有在指定了 command 选项的情况下才允许使用公钥认证登录。<br>                                   同时其它认证方法全部被禁止。这个值常用于做远程备份之类的事情。</p>
<p>     PermitTunnel<br>             是否允许 tun(4) 设备转发。可用值如下：<br>             "yes", "point-to-point"(layer 3), "ethernet"(layer 2), "no"(默认)。<br>             "yes"同时蕴含着"point-to-point"和"ethernet"。</p>
<p>     PermitUserEnvironment<br>             指定是否允许 sshd(8) 处理 ~/.ssh/environment 以及 ~/.ssh/authorized_keys 中的 environment= 选项。<br>             默认值是"no"。如果设为"yes"可能会导致用户有机会使用某些机制(比如 LD_PRELOAD)绕过访问控制，造成安全漏洞。</p>
<p>     PidFile<br>             指定在哪个文件中存放SSH守护进程的进程号，默认为 /var/run/sshd.pid 文件。</p>
<p>     Port<br>             指定 sshd(8) 守护进程监听的端口号，默认为 22 。可以使用多条指令监听多个端口。<br>             默认将在本机的所有网络接口上监听，但是可以通过 ListenAddress 指定只在某个特定的接口上监听。</p>
<p>     PrintLastLog<br>             指定 sshd(8) 是否在每一次交互式登录时打印最后一位用户的登录时间。默认值是"yes"。</p>
<p>     PrintMotd<br>             指定 sshd(8) 是否在每一次交互式登录时打印 /etc/motd 文件的内容。默认值是"yes"。</p>
<p>     Protocol<br>             指定 sshd(8) 支持的SSH协议的版本号。<br>             '1'和'2'表示仅仅支持SSH-1和SSH-2协议。"2,1"表示同时支持SSH-1和SSH-2协议。</p>
<p>     PubkeyAuthentication<br>             是否允许公钥认证。仅可以用于SSH-2。默认值为"yes"。</p>
<p>     RhostsRSAAuthentication<br>             是否使用强可信主机认证(通过检查远程主机名和关联的用户名进行认证)。仅用于SSH-1。<br>             这是通过在RSA认证成功后再检查 ~/.rhosts 或 /etc/hosts.equiv 进行认证的。<br>             出于安全考虑，建议使用默认值"no"。</p>
<p>     RSAAuthentication<br>             是否允许使用纯 RSA 公钥认证。仅用于SSH-1。默认值是"yes"。</p>
<p>     ServerKeyBits<br>             指定临时服务器密钥的长度。仅用于SSH-1。默认值是 768(位)。最小值是 512 。</p>
<p>     StrictModes<br>             指定是否要求 sshd(8) 在接受连接请求前对用户主目录和相关的配置文件进行宿主和权限检查。<br>             强烈建议使用默认值"yes"来预防可能出现的低级错误。</p>
<p>     Subsystem<br>             配置一个外部子系统(例如，一个文件传输守护进程)。仅用于SSH-2协议。<br>             值是一个子系统的名字和对应的命令行(含选项和参数)。比如"sft /bin/sftp-server"。</p>
<p>     SyslogFacility<br>             指定 sshd(8) 将日志消息通过哪个日志子系统(facility)发送。有效值是：<br>             DAEMON, USER, AUTH(默认), LOCAL0, LOCAL1, LOCAL2, LOCAL3, LOCAL4, LOCAL5, LOCAL6, LOCAL7</p>
<p>     TCPKeepAlive<br>             指定系统是否向客户端发送 TCP keepalive 消息。默认值是"yes"。<br>             这种消息可以检测到死连接、连接不当关闭、客户端崩溃等异常。<br>             可以设为"no"关闭这个特性。</p>
<p>     UseDNS<br>             指定 sshd(8) 是否应该对远程主机名进行反向解析，以检查此主机名是否与其IP地址真实对应。默认值为"yes"。</p>
<p>     UseLogin<br>             是否在交互式会话的登录过程中使用 login(1) 。默认值是"no"。<br>             如果开启此指令，那么 X11Forwarding 将会被禁止，因为 login(1) 不知道如何处理 xauth(1) cookies 。<br>             需要注意的是，login(1) 是禁止用于远程执行命令的。<br>             如果指定了 UsePrivilegeSeparation ，那么它将在认证完成后被禁用。</p>
<p>     UsePrivilegeSeparation<br>             是否让 sshd(8) 通过创建非特权子进程处理接入请求的方法来进行权限分离。默认值是"yes"。<br>             认证成功后，将以该认证用户的身份创建另一个子进程。<br>             这样做的目的是为了防止通过有缺陷的子进程提升权限，从而使系统更加安全。</p>
<p>     X11DisplayOffset<br>             指定 sshd(8) X11 转发的第一个可用的显示区(display)数字。默认值是 10 。<br>             这个可以用于防止 sshd 占用了真实的 X11 服务器显示区，从而发生混淆。</p>
<p>     X11Forwarding<br>             是否允许进行 X11 转发。默认值是"no"，设为"yes"表示允许。<br>             如果允许X11转发并且sshd(8)代理的显示区被配置为在含有通配符的地址(X11UseLocalhost)上监听。<br>             那么将可能有额外的信息被泄漏。由于使用X11转发的可能带来的风险，此指令默认值为"no"。<br>             需要注意的是，禁止X11转发并不能禁止用户转发X11通信，因为用户可以安装他们自己的转发器。<br>             如果启用了 UseLogin ，那么X11转发将被自动禁止。</p>
<p>     X11UseLocalhost<br>             sshd(8) 是否应当将X11转发服务器绑定到本地loopback地址。默认值是"yes"。<br>             sshd 默认将转发服务器绑定到本地loopback地址并将 DISPLAY 环境变量的主机名部分设为"localhost"。<br>             这可以防止远程主机连接到 proxy display 。不过某些老旧的X11客户端不能在此配置下正常工作。<br>             为了兼容这些老旧的X11客户端，你可以设为"no"。</p>
<p>     XAuthLocation<br>             指定 xauth(1) 程序的绝对路径。默认值是 /usr/X11R6/bin/xauth</p>
<p><br>时间格式<br>     在 sshd(8) 命令行参数和配置文件中使用的时间值可以通过下面的格式指定：time[qualifier] 。<br>     其中的 time 是一个正整数，而 qualifier 可以是下列单位之一：<br>           &lt;无&gt;    秒<br>           s | S   秒<br>           m | M   分钟<br>           h | H   小时<br>           d | D   天<br>           w | W   星期</p>
<p>     可以通过指定多个数值来累加时间，比如：<br>           1h30m   1 小时 30 分钟 (90 分钟)</p>
<p><br>文件<br>     /etc/ssh/sshd_config<br>             sshd(8) 的主配置文件。这个文件的宿主应当是root，权限最大可以是"644"。</p></div><div id="MySignature" style="display: block;">一天一天的满足，即一天一天的堕落！</div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(6226488,cb_blogId,1);green_channel_success(this,'谢谢推荐！');">好文要顶</a>
            <a id="green_channel_follow" onclick="follow('cbe34f88-fcb3-e011-8673-842b2b196315');" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/wangliangblog/" target="_blank"><img src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/sample_face.gif" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/wangliangblog/">莘莘学子</a><br>
            <a href="http://home.cnblogs.com/u/wangliangblog/followees">关注 - 1</a><br>
            <a href="http://home.cnblogs.com/u/wangliangblog/followers">粉丝 - 2</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow('cbe34f88-fcb3-e011-8673-842b2b196315');return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(6226488,'Digg')">
        <span class="diggnum" id="digg_count">0</span>
    </div>
    <div class="buryit" onclick="votePost(6226488,'Bury')">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
<script type="text/javascript">
    currentDiggType = 0;
</script></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="https://www.cnblogs.com/wangliangblog/p/6225862.html" class="p_n_p_prefix">« </a> 上一篇：<a href="https://www.cnblogs.com/wangliangblog/p/6225862.html" title="发布于2016-12-27 14:47">SSH的通讯和认证</a><br><a href="https://www.cnblogs.com/wangliangblog/p/6229141.html" class="p_n_p_prefix">» </a> 下一篇：<a href="https://www.cnblogs.com/wangliangblog/p/6229141.html" title="发布于2016-12-28 13:33">在Linux下用C语言实现短信收发</a><br></div>
</div>


		</div>
		<div class="postDesc">posted @ <span id="post-date">2016-12-27 16:48</span> <a href="https://www.cnblogs.com/wangliangblog/">莘莘学子</a> Views(<span id="post_view_count">6525</span>) Comments(<span id="post_comment_count">0</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=6226488" rel="nofollow">Edit</a> <a href="#" onclick="AddToWz(6226488);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=93275,cb_entryId=6226488,cb_blogApp=currentBlogApp,cb_blogUserGuid='cbe34f88-fcb3-e011-8673-842b2b196315',cb_entryCreatedDate='2016/12/27 16:48:00';loadViewCount(cb_entryId);var cb_postType=1;var isMarkdown=false;</script>
	
</div>
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login('commentform');">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-工控')">【推荐】超50万C++/C#源码: 大型实时仿真组态图形源码</a><br><a href="https://www.bagevent.com/event/2195041?bag_track=13072958" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-看雪')">【活动】看雪2019安全开发者峰会，共话安全领域焦点</a><br><a href="https://ke.qq.com/adActivity.html?name=xiangxueketang2" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-享学')">【培训】Java程序员年薪40W，他1年走了别人5年的路</a><br></div>
<div id="opt_under_post"></div>
<script async="async" src="sshd_config%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3%20-%20%E8%8E%98%E8%8E%98%E5%AD%A6%E5%AD%90%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/gpt.js"></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id="cnblogs_c1" class="c_ad_block">
    <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;" data-google-query-id="CLCwqO7cm-ICFdViYAoddsMLtw"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C1_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C1_0" scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;" srcdoc="" data-google-container-id="1" data-load-complete="true" width="300" height="250" frameborder="0"></iframe></div></div>
</div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>相关博文：</b><br>·  <a href="https://www.cnblogs.com/zyd112/p/7018394.html" target="_blank" onclick="clickRecomItmem(7018394)">sshd_config配置详解</a><br>·  <a href="https://www.cnblogs.com/zdit-blog/p/8462388.html" target="_blank" onclick="clickRecomItmem(8462388)">sshd_config 配置文件参数详解</a><br>·  <a href="https://www.cnblogs.com/NiceTime/p/10025698.html" target="_blank" onclick="clickRecomItmem(10025698)">sshd_config配置注释</a><br>·  <a href="https://www.cnblogs.com/zhouhbing/p/4284343.html" target="_blank" onclick="clickRecomItmem(4284343)">sshd_config OpenSSH SSH 进程配置文件配置说明</a><br>·  <a href="https://www.cnblogs.com/bignode/p/9263312.html" target="_blank" onclick="clickRecomItmem(9263312)">sshd_config详解</a><br></div></div>
<div id="cnblogs_c2" class="c_ad_block">
    <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;" data-google-query-id="CLGwqO7cm-ICFdViYAoddsMLtw"><div id="google_ads_iframe_/1090369/C2_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C2_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C2_0" scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;" srcdoc="" data-google-container-id="2" data-load-complete="true" width="468" height="60" frameborder="0"></iframe></div></div>
</div>
<div id="under_post_kb"><div class="itnews c_ad_block"><b>最新新闻</b>：<br> ·  <a href="https://news.cnblogs.com/n/625287/" target="_blank">谷歌打造“野生字幕君”：不用联网 支持所有应用</a><br> ·  <a href="https://news.cnblogs.com/n/625286/" target="_blank">腾讯天幕：“3+2+N”助力政企云网络安全治理</a><br> ·  <a href="https://news.cnblogs.com/n/625285/" target="_blank">惠普被骗致巨亏88亿案件：Autonomy CFO被判五年牢狱</a><br> ·  <a href="https://news.cnblogs.com/n/625284/" target="_blank">科学家最新发现：月球的体积正在不断变小</a><br> ·  <a href="https://news.cnblogs.com/n/625283/" target="_blank">多名中国开发者入选 FFmpeg 决策委员会</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"><div id="profile_block">昵称：<a href="https://home.cnblogs.com/u/wangliangblog/">莘莘学子</a><br>园龄：<a href="https://home.cnblogs.com/u/wangliangblog/" title="入园时间：2011-07-22">7年9个月</a><br>粉丝：<a href="https://home.cnblogs.com/u/wangliangblog/followers/">2</a><br>关注：<a href="https://home.cnblogs.com/u/wangliangblog/followees/">1</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow('cbe34f88-fcb3-e011-8673-842b2b196315')">+加关注</a></div><script>getFollowStatus('cbe34f88-fcb3-e011-8673-842b2b196315')</script></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="calendar"></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div class="mySearch">
<h3 class="catListTitle">Search</h3>
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="ZZK" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="Google" class="btn_my_zzk"></div>
</div></div><div id="sidebar_shortcut" class="sidebar-block">
<!--
<div class="catListLink">
<h3 class ="catListTitle">常用链接</h3>
<ul>
<li><a href="https://www.cnblogs.com/wangliangblog/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="https://www.cnblogs.com/wangliangblog/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="https://www.cnblogs.com/wangliangblog/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="https://www.cnblogs.com/wangliangblog/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="https://www.cnblogs.com/wangliangblog/tag/" title="我的博客的标签列表">我的标签</a></li>
<li><a id="itemListLink" onclick="this.blur();WarpClass('itemListLink', 'itemListLin_con');return false;" href="#">更多链接</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">
<ul>

</ul>
</div>
</div>
--></div><div id="sidebar_toptags" class="sidebar-block"></div><div id="sidebar_categories">
<div class="catListPostArchive">
<h3 class="catListTitle">Post Archives</h3>

<ul>

<li><a id="CatList_LinkList_0_Link_0" href="https://www.cnblogs.com/wangliangblog/archive/2019/04.html">2019/4 (2)</a> </li>

<li><a id="CatList_LinkList_0_Link_1" href="https://www.cnblogs.com/wangliangblog/archive/2019/03.html">2019/3 (5)</a> </li>

<li><a id="CatList_LinkList_0_Link_2" href="https://www.cnblogs.com/wangliangblog/archive/2018/12.html">2018/12 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_3" href="https://www.cnblogs.com/wangliangblog/archive/2018/10.html">2018/10 (5)</a> </li>

<li><a id="CatList_LinkList_0_Link_4" href="https://www.cnblogs.com/wangliangblog/archive/2018/09.html">2018/9 (2)</a> </li>

<li><a id="CatList_LinkList_0_Link_5" href="https://www.cnblogs.com/wangliangblog/archive/2018/08.html">2018/8 (2)</a> </li>

<li><a id="CatList_LinkList_0_Link_6" href="https://www.cnblogs.com/wangliangblog/archive/2018/07.html">2018/7 (3)</a> </li>

<li><a id="CatList_LinkList_0_Link_7" href="https://www.cnblogs.com/wangliangblog/archive/2018/06.html">2018/6 (7)</a> </li>

<li><a id="CatList_LinkList_0_Link_8" href="https://www.cnblogs.com/wangliangblog/archive/2018/05.html">2018/5 (4)</a> </li>

<li><a id="CatList_LinkList_0_Link_9" href="https://www.cnblogs.com/wangliangblog/archive/2018/04.html">2018/4 (2)</a> </li>

<li><a id="CatList_LinkList_0_Link_10" href="https://www.cnblogs.com/wangliangblog/archive/2018/03.html">2018/3 (3)</a> </li>

<li><a id="CatList_LinkList_0_Link_11" href="https://www.cnblogs.com/wangliangblog/archive/2018/02.html">2018/2 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_12" href="https://www.cnblogs.com/wangliangblog/archive/2017/11.html">2017/11 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_13" href="https://www.cnblogs.com/wangliangblog/archive/2017/08.html">2017/8 (3)</a> </li>

<li><a id="CatList_LinkList_0_Link_14" href="https://www.cnblogs.com/wangliangblog/archive/2017/07.html">2017/7 (3)</a> </li>

<li><a id="CatList_LinkList_0_Link_15" href="https://www.cnblogs.com/wangliangblog/archive/2017/06.html">2017/6 (5)</a> </li>

<li><a id="CatList_LinkList_0_Link_16" href="https://www.cnblogs.com/wangliangblog/archive/2017/02.html">2017/2 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_17" href="https://www.cnblogs.com/wangliangblog/archive/2016/12.html">2016/12 (4)</a> </li>

<li><a id="CatList_LinkList_0_Link_18" href="https://www.cnblogs.com/wangliangblog/archive/2016/02.html">2016/2 (2)</a> </li>

<li><a id="CatList_LinkList_0_Link_19" href="https://www.cnblogs.com/wangliangblog/archive/2016/01.html">2016/1 (1)</a> </li>

</ul>

</div>

</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap" style="display: none;">
<div class="catListComment">
<h3 class="catListTitle">Recent Comments</h3>

	<div id="RecentCommentsBlock"></div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">Top Posts</h3>
	<div id="TopViewPostsBlock"><ul><li><a href="https://www.cnblogs.com/wangliangblog/p/6226488.html">1. sshd_config配置详解(6525)</a></li><li><a href="https://www.cnblogs.com/wangliangblog/p/8966536.html">2. ps命令参数(5721)</a></li><li><a href="https://www.cnblogs.com/wangliangblog/p/5213853.html">3. linux安装tacacs+服务器(3588)</a></li><li><a href="https://www.cnblogs.com/wangliangblog/p/9729104.html">4. grep匹配字符串(3267)</a></li><li><a href="https://www.cnblogs.com/wangliangblog/p/9339922.html">5. linux下查看网卡速率(2542)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap" style="display: none;">
<!--
<div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock"></div>
</div>
-->
</div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap" style="display: none;">
<h3 class="catListTitle">推荐排行榜</h3>
<div class="RecentComment">
	<div id="TopDiggPostsBlock"></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2019 莘莘学子
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->



<iframe id="google_osd_static_frame_1188665320479" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe></body></html>