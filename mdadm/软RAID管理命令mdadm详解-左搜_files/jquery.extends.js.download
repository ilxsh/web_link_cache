/**
 * jquery自定义扩展函数
 */
$.fn.extend({ 
	/**
	 * 验证手机号码
	 */
	v_phone:function(){
		var val=$(this).val();
		var reg=/(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/;
		if(reg.test(val)){
			return true;
		}else{
			return false;
		}
	}
});

$.fn.extend({
	/**
	 * 验证手邮箱
	 */
	v_email:function(){
		var val=$(this).val();
		var reg= /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
		if(reg.test(val)){
			return true;
		}else{
			return false;
		}
	}
});
$.fn.extend({
	/****
	 * 验证用户名称
	 * 中文/字母/.长度1-20
	 */
	v_name:function(){
		var val=$(this).val();
		var reg= /^([\u4e00-\u9fa5]|[a-z]|[A-Z]|\.){1,20}$/;
		if(reg.test(val)){
			return true;
		}else{
			return false;
		}
	}
});
/***
 * 时间搓转换为日期格式
 */
(function($){
	$.timestamp2string=$.timestamp2string||{};
	/****
	 * 注意时间戳是  毫秒
	 */
	$.timestamp2string = function(timestamp,format){
		Date.prototype.format = function(format) {
		       var date = {
		              "M+": this.getMonth() + 1,
		              "d+": this.getDate(),
		              "h+": this.getHours(),
		              "m+": this.getMinutes(),
		              "s+": this.getSeconds(),
		              "q+": Math.floor((this.getMonth() + 3) / 3),
		              "S+": this.getMilliseconds()
		       };
		       if (/(y+)/i.test(format)) {
		              format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));
		       }
		       for (var k in date) {
		              if (new RegExp("(" + k + ")").test(format)) {
		                     format = format.replace(RegExp.$1, RegExp.$1.length == 1
		                            ? date[k] : ("00" + date[k]).substr(("" + date[k]).length));
		              }
		       }
		       return format;
		}
		
		var newDate = new Date();
		newDate.setTime(timestamp);
		return newDate.format(format)
	}
})(jQuery);
/**
 * 计算字符串的字节长度
 */
(function($){
	$.byteLength=$.byteLength||{};
	$.byteLength=function(str){
		 var realLength = 0;  
		    for (var i = 0; i < str.length; i++)   
		    {  
		        charCode = str.charCodeAt(i);  
		        if (charCode >= 0 && charCode <= 128)   
		        realLength += 1;  
		        else   
		        realLength += 2;  
		    }  
		    return realLength;  
	}
})(jQuery);