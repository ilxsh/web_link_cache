/**
 * 注意,当前插件依赖jquery
 * 使用方法
 * 1.引入当前js
 * 2.div参照
 * <div class="bdsharebuttonbox" data-url='http://www.baidu.com' data-text="分享标题" data-desc="分享说明"></div>
 * 3.如果为ajax异步加载内容,请加载内容后用以下代码再次初始化一次
 *	$.baidushare_init();
 */
//全局变量，动态的文章ID
var baiduShareUrl = "";
var baiduShareText ="";
var baiduShareDesc ="";
$(function(){
	baiduShareCreate();
	$(document).on('mouseover','.bdsharebuttonbox',function(){
		  baiduShareUrl = $(this).attr("data-url");
		  baiduShareText =$(this).attr("data-text");
		  baiduShareDesc =$(this).attr("data-desc");
	 })
})

function baiduShareCreate(){
	var $qq='<a href="#" class="bds_sqq"    data-cmd="sqq"    title="分享到QQ好友"></a>';
	var $qzone='<a href="#" class="bds_qzone"  data-cmd="qzone"  title="分享到QQ空间"></a>';
	var $sina='<a href="#" class="bds_tsina"  data-cmd="tsina"  title="分享到新浪微博"></a>';
	var $weixin='<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>';
	var $count='<a class="shareCount"></a>';//显示分享数量
	$('.bdsharebuttonbox').html('');
	$('.bdsharebuttonbox').append($qq).append($qzone).append($sina).append($weixin);
}
window._bd_share_config={
		"common":{
			"bdSnsKey":{},
			"bdText":"",
			"bdMini":"1",
			"bdMiniList":["qzone","tsina","weixin","sqq"],
			"bdPic":"",
			"bdDes":"",
			"bdStyle":"0",
			"bdSize":"24",
			"onBeforeClick":function(cmd,config){ 
				  return {
				  "bdUrl": baiduShareUrl,
				  "bdText": baiduShareText,
				  "bdDesc": baiduShareDesc
				 }
			}
		},
		"share":{}
		};
		with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
	//扩展初始化函数	
(function($){
	$.baidushare_init=$.baidushare_init||{};
	$.baidushare_init = function() 
	{
		baiduShareCreate(); 
		if(window._bd_share_main){
			window._bd_share_main.init();
		}
	}
})(jQuery);