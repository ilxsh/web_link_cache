try{var AN_TAG_LIB=function AN_taqgingObject(){var R=navigator.userAgent.toLowerCase();
this.browser={version:(R.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(R),opera:/opera/.test(R),msie:/msie/.test(R)&&!/opera/.test(R),mozilla:/mozilla/.test(R)&&!/(compatible|webkit)/.test(R),chrome:/chrome/.test(R)};
var G="4.1.7";
var af="<3RDPARTYIDS>";
var f=new Array();
var b=new Array();
var N=new Array();
var A=true;
var E=0;
var q=0;
var m=new Array();
var M=new Array();
var x=0;
var d=0;
var t=false;
var B=new Date();
var am;
var e=true;
var F=false;
var ai=new Array();
var k;
var T;
var p;
var r=new Array();
var l;
var ah=0;
var c=0;
var U=false;
var o=false;
var H=false;
var g=false;
var ab=false;
var Z="anTD4";
var h="anTRD";
var S="anTHS";
var n="optout";
var D=":";
var P=",";
var L="#";
var z="|";
var al="_";
var s="<VALUE>";
var ad="<TERMS>";
var aa="<RND>";
var a="<VID>";
var j=1;
var ag=2;
var Y=3;
var ac=1;
var X=2;
var y=3;
var C=1;
var K=2;
var W=3;
var Q=3000;
var J=5;
var O=1440;
var i=2;
var w="https://pbid.pro-market.net/engine?site=<PPID>;mimetype=img;ddar";
var I=".pro-market.net";
var v="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz ";
var aj=7;
var V=90;
var ak=new RegExp(a,"gi");
var u=999998;
this.AN_StaticCategoryNetworks=function(aq,ao,ar,an,at,ap){this.catID=aq;
this.catTimeFactor=ao;
this.networks=ar;
this.expireDate=an;
this.parentId=at;
this.segPriority=ap
};
this.AN_StaticPP=function(an,ap,au,at,ao,ar,aq){this.profileProvider=an;
this.ppType=ap;
this.maxTags=au;
this.isBackGroundRedirect=at;
this.backGroundedirectInterval=ao;
this.backGroundeMaxredirect=Number(ar);
this.groupRedirectInterval=aq;
this.isGroupRedirect=(this.groupRedirectInterval>0)
};
this.AN_StaticNetwork=function(ao,at,az,aw,ax,aA,aq,ar,av,au,aB,ay,ap,an){this.id=ao;
this.active=at;
this.disabled=false;
this.dataType=az;
this.DuCatIdType=aw;
this.encodeKey=ax;
this.networkUrl=aA;
this.networkSecuredUrl=aq;
this.htmlType=ar;
this.maxTermsInURL=av;
this.termDelimiter=aB;
this.distributionDelay=au;
this.priority=ay;
this.externalRedirects=ap;
this.anCategoriesToNetworkCategories=an
};
this.CookieSyncTag=function(ar,ap,aq,ao,an){this.dataUserId=ar;
this.DuPriority=ap;
this.isCSync=true;
this.tagType=aq;
this.dataUserSecuredUrl=ao;
this.dataUserCSyncDays=an
};
this.ProspectSyncNetwork=function(an){this.networkId=an;
this.isProspect=false
};
m._107648=new AN_StaticPP(107648,i,0,true,200,4,0);
m._110930=new AN_StaticPP(110930,i,16,false,0,0,0);
m._119694=new AN_StaticPP(119694,i,4,false,0,0,0);
m._121321=new AN_StaticPP(121321,i,4,false,0,0,0);
m._121322=new AN_StaticPP(121322,i,4,false,0,0,0);
m._122270=new AN_StaticPP(122270,i,0,true,200,4,0);
m._125361=new AN_StaticPP(125361,i,16,false,0,0,0);
m._131894=new AN_StaticPP(131894,i,4,false,0,0,0);
m._133036=new AN_StaticPP(133036,i,4,false,0,0,0);
f._1=new AN_StaticNetwork(1,false,j,W,0,"not_data_DU","",ac,1,0,"",5,0,{});
f._7=new AN_StaticNetwork(7,false,j,W,0,"not_data_DU","",ac,0,0,"",12,0,{});
f._9=new AN_StaticNetwork(9,false,j,W,0,"not_data_DU","",ac,1,0,"",13,0,{});
f._10=new AN_StaticNetwork(10,false,j,W,0,"not_data_DU","",ac,1,0,"",14,0,{});
f._13=new AN_StaticNetwork(13,false,j,W,0,"not_data_DU","",ac,1,0,"",4,2,{});
f._15=new AN_StaticNetwork(15,false,j,W,0,"not_data_DU","",ac,1,0,"",8,0,{});
f._16=new AN_StaticNetwork(16,false,j,W,0,"not_data_DU","",ac,1,0,"",7,0,{});
f._18=new AN_StaticNetwork(18,false,j,W,0,"not_data_DU","",ac,1,0,"",20,0,{});
f._19=new AN_StaticNetwork(19,false,j,W,0,"not_data_DU","",ac,99,0,"/int=",16,0,{});
f._24=new AN_StaticNetwork(24,false,j,W,0,"not_data_DU","",ac,1,0,"",10,0,{});
f._25=new AN_StaticNetwork(25,false,j,W,0,"not_data_DU","",ac,1,0,"",18,0,{});
f._33=new AN_StaticNetwork(33,false,j,C,0,"not_data_DU","",ac,1,0,"",1,0,{});
f._53=new AN_StaticNetwork(53,false,j,W,0,"not_data_DU","",ac,1,0,"",2,0,{});
f._67=new AN_StaticNetwork(67,false,j,W,0,"not_data_DU","",ac,1,0,"",17,0,{});
f._73=new AN_StaticNetwork(73,false,j,C,0,"not_data_DU","",ac,1,0,"",3,0,{});
f._81=new AN_StaticNetwork(81,false,j,W,0,"not_data_DU","",ac,1,0,"",11,0,{});
f._85=new AN_StaticNetwork(85,false,j,C,0,"not_data_DU","",ac,1,0,"",9,0,{});
f._88=new AN_StaticNetwork(88,false,j,W,0,"not_data_DU","",ac,1,0,"",19,0,{});
f._89=new AN_StaticNetwork(89,false,j,W,0,"not_data_DU","",ac,1,0,"",6,0,{});
f._91=new AN_StaticNetwork(91,false,j,W,0,"not_data_DU","",ac,1,0,"",15,0,{});
M.push(new CookieSyncTag(33,1,1,"https://sync.intentiq.com/profiles_engine/ProfilesEngineServlet?at=20&dpi=3&pcid=<VID><3RDPARTYIDS>",0));
M.push(new CookieSyncTag(53,2,1,"https://cm.g.doubleclick.net/pixel?google_nid=datonics&google_cm&google_sc",0));
M.push(new CookieSyncTag(73,3,1,"https://pixel-sync.sitescout.com/connectors/datonics/usersync?redir=https://pbid.pro-market.net/engine?du=73%26mimetype=img%26csync={userId}",0));
M.push(new CookieSyncTag(13,4,1,"https://secure.adnxs.com/getuid?https://pbid.pro-market.net/engine?du=13;csync=$UID;mimetype=img",0));
M.push(new CookieSyncTag(1,5,1,"https://match.adsrvr.org/track/cmf/generic?ttd_pid=9hr4p8g&ttd_tpi=1",0));
M.push(new CookieSyncTag(89,6,1,"https://idsync.rlcdn.com/400646.gif?partner_uid=<VID>",0));
M.push(new CookieSyncTag(16,7,1,"https://pm.w55c.net/ping_match.gif?st=[MATCH_PARTNER]&rurl=https%3A%2F%2Fpbid.pro-market.net%2Fengine%3Fsite%3D159196%26size%3D1x1%26du%3D16%26csync%3D_wfivefivec_",0));
M.push(new CookieSyncTag(15,8,1,"https://contextual.media.net/cksync.php?cs=1&type=dat&ovsid=setstatuscode&redirect=https%3A%2F%2Fpbid.pro-market.net%2Fengine%3Fsite%3D159195%3Bsize%3D1x1%3Bmimetype%3Dimg%3Bdu%3D15%3Bcsync%3D%24%7Bmnetid%7D",0));
M.push(new CookieSyncTag(85,9,1,"https://d.turn.com/r/dd/id/L2NzaWQvMS9jaWQvMjg0NTUxNTUvdC8w/url/https://pbid.pro-market.net/engine?du=85&mimetype=img&csync=$!{TURN_UUID}",0));
M.push(new CookieSyncTag(24,10,1,"https://um.simpli.fi/datonics",0));
M.push(new CookieSyncTag(81,11,1,"https://cms.analytics.yahoo.com/cms?partner_id=DATCS",0));
M.push(new CookieSyncTag(7,12,1,"https://in.xspadvertising.com/sync/datonics?next=https%3A%2F%2Fpbid.pro-market.net%2Fengine%3Fdu%3D7%3Bmimetype%3Dimg%3Bcsync%3D$UID",0));
M.push(new CookieSyncTag(9,13,1,"https://u.acuityplatform.com/us?tpId=63&tpUid=<VID>&redir=https%3A%2F%2Fpbid.pro-market.net%2Fengine%3Fmimetype%3Dimg%26du%3D9%26csync%3D%24UID",0));
M.push(new CookieSyncTag(10,14,1,"https://ce.lijit.com/merge?pid=5067&3pid=<VID>&location=https%3A%2F%2Ffei.pro-market.net%2Fengine%3Fdu%3D10%26csync%3D%5BSOVRNID%5D%26site%3D158974%26size%3D1x1%26mimetype%3Dimg%26rnd%3D",0));
M.push(new CookieSyncTag(91,15,1,"https://aa.agkn.com/adscores/g.pixel?sid=9212294058&puid=<VID>&&bounced=1",0));
M.push(new CookieSyncTag(19,16,1,"https://bcp.crwdcntrl.net/map/c=14750/tp=DTNC/?https://pbid.pro-market.net/engine?mimetype=img&du=19&csync=${profile_id}",0));
M.push(new CookieSyncTag(67,17,1,"https://dpm.demdex.net/ibs:dpid=575&dpuuid=<VID>",0));
M.push(new CookieSyncTag(25,18,1,"https://sync.mathtag.com/sync/img?mt_exid=10019&redir=https%3A%2F%2Fpbid.pro-market.net%2Fengine%3Fdu%3D25%3Bcsync%3D%5BMM_UUID%5D%3Bmimetype%3Dimg",0));
M.push(new CookieSyncTag(88,19,1,"https://beacon.krxd.net/usermatch.gif?partner=datonics&partner_uid=<VID>",0));
var ae={"119761":{"2":true,"14":true},"120697":{"1":true,"18":true,"20":true},"123961":{"1":true,"18":true,"20":true,"6":true,"9":true,"13":true},"123034":{"18":true,"20":true},"117631":{"17":true,"18":true,"69":true}};
this.CookieSyncCookieTag=function(an,ao){this.dataUserId=an;
this.lastSyncDate=ao
};
this.AN_Tag=function(ao,aq,an,ar,ap){this.searchTerm=ao;
this.catID=aq;
this.PPID=an;
this.network=ar;
this.date=ap
};
this.AN_CookieTag=function(ao,aq,an,ap,ar){this.searchTerm=ao;
this.catID=aq;
this.PPID=an;
this.date=ap;
this.networkIds=String(ar)
};
this.AN_NetTag=function(an,ao,ap){this.tags=new Array();
this.network=null;
this.serialNum=ap;
this.catPriority=ao;
this.DuPriority=an;
this.rank=0;
this.isCSync=false
};
this.updateReportCookie=function(aq,an,at,ar){if(!e){SetCookie("anTD","",-1);
SetCookie("anTD","",-1,"pbid.pro-market.net");
SetCookie("anTD2","",-1);
SetCookie("anTD2","",-1,"pbid.pro-market.net");
SetCookie("anTD3","",-1);
SetCookie(h,"",-1);
return
}var ap=ReadCookie(h);
var ao="";
if(ap==""){ap="20141002|"+aq+"."+an+"."+at+"."+ar+"."+G_PUBLISHER_ID
}else{ap=ap+"|"+aq+"."+an+"."+at+"."+ar+"."+G_PUBLISHER_ID
}if(!(ap.length>Q)){SetCookie(h,ap,90)
}};
this.sendCookieReport=function(){if(!e){SetCookie("anTD","",-1);
SetCookie("anTD","",-1,"pbid.pro-market.net");
SetCookie("anTD2","",-1);
SetCookie("anTD2","",-1,"pbid.pro-market.net");
SetCookie("anTD3","",-1);
SetCookie(h,"",-1);
return
}if(am.ppType==i){var ao=document.createElement("img");
ao.width=1;
ao.height=1;
var an=document.getElementsByTagName("body").item(0);
an.appendChild(ao);
ao.src=w.replace("<PPID>",am.profileProvider)+";rn="+randomNum()+";mds=0-"+c;
U=true;
++ah
}};
this.clearCompletedCategories=function(){try{if(!A||o){return
}var an=ReadCookie(Z);
if(an==""){return
}if(an.charAt(an.length-1)=="#"){an=an.substring(0,an.length-1)
}var aw=an.split(L);
var ay="";
for(var ax=0;
ax<aw.length;
ax++){var aC=aw[ax].split(z);
var ao=aC[1].substring(1,aC[1].length);
var ap=aC[2];
var aq=aC[4].split(P);
var ar=aC[3];
var av=findCategory(ao);
if(typeof(av)!="undefined"){var at=av.networks.split(",");
var aB=at.length;
for(var au=0;
au<at.length;
au++){var aE=false;
var aD=true;
var aA=f[al+at[au]];
if(aA.disabled){aB--;
aE=true
}if(aE==false){if(typeof(aA)!="undefined"){aD=aA.active
}if(isFilteredNetwork(ap,at[au])||!aD){aB--
}else{if((aC[0]==undefined||aC[0]=="")&&(aA.dataType==ag||aA.dataType==Y)){aB--
}}}}if(aB>aq.length||O>getSearchAgeInMinutes(ar)){ay+=aw[ax]+L
}}}if(ay.length>0){ay=ay.substring(0,ay.length-1)
}SetCookie(Z,ay,90)
}catch(az){if(ab){alert(az);
throw az
}SetCookie(Z,"",90)
}};
this.networksIdsDiff=function(aw,ax,au){var ap=",";
for(var ar=0;
ar<au.length;
ar++){ap=ap+au[ar].networkIds+","
}var ay=new Array();
for(var ar=0;
ar<aw.length;
ar++){var an=aw[ar];
var az=false;
for(var aq=0;
aq<ax.length;
aq++){if(ax[aq]==an){az=true;
break
}}if(!az){var ao=findNetwork(an);
if(typeof(ao)=="undefined"){continue
}var av=false;
var at=false;
if(ao.disabled!=true){at=true
}if((ao.dataType==ag||ao.dataType==Y)&&ao.active&&at){ay[ay.length]=an
}else{if(ao.dataType==j){if(ap.indexOf(","+an+",")!=-1){av=true
}if(!av&&ao.active&&at){ay[ay.length]=an
}}}}}return ay
};
this.filterDuplicateTags=function(ap){var ao=new Object();
var ar=new Array();
for(var aq=0;
aq<ap.length;
aq++){var an=ap[aq];
if(an.network.dataType==j){if(typeof(ao[an.catID+al+an.network.id])=="undefined"){ar[ar.length]=an
}ao[an.catID+al+an.network.id]=true
}else{if(an.network.dataType==ag){if(typeof(ao[an.searchTerm+al+an.network.id])=="undefined"){ar[ar.length]=an
}ao[an.searchTerm+al+an.network.id]=true
}else{ar[ar.length]=an
}}}return ar
};
this.findTagsByCat=function(aq,an){var ap=new Array();
for(var ao=0;
ao<an.length;
ao++){if(an[ao].catID==aq){ap[ap.length]=an[ao]
}}return ap
};
this.getSentTermsFromCookieTags=function(ao){var an=new Object();
for(var at=0;
at<ao.length;
at++){var aq=ao[at].networkIds.split(P);
for(var ar=0;
ar<aq.length;
ar++){var ap=findNetwork(aq[ar]);
if(typeof(ap)=="undefined"){continue
}if(ap.dataType==ag){an[ao[at].searchTerm+al+ap.id]=true
}}}return an
};
this.buildTagsInfo=function(at){var aB=new Array();
var aF=getSentTermsFromCookieTags(at);
for(var aD=0;
aD<at.length;
aD++){try{var ax=at[aD];
var ao=ax.catID;
var ar=ax.PPID;
var aE=ax.date;
var aH=getSearchAgeInMinutes(aE)/60;
var aw=findCategory(ao);
if(typeof(aw)=="undefined"){continue
}var ay=aw.networks.split(P);
var az=ax.networkIds.split(P);
var an=findTagsByCat(ao,at);
markProspectNetworks(ay);
var ap=networksIdsDiff(ay,az,an);
for(var aA=0;
aA<ap.length;
aA++){var aI=findNetwork(ap[aA]);
if(typeof(aI)=="undefined"){continue
}if(H&&(aI.networkSecuredUrl==""||aI.networkSecuredUrl=="undefined")){continue
}var aG=false;
if(aI.disabled!=true){aG=true
}if(aI.active&&aG){if(ar!=131911&&aI.maxTermsInURL>1&&aI.dataType!=2){var av=expandedCategory(ao);
for(var aq=0;
aq<av.length;
aq++){aw=findCategory(av[aq]);
var au=new AN_Tag(ax.searchTerm,av[aq],ax.PPID,aI,aE);
aB[aB.length]=au
}}else{if(aI.maxTermsInURL>1&&aI.dataType==2){if(typeof(aF[ax.searchTerm+al+aI.id])=="undefined"){var aJ=new AN_Tag(ax.searchTerm,ao,ax.PPID,aI,aE);
aB[aB.length]=aJ;
aF[ax.searchTerm+al+aI.id]=true
}}else{var aJ=new AN_Tag(ax.searchTerm,ao,ax.PPID,aI,aE);
aB[aB.length]=aJ
}}}}}catch(aC){if(ab){alert(aC);
throw aC
}}}return filterDuplicateTags(aB)
};
this.getDataUserTag=function(an,ap){for(var ao=0;
ao<an.length;
ao++){if(an[ao].dataUserId==ap){return an[ao]
}}};
this.getProspectNetwork=function(ao){for(var an=0;
an<b.length;
an++){if(b[an].networkId==ao){return b[an]
}}return null
};
this.markProspectNetworks=function(ao){var an=null;
for(var ap=0;
ap<ao.length;
++ap){an=getProspectNetwork(ao[ap]);
if(isDefined(an)){an.isProspect=true
}}};
this.getNeededCookieSyncTags=function(){var an=new Array();
var at=false;
var aw=false;
if(G_VISITOR_ID=="0"){return an
}var ar=ReadCookie(S);
ar=ar.replace(al,"");
r=buildCSyncInfoFromCookie(ar);
var ay=new Date().getTime();
var ap=24*60*60*1000;
var ao=null;
var aq=null;
var av=null;
var ax=true;
for(var au=0;
au<M.length;
++au){ao=M[au];
aq=getDataUserTag(r,ao.dataUserId);
av=getProspectNetwork(ao.dataUserId);
ax=isDefined(av)?av.isProspect:true;
aw=!(f[al+ao.dataUserId].disabled);
if(ax&&aw){if(isDefined(aq)){var az=(ao.dataUserCSyncDays>0)?ao.dataUserCSyncDays:aj;
if(ay>(parseInt(aq.lastSyncDate)+az*ap)){an.push(ao)
}}else{an.push(ao)
}}}return an
};
this.buildNetTags=function(aD){var aB=new Array();
var aw=null;
var ao=null;
for(var au=0;
au<aD.length;
au++){try{ao=aD[au].network;
if(isFilteredNetwork(aD[au].PPID,ao.id)){continue
}if((aD[au].searchTerm==undefined||aD[au].searchTerm=="")&&(ao.dataType==ag||ao.dataType==Y)){continue
}aw=findLastNetTag(aB,ao.id);
if(aw==null||aw.tags.length>=ao.maxTermsInURL){if(ao.maxTermsInURL==1){var aA=aD[au].catID;
var ar=findCategory(aA).segPriority
}else{ar=null
}aw=new AN_NetTag(ao.priority,ar,(aw==null?1:aw.serialNum+1));
aB.push(aw)
}aw.network=aD[au].network;
aw.tags.push(aD[au])
}catch(ax){if(ab){alert(ax)
}}}var aq=0;
var an=0;
while(aq<aB.length){if(aB[an].tags.length==1){if(aB[an].rank==0){var ap=new Array();
var at=new Array();
for(var ay=an;
ay<aB.length;
ay++){if(aB[an].network.id==aB[ay].network.id){ap[ap.length]=aB[ay];
at[at.length]=ay
}}ap.sort(sortTagBySegPriority);
var av=0;
for(var az=0;
az<ap.length;
az++){av++;
ap[az].serialNum=av;
var aC=at[az];
aB[aC]=ap[az];
aB[aC].rank=calcNetTagRank(aB[aC]);
aq++
}an++
}else{an++
}}else{aB[an].rank=calcNetTagRank(aB[an]);
aq++;
an++
}}return aB
};
this.mergeDusTagsArray=function(){var ap=0;
var an=0;
var ao=T.length+l.length;
p=new Array();
for(var aq=0;
aq<ao;
aq++){if(an<T.length&&ap<l.length){if(T[an].DuPriority<l[ap].DuPriority){p.push(T[an]);
an++
}else{p.push(l[ap]);
ap++
}}else{if(an<T.length){p.push(T[an]);
an++
}else{p.push(l[ap]);
ap++
}}}};
this.findLastNetTag=function(ap,ao){for(var an=ap.length-1;
an>=0;
an--){if(ap[an].network.id==ao){return ap[an]
}}return null
};
this.addCurrentSearch=function(aw){var an=(new Date()).getTime();
var az=false;
if(G_NEW_DATA.length<=0){return
}for(var au=0;
au<G_NEW_DATA.length;
++au){var ay=G_NEW_DATA[au][0];
var ao=G_NEW_DATA[au][1];
for(var aq=0;
aq<ao.length;
++aq){var ar=ao[aq][0];
var ar=encode(ar);
var ax=ao[aq][1];
for(var at=0;
at<ax.length;
at++){if(ax[at]<=0){continue
}az=false;
for(var ap=0;
ap<aw.length;
ap++){var av=aw[ap];
if(ax[at]==av.catID&&ar==av.searchTerm){av.date=an;
av.PPID=ay;
az=true;
break
}}if(!az){aw.push(new AN_CookieTag(ar,ax[at],ay,an,""))
}}}}};
this.buildCSyncInfoFromCookie=function(au){var ao=new Array();
if(au==""||au.length<1){return ao
}var at=au.split(L);
for(var aq=0;
aq<at.length;
aq++){if(at[aq].length<1){continue
}var an=at[aq].split(z);
var ar=an[0];
var ap=an[1];
ao.push(new CookieSyncCookieTag(ar,ap))
}return ao
};
this.buildTagsFromCookie=function(ao){var au=new Array();
if(ao!=""&&ao.length>5){var ay=ao.split((L));
for(var at=0;
at<ay.length;
at++){if(ay[at]!=""&&ay[at].length>5){var aw=ay[at].split(z);
var av=aw[0];
var ap=aw[1].substring(1,aw[1].length);
var ax=aw[2];
var ar=aw[3];
var aq=aw[4];
var an=findCategory(ap);
if(typeof(an)=="undefined"){continue
}if(an.expireDate*24*60>getSearchAgeInMinutes(ar)){au[au.length]=new AN_CookieTag(av,ap,ax,ar,aq)
}}}}return au
};
this.findNetwork=function(an){return f[al+an]
};
this.findCategory=function(an){return N[al+an]
};
this.getSearchAgeInMinutes=function(an){var ao=new Date();
return Number((ao.getTime()-Number(an))/(1000*60))
};
this.isContainsStr=function(aq,ap){var ao=false;
for(var an=0;
an<ap.length;
an++){if(ap[an]==aq){ao=true
}}return ao
};
this.sumDistSlots=function(an){c=0;
for(var ao=0;
ao<an.length;
ao++){c+=1;
if(an[ao].isCSync==false){c+=an[ao].network.externalRedirects
}}U=false;
return
};
this.expandedCategory=function(ao){var aq=new Array();
aq.push(ao);
var ap=findCategory(ao).parentId;
var an=0;
while(an<3&&ap!=undefined&&ap!=""&&ap!=999999){an++;
aq.push(ap);
ap=findCategory(ap).parentId
}return aq
};
this.encode=function(ar,ap){var ao="";
var aq=null;
for(var an=0;
an<ar.length;
++an){aq=v.indexOf(ar.charAt(an));
ao+=v.charAt((aq+Math.pow(an+1,3))%v.length)
}return ao
};
this.decode=function(ar,aq){var ao="";
var ap=null;
for(var an=0;
an<ar.length;
an++){ap=v.indexOf(ar.charAt(an));
ap=(ap-(Math.pow(an+1,3)%v.length))%v.length;
ao+=v.charAt(ap>=0?ap:v.length+ap)
}return ao
};
this.sortNetTagsByRank=function(ao,an){return ao.rank-an.rank
};
this.sortTagBySegPriority=function(ao,an){return ao.catPriority-an.catPriority
};
this.SetCookie=function(au,at,ar,an){if(!A||au==Z){return
}var ap=new Date();
var ao=new Date();
if(ar==null||ar==0){ar=1
}ao.setTime(ap.getTime()+3600000*24*ar);
if(typeof(an)=="undefined"||an==""){an=I
}var aq;
if(at!=""){aq=au+"="+escape(at)+"; Expires="+ao.toGMTString()+"; Domain="+an+";"
}else{aq=au+"=x; Expires="+ao.toGMTString()+"; Domain="+an+";"
}if(browser.chrome===true){aq+=" SameSite=None;"
}document.cookie=aq
};
this.ReadCookie=function(ar){if(!A){return""
}var ap=""+document.cookie;
var aq=ap.indexOf(ar);
if(aq==-1||ar==""){return""
}var an=ap.indexOf(";",aq);
if(an==-1){an=ap.length
}var ao=unescape(ap.substring(aq+ar.length+1,an));
if(ao=="x"){return""
}else{return ao
}};
this.anCatToNetworkCat=function(ao,an){var ar=f[al+ao];
var aq=ar.DuCatIdType;
if(aq==C){return an+""
}var ap=ar.anCategoriesToNetworkCategories[an];
if(aq==K){if(ap!=null&&ap!=""){return ap+""
}else{return an+""
}}if(aq==W){if(ap!=null){return ap+""
}else{return""
}}return""
};
this.calcNetTagRank=function(an){return an.network.priority+an.serialNum*100
};
this.isPageLoad=function(){if(browser.msie||browser.opera||browser.chrome){return(document.readyState==4||document.readyState=="complete")
}else{if(browser.mozilla||browser.safari){return t
}}};
this.isSecuredPage=function(){var an=window.location.href;
return an.indexOf("https://")>-1?true:false
};
this.findCookieTag=function(ar,ao,at){var aq=null;
for(var ap=0;
ap<at.length;
ap++){var an=at[ap];
if(typeof(an)!="undefined"){if(an.searchTerm==ao&&an.catID==ar){aq=an;
break
}}}return aq
};
this.updateCookieCSyncData=function(ap){if(!A){return""
}var at=null;
var aq=null;
var ar=new Date().getTime();
for(var ao=0;
ao<ap.length;
ao++){aq=ap[ao].dataUserId;
at=getDataUserTag(r,aq);
if(isDefined(at)){at.lastSyncDate=ar
}else{r.push(new CookieSyncCookieTag(aq,ar))
}}var an="";
for(var ao=0;
ao<r.length;
ao++){an+=cSyncToCookieStr(r[ao]);
an+=L
}SetCookie(S,an.replace(al,""),V)
};
this.updateCookieNetData=function(au,at){if(!A){return""
}var ap=null;
var an=null;
for(var aq=0;
aq<at.length;
aq++){ap=at[aq];
for(var ao=0;
ao<ap.tags.length;
ao++){an=ap.tags[ao];
var ar=findCookieTag(an.catID,an.searchTerm,au);
if(ar!=null){ar.networkIds+=(ar.networkIds==""?"":P)+ap.network.id
}else{if(ab){alert("netTag not in cookie: "+an.searchTerm+", "+an.catID)
}}}}setCookieData(au)
};
this.setCookieData=function(ao){var an=cookieTagsToStr(ao);
if(an.length>Q){ao=removeOldTags(ao);
an=cookieTagsToStr(ao)
}SetCookie(Z,an,90)
};
this.removeOldTags=function(aq){var ao=new Array();
aq=aq.sort(sortByDate);
var an=J;
for(var ap=0;
ap<aq.length;
ap++){if(ap>an){ao[ao.length]=aq[ap]
}}return ao
};
this.sortByDate=function(ao,an){return ao.date-an.date
};
this.cookieTagsToStr=function(ap){var an="";
for(var ao=0;
ao<ap.length;
ao++){an=an+tagToCookieStr(ap[ao])+L
}an=an.substring(0,an.length-1);
return an
};
this.tagToCookieStr=function(an){var ao=an.searchTerm+z+al+an.catID+z+an.PPID+z+an.date+z+an.networkIds;
return ao
};
this.cSyncToCookieStr=function(ao){var an=ao.dataUserId+z+ao.lastSyncDate;
return an
};
this.sendCSyncTag=function(aq){var an=aq.dataUserSecuredUrl;
var ao;
var ap="";
if(G_VISITOR_ID!="0"){an=an.replace(ak,G_VISITOR_ID)
}else{an=an.replace(ak,"").replace(/&pcid=/g,"")
}if(af!="undefined"){an=an.replace(af,G_IIQ_3RD)
}ao=aq.tagType;
sendUrl(an,ao);
updateReportCookie(aq.dataUserId,am.profileProvider,u,ap)
};
this.sendNetTagToPartner=function(aA){var aq=aA.network;
var ay=new Array();
var ap=new Array();
var az=new Array();
var aE=null;
var ax=null;
var aB=(aq.dataType==j||aq.dataType==Y);
var aw=(aq.dataType==ag||aq.dataType==Y);
for(var av=0;
av<aA.tags.length&&av<aq.maxTermsInURL;
av++){ax=aA.tags[av];
if(aB){aE=anCatToNetworkCat(aq.id,ax.catID);
if(aE!=""){var ao=isContainsStr(aE,ap);
if(!ao){ap.push(aE)
}}else{continue
}}if(aw){var aC=isContainsStr(ax.searchTerm,az);
if(!aC){az.push(ax.searchTerm)
}}ay.push(ax)
}if(aw){for(var av=0;
av<az.length;
av++){az[av]=decode(az[av])
}}var au;
if(H){au=aq.networkSecuredUrl
}else{au=aq.networkUrl
}var aD;
if(aB){var at="";
if(aq.id==9){at=chainWithDelim(ap,aq.termDelimiter);
at=at+"}"
}else{if(aq.id==84){at=chainWithDelim(ap,aq.termDelimiter)
}else{at=chainWithDelim(ap,encodeURIComponent(aq.termDelimiter))
}}aD=new RegExp(s,"gi");
au=au.replace(aD,at)
}if(aw){var ar=chainWithDelim(az,encodeURIComponent(aq.termDelimiter));
aD=new RegExp(ad,"gi");
au=au.replace(aD,ar)
}aD=new RegExp(aa,"gi");
var an;
if(H){an="https://"+au.replace(aD,randomNum())
}else{an="http://"+au.replace(aD,randomNum())
}if(G_VISITOR_ID!="0"){an=an.replace(ak,G_VISITOR_ID)
}else{an=an.replace(ak,"").replace(/&pcid=/g,"")
}if(af!="undefined"){an=an.replace(af,G_IIQ_3RD)
}sendUrl(an,aq.htmlType);
for(var av=0;
av<ay.length;
av++){updateReportCookie(ay[av].network.id,ay[av].PPID,ay[av].catID,ay[av].searchTerm)
}};
this.chainWithDelim=function(aq,ao){var an="";
for(var ap=0;
ap<aq.length;
ap++){an+=aq[ap]+(ap+1==aq.length?"":ao)
}return an
};
this.randomNum=function(){return Math.floor(Math.random()*1000000000+1)
};
this.isDefined=function(an){return(typeof an!=="undefined"&&an!=null)
};
this.sendUrl=function(ao,aq){var an=document.getElementsByTagName("body").item(0);
if(document.createElement!=undefined&&an!=undefined&&an.appendChild!=undefined){switch(aq){case ac:element=document.createElement("img");
element.width=1;
element.height=1;
break;
case X:element=document.createElement("iframe");
element.width=0;
element.height=0;
element.scrolling="no";
element.marginWidth=0;
element.marginHeight=0;
element.frameBorder=0;
break;
case y:element=document.createElement("script");
element.type="text/javascript";
break
}an.appendChild(element);
element.src=ao
}else{var ap="";
switch(aq){case ac:ap="<img id='AN_IMAGE_ID' src='"+ao+"' WIDTH='1' HEIGHT='1' BORDER=0/> \n";
break;
case X:ap="<IFRAME id='AN_IFREAM_ID' WIDTH='1' HEIGHT='1' MARGINWIDTH='0' MARGINHEIGHT='0' HSPACE='0' VSPACE='0' FRAMEBORDER='0' SCROLLING='no' src='"+ao+"' ></IFRAME> \n";
break;
case y:ap="<script id='AN_SCRIPT_ID' src='"+ao+"'><\/script> \n";
break
}document.write(ap)
}};
this.updatePageStatus=function(){t=true
};
this.isFilteredNetwork=function(au,ap){if(typeof(ae)!="undefined"){var ao=false,ar=false,an,at;
for(var aq=0;
aq<2;
aq++){an=ae[au];
if(typeof(an)!="undefined"){at=an[ap];
if(typeof(at)!="undefined"){ao=true
}}ar=ar||ao;
ao=false;
if(au!=am.profileProvider){au=am.profileProvider
}else{break
}}return ar
}else{return false
}};
return{anTaggingProcessInit:function(){A=(navigator.cookieEnabled)?true:false;
H=isSecuredPage();
if(typeof navigator.cookieEnabled=="undefined"&&!A){document.cookie="testcookie";
A=(document.cookie.indexOf("testcookie")!=-1)?true:false
}if(document.addEventListener){document.addEventListener("DOMContentLoaded",updatePageStatus,false)
}if(typeof(G_NEW_DATA)=="undefined"){G_NEW_DATA=new Array()
}if(typeof(G_PUBLISHER_ID)=="undefined"){G_PUBLISHER_ID=0
}if(typeof(G_VISITOR_ID)=="undefined"){G_VISITOR_ID=="0"
}if(typeof(G_DU_DIS)=="undefined"){G_DU_DIS=""
}if(typeof(m[al+G_PUBLISHER_ID])=="undefined"){m[al+G_PUBLISHER_ID]=new AN_StaticPP(G_PUBLISHER_ID,i,8,false,0,0,0)
}am=m[al+G_PUBLISHER_ID];
o=AN_TAG_LIB.checkOptout();
if(o==true){return
}if(typeof(G_DU_DIS)!="undefined"&&G_DU_DIS!=""){var an=G_DU_DIS.split(P);
for(var ap=0;
ap<an.length;
ap++){var ao=f[al+an[ap]];
if(typeof(ao)!="undefined"){ao.disabled=true
}}}if(isDefined(b)&&b.length>0){for(var ap=0;
ap<b.length;
++ap){var ao=f[al+b[ap].networkId];
if(isDefined(ao)){ao.active=false
}}}clearCompletedCategories();
if(true){AN_TAG_LIB.startTagingProcess(false)
}},ReadCookie2:function(ar){if(!A){return""
}var ap=""+document.cookie;
var aq=ap.indexOf(ar);
if(aq==-1||ar==""){return""
}var an=ap.indexOf(";",aq);
if(an==-1){an=ap.length
}var ao=unescape(ap.substring(aq+ar.length+1,an));
if(ao=="x"){return""
}else{return ao
}},checkOptout:function(){var an=AN_TAG_LIB.ReadCookie2(n);
return(typeof an!=="undefined"&&an!=null&&an!="")
},backGroundRedirect:function(){var ao=0;
var ar=false;
var at=0;
var aq;
if(typeof l==="undefined"||typeof T==="undefined"||typeof p==="undefined"){return
}if(am.isGroupRedirect){k=buildTagsInfo(ai);
T=buildNetTags(k);
T.sort(sortNetTagsByRank);
l=getNeededCookieSyncTags();
mergeDusTagsArray();
var ap=0;
while(!ar&&ap<p.length){aq=p[ap];
at=1;
if(aq.isCSync!=true){at+=aq.network.externalRedirects
}ao=(am.isGroupRedirect?d:x)+at;
if(ao>am.backGroundeMaxredirect){++ap
}else{ar=true;
E=ap
}}}else{while(!ar&&E<p.length){aq=p[E];
at=1;
if(aq.isCSync!=true){at+=aq.network.externalRedirects
}ao=(am.isGroupRedirect?d:x)+at;
if(ao>am.backGroundeMaxredirect){++E
}else{ar=true
}}}if(am.isBackGroundRedirect&&ar){x+=at;
d+=at;
if(d>=am.backGroundeMaxredirect){d=0
}AN_TAG_LIB.startTagingProcess(true)
}else{var an=false;
if(am.isGroupRedirect){an=(E>=p.length&&d!=0)
}else{an=(E>=p.length||x>am.backGroundeMaxredirect)
}if(an){sendCookieReport()
}}},startTagingProcess:function(aB){if(!isPageLoad()){setTimeout("AN_TAG_LIB.startTagingProcess("+aB+")",50);
return
}var at=am;
var ar="";
if(!F){if(A){if(!o){ar=ReadCookie(Z);
ai=buildTagsFromCookie(ar)
}}else{ai=new Array()
}addCurrentSearch(ai);
k=buildTagsInfo(ai);
if(A){l=getNeededCookieSyncTags()
}else{l=new Array()
}T=buildNetTags(k);
F=true
}if(k.length==0&&T.length==0&&l.length==0){at.isBackGroundRedirect=false;
return
}var av="";
var an=new Array();
var ax=new Array();
T=T.sort(sortNetTagsByRank);
mergeDusTagsArray();
if(!am.isGroupRedirect){if(c==0||U){sumDistSlots(p)
}}else{if(!aB){sumDistSlots(p)
}}if(!aB){G_processStarted=true;
var ay=0;
var au=0;
var ap;
if(typeof(G_PRE_TAGS)!="undefined"&&!g){ay=G_PRE_TAGS;
x=G_PRE_TAGS;
g=true
}for(var aq=0;
ay<at.maxTags&&aq<p.length;
aq++){var ao=p[aq];
var az=ao.isCSync;
if(az){sendCSyncTag(ao);
ax.push(ao);
--c;
++ay
}else{au=1+ao.network.externalRedirects;
ap=au+ay;
if(ap>at.maxTags){continue
}sendNetTagToPartner(ao);
an.push(ao);
c=c-au;
ay=ap
}}E=aq;
updateCookieCSyncData(ax);
if(!o){updateCookieNetData(ai,an)
}}else{if(E<p.length){var aw=p[E];
if(aw.isCSync==true){sendCSyncTag(aw);
ax.push(aw);
++E;
--c
}else{sendNetTagToPartner(aw);
an.push(aw);
c=c-1-aw.network.externalRedirects;
E++
}}updateCookieCSyncData(ax);
if(!o){updateCookieNetData(ai,an)
}}var aA=null;
if(at.isGroupRedirect&&d==0&&an.length>0){sendCookieReport()
}if(!at.isGroupRedirect||(aB&&d!=0)){aA=(at.backGroundedirectInterval>0)?at.backGroundedirectInterval:0
}else{aA=at.groupRedirectInterval
}if(typeof(aA)!="undefined"&&aA!=null){setTimeout("AN_TAG_LIB.backGroundRedirect()",aA)
}else{return
}}}
}();
AN_TAG_LIB.anTaggingProcessInit()
}catch(err){};