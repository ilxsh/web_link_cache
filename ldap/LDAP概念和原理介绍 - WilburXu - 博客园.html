
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="origin" />
    <meta property="og:description" content="LDAP概念和原理介绍 相信对于许多的朋友来说，可能听说过LDAP，但是实际中对LDAP的了解和具体的原理可能还比较模糊，今天就从“什么是LDAP”、“LDAP的主要产品”、“LDAP的基本模型”、“" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <title>LDAP概念和原理介绍 - WilburXu - 博客园</title>
    
    <link rel="stylesheet" href="/css/blog-common.min.css?v=sqi5FxOybx6gjGoG6Zfy1wD-0AwznLNLYOVx7Y9tIN0" />
    <link id="MainCss" rel="stylesheet" href="/skins/coffee/bundle-coffee.min.css?v=pdMIVgsH8kXt-vOWnlL0N20TlHt3UyP9HzGgocfsP4s" />
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/coffee/bundle-coffee-mobile.min.css?v=MGucLWekW6t3A88Ks-YfEzrx4X_hEIpMacbOAC9lJUs" />
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/wilburxu/rss" />
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/wilburxu/rsd.xml" />
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/wilburxu/wlwmanifest.xml" />
    <script src="https://common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script src="/js/blog-common.min.js?v=W8J2DYaUeAZPX2Lx1iRh00kAY9PXrT8UdrrPQB3gEXU"></script>
    <script>
        var currentBlogId = 316783;
        var currentBlogApp = 'wilburxu';
        var cb_enable_mathjax = false;
        var isLogined = false;
    </script>
    
    
    
</head>
<body>
    <a name="top"></a>
    
    
<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a href="https://www.cnblogs.com/wilburxu/"><img id="blogLogo" src="/skins/custom/images/logo.gif" alt="返回主页" /></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/wilburxu/">WilburXu</a>
</h1>
<h2>
Do not go gentle into that gn.
</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="navigator">
			
<ul id="navList">
	<li>
</li>
	<li>

</li>
	<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
	<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/WilburXu">
联系</a></li>
	<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
	<li>
<a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/wilburxu/rss/">
订阅</a>
	
<a id="blog_nav_rss_image" href="https://www.cnblogs.com/wilburxu/rss/">
    <img src="/skins/coffee/images/xml.gif" alt="订阅" />
</a></li>
</ul>



			<div class="blogStats">
				
				<!--done-->
随笔- 
60&nbsp;
文章- 
3&nbsp;
评论- 
20&nbsp;



				
			</div><!--end: blogStats -->
		</div><!--end: navigator 博客导航栏 -->
		<div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class = "postTitle">
			
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/wilburxu/p/9174353.html">LDAP概念和原理介绍</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			
<div id="cnblogs_post_body" class="blogpost-body ">
    <p style="text-align: center;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: center;"><span style="color: #333333; font-family: 'Microsoft YaHei';"><strong><span style="font-size: 18px;">LDAP概念和原理介绍</span></strong></span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px;">相信对于许多的朋友来说，可能听说过LDAP，但是实际中对LDAP的了解和具体的原理可能还比较模糊，今天就从&ldquo;什么是LDAP&rdquo;、&ldquo;LDAP的主要产品&rdquo;、&ldquo;LDAP的基本模型&rdquo;、&ldquo;LDAP的使用案例&rdquo;四个方面来做一个介绍。</span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px;">我们在开始介绍之前先来看几个问题：</span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px; color: #3366ff;"><span style="text-align: justify; text-indent: 21pt; widows: 1;">1.&nbsp;</span><span style="text-align: justify; text-indent: 21pt; widows: 1;">我们日常的办公系统是不是有多个？</span></span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px; color: #3366ff;">2.&nbsp;每个系统之间是不是都有独立的账号密码？</span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px; color: #3366ff;">3.&nbsp;密码多了，有时候半天想不起来哪个密码对应哪个系统？</span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px; color: #3366ff;">4.&nbsp;每次新项目的开发，都需要重新开发和维护一套用户密码？</span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px; color: #3366ff;">5.&nbsp;维护多套系统的用户是不是非常头疼？</span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px;"><span style="color: #262626; text-align: justify; text-indent: 28px; widows: 1;">So，如今大家再也不用为上面的的问题头疼了，因为&ldquo;LDAP统一认证服务&rdquo;已经帮助大家解决这些问题了。那么相信大家对&ldquo;LDAP统一认证服务&rdquo;是干嘛的已经有一个大概的了解了吧？那我们开始今天要讲解的内容吧！</span></span></p>
<p><span style="font-family: 'Microsoft YaHei';"><strong><span style="color: #333333; font-size: 16px;">一、什么是LDAP？</span></strong></span></p>
<p style="margin-left: 30px;"><span style="color: #333333; font-family: 'Microsoft YaHei';"><strong>（一）在介绍什么是LDAP之前，我们先来复习一个东西：&ldquo;什么是目录服务？</strong>&rdquo;</span></p>
<p><span style="color: #333333; font-family: 'Microsoft YaHei';">　　　　1. 目录服务是一个特殊的数据库，用来保存描述性的、基于属性的详细信息，支持过滤功能。</span></p>
<p><span style="color: #333333; font-family: 'Microsoft YaHei';">　　　　2. 是动态的，灵活的，易扩展的。</span></p>
<p><span style="color: #333333; font-family: 'Microsoft YaHei';">　　　　如：<span style="font-size: 14px;">人员组织管理，电话簿，地址簿。</span></span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';"><strong><span style="color: #333333;">（二）了解完目录服务后，我们再来看看LDAP的介绍：</span></strong></span></p>
<p style="margin-left: 60px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px;"><span style="line-height: 170%; color: #404040;">LDAP</span><span style="line-height: 170%; color: #404040;">（Light Directory Access Portocol），</span><span style="line-height: 170%; color: #262626;">它是基于X.500标准的</span><span style="line-height: 170%; color: #404040;">轻量级目录访问协议。</span></span></p>
<p style="margin-left: 60px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px;"><span style="line-height: 170%; color: #404040;">目录是一个为</span><span style="line-height: 170%; color: #069e4e;">查询</span><span style="line-height: 170%; color: #404040;">、</span><span style="line-height: 170%; color: #069e4e;">浏览</span><span style="line-height: 170%; color: #404040;">和</span><span style="line-height: 170%; color: #069e4e;">搜索</span><span style="line-height: 170%; color: #404040;">而优化的数据库，它</span><span style="line-height: 170%; color: #069e4e;">成树状结构组织数据</span><span style="line-height: 170%; color: #404040;">，类似文件目录一样。</span></span></p>
<p style="margin-left: 60px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px;"><span style="line-height: 170%; color: #404040;">目录数据库和关系数据库不同，它有</span><span style="line-height: 170%; color: #069e4e;">优异的读性能</span><span style="line-height: 170%; color: #404040;">，但</span><span style="line-height: 170%; color: #069e4e;">写性能差</span><span style="line-height: 170%; color: #404040;">，并且没有事务处理、回滚等复杂功能，不适于存储修改频繁的数据。所以目录天生是用来查询的，就好象它的名字一样。</span></span></p>
<p style="margin-left: 60px;"><span style="font-family: 'Microsoft YaHei'; font-size: 14px;"><span style="line-height: 170%; color: #404040;">LDAP目录服务是由目录数据库和一套访问协议组成的系统。</span></span></p>
<p style="margin-left: 30px;"><strong><span style="font-family: 'Microsoft YaHei'; font-size: 14px;"><span style="line-height: 170%; color: #404040;">（三）为什么要使用</span></span></strong></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; color: #ff6600;"><span style="font-size: 10.5pt; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 28px; text-align: justify; text-indent: 28px; widows: 1;">LDAP是</span><span style="font-size: 10.5pt; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 28px; text-align: justify; text-indent: 28px; widows: 1;">开放的Internet标准，</span><span style="font-size: 10.5pt; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 28px; text-align: justify; text-indent: 28px; widows: 1;">支持跨平台的</span><span style="font-size: 10.5pt; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 28px; text-align: justify; text-indent: 28px; widows: 1;">Internet</span><span style="font-size: 10.5pt; font-variant-numeric: normal; font-variant-east-asian: normal; line-height: 28px; text-align: justify; text-indent: 28px; widows: 1;">协议，在业界中得到广泛认可的，并且市场上或者开源社区上的大多产品都加入了对LDAP的支持，因此对于这类系统，不需单独定制，只需要通过LDAP做简单的配置就可以与服务器做认证交互。&ldquo;</span><span style="text-align: justify; text-indent: 28px; widows: 1;">简单粗暴</span><span style="font-size: 10.5pt; text-align: justify; text-indent: 28px; widows: 1;">&rdquo;，可以大大降低重复开发和对接的成本。</span></span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';"><span style="color: #262626; font-size: 10.5pt; text-align: justify; text-indent: 28px; widows: 1;">我们拿开源系统（YAPI）做案例，只需做一下简单的几步配置就可以达到LDAP的单点登录认证了：</span></span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<div class="cnblogs_code">
<pre><span style="font-family: 'Microsoft YaHei';"><span style="color: #000000;">{
</span>"ldapLogin"<span style="color: #000000;">: {
      </span>"enable": <span style="color: #0000ff;">true</span><span style="color: #000000;">,
      </span>"server": "ldap://l-ldapt1.ops.dev.cn0.qunar.com"<span style="color: #000000;">,
      </span>"baseDn": "CN=Admin,CN=Users,DC=test,DC=com"<span style="color: #000000;">,
      </span>"bindPassword": "password123"<span style="color: #000000;">,
      </span>"searchDn": "OU=UserContainer,DC=test,DC=com"<span style="color: #000000;">,
      </span>"searchStandard": "mail"<span style="color: #000000;">
   }
}</span></span></pre>
</div>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';"><img style="color: #262626; font-size: 10.5pt; text-align: justify; text-indent: 28px; widows: 1; font-family: 'Microsoft YaHei';" src="https://images2018.cnblogs.com/blog/1062001/201806/1062001-20180612171626256-1719228430.png" alt="" /></span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">是不是很方便呢？</span></p>
<p><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p><strong><span style="font-family: 'Microsoft YaHei'; font-size: 16px;"><span style="color: #262626;">二、</span>LDAP的主要产品</span></strong></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">细心的朋友应该会主要到，LDAP的中文全称是：轻量级目录访问协议，说到底LDAP仅仅是一个访问协议，那么我们的数据究竟存储在哪里呢？</span></p>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">来，我们一起看下下面的表格：</span></p>
<table style="border-color: #8f8f8f; border-width: 0px; background-color: #fefbeb; border-style: solid; margin-left: 30px;" border="0" cellspacing="0" align="left">
<tbody style="margin-left: 30px;">
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="center" width="208">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">厂商</span></p>
</td>
<td style="margin-left: 30px;" valign="center" width="361">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">产品</span></p>
</td>
<td style="margin-left: 30px;" valign="center" width="466">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">介绍</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="top" width="208">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">SUN</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="361">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">SUNONE Directory Server</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="466">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">基于文本数据库的存储，速度快&nbsp;。</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="top" width="208">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">IBM</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="361">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">IBM Directory Server</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="466">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">基于DB2 的的数据库，速度一般。</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="top" width="208">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">Novell</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="361">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">Novell Directory Server</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="466">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">基于文本数据库的存储，速度快, 不常用到。</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="top" width="208">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">Microsoft&nbsp;</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="361">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">Microsoft Active Directory</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="466">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">基于WINDOWS系统用户，对大数据量处理速度一般，但维护容易，生态圈大，管理相对简单。</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="top" width="208">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">Opensource</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="361">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">Opensource</span></p>
</td>
<td style="margin-left: 30px;" valign="top" width="466">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';">OpenLDAP 开源的项目，速度很快，但是非主 流应用。</span></p>
</td>
</tr>
</tbody>
</table>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left; margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left; margin-left: 30px;"><span style="color: #333333; font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left; margin-left: 30px;"><span style="color: #333333; font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left; margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">没错，这就是正常存储数据的地方，而访问这些数据就是通过我们上述所说的LDAP。相信到这里大家应该了解两者之间的关系了吧！</span></p>
<p style="text-align: left;"><strong><span style="font-family: 'Microsoft YaHei'; font-size: 16px;">三、LDAP的基本模型</span></strong></p>
<p style="text-align: left; margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">每一个系统、协议都会有属于自己的模型，LDAP也不例外，在了解LDAP的基本模型之前我们需要先了解几个LDAP的目录树概念：</span></p>
<p style="text-align: left; margin-left: 30px;"><strong><span style="font-family: 'Microsoft YaHei';">（一）目录树概念</span></strong></p>
<p style="text-align: left; margin-left: 60px;"><span style="font-family: 'Microsoft YaHei';">1. 目录树：在一个目录服务系统中，整个目录信息集可以表示为一个目录信息树，<span style="color: #ff0000;">树中的每个节点是一个条目</span>。</span></p>
<p style="text-align: left; margin-left: 60px;"><span style="color: #333333; font-family: 'Microsoft YaHei';">2. <span style="color: #ff0000;">条目：每个条目就是一条记录</span>，每个条目有自己的唯一可区别的名称（DN）。</span></p>
<p style="text-align: left; margin-left: 60px;"><span style="font-family: 'Microsoft YaHei';">3. 对象类：与某个实体类型对应的一组属性，<span style="color: #ff0000;">对象类是可以继承的</span>，这样父类的必须属性也会被继承下来。</span></p>
<p style="text-align: left; margin-left: 60px;"><span style="font-family: 'Microsoft YaHei';">4. 属性：描述条目的某个方面的信息，<span style="color: #ff0000;">一个属性由一个属性类型和一个或多个属性值组成</span>，属性有必须属性和非必须属性。</span></p>
<p style="text-align: left; margin-left: 30px;"><strong><span style="font-family: 'Microsoft YaHei';">（二）DC、UID、OU、CN、SN、DN、RDN</span></strong></p>
<table style="height: 348px; border-color: #a9a7a7; border-width: 0px; background-color: #fefdde; width: 1051px; border-style: solid; margin-left: 30px;" border="0" cellspacing="0" align="left">
<tbody style="margin-left: 30px;">
<tr style="margin-left: 30px;">
<td style="width: 136px; margin-left: 30px;" align="center" valign="bottom">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>关键字</strong></span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="206">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>英文全称</strong></span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="689">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>含义</strong></span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="bottom" width="136">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>dc</strong></span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="206">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">Domain Component</span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="689">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">域名的部分，其格式是将完整的域名分成几部分，如域名为example.com变成dc=example,dc=com（一条记录的所属位置）</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="bottom" width="136">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>uid</strong></span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="206">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">User Id</span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="689">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">用户ID songtao.xu（一条记录的ID）</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="bottom" width="136">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>ou</strong></span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="206">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">Organization Unit</span></p>
</td>
<td style="width: 689px; margin-left: 30px;" align="left" valign="bottom">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">组织单位，组织单位可以包含其他各种对象（包括其他组织单元），如&ldquo;oa组&rdquo;（一条记录的所属组织）</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="bottom" width="136">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>cn</strong></span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="206">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">Common Name</span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="689">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">公共名称，如&ldquo;Thomas Johansson&rdquo;（一条记录的名称）</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="bottom" width="136">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>sn</strong></span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="206">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">Surname</span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="689">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">姓，如&ldquo;许&rdquo;</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="bottom" width="136">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>dn</strong></span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="206">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">Distinguished Name</span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="689">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">&ldquo;uid=songtao.xu,ou=oa组,dc=example,dc=com&rdquo;，一条记录的位置（唯一）</span></p>
</td>
</tr>
<tr style="margin-left: 30px;">
<td style="margin-left: 30px;" valign="bottom" width="136">
<p class="p" style="margin-left: 30px;" align="center"><span style="font-family: 'Microsoft YaHei';"><strong>rdn</strong></span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="206">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">Relative dn</span></p>
</td>
<td style="margin-left: 30px;" valign="bottom" width="689">
<p class="p" style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">相对辨别名，类似于文件系统中的相对路径，它是与目录树结构无关的部分，如&ldquo;uid=tom&rdquo;或&ldquo;cn= Thomas Johansson&rdquo;</span></p>
</td>
</tr>
</tbody>
</table>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left;"><span style="font-family: 'Microsoft YaHei';">&nbsp;</span></p>
<p style="text-align: left; margin-left: 30px;">&nbsp;</p>
<p style="text-align: left; margin-left: 30px;">&nbsp;</p>
<p style="text-align: left; margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';">（三）基本模型：</span></p>
<p style="text-align: left; margin-left: 30px;"><span style="color: #3366ff;"><strong><span style="font-family: 'Microsoft YaHei';">信息模型：</span></strong></span></p>
<p style="text-align: left; margin-left: 30px;"><span style="font-family: 'Microsoft YaHei';"><img src="https://images2018.cnblogs.com/blog/1062001/201806/1062001-20180612173900854-100441654.png" alt="" /></span></p>
<p><span style="font-family: 'Microsoft YaHei';">　　<span style="color: #3366ff;"><strong>命名模型：</strong></span></span></p>
<p><span style="font-family: 'Microsoft YaHei';">　　<img src="https://images2018.cnblogs.com/blog/1062001/201806/1062001-20180612173933742-281200668.png" alt="" /></span></p>
<p><span style="font-family: 'Microsoft YaHei';">　　<span style="color: #3366ff;"><strong>功能模型：</strong></span></span></p>
<p><span style="font-family: 'Microsoft YaHei';">　　<img src="https://images2018.cnblogs.com/blog/1062001/201806/1062001-20180612173953783-517331075.png" alt="" /></span></p>
<p><span style="font-family: 'Microsoft YaHei';">　　<span style="color: #3366ff;"><strong>安全模型：</strong></span></span></p>
<p><span style="font-family: 'Microsoft YaHei';">　　<img src="https://images2018.cnblogs.com/blog/1062001/201806/1062001-20180612174013504-1566978221.png" alt="" /></span></p>
<p><strong><span style="font-family: 'Microsoft YaHei'; font-size: 16px;">四、LDAP的使用</span></strong></p>
<p><span style="font-family: 'Microsoft YaHei';">　　那我们是如何访问LDAP的数据库服务器呢？</span></p>
<p><span style="font-family: 'Microsoft YaHei';">　　<img src="https://images2018.cnblogs.com/blog/1062001/201806/1062001-20180612174219851-465284075.png" alt="" /></span></p>
<p><span style="font-family: 'Microsoft YaHei';">　　<span style="color: #3366ff;">统一身份认证主要是改变原有的认证策略，使需要认证的软件都通过LDAP进行认证，在统一身份认证之后，用户的所有信息都存储在AD Server中。终端用户在需要使用公司内部服务的时候，都需要通过AD服务器的认证。</span></span></p>
<p><span style="font-family: 'Microsoft YaHei';">　　那么程序中是如何访问的呢？ 我们以PHP脚本作为例子：</span></p>
<div class="cnblogs_code">
<pre><span style="font-family: 'Microsoft YaHei';"><span style="color: #800080;">$ldapconn</span> = ldap_connect(&ldquo;10.1.8.78"<span style="color: #000000;">)
</span><span style="color: #800080;">$ldapbind</span> = ldap_bind(<span style="color: #800080;">$ldapconn</span>, 'username', <span style="color: #800080;">$ldappass</span><span style="color: #000000;">);
</span><span style="color: #800080;">$searchRows</span>= ldap_search(<span style="color: #800080;">$ldapconn</span>, <span style="color: #800080;">$basedn</span>, "(cn=*)"<span style="color: #000000;">);
</span><span style="color: #800080;">$searchResult</span> = ldap_get_entries(<span style="color: #800080;">$ldapconn</span>, <span style="color: #800080;">$searchRows</span><span style="color: #000000;">);
ldap_close(</span><span style="color: #800080;">$ldapconn</span>);</span></pre>
</div>
<p style="margin-left: 30px;"><span style="font-family: 'Microsoft YaHei'; line-height: 150%; font-size: 14px;">1. 连接到LDAP服务器；</span></p>
<p style="margin-left: 30px;"><span style="font-size: 14px; font-family: 'Microsoft YaHei';"><span style="line-height: 150%;">2. 绑定到LDAP服务器；</span></span></p>
<p style="margin-left: 30px;"><span style="font-size: 14px; font-family: 'Microsoft YaHei';"><span style="line-height: 150%;">3. 在LDAP服务器上执行所需的任何操作；</span></span></p>
<p style="margin-left: 30px;"><span style="font-size: 14px; font-family: 'Microsoft YaHei';"><span style="line-height: 150%;">4. 释放LDAP服务器的连接；</span></span></p>
<p style="margin-left: 30px;">&nbsp;</p>
<p><span style="font-family: 'Microsoft YaHei';">&nbsp;　　这章就只介绍LDAP的一些概念和基本的原理，代码的操作下一章再展开来讲错或讲的不好的地方，还望指教！~</span></p>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
    <div id="blog_post_info"></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
		</div>
		<div class="postDesc">posted @ 
<span id="post-date">2018-06-12 17:50</span>&nbsp;<a href="https://www.cnblogs.com/wilburxu/">WilburXu</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>) <a href="https://i.cnblogs.com/EditPosts.aspx?postid=9174353" rel="nofollow"> 编辑</a> <a href="javascript:void(0)" onclick="AddToWz(9174353); return false;">收藏</a>
</div>
	</div>
	
	
</div><!--end: topics 文章、评论容器-->
<script src="https://common.cnblogs.com/highlight/9.12.0/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 316783, cb_blogApp = 'wilburxu', cb_blogUserGuid = '866caf7f-e7a7-e611-845c-ac853d9f53ac';
    var cb_entryId = 9174353, cb_entryCreatedDate = '2018-06-12 17:50', cb_postType = 1; 
    loadViewCount(cb_entryId);
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container"></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;"></div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;">
            <script>
                if (new Date() >= new Date(2018, 9, 13)) {
                    googletag.cmd.push(function () { googletag.display("div-gpt-ad-1539008685004-0"); });
                }
            </script>
        </div>
    </div>
    <div id="under_post_kb"></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div></div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<div id="sidebar_news" class="newsItem">
            <script>loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style="display:none"></div><script>loadBlogDefaultCalendar();</script></div>
			
			<DIV id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div>
                    <script>loadBlogSideColumn();</script>
			</DIV>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright &copy; 2019 WilburXu
<br /><span id="poweredby">Powered by .NET Core 3.0.0-preview9-19423-09 on Linux</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


    
</body>
</html>
