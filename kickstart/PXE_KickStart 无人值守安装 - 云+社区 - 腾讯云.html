<!DOCTYPE html><html><head><meta charSet="UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>PXE/KickStart 无人值守安装 - 云+社区 - 腾讯云</title><meta name="keywords" content="运维,FTP"/><meta name="description" content="作为中小公司的运维，经常会遇到一些机械式的重复工作，例如：有时公司同时上线几十甚至上百台服务器，而且需要我们在短时间内完成系统安装。"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover"/><meta name="format-detection" content="telephone=no"/><link rel="stylesheet" href="//imgcache.qq.com/open_proj/proj_qcloud_v2/gateway/portal/css/global-201911291451.css?max_age=31536000"/><link rel="stylesheet" href="//imgcache.qq.com/open_proj/proj_qcloud_v2/community-pc/build/AskDialog/AskDialog-201906131103.css"/><link rel="stylesheet" href="//imgcache.qq.com/open_proj/proj_qcloud_v2/community-pc/build/base/base-202002231902.css?max_age=31536000"/><link rel="stylesheet" href="//imgcache.qq.com/open_proj/proj_qcloud_v2/community-pc/build/Column/Column-202002121921.css?max_age=31536000"/><link rel="stylesheet" href="//imgcache.qq.com/open_proj/proj_qcloud_v2/community/portal/css/markdown-201810241044.css?max_age=31536000"/><link rel="stylesheet" href="//imgcache.qq.com/qcloud/draft-master/dist/draft-master-v1.3.42.css?max_age=31536000"/><style media="screen">@supports (padding:max(0px)){.set-safe-area .com-main{bottom:max(12px,constant(safe-area-inset-bottom));bottom:max(12px,env(safe-area-inset-bottom))}.set-safe-area .com-main-simple-sec{bottom:max(12px,constant(safe-area-inset-bottom));bottom:max(12px,env(safe-area-inset-bottom))}.set-safe-area .com-main-sec{bottom:max(12px,constant(safe-area-inset-bottom));bottom:max(12px,env(safe-area-inset-bottom))}.set-safe-area .com-m-footer{bottom:max(12px,constant(safe-area-inset-bottom));bottom:max(12px,env(safe-area-inset-bottom))}.set-safe-area .com-mobile-body{bottom:max(12px,constant(safe-area-inset-bottom));bottom:max(12px,env(safe-area-inset-bottom))}}@supports (padding:max(0px)){.set-safe-area .support-wrap,.set-safe-area div.body{bottom:max(12px,constant(safe-area-inset-bottom));bottom:max(12px,env(safe-area-inset-bottom))}.set-safe-area .com-responsive-no-ft div.body{bottom:max(12px,constant(safe-area-inset-bottom));bottom:max(12px,env(safe-area-inset-bottom))}}</style></head><body class="bg-color"><div id="react-root"><div class=""><div class="J-header c-nav-wrap c-nav com-2-nav"><div class="c-nav-mod c-nav-mod-pc c-nav-white"><div id="qcTopNavFstLevel" class="J-headerTop c-nav-top" data-nosearch="1" data-nolang="1"><a href="javascript:;" id="qcLeftNavSwitcher" class="c-nav-all-trigger" role="button" hotrep="community.header.trigger"><i class="c-nav-all-trigger-icon"></i><span class="c-nav-all-trigger-text" role="button">菜单</span></a><i class="c-nav-top-divider"></i><a href="/" class="c-nav-bg-logo" hotrep="community.header.cloud_portal"><i>腾讯云</i></a><div class="c-nav-top-operation"><div class="c-nav-top-ctrl"><div class="c-nav-top-links"><a href="/product/ba" class="link-item" hotrep="community.header.ba">备案</a><a href="https://console.cloud.tencent.com" class="link-item" role="button" hotrep="community.header.console">控制台</a></div></div></div></div><div class="J-headerBottom c-nav-bottom responsive"><a href="/developer" class="c-nav-project-logo" hotrep="community.header.logo.community"><i class="c-nav-project-bg-logo">云+社区</i></a><div class="c-nav-bm-categories"><ul class="c-nav-list"><li class="presentation curr"><a href="/developer/column" role="button" hotrep="community.header.nav.column">专栏</a></li><li class="presentation"><a href="/developer/ask" role="button" hotrep="community.header.nav.ask">问答</a></li><li class="presentation"><a href="/developer/salon" role="button" hotrep="community.header.nav.salon">沙龙</a></li><li class="presentation"><a href="/developer/news" role="button" hotrep="community.header.nav.news">快讯</a></li><li class="presentation"><a href="/developer/teams" role="button" hotrep="community.header.nav.teams">团队主页</a></li><li class="presentation"><a href="/developer/devdocs" role="button" hotrep="community.header.nav.devdocs">开发者手册</a></li><li class="presentation"><a href="/developer/timl" role="button" hotrep="community.header.nav.timl">智能钛AI</a></li><li class="presentation split-item"></li><li class="presentation"><a href="/edu/learning?ADTAG=sq.bar" target="_blank" role="button" hotrep="community.header.nav.edu">在线学习中心</a></li><li class="presentation"><a href="/tvp" target="_blank" role="button" hotrep="community.header.nav.tvp">TVP</a></li></ul></div><div class="J-headerBottomRight c-nav-bm-right"><div class="c-nav-bm-search-wrap"><a href="javascript:;" class="c-nav-bm-search-btn" role="button" hotrep="community.header.opensearch.search_icon"><i class="nav-search-icon"></i> 搜索</a><div class="c-nav-bm-search search-icon-rt" role="button" hotrep="community.header.opensearch.search_bar"><input type="text" placeholder="找文章 / 找答案 / 找技术大牛" readonly="" style="cursor:pointer"/><i class="nav-search-icon"></i></div><div class="com-3-nav-search-wrap"><div class="com-search-bar"><label class="com-search"><input type="text" class="search-input" value="" placeholder="找文章 / 找答案 / 找技术大牛" autoComplete="off"/><button type="submit" class="search-btn" hotrep="community.header.search.search_btn">搜索</button><button type="button" class="close-btn" hotrep="community.header.search.close_btn">关闭</button></label></div></div></div><div class="c-nav-bm-btns"><a href="javascript:;" class="c-btn c-nav-bm-btn" hotrep="community.header.bm_btns.write_article">写文章</a><a href="javascript:;" class="c-btn c-nav-bm-btn-hole" hotrep="community.header.bm_btns.ask">提问</a></div><div class="c-nav-bm-text-btns"><a href="javascript:;" class="c-nav-bm-text-btn" hotrep="community.header.login">登录</a><i class="c-nav-divider-dot"></i><a href="/register" target="_blank" class="c-nav-bm-text-btn" hotrep="community.header.register">注册</a></div></div><div class="c-nav-pro-mask" style="display:none"></div></div></div></div><div class="com-header subsite"><div class="header-main"><a href="javascript:;" class="header-menu-trigger" hotrep="community.header.menu_trigger">展开</a><h1 class="header-main-title"></h1></div><div class="header-logo-wrap"><div class="header-logo"><i class="logo-icon logo-community"></i><h1 class="header-title">腾讯云·社区</h1></div></div><nav class="header-extra"><a href="/developer/search" class="header-extra-icon search-entry" hotrep="community.header.search_btn"></a><a href="javascript:;" hotrep="community.header.login">登录</a></nav></div><div class="com-m-side-mask hidden"></div><section class="com-m-side com-2-m-side hidden"><header class="com-m-side-hd"><div class="header-logo-wrap"><a href="/developer" class="header-logo" hotrep="community.header.drawer.home"><i class="logo-icon logo-community"></i><h1 class="header-title">云+社区</h1></a></div><div class="com-m-side-hd-extra"><a href="javascript:;" class="com-m-side-link only-icon"><div class="icon-back"></div></a></div></header><div class="com-m-side-bd"><ul class="com-m-side-nav"><li class="com-m-side-nav-item"><a href="/developer" class="com-m-side-nav-link"><i class="icon-home"></i>首页</a></li><li class="com-m-side-nav-item"><a href="/developer/column" class="com-m-side-nav-link"><i class="icon-column"></i>专栏</a></li><li class="com-m-side-nav-item"><a href="/developer/ask" class="com-m-side-nav-link"><i class="icon-ask"></i>问答</a></li><li class="com-m-side-nav-item"><a href="/developer/salon" class="com-m-side-nav-link"><i class="icon-salon"></i>沙龙</a></li><li class="com-m-side-nav-item"><a href="/developer/news" class="com-m-side-nav-link"><i class="icon-news"></i>快讯</a></li><li class="com-m-side-nav-item"><a href="/developer/teams" class="com-m-side-nav-link"><i class="icon-nonstop"></i>团队主页</a></li><li class="com-m-side-nav-item"><a href="/developer/devdocs" class="com-m-side-nav-link"><i class="icon-devdoc"></i>开发者手册</a></li><li class="com-m-side-nav-item"><a href="/developer/timl" class="com-m-side-nav-link"><i class="icon-ai"></i>智能钛AI</a></li><li class="com-m-side-nav-item split"></li><li class="com-m-side-nav-item"><a href="/edu/learning?ADTAG=sq.sidebar" class="com-m-side-nav-link"><i class="icon-college"></i>在线学习中心</a></li><li class="com-m-side-nav-item"><a href="/tvp" class="com-m-side-nav-link"><i class="icon-tvp"></i>TVP</a></li></ul><div class="com-m-side-idx-link-wrap"><a href="/" class="com-m-side-idx-link">返回腾讯云官网</a></div></div></section><div class="com-sticky-header col-2-sticky-header hidden"><div class="com-inner"><div class="com-sticky-header-main"><div class="com-media author-media"><div class="com-media-object"><a href="/developer/user/1032887" class="author-media-avatar" style="background-image:url(https://ask.qcloudimg.com/avatar/1032887/x1dfac0ngm.png?imageView2/2/w/80)"></a></div><div class="com-media-body"><h3 class="author-media-name" title="KangVcar"><a href="/developer/user/1032887" class="author-media-name-inner">KangVcar</a></h3><a href="/developer/column/4082" class="com-arrow-link author-media-link gray">25<!-- --> 篇文章</a></div></div><span class="header-split"></span><h3 class="header-title" title="PXE/KickStart 无人值守安装">PXE/KickStart 无人值守安装</h3></div><div class="com-sticky-header-extra"><button type="button" class="c-btn l c-btn loading" style="background-color:#f5f5f5;color:#b5b5b5;border:none;cursor:no-drop" hotrep="community.column.article2.follow"><div class="c-loading"><div class="c-loading-inner"><div class="one"></div><div class="two"></div><div class="three"></div></div></div></button><a href="javascript:;" class="c-btn c-btn-hole l" hotrep="community.article-detail.sticky-bar.write_article">写文章</a></div></div></div><div class="J-body col-body pg-2-article"><div class="com-crumb theme2 no-pd"><div class="com-inner"><a href="/developer/column" class="crumb-item" hotrep="community.column.article2.crumb.0">专栏首页</a><span class="crumb-split"></span><a href="/developer/column/4082" class="crumb-item" hotrep="community.column.article2.crumb.2" title="kangvcar">kangvcar</a><span class="crumb-split"></span><span class="crumb-item current" title="PXE/KickStart 无人值守安装">PXE/KickStart 无人值守安装</span></div></div><div class="com-3-layout"><div class="layout-main"><div class="com-widget-operations theme2 J-sharingBar" style="visibility:hidden"><div class="main-cnt"><a href="javascript:;" class="com-opt-link link-like"><i class="com-i-like"></i><span class="text">0</span></a><a href="javascript:;" class="com-opt-link link-bookmark"><i class="com-i-bookmark"></i><span class="text">0</span></a></div><div class="extra-cnt"><span class="com-opt-text share-text">分享</span><ul class="com-share-options"><li><div class="c-bubble-trigger"><a href="javascript:;" class="opt-item"><i class="opt-icon wechat"></i></a><div class="c-bubble c-bubble-right "><div class="c-bubble-inner"><div class="qr-img"></div><p class="qr-txt">分享文章到朋友圈</p></div></div></div></li><li><div class="c-bubble-trigger"><a href="javascript:;" class="opt-item"><i class="opt-icon qq"></i></a><div class="c-bubble c-bubble-right "><div class="c-bubble-inner"><span>分享文章到 QQ</span></div></div></div></li><li><div class="c-bubble-trigger"><a href="javascript:;" class="opt-item"><i class="opt-icon weibo"></i></a><div class="c-bubble c-bubble-right "><div class="c-bubble-inner"><span>分享文章到微博</span></div></div></div></li><li><div class="c-bubble-trigger"><a class="opt-item" href="javascript:;"><i class="opt-icon copy"></i></a><div class="c-bubble c-bubble-right "><div class="c-bubble-inner"><span>复制文章链接到剪贴板</span></div></div></div></li></ul><div class="c-bubble-trigger com-widget-poster"><button class="scan-btn">海报分享</button><div class="c-bubble c-bubble-right "><div class="c-bubble-inner"><div class="qr-img"></div><p class="qr-txt">海报分享</p></div></div></div></div></div><section class="com-2-panel col-2-article J-articlePanel"><div class="col-2-article-header"><h1 class="article-title J-articleTitle"><span>PXE/KickStart 无人值守安装</span></h1><div class="article-infos-wrap"><div class="article-infos"><span class="article-info"><time dateTime="2018-08-08 16:58:45" title="2018-08-08 16:58:45"> 2018-08-08<span class="com-v-box">2018-08-08 16:58:45</span></time></span><span class="article-info">阅读 <!-- -->353</span>0</div><div class="article-infos-extra"></div></div></div><div class="com-markdown-collpase com-markdown-collpase-hide"><div class="com-markdown-collpase-main"><div class="rno-markdown J-articleContent"><h1 id="%E5%AF%BC%E8%A8%80" name="%E5%AF%BC%E8%A8%80">导言</h1><p>作为中小公司的运维，经常会遇到一些机械式的重复工作，例如：有时公司同时上线几十甚至上百台服务器，而且需要我们在短时间内完成系统安装。</p><p>常规的办法有什么？ <em style="font-style:italic">光盘安装系统 ===&gt; 一个服务器 DVD 内置光驱百千块，百台服务器都配光驱就浪费了，因为一台服务器也就开始装系统能用的上，以后用的机会屈指可数。用 USB 外置光驱，插来插去也醉了。</em> U 盘安装系统 ===&gt;还是同样的问题，要一台一台服务器插 U 盘。 * 网络安装系统 (ftp,http,nfs) ===&gt; 这个方法不错，只要服务器能联网就可以装系统了，但还是需要一台台服务器去敲键盘点鼠标。时刻想偷懒的我们，有没有更好的方法！</p><p>高逼格的方法： <em style="font-style:italic">Kickstart</em> Cobbler</p><blockquote><p> 在进入主题前，首先会向大家介绍一下什么是 PXE，PXE 能干什么，Kickstart 是什么，Cobbler 又有什么特别。
 </p></blockquote><h1 id="1.-%E7%AE%80%E4%BB%8B" name="1.-%E7%AE%80%E4%BB%8B">1. 简介</h1><h2 id="1.1-%E4%BB%80%E4%B9%88%E6%98%AF-PXE" name="1.1-%E4%BB%80%E4%B9%88%E6%98%AF-PXE">1.1 什么是 PXE</h2><ul class="ul-level-0"><li>PXE，全名 Pre-boot Execution Environment，预启动执行环境；</li><li>通过网络接口启动计算机，不依赖本地存储设备（如硬盘）或本地已安装的操作系统；</li><li>由 Intel 和 Systemsoft 公司于 1999 年 9 月 20 日公布的技术；</li><li>Client/Server 的工作模式；</li><li>PXE 客户端会调用网际协议 (IP)、用户数据报协议(UDP)、动态主机设定协议(DHCP)、小型文件传输协议(TFTP) 等网络协议；</li><li>PXE 客户端 (client) 这个术语是指机器在 PXE 启动过程中的角色。一个 PXE 客户端可以是一台服务器、笔记本电脑或者其他装有 PXE 启动代码的机器（我们电脑的网卡）。</li></ul><h2 id="1.2-PXE-%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B" name="1.2-PXE-%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B">1.2 PXE 的工作过程</h2><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/nzfyc367ol.jpeg"></span></div></figure><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/tjleco86vm.jpeg"></span></div></figure><ol class="ol-level-0"><li>PXE Client 向 DHCP 发送请求 PXE Client 从自己的 PXE 网卡启动，通过 PXE BootROM(自启动芯片) 会以 UDP(简单用户数据报协议) 发送一个广播请求，向本网络中的 DHCP 服务器索取 IP。
 </li><li>DHCP 服务器提供信息 DHCP 服务器收到客户端的请求，验证是否来至合法的 PXE Client 的请求，验证通过它将给客户端一个 “提供” 响应，这个 “提供” 响应中包含了为客户端分配的 IP 地址、pxelinux 启动程序 (TFTP) 位置，以及配置文件所在位置。
 </li><li>PXE 客户端请求下载启动文件 客户端收到服务器的 “回应” 后，会回应一个帧，以请求传送启动所需文件。这些启动文件包括：pxelinux.0、pxelinux.cfg/default、vmlinuz、initrd.img 等文件。
 </li><li>Boot Server 响应客户端请求并传送文件 当服务器收到客户端的请求后，他们之间之后将有更多的信息在客户端与服务器之间作应答, 用以决定启动参数。BootROM 由 TFTP 通讯协议从 Boot Server 下载启动安装程序所必须的文件 (pxelinux.0、pxelinux.cfg/default)。default 文件下载完成后，会根据该文件中定义的引导顺序，启动 Linux 安装程序的引导内核。
 </li><li>请求下载自动应答文件 客户端通过 pxelinux.cfg/default 文件成功的引导 Linux 安装内核后，安装程序首先必须确定你通过什么安装介质来安装 linux，如果是通过网络安装 (NFS, FTP, HTTP)，则会在这个时候初始化网络，并定位安装源位置。接着会读取 default 文件中指定的自动应答文件 ks.cfg 所在位置，根据该位置请求下载该文件。
  这里有个问题，在第 2 步和第 5 步初始化 2 次网络了，这是由于 PXE 获取的是安装用的内核以及安装程序等，而安装程序要获取的是安装系统所需的二进制包以及配置文件。因此 PXE 模块和安装程序是相对独立的，PXE 的网络配置并不能传递给安装程序，从而进行两次获取 IP 地址过程，但 IP 地址在 DHCP 的租期内是一样的。
 
 </li><li>客户端安装操作系统 将 ks.cfg 文件下载回来后，通过该文件找到 OS Server，并按照该文件的配置请求下载安装过程需要的软件包。 OS Server 和客户端建立连接后，将开始传输软件包，客户端将开始安装操作系统。安装完成后，将提示重新引导计算机。
 </li></ol><h2 id="1.3-%E6%89%B9%E9%87%8F%E8%A3%85%E6%9C%BA%E8%BD%AF%E4%BB%B6%E4%BB%8B%E7%BB%8D" name="1.3-%E6%89%B9%E9%87%8F%E8%A3%85%E6%9C%BA%E8%BD%AF%E4%BB%B6%E4%BB%8B%E7%BB%8D">1.3 批量装机软件介绍</h2><p>Redhat 系主要有两种 Kickstart 和 Cobbler。</p><p>Kickstart 是一种无人值守的安装方式。它的工作原理是在安装过程中记录人工干预填写的各种参数，并生成一个名为 ks.cfg 的文件。如果在自动安装过程中出现要填写参数的情况，安装程序首先会去查找 ks.cfg 文件，如果找到合适的参数，就采用所找到的参数；如果没有找到合适的参数，便会弹出对话框让安装者手工填写。所以，如果 ks.cfg 文件涵盖了安装过程中所有需要填写的参数，那么安装者完全可以只告诉安装程序从何处下载 ks.cfg 文件，然后就去忙自己的事情。等安装完毕，安装程序会根据 ks.cfg 中的设置重启 / 关闭系统，并结束安装。</p><p>Cobbler 集中和简化了通过网络安装操作系统需要使用到的 DHCP、TFTP 和 DNS 服务的配置。Cobbler 不仅有一个命令行界面，还提供了一个 Web 界面，大大降低了使用者的入门水平。Cobbler 内置了一个轻量级配置管理系统，但它也支持和其它配置管理系统集成，如 Puppet，暂时不支持 SaltStack。</p><p><strong>简单的说，Cobbler 是对 kickstart 的封装，简化安装步骤、使用流程，降低使用者的门槛。</strong></p><h2 id="1.4-%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87" name="1.4-%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87">1.4 系统环境准备</h2><pre class="prism-token token language-js">[root@linux-node1 ~]# cat /etc/redhat-release
CentOS release 6.7 (Final)
[root@linux-node1 ~]# uname -r
2.6.32-573.el6.x86_64
[root@linux-node1 ~]# getenforce
Disabled
[root@linux-node1 ~]# /etc/init.d/iptables status
iptables: Firewall is not running.
[root@linux-node1 ~]# ifconfig eth0|awk -F &quot;[ :]+&quot; &#x27;NR==2 {print $4}&#x27;
10.0.0.7
[root@linux-node1 ~]# hostname
linux-node1.example.com</pre><blockquote><p> 注意： <em style="font-style:italic">虚拟机网卡采用 NAT 模式，不要使用桥接模式，因为稍后我们会搭建 DHCP 服务器，在同一局域网多个 DHCP 服务会有冲突。</em> VMware 的 NAT 模式的 dhcp 服务也关闭，避免干扰。 </p></blockquote><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/fe5j5db89f.png"></span></div></figure><h1 id="2.-%E5%AE%89%E8%A3%85-DHCP-%E6%9C%8D%E5%8A%A1" name="2.-%E5%AE%89%E8%A3%85-DHCP-%E6%9C%8D%E5%8A%A1">2. 安装 DHCP 服务</h1><h2 id="2.1-DHCP-%E7%AE%80%E4%BB%8B" name="2.1-DHCP-%E7%AE%80%E4%BB%8B">2.1 DHCP 简介</h2><p>DHCP（Dynamic Host Configuration Protocol，动态主机配置协议）通常被应用在大型的局域网络环境中，主要作用是集中的管理、分配 IP 地址，使网络环境中的主机动态的获得 IP 地址、网关地址、DNS 服务器地址等信息，并能够提升地址的使用率。</p><p><strong>参考文档：</strong><a data-from="10680" href="http://www.zyops.com/dhcp-working-procedure/" target="_blank" rel="nofollow noopener noreferrer"><strong>DHCP 工作过程的六个主要步骤</strong></a></p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/7rzl6uvfnn.jpeg"></span></div></figure><h2 id="2.2-DHCP-%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE" name="2.2-DHCP-%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE">2.2 DHCP 服务安装配置</h2><pre class="prism-token token language-js">[root@linux-node1 ~]# yum -y install dhcp
[root@linux-node1 ~]# rpm -ql dhcp |grep &quot;dhcpd.conf&quot;
/etc/dhcp/dhcpd.conf   # 查看配置文件位置
/usr/share/doc/dhcp-4.1.1/dhcpd-conf-to-ldap
/usr/share/doc/dhcp-4.1.1/dhcpd.conf.sample
/usr/share/man/man5/dhcpd.conf.5.gz
[root@linux-node1 ~]# cat /etc/dhcp/dhcpd.conf
#
# DHCP Server Configuration file.
#   see /usr/share/doc/dhcp*/dhcpd.conf.sample
#   see &#x27;man 5 dhcpd.conf&#x27;
#
[root@linux-node1 ~]# vim /etc/dhcp/dhcpd.conf
subnet 10.0.0.0 netmask 255.255.255.0 {
        range 10.0.0.100 10.0.0.200;
        option subnet-mask 255.255.255.0;
        default-lease-time 21600;
        max-lease-time 43200;
        next-server 10.0.0.7;
        filename &quot;/pxelinux.0&quot;;
}
# 注释
range 10.0.0.100 10.0.0.200;         # 可分配的起始IP-结束IP
option subnet-mask 255.255.255.0;    # 设定netmask
default-lease-time 21600;            # 设置默认的IP租用期限
max-lease-time 43200;                # 设置最大的IP租用期限
next-server 10.0.0.7;                # 告知客户端TFTP服务器的ip
filename &quot;/pxelinux.0&quot;;              # 告知客户端从TFTP根目录下载pxelinux.0文件
[root@linux-node1 ~]# /etc/init.d/dhcpd start
Starting dhcpd:                                            [  OK  ]
[root@linux-node1 ~]# netstat -tunlp|grep dhcp
udp        0      0 0.0.0.0:67                  0.0.0.0:*                               1573/dhcpd</pre><blockquote><p> </p></blockquote><ul class="ul-level-0"><li><strong>本来软件装完后都要加入开机自启动，但这个 Kickstart 系统就不能开机自启动，而且用完后服务都要关闭，防止未来重启服务器自动重装系统了。</strong></li><li><strong>如果机器数量过多的话，注意 dhcp 服务器的地址池，不要因为耗尽 IP 而导致 dhcpd 服务器没有 IP 地址 release 的情况。</strong></li></ul><h2 id="2.3-DHCP-%E6%8C%87%E5%AE%9A%E7%9B%91%E5%90%AC%E7%BD%91%E5%8D%A1" name="2.3-DHCP-%E6%8C%87%E5%AE%9A%E7%9B%91%E5%90%AC%E7%BD%91%E5%8D%A1">2.3 DHCP 指定监听网卡</h2><blockquote><p> 说明：此知识点与本文无关，只是作者用过这个功能，记于此。 <strong>多网卡默认监听 eth0，指定 DHCP 监听 eth1 网卡</strong>
 </p></blockquote><pre class="prism-token token language-js">[root@linux-node1 ~]# vim /etc/sysconfig/dhcpd
# Command line options here
DHCPDARGS=eth1  # 指定监听网卡
[root@linux-node1 ~]# /etc/init.d/dhcpd restart
[root@linux-node1 ~]# tailf /var/log/messages
May 26 14:24:38 Kickstart kernel: e1000: eth1 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: None
May 26 14:29:04 Kickstart dhcpd: Internet Systems Consortium DHCP Server 4.1.1-P1
May 26 14:29:04 Kickstart dhcpd: Copyright 2004-2010 Internet Systems Consortium.
May 26 14:29:04 Kickstart dhcpd: All rights reserved.
May 26 14:29:04 Kickstart dhcpd: For info, please visit https://www.isc.org/software/dhcp/
May 26 14:29:04 Kickstart dhcpd: Not searching LDAP since ldap-server, ldap-port and ldap-base-dn were not specified in the config file
May 26 14:29:04 Kickstart dhcpd: Wrote 0 leases to leases file.
May 26 14:29:04 Kickstart dhcpd: Listening on LPF/eth1/00:0c:29:ea:c1:83/10.0.10.0/24
May 26 14:29:04 Kickstart dhcpd: Sending on   LPF/eth1/00:0c:29:ea:c1:83/10.0.10.0/24
May 26 14:29:04 Kickstart dhcpd: Sending on   Socket/fallback/fallback-net
……</pre><h1 id="3.-%E5%AE%89%E8%A3%85-TFTP-%E6%9C%8D%E5%8A%A1" name="3.-%E5%AE%89%E8%A3%85-TFTP-%E6%9C%8D%E5%8A%A1">3. 安装 TFTP 服务</h1><h2 id="3.1-TFTP-%E7%AE%80%E4%BB%8B" name="3.1-TFTP-%E7%AE%80%E4%BB%8B">3.1 TFTP 简介</h2><p>TFTP（Trivial File Transfer Protocol, 简单文件传输协议）是 TCP/IP 协议族中的一个用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务。端口号为 69。</p><h2 id="3.2-TFTP-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE" name="3.2-TFTP-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE">3.2 TFTP 安装配置</h2><pre class="prism-token token language-js">[root@linux-node1 ~]# yum -y install tftp-server
[root@linux-node1 ~]# vim /etc/xinetd.d/tftp
# default: off
# description: The tftp server serves files using the trivial file transfer \
#       protocol.  The tftp protocol is often used to boot diskless \
#       workstations, download configuration files to network-aware printers, \
#       and to start the installation process for some operating systems.
service tftp
{
        socket_type             = dgram
        protocol                = udp
        wait                    = yes
        user                    = root
        server                  = /usr/sbin/in.tftpd
        server_args             = -s /var/lib/tftpboot # 指定目录，保持默认，不用修改
        disable                 = no # 由原来的yes改为no
        per_source              = 11
        cps                     = 100 2
        flags                   = IPv4
}
[root@linux-node1 ~]# /etc/init.d/xinetd restart
Stopping xinetd:                                           [FAILED]
Starting xinetd:                                           [  OK  ]
[root@linux-node1 ~]# netstat -tunlp|grep 69
udp        0      0 0.0.0.0:69                  0.0.0.0:*                               1106/xinetd
</pre><h1 id="4.-%E9%85%8D%E7%BD%AE-HTTP-%E6%9C%8D%E5%8A%A1" name="4.-%E9%85%8D%E7%BD%AE-HTTP-%E6%9C%8D%E5%8A%A1">4. 配置 HTTP 服务</h1><p>可以用 Apache 或 Nginx 提供 HTTP 服务。Python 的命令 web 服务不行，会有报错。</p><pre class="prism-token token language-js">[root@linux-node1 ~]# yum -y install httpd
[root@linux-node1 ~]# sed -i &quot;277i ServerName 127.0.0.1:80&quot; /etc/httpd/conf/httpd.conf
[root@linux-node1 ~]# /etc/init.d/httpd start
[root@linux-node1 ~]# mkdir /var/www/html/CentOS-6.7
[root@linux-node1 ~]# mount /dev/cdrom /var/www/html/CentOS-6.7/
mount: block device /dev/sr0 is write-protected, mounting read-only
[root@linux-node1 ~]# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda3        19G  2.4G   16G  14% /
tmpfs           491M   16K  491M   1% /dev/shm
/dev/sda1       190M   36M  145M  20% /boot
/dev/sr0        3.7G  3.7G     0 100% /var/www/html/CentOS-6.7
# 不管怎么弄，只要把安装光盘内容能通过web发布即可。因为是演示，如果复制镜像就有点浪费时间。但生产环境就一定要复制了，光盘读取速度有限。</pre><p>浏览器访问<code>http://10.0.0.7/CentOS-6.7/</code>检验配置是否正确。 </p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/ugdjgql62l.png"></span></div></figure><h1 id="5.-%E9%85%8D%E7%BD%AE%E6%94%AF%E6%8C%81-PXE-%E7%9A%84%E5%90%AF%E5%8A%A8%E7%A8%8B%E5%BA%8F" name="5.-%E9%85%8D%E7%BD%AE%E6%94%AF%E6%8C%81-PXE-%E7%9A%84%E5%90%AF%E5%8A%A8%E7%A8%8B%E5%BA%8F">5. 配置支持 PXE 的启动程序</h1><h2 id="5.1-PXE-%E5%BC%95%E5%AF%BC%E9%85%8D%E7%BD%AE%EF%BC%88bootstrap%EF%BC%89" name="5.1-PXE-%E5%BC%95%E5%AF%BC%E9%85%8D%E7%BD%AE%EF%BC%88bootstrap%EF%BC%89">5.1 PXE 引导配置（bootstrap）</h2><blockquote><p> syslinux 是一个功能强大的引导加载程序，而且兼容各种介质。SYSLINUX 是一个小型的 Linux 操作系统，它的目的是简化首次安装 Linux 的时间，并建立修护或其它特殊用途的启动盘。如果没有找到 pxelinux.0 这个文件, 可以安装一下。
 </p></blockquote><pre class="prism-token token language-js">[root@linux-node1 ~]# yum -y install syslinux
[root@linux-node1 ~]# cp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot/
# 复制启动菜单程序文件
[root@linux-node1 ~]# cp -a /var/www/html/CentOS-6.7/isolinux/* /var/lib/tftpboot/
[root@linux-node1 ~]# ls /var/lib/tftpboot/
boot.cat  grub.conf   isolinux.bin  memtest     splash.jpg  vesamenu.c32
boot.msg  initrd.img  isolinux.cfg  pxelinux.0  TRANS.TBL   vmlinuz
# 新建一个pxelinux.cfg目录，存放客户端的配置文件。
[root@linux-node1 ~]# mkdir -p /var/lib/tftpboot/pxelinux.cfg
[root@linux-node1 ~]# cp /var/www/html/CentOS-6.7/isolinux/isolinux.cfg /var/lib/tftpboot/pxelinux.cfg/default</pre><h2 id="5.2-PXE-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-default-%E8%A7%A3%E6%9E%90" name="5.2-PXE-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-default-%E8%A7%A3%E6%9E%90">5.2 PXE 配置文件 default 解析</h2><blockquote><p> 配合虚拟机演示讲解 default 文件。新建一个虚拟机，注意内存需要给 1G。
 </p></blockquote><p>打开电源后，显示如下 </p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/i75pwq1dpb.jpeg"></span></div></figure><p>接下来的画面就是我们熟悉的界面，输入 ESC 可以进入命令行界面。</p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/e552dlhzwk.jpeg"></span></div></figure><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/21de3kwwgu.png"></span></div></figure><pre class="prism-token token language-js">[root@linux-node1 ~]# vim /var/lib/tftpboot/pxelinux.cfg/default
default vesamenu.c32  # 默认加载一个菜单
#prompt 1             # 开启会显示命令行&#x27;boot: &#x27;提示符。prompt值为0时则不提示，将会直接启动&#x27;default&#x27;参数中指定的内容。
timeout 600           # timeout时间是引导时等待用户手动选择的时间，设为1可直接引导，单位为1/10秒。

display boot.msg
# 菜单背景图片、标题、颜色。
menu background splash.jpg
menu title Welcome to CentOS 6.7!
menu color border 0 #ffffffff #00000000
menu color sel 7 #ffffffff #ff000000
menu color title 0 #ffffffff #00000000
menu color tabmsg 0 #ffffffff #00000000
menu color unsel 0 #ffffffff #00000000
menu color hotsel 0 #ff000000 #ffffffff
menu color hotkey 7 #ffffffff #ff000000
menu color scrollbar 0 #ffffffff #00000000

# label指定在boot:提示符下输入的关键字，比如boot:linux[ENTER]，这个会启动label linux下标记的kernel和initrd.img文件。
label linux       # 一个标签就是前面图片的一行选项。
  menu label ^Install or upgrade an existing system
  menu default
  kernel vmlinuz  # 指定要启动的内核。同样要注意路径，默认是/tftpboot目录。
  append initrd=initrd.img # 指定追加给内核的参数，initrd.img是一个最小的linux系统
label vesa
  menu label Install system with ^basic video driver
  kernel vmlinuz
  append initrd=initrd.img nomodeset
label rescue
  menu label ^Rescue installed system
  kernel vmlinuz
  append initrd=initrd.img rescue
label local
  menu label Boot from ^local drive
  localboot 0xffff
label memtest86
  menu label ^Memory test
  kernel memtest
  append -</pre><h1 id="6.-%E9%A2%84%E7%83%AD%E4%B9%8B%E6%89%8B%E5%8A%A8%E7%BD%91%E7%BB%9C%E5%AE%89%E8%A3%85" name="6.-%E9%A2%84%E7%83%AD%E4%B9%8B%E6%89%8B%E5%8A%A8%E7%BD%91%E7%BB%9C%E5%AE%89%E8%A3%85">6. 预热之手动网络安装</h1><p>1、新建一台空白虚拟机，也不要挂载 ISO 镜像，打开电源。</p><p>扩展：DEll R710 服务器开机后，根据提示按 F12，进行 PXE 启动。物理服务器有 4 个网卡，所以还会让选择从哪个网卡启动。 </p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/387bd3oshi.jpeg"></span></div></figure><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/cub410wz22.png"></span></div></figure><p>2、选择第一个选项 </p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/3rz46uisj3.jpeg"></span></div></figure><p>3、选择英语</p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/1ms79xvblx.png"></span></div></figure><p>4、选择美式键盘 </p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/olblva955b.png"></span></div></figure><p>5、选择 URL 方式安装 </p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/w3evaykpj1.png"></span></div></figure><blockquote><p> 注：使用 NFS 的写法 nfs:10.0.0.1:/data/sys/kickstart/ks.cfg
 </p></blockquote><p>6、禁用 IPv6 </p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/efzdrn8wth.png"></span></div></figure><p>7、输入 http 的地址 </p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/8kfhtehqt1.png"></span></div></figure><p>8、接下来和光盘安装一样 </p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/cvoay221tt.jpeg"></span></div></figure><h1 id="7.-%E5%88%9B%E5%BB%BA-ks.cfg-%E6%96%87%E4%BB%B6" name="7.-%E5%88%9B%E5%BB%BA-ks.cfg-%E6%96%87%E4%BB%B6">7. 创建 ks.cfg 文件</h1><p>通常，我们在安装操作系统的过程中，需要大量的和服务器交互操作，为了减少这个交互过程，kickstart 就诞生了。使用这种 kickstart，只需事先定义好一个 Kickstart 自动应答配置文件 ks.cfg（通常存放在安装服务器上），并让安装程序知道该配置文件的位置，在安装过程中安装程序就可以自己从该文件中读取安装配置，这样就避免了在安装过程中多次的人机交互，从而实现无人值守的自动化安装。</p><p>生成 kickstart 配置文件的三种方法： <em style="font-style:italic">方法 1、 每安装好一台 Centos 机器，Centos 安装程序都会创建一个 kickstart 配置文件，记录你的真实安装配置。如果你希望实现和某系统类似的安装，可以基于该系统的 kickstart 配置文件来生成你自己的 kickstart 配置文件。（生成的文件名字叫 anaconda-ks.cfg 位于 / root/anaconda-ks.cfg）</em> 方法 2、Centos 提供了一个图形化的 kickstart 配置工具。在任何一个安装好的 Linux 系统上运行该工具，就可以很容易地创建你自己的 kickstart 配置文件。kickstart 配置工具命令为 redhat-config-kickstart（RHEL3）或 system-config-kickstart（RHEL4，RHEL5）. 网上有很多用 CentOS 桌面版生成 ks 文件的文章，如果有现成的系统就没什么可说。但没有现成的，也没有必要去用桌面版，命令行也很简单。 * 方法 3、阅读 kickstart 配置文件的手册。用任何一个文本编辑器都可以创建你自己的 kickstart 配置文件。</p><h2 id="7.1-%E6%9F%A5%E7%9C%8B-anaconda-ks.cfg" name="7.1-%E6%9F%A5%E7%9C%8B-anaconda-ks.cfg">7.1 查看 anaconda-ks.cfg</h2><pre class="prism-token token language-js">[root@linux-node1 ~]# cat anaconda-ks.cfg
# Kickstart file automatically generated by anaconda.

#version=DEVEL
install
cdrom
lang en_US.UTF-8
keyboard us
network --onboot yes --device eth0 --bootproto static --ip 10.0.0.6 --netmask 255.255.255.0 --gateway 10.0.0.2 --noipv6 --nameserver 10.0.0.2 --hostname centos67
rootpw  --iscrypted $6$2Frfm3Sc/oWdF2Yb$GTS8VbsaeLzAfT46EYJWezKA7VMOnefDAH6anyb12Hu5K1qu1awlpTwBxTjAzXpV/.l983Irdwxo5Rks0QV1p1
firewall --service=ssh
authconfig --enableshadow --passalgo=sha512
selinux --enforcing
timezone --utc Asia/Shanghai
bootloader --location=mbr --driveorder=sda --append=&quot;crashkernel=auto rhgb quiet&quot;
# The following is the partition information you requested
# Note that any partitions you deleted are not expressed
# here so unless you clear all partitions first, this is
# not guaranteed to work
#clearpart --none

#part /boot --fstype=ext4 --asprimary --size=200
#part swap --asprimary --size=1024
#part / --fstype=ext4 --grow --asprimary --size=200

repo --  --baseurl=cdrom:sr0 --cost=100

%packages
@base
@compat-libraries
@core
@debugging
@development
@server-policy
@workstation-policy
python-dmidecode
sgpio
device-mapper-persistent-data
systemtap-client</pre><h2 id="7.2-ks.cfg-%E8%AF%A6%E8%A7%A3" name="7.2-ks.cfg-%E8%AF%A6%E8%A7%A3">7.2 ks.cfg 详解</h2><p>官网文档</p><ul class="ul-level-0"><li>CentOS5 : <a data-from="10680" href="http://www.centos.org/docs/5/html/Installation_Guide-en-US/s1-kickstart2-options.html" target="_blank" rel="nofollow noopener noreferrer">http://www.centos.org/docs/5/html/Installation_Guide-en-US/s1-kickstart2-options.html</a> </li><li>CentOS6 : <a data-from="10680" href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Installation_Guide/s1-kickstart2-options.html" target="_blank" rel="nofollow noopener noreferrer">https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Installation_Guide/s1-kickstart2-options.html</a> 官网自带中文版，选一下语言即可 <code>ks.cfg</code>文件组成大致分为 3 段</li><li>命令段 键盘类型，语言，安装方式等系统的配置，有必选项和可选项，如果缺少某项必选项，安装时会中断并提示用户选择此项的选项
 </li><li>软件包段
 </li></ul><pre class="prism-token token language-js">%packages
@groupname：指定安装的包组
package_name：指定安装的包
-package_name：指定不安装的包</pre><p>在安装过程中默认安装的软件包，安装软件时会自动分析依赖关系。</p><ul class="ul-level-0"><li>脚本段 (可选)</li></ul><pre class="prism-token token language-js">%pre:安装系统前执行的命令或脚本(由于只依赖于启动镜像，支持的命令很少)
%post:安装系统后执行的命令或脚本(基本支持所有命令)</pre><div class="table-wrapper"><table><thead><tr><th style="text-align:left"><div class="table-header"><p>关键字</p></div></th><th style="text-align:left"><div class="table-header"><p>含义</p></div></th></tr></thead><tbody><tr><td style="text-align:left"><div class="table-cell"><p>install</p></div></td><td style="text-align:left"><div class="table-cell"><p>告知安装程序，这是一次全新安装，而不是升级upgrade。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>url --url=&quot; &quot;</p></div></td><td style="text-align:left"><div class="table-cell"><p>通过FTP或HTTP从远程服务器上的安装树中安装。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>url --url=&quot;http://10.0.0.7/CentOS-6.7/&quot;</p></div></td><td style="text-align:left"><div class="table-cell"><p></p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>url --url ftp://&lt;username&gt;:&lt;password&gt;@&lt;server&gt;/&lt;dir&gt;</p></div></td><td style="text-align:left"><div class="table-cell"><p></p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>nfs</p></div></td><td style="text-align:left"><div class="table-cell"><p>从指定的NFS服务器安装。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>nfs --server=nfsserver.example.com --dir=/tmp/install-tree</p></div></td><td style="text-align:left"><div class="table-cell"><p></p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>text</p></div></td><td style="text-align:left"><div class="table-cell"><p>使用文本模式安装。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>lang</p></div></td><td style="text-align:left"><div class="table-cell"><p>设置在安装过程中使用的语言以及系统的缺省语言。lang en_US.UTF-8</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>keyboard</p></div></td><td style="text-align:left"><div class="table-cell"><p>设置系统键盘类型。keyboard us</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>zerombr</p></div></td><td style="text-align:left"><div class="table-cell"><p>清除mbr引导信息。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>bootloader</p></div></td><td style="text-align:left"><div class="table-cell"><p>系统引导相关配置。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>bootloader --location=mbr --driveorder=sda --append=&quot;crashkernel=auto rhgb quiet&quot;</p></div></td><td style="text-align:left"><div class="table-cell"><p></p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--location=</p></div></td><td style="text-align:left"><div class="table-cell"><p>,指定引导记录被写入的位置. 有效的值如下:mbr(缺省),partition(在包含内核的分区的第一个扇区安装引导装载程序) 或none(不安装引导装载程序)。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--driveorder</p></div></td><td style="text-align:left"><div class="table-cell"><p>指定在BIOS引导顺序中居首的驱动器。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--append=</p></div></td><td style="text-align:left"><div class="table-cell"><p>指定内核参数. 要指定多个参数, 使用空格分隔它们。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>network</p></div></td><td style="text-align:left"><div class="table-cell"><p>为通过网络的kickstart安装以及所安装的系统配置联网信息。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>network --bootproto=dhcp --device=eth0 --onboot=yes --noipv6 --hostname=CentOS6</p></div></td><td style="text-align:left"><div class="table-cell"><p></p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--bootproto=[dhcp/bootp/static]中的一种，缺省值是dhcp。</p></div></td><td style="text-align:left"><div class="table-cell"><p>bootp和dhcp被认为是相同的。static方法要求在kickstart文件里输入所有的网络信息。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>network --bootproto=static --ip=10.0.0.100 --netmask=255.255.255.0 --gateway=10.0.0.2 --nameserver=10.0.0.2</p></div></td><td style="text-align:left"><div class="table-cell"><p>请注意所有配置信息都必须在一行上指定, 不能使用反斜线来换行。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--ip=</p></div></td><td style="text-align:left"><div class="table-cell"><p>要安装的机器的IP地址.</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--gateway=</p></div></td><td style="text-align:left"><div class="table-cell"><p>IP 地址格式的默认网关.</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--netmask=</p></div></td><td style="text-align:left"><div class="table-cell"><p>安装的系统的子网掩码.</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--hostname=</p></div></td><td style="text-align:left"><div class="table-cell"><p>安装的系统的主机名.</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--onboot=</p></div></td><td style="text-align:left"><div class="table-cell"><p>是否在引导时启用该设备.</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--noipv6=</p></div></td><td style="text-align:left"><div class="table-cell"><p>禁用此设备的IPv6.</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--nameserver=</p></div></td><td style="text-align:left"><div class="table-cell"><p>配置dns解析.</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>timezone</p></div></td><td style="text-align:left"><div class="table-cell"><p>设置系统时区。timezone --utc Asia/Shanghai</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>authconfig</p></div></td><td style="text-align:left"><div class="table-cell"><p>系统认证信息。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>authconfig --enableshadow --passalgo=sha512</p></div></td><td style="text-align:left"><div class="table-cell"><p>设置密码加密方式为sha512 启用shadow文件。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>rootpw</p></div></td><td style="text-align:left"><div class="table-cell"><p>root密码</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>clearpart</p></div></td><td style="text-align:left"><div class="table-cell"><p>清空分区。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>clearpart --all --initlabel</p></div></td><td style="text-align:left"><div class="table-cell"><p>--all 从系统中清除所有分区，--initlable 初始化磁盘标签</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>part</p></div></td><td style="text-align:left"><div class="table-cell"><p>磁盘分区。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>part /boot --fstype=ext4 --asprimary --size=200</p></div></td><td style="text-align:left"><div class="table-cell"><p></p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>part swap --size=1024</p></div></td><td style="text-align:left"><div class="table-cell"><p></p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>part / --fstype=ext4 --grow --asprimary --size=200</p></div></td><td style="text-align:left"><div class="table-cell"><p></p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--fstype=</p></div></td><td style="text-align:left"><div class="table-cell"><p>为分区设置文件系统类型. 有效的类型为ext2,ext3,swap和vfat。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--asprimary</p></div></td><td style="text-align:left"><div class="table-cell"><p>强迫把分区分配为主分区, 否则提示分区失败。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--size=</p></div></td><td style="text-align:left"><div class="table-cell"><p>以MB为单位的分区最小值. 在此处指定一个整数值, 如500. 不要在数字后面加MB。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>--grow</p></div></td><td style="text-align:left"><div class="table-cell"><p>告诉分区使用所有可用空间 (若有), 或使用设置的最大值。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>firstboot</p></div></td><td style="text-align:left"><div class="table-cell"><p>负责协助配置 redhat 一些重要的信息。</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>firstboot --disable</p></div></td><td style="text-align:left"><div class="table-cell"><p></p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>selinux</p></div></td><td style="text-align:left"><div class="table-cell"><p>关闭selinux。selinux --disabled</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>firewall</p></div></td><td style="text-align:left"><div class="table-cell"><p>关闭防火墙。firewall --disabled</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>logging</p></div></td><td style="text-align:left"><div class="table-cell"><p>设置日志级别。logging --level=info</p></div></td></tr><tr><td style="text-align:left"><div class="table-cell"><p>reboot</p></div></td><td style="text-align:left"><div class="table-cell"><p>设定安装完成后重启, 此选项必须存在，不然 kickstart 显示一条消息，并等待用户按任意键后才重新引导，也可以选择halt关机。</p></div></td></tr></tbody></table></div><h2 id="7.3-%E7%BC%96%E5%86%99-ks-%E6%96%87%E4%BB%B6" name="7.3-%E7%BC%96%E5%86%99-ks-%E6%96%87%E4%BB%B6">7.3 编写 ks 文件</h2><pre class="prism-token token language-js"># 先生成一个密码备用
[root@linux-node1 ~]# grub-crypt
Password:123456
Retype password:123456
$6$X20eRtuZhkHznTb4$dK0BJByOSAWSDD8jccLVFz0CscijS9ldMWwpoCw/ZEjYw2BTQYGWlgKsn945fFTjRC658UXjuocwJbAjVI5D6/
[root@linux-node1 ~]# mkdir /var/www/html/ks_config
[root@linux-node1 ~]# vim /var/www/html/ks_config/CentOS-6.7-ks.cfg
# Kickstart Configurator for CentOS 6.7 by yao zhang
install
url --url=&quot;http://10.0.0.7/CentOS-6.7/&quot;
text
lang en_US.UTF-8
keyboard us
zerombr
bootloader --location=mbr --driveorder=sda --append=&quot;crashkernel=auto rhgb quiet&quot;
network --bootproto=dhcp --device=eth0 --onboot=yes --noipv6 --hostname=CentOS6
timezone --utc Asia/Shanghai
authconfig --enableshadow --passalgo=sha512
rootpw  --iscrypted $6$X20eRtuZhkHznTb4$dK0BJByOSAWSDD8jccLVFz0CscijS9ldMWwpoCw/ZEjYw2BTQYGWlgKsn945fFTjRC658UXjuocwJbAjVI5D6/
clearpart --all --initlabel
part /boot --fstype=ext4 --asprimary --size=200
part swap --size=1024
part / --fstype=ext4 --grow --asprimary --size=200
firstboot --disable
selinux --disabled
firewall --disabled
logging --level=info
reboot
%packages
@base
@compat-libraries
@debugging
@development
tree
nmap
sysstat
lrzsz
dos2unix
telnet

%post
wget -O /tmp/optimization.sh http://10.0.0.7/ks_config/optimization.sh &amp;&gt;/dev/null
/bin/sh /tmp/optimization.sh
%end</pre><h2 id="7.4-%E5%BC%80%E6%9C%BA%E4%BC%98%E5%8C%96%E8%84%9A%E6%9C%AC" name="7.4-%E5%BC%80%E6%9C%BA%E4%BC%98%E5%8C%96%E8%84%9A%E6%9C%AC">7.4 开机优化脚本</h2><pre class="prism-token token language-js">[root@linux-node1 ~]# vim /var/www/html/ks_config/optimization.sh
#!/bin/bash
##############################################################
# File Name: /var/www/html/ks_config/optimization.sh
# Version: V1.0
# Author: yao zhang
# Organization: www.zyops.com
# Created Time : 2015-12-03 15:23:08
# Description: Linux system initialization
##############################################################

. /etc/init.d/functions

Ip=10.0.0.7
Port=80
ConfigDir=ks_config

# Judge Http server is ok?
PortNum=`nmap $Ip  -p $Port 2&gt;/dev/null|grep open|wc -l`
[ $PortNum -lt 1 ] &amp;&amp; {
        echo &quot;Http server is bad!&quot;
        exit 1
}

# Defined result function
function Msg(){
        if [ $? -eq 0 ];then
          action &quot;$1&quot; /bin/true
        else
          action &quot;$1&quot; /bin/false
        fi
}

# Defined IP function
function ConfigIP(){
        Suffix=`ifconfig eth0|awk -F &quot;[ .]+&quot; &#x27;NR==2 {print $6}&#x27;`
        cat &gt;/etc/sysconfig/network-scripts/ifcfg-eth0 &lt;&lt;-END
        DEVICE=eth0
        TYPE=Ethernet
        ONBOOT=yes
        NM_CONTROLLED=yes
        BOOTPROTO=none
        IPADDR=10.0.0.$Suffix
        PREFIX=24
        GATEWAY=10.0.0.2
        DNS1=10.0.0.2
        DEFROUTE=yes
        IPV4_FAILURE_FATAL=yes
        IPV6INIT=no

        END
        Msg &quot;config eth0&quot;
}

# Defined Yum source Functions
function yum(){
        YumDir=/etc/yum.repos.d
        [ -f &quot;$YumDir/CentOS-Base.repo&quot; ] &amp;&amp; cp $YumDir/CentOS-Base.repo{,.ori} 
        wget -O $YumDir/CentOS-Base.repo http://$Ip:$Port/$ConfigDir/CentOS-Base.repo &amp;&gt;/dev/null &amp;&amp;\
        wget -O $YumDir/epel.repo http://$Ip:$Port/$ConfigDir/epel.repo &amp;&gt;/dev/null &amp;&amp;\
        Msg &quot;YUM source&quot;
}

# Defined Hide the system version number Functions
function HideVersion(){
        [ -f &quot;/etc/issue&quot; ] &amp;&amp; &gt;/etc/issue
        Msg &quot;Hide issue&quot; 
        [ -f &quot;/etc/issue.net&quot; ] &amp;&amp; &gt; /etc/issue.net
        Msg &quot;Hide issue.net&quot;
}

# Defined OPEN FILES Functions
function openfiles(){
        [ -f &quot;/etc/security/limits.conf&quot; ] &amp;&amp; {
        echo &#x27;*  -  nofile  65535&#x27; &gt;&gt; /etc/security/limits.conf
        Msg &quot;open files&quot;
        }
}

# Defined Kernel parameters Functions
function kernel(){
        KernelDir=/etc
        [ -f &quot;$KernelDir/sysctl.conf&quot; ] &amp;&amp; /bin/mv $KernelDir/sysctl.conf{,.ori}
        wget -O $KernelDir/sysctl.conf http://$Ip:$Port/$ConfigDir/sysctl.conf &amp;&gt;/dev/null
        Msg &quot;Kernel config&quot;
}

# Defined System Startup Services Functions
function boot(){
        for oldboy in `chkconfig --list|grep &quot;3:on&quot;|awk &#x27;{print $1}&#x27;|grep -vE &quot;crond|network|rsyslog|sshd|sysstat&quot;` 
          do 
           chkconfig $oldboy off
        done
        Msg &quot;BOOT config&quot;
}

# Defined Time Synchronization Functions
function Time(){
        echo &quot;#time sync by zhangyao at $(date +%F)&quot; &gt;&gt;/var/spool/cron/root
        echo &#x27;*/5 * * * * /usr/sbin/ntpdate time.nist.gov &amp;&gt;/dev/null&#x27; &gt;&gt;/var/spool/cron/root
        Msg &quot;Time Synchronization&quot;
}

# Defined main Functions
function main(){
        ConfigIP
        yum
        HideVersion
        openfiles
        kernel
        boot
        Time
}

main
# rz上传CentOS-Base.repo、epel.repo、sysctl.conf</pre><h3 id="7.5-%E6%95%B4%E5%90%88%E7%BC%96%E8%BE%91-default-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" name="7.5-%E6%95%B4%E5%90%88%E7%BC%96%E8%BE%91-default-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">7.5 整合编辑 default 配置文件</h3><pre class="prism-token token language-js"># 最精简配置
[root@linux-node1 ~]# vim /var/lib/tftpboot/pxelinux.cfg/default
default ks
prompt 0

label ks
  kernel vmlinuz
  append initrd=initrd.img ks=http://10.0.0.7/ks_config/CentOS-6.7-ks.cfg # 告诉安装程序ks.cfg文件在哪里

# append initrd=initrd.img ks=http://10.0.0.7/ks_config/CentOS-6.7-ks.cfg ksdevice=eth0
# ksdevice=eth0代表当客户端有多块网卡的时候，要实现自动化需要设置从eth1安装，不指定的话，安装的时候系统会让你选择，那就不叫全自动化了。</pre><h1 id="8.-%E6%97%A0%E4%BA%BA%E5%80%BC%E5%AE%88%E8%87%AA%E5%8A%A8%E5%AE%89%E8%A3%85" name="8.-%E6%97%A0%E4%BA%BA%E5%80%BC%E5%AE%88%E8%87%AA%E5%8A%A8%E5%AE%89%E8%A3%85">8. 无人值守自动安装</h1><p>打开系统电源，出去喝杯水。过会回来, 系统就以经装好了.^_^ 下面是安装过程中截的几个图</p><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/igxf4hsqam.png"></span></div></figure><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/cuqmm0n5vl.png"></span></div></figure><p>如果安装过程出错，可以通过 Alt+F2-F5 切到其他控制台查看报错信息</p><h1 id="9.-%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90%E5%90%8E%E9%AA%8C%E8%AF%81" name="9.-%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90%E5%90%8E%E9%AA%8C%E8%AF%81">9. 安装完成后验证</h1><pre class="prism-token token language-js">[root@CentOS6 ~]# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda2       6.6G  1.4G  4.9G  22% /
tmpfs           491M     0  491M   0% /dev/shm
/dev/sda1       190M   36M  145M  20% /boot
[root@CentOS6 ~]# /etc/init.d/iptables status
iptables：未运行防火墙。
[root@CentOS6 ~]# getenforce
Disabled
[root@CentOS6 ~]# ifconfig eth0|awk -F &quot;[ :]+&quot; &#x27;NR==2 {print $4}&#x27;
10.0.0.101
[root@CentOS6 ~]# chkconfig --list|grep &quot;3:on&quot;
crond           0:off   1:off   2:on    3:on    4:on    5:on    6:off
network         0:off   1:off   2:on    3:on    4:on    5:on    6:off
rsyslog         0:off   1:off   2:on    3:on    4:on    5:on    6:off
sshd            0:off   1:off   2:on    3:on    4:on    5:on    6:off
sysstat         0:off   1:on    2:on    3:on    4:on    5:on    6:off</pre><h1 id="10.-%E7%9F%A5%E8%AF%86%E6%89%A9%E5%B1%95" name="10.-%E7%9F%A5%E8%AF%86%E6%89%A9%E5%B1%95">10. 知识扩展</h1><h2 id="10.1-PXE-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-default" name="10.1-PXE-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-default">10.1 PXE 配置文件 default</h2><p>由于多个客户端可以从一个 PXE 服务器引导，PXE 引导映像使用了一个复杂的配置文件搜索方式来查找针对客户机的配置文件。如果客户机的网卡的 MAC 地址为<code>8F：3H：AA：6B：CC：5D</code>，对应的 IP 地址为 10.0.0.195，那么客户机首先尝试以 MAC 地址为文件名匹配的配置文件，如果不存在就以 IP 地址来查找。根据上述环境针对这台主机要查找的以一个配置文件就是 <code>/tftpboot/pxelinux.cfg/01-8F：3H：AA：6B：CC：5D</code>。如果该文件不存在，就会根据 IP 地址来查找配置文件了，这个算法更复杂些，PXE 映像查找会根据 IP 地址 16 进制命名的客户机配置文件。例如：10.0.0.195 对应的 16 进制的形式为 C0A801C3。（可以通过 syslinux 软件包提供的 gethostip 命令将 10 进制的 IP 转换为 16 进制）</p><p>如果 C0A801C3 文件不存在，就尝试查找 C0A801C 文件，如果 C0A801C 也不存在，那么就尝试 C0A801 文件，依次类推，直到查找 C 文件，如果 C 也不存在的话，那么最后尝试 default 文件。</p><p>总体来说，pxelinux 搜索的文件的顺序是：</p><pre class="prism-token token language-js">/tftpboot/pxelinux.cfg/01-88-99-aa-bb-cc-dd
/tftpboot/pxelinux.cfg/C0A801C3
/tftpboot/pxelinux.cfg/C0A801C
/tftpboot/pxelinux.cfg/C0A801
/tftpboot/pxelinux.cfg/C0A80
/tftpboot/pxelinux.cfg/C0A8
/tftpboot/pxelinux.cfg/C0A
/tftpboot/pxelinux.cfg/C0
/tftpboot/pxelinux.cfg/C
/tftpboot/pxelinux.cfg/default</pre><p>应用：如果已经从厂商获取了服务器 MAC 地址，就可以差异化定制安装服务器了。</p><h2 id="10.2-Cobbler" name="10.2-Cobbler">10.2 Cobbler</h2><p>大家学完 kickstart，会发现一个问题，kickstart 不怎么灵活，调整某些参数就需要另外一个 ks.cfg 文件。因此 <a data-from="10680" href="http://www.zyops.com/autoinstall-cobbler/" target="_blank" rel="nofollow noopener noreferrer">Cobbler 无人值守安装</a>可以一观。</p><h1 id="11.-%E6%8A%A5%E9%94%99" name="11.-%E6%8A%A5%E9%94%99">11. 报错</h1><figure><div class="image-block"><span class="lazy-image-holder" dataurl="https://ask.qcloudimg.com/http-save/yehe-1032887/g1bimfknlv.jpeg"></span></div></figure><p><strong>报错原因：selinux 没关</strong></p></div><div class="col-2-article-source"><p>本文参与<a href="/developer/support-plan" class="com-link">腾讯云自媒体分享计划</a>，欢迎正在阅读的你也加入，一起分享。</p></div></div><div class="com-markdown-collpase-toggle"><a href="javascript:;" class="toggle-link">展开阅读全文</a></div></div><div class="col-2-article-tags"><nav class="col-tags"><a href="/developer/tag/10671?entry=article" class="col-tag">运维</a><a href="/developer/tag/10726?entry=article" class="col-tag">FTP</a></nav><div class="extra-part"><div class="com-operations"><a href="javascript:;" class="com-opt-link link-warn"><i class="com-i-warn"></i>举报</a></div></div></div><div class="col-2-article-opts"><button type="button" class="c-btn"><span class="text"><i class="opt-icon like"></i>点赞 0</span></button><button type="button" class="c-btn c-btn-weak"><span class="text"><i class="opt-icon share"></i>分享</span></button></div><section class="group-comments"><div class="com-comment-single-edit theme2"><header class="edit-hd"><h3 class="edit-title"><i class="edit-icon"></i>我来说两句</h3><div class="edit-count"><span class="edit-count-num">0</span> 条评论</div></header><div class="edit-body"><div class="edit-textarea"></div><div class="edit-tip"><a href="javascript:;">登录</a> 后参与评论</div></div></div><section class="com-comment-popup v2"><div class="popup-bd"></div></section></section></section><section class="com-2-panel"><header class="com-2-panel-hd"><h3 class="com-2-panel-title">相关文章</h3></header><ul class="com-3-article-panels without-padding-top"><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1170834" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">记一次服务器被入侵的调查取证</h3><p class="com-3-article-panel-desc">*本文原创作者：fish1983，本文属FreeBuf原创奖励计划，未经许可禁止转载</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1268449" target="_blank" class="item author">FB客服</a></div></div></div><div class="com-3-article-panel-object"><span class="com-thumbnail com-3-article-panel-thumbnail" style="background-image:url(https://ask.qcloudimg.com/http-save/yehe-1268449/1qbv7hsimv.jpeg?imageView2/2/w/240)"></span></div></div></div></li><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1171167" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">浅谈信息安全管理体系建设</h3><p class="com-3-article-panel-desc">信息安全管理体系（ISMS)是组织在整体或特定范围内建立的信息安全方针和目标，以及完成这些目标所用的方法和体系。它是直接管理活动的结果，表示为方针、原则、目标、...</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1268449" target="_blank" class="item author">FB客服</a></div></div></div></div></div></li><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1171781" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">万字长文带你从 0 学习 Keepalived</h3><p class="com-3-article-panel-desc">负载均衡器（Load Balancer, LB ）是一组能够将IP数据流以负载均衡形式转发到多台物理服务器的集成软件。有硬件负载均衡器和软件负载均衡器之分，硬件...</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1751832" target="_blank" class="item author">小小科</a></div></div></div><div class="com-3-article-panel-object"><span class="com-thumbnail com-3-article-panel-thumbnail" style="background-image:url(https://ask.qcloudimg.com/http-save/yehe-1751832/uv0vxwkqwt.jpeg?imageView2/2/w/240)"></span></div></div></div></li><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1170846" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">区块链黑幕：我们不生产白皮书，我们只是白皮书的搬运工！</h3><p class="com-3-article-panel-desc">当大家一窝蜂的投身区块链掘金渴望一夜暴富的时候，新的行业又促生了另一批新职业。他们离开风险中心，靠代写ICO的白皮书赚的盆满钵满。</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1268449" target="_blank" class="item author">FB客服</a></div></div></div><div class="com-3-article-panel-object"><span class="com-thumbnail com-3-article-panel-thumbnail" style="background-image:url(https://ask.qcloudimg.com/http-save/yehe-1268449/7r8tyw5lqx.jpeg?imageView2/2/w/240)"></span></div></div></div></li><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1171097" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">监控系统的前世今生</h3><p class="com-3-article-panel-desc">微博平台监控技术负责人，负责微博平台、PC微博大规模监控系统的建设，主要关注实时大数据、运维自动化、智能化方向，2014年加入微博，之前曾在新浪、搜狐等公司从事...</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1682855" target="_blank" class="item author">用户1682855</a></div></div></div><div class="com-3-article-panel-object"><span class="com-thumbnail com-3-article-panel-thumbnail" style="background-image:url(https://ask.qcloudimg.com/http-save/yehe-1682855/u8jqkzjgfx.jpeg?imageView2/2/w/240)"></span></div></div></div></li><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1170906" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">业界 | 京东金融与KDD2018：如何针对性解决城市计算痛点</h3><p class="com-3-article-panel-desc">作为会议的承办方，京东金融的城市计算事业部在会议上给出了一个主题演讲和两篇论文介绍，分享了京东进行城市计算的方法论，辅以众多实际案例。</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1754229" target="_blank" class="item author">机器之心</a></div></div></div><div class="com-3-article-panel-object"><span class="com-thumbnail com-3-article-panel-thumbnail" style="background-image:url(https://ask.qcloudimg.com/http-save/yehe-1754229/xvgq4dkgrd.jpeg?imageView2/2/w/240)"></span></div></div></div></li><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1171824" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">浅论公有云市场商战</h3><p class="com-3-article-panel-desc">根据相关统计，2017年全球公有云市场达到1170亿美元，国内公有云也达到了577亿元人民币，虽然国内公有云市场规模还比较小，但增长是翻倍的增长。</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1302819" target="_blank" class="item author">静一</a></div></div></div><div class="com-3-article-panel-object"><span class="com-thumbnail com-3-article-panel-thumbnail" style="background-image:url(https://ask.qcloudimg.com/http-save/yehe-1302819/lqkjqmfr1x.jpeg?imageView2/2/w/240)"></span></div></div></div></li><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1171814" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">面试 Linux 运维工作至少需要知道哪些知识？</h3><p class="com-3-article-panel-desc">知乎上有这样一个问题：一个新手面试 Linux 运维工作至少需要知道哪些知识？其中有一个答案对这一话题的解读非常深入，今天特别分享给大家。</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1751832" target="_blank" class="item author">小小科</a></div></div></div></div></div></li><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1171609" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">小程序 · 一周报</h3><p class="com-3-article-panel-desc">小游戏新增分包加载功能。运用分包功能后，小程序或小游戏代码包总上限可提升至 8M。建议开发者将每个分包做得尽可能小，以便提升用户的打开速度，优化服务体验。</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1291439" target="_blank" class="item author">极乐君</a></div></div></div><div class="com-3-article-panel-object"><span class="com-thumbnail com-3-article-panel-thumbnail" style="background-image:url(https://ask.qcloudimg.com/http-save/yehe-1291439/gpbwfc2lcm.jpeg?imageView2/2/w/240)"></span></div></div></div></li><li class="panel-cell"><div class="com-3-article-panel theme2"><a href="/developer/article/1171742" target="_blank" class="panel-link" hotrep=""></a><div class="com-3-article-panel-media"><div class="com-3-article-panel-body"><h3 class="com-3-article-panel-title">Linux下的8个开源安全工具，再也不怕黑客啦</h3><p class="com-3-article-panel-desc">在计算机的发展史上，恶意软件和病毒攻击层出不穷。Linux的安全问题始终未能在大众范围里引起注意。但对于专业人士而言，Linux系统上的攻击虽然隐藏在水面之下，...</p><div class="com-3-article-panel-infos"><div class="com-3-article-panel-source"><a href="/developer/user/1751832" target="_blank" class="item author">小小科</a></div></div></div></div></div></li></ul><div class="com-list-enter"><a href="/developer/column" class="com-arrow-link">更多文章</a></div></section></div><div class="layout-side"><section class="com-2-panel side J-authorPanel"><header class="com-2-panel-hd"><h3 class="com-2-panel-title">作者介绍</h3></header><div class="com-2-panel-bd"><div class="com-author-intro"><div class="com-author-intro-object"><a href="/developer/user/1032887" class="com-author-intro-avatar" style="background-image:url(https://ask.qcloudimg.com/avatar/1032887/x1dfac0ngm.png?imageView2/2/w/160)" target="_blank"></a></div><h3 class="com-author-intro-name"><a href="/developer/user/1032887" class="com-author-intro-name-inner" title="KangVcar" target="_blank">KangVcar</a></h3><div class="com-author-intro-btns"><button type="button" class="c-btn c-btn loading" style="background-color:#f5f5f5;color:#b5b5b5;border:none;cursor:no-drop" hotrep="community.column.article2.follow"><div class="c-loading"><div class="c-loading-inner"><div class="one"></div><div class="two"></div><div class="three"></div></div></div></button><a href="/developer/column/4082" target="_blank" class="c-btn c-btn-hole" hotrep="community.column.article2.column"><span class="text">专栏</span></a></div><ul class="com-author-intro-infos"><li class="com-author-intro-info"><a href="/developer/user/1032887" target="_blank" class="com-author-intro-info-link"><div class="com-author-intro-info-title">文章</div><div class="com-author-intro-info-num">25</div></a></li><li class="com-author-intro-info"><a href="/developer/user/1032887" target="_blank" class="com-author-intro-info-link"><div class="com-author-intro-info-title">阅读量</div><div class="com-author-intro-info-num">6.1K</div></a></li><li class="com-author-intro-info"><a href="/developer/user/1032887" target="_blank" class="com-author-intro-info-link"><div class="com-author-intro-info-title">获赞</div><div class="com-author-intro-info-num">70</div></a></li><li class="com-author-intro-info"><div class="com-author-intro-info-title">作者排名</div><div class="com-author-intro-info-num">3879</div></li></ul></div></div></section><section class="com-2-panel side J-specialTopicPanel"><header class="com-2-panel-hd"><h3 class="com-2-panel-title">精选专题</h3></header><div class="com-2-panel-bd"><ul class="com-2-side-topics without-margin"><li><a href="https://cloud.tencent.com/developer/special/SARS-CoV-2" class="com-media com-side-topic" hotrep="community.column.article2.side_topic.0.link"><div class="com-media-object"><span class="com-thumbnail" style="background-image:url(https://ask.qcloudimg.com/raw/yehe-1b54603d7b98/jqy6becsm0.jpg?imageView2/2/w/120)"></span></div><div class="com-media-body"><h3 class="com-side-topic-title" title="疫情分析专题">疫情分析专题</h3><div class="com-side-topic-desc" title="“清华-腾讯联合实验室&quot;专家解读疫情数字的规律和趋势，分析疫情发展">“清华-腾讯联合实验室&quot;专家解读疫情数字的规律和趋势，分析疫情发展</div></div></a></li></ul></div></section><section class="com-2-panel side J-activityRecommend"><header class="com-2-panel-hd"><h3 class="com-2-panel-title">活动推荐</h3></header><div class="com-2-panel-bd"><ul class="com-2-side-activities"><li><a href="https://cloud.tencent.com/developer/support-plan" class="com-media com-2-side-activity" hotrep="community.column.article2.side_activity.0.link"><div class="com-media-body"><h3 class="com-2-side-activity-title" title="腾讯云自媒体分享计划">腾讯云自媒体分享计划</h3><div class="com-2-side-activity-desc" title="入驻云加社区，共享百万资源包。">入驻云加社区，共享百万资源包。</div></div><div class="com-media-object"><button type="button" class="s com-2-side-activity-btn c-btn c-btn-hole" hotrep="community.column.article2.side_activity.0.btn"><span class="text">立即入驻</span></button></div></a></li><li><a href="https://cloud.tencent.com/developer/support-plan-invitation" class="com-media com-2-side-activity" hotrep="community.column.article2.side_activity.1.link"><div class="com-media-body"><h3 class="com-2-side-activity-title" title="邀请作者加入自媒体计划">邀请作者加入自媒体计划</h3><div class="com-2-side-activity-desc" title="每月最高可拿1800元无门槛代金券。">每月最高可拿1800元无门槛代金券。</div></div><div class="com-media-object"><button type="button" class="s com-2-side-activity-btn c-btn c-btn-hole" hotrep="community.column.article2.side_activity.1.btn"><span class="text">了解更多</span></button></div></a></li></ul></div></section><div class="com-nav-bar" style="display:none"><h3 class="com-nav-bar-title">目录</h3><ul class="com-nav-bar-menu"><li data-key="1.1" class="menu-item"><a href="javascript:;" title="导言">导言</a></li><li data-key="1.2" class="menu-item"><a href="javascript:;" title="1. 简介">1. 简介</a><ul class="level-2"><li data-key="2.1" class="menu-item"><a href="javascript:;" title="1.1 什么是 PXE">1.1 什么是 PXE</a></li><li data-key="2.2" class="menu-item"><a href="javascript:;" title="1.2 PXE 的工作过程">1.2 PXE 的工作过程</a></li><li data-key="2.3" class="menu-item"><a href="javascript:;" title="1.3 批量装机软件介绍">1.3 批量装机软件介绍</a></li><li data-key="2.4" class="menu-item"><a href="javascript:;" title="1.4 系统环境准备">1.4 系统环境准备</a></li></ul></li><li data-key="1.3" class="menu-item"><a href="javascript:;" title="2. 安装 DHCP 服务">2. 安装 DHCP 服务</a><ul class="level-2"><li data-key="2.5" class="menu-item"><a href="javascript:;" title="2.1 DHCP 简介">2.1 DHCP 简介</a></li><li data-key="2.6" class="menu-item"><a href="javascript:;" title="2.2 DHCP 服务安装配置">2.2 DHCP 服务安装配置</a></li><li data-key="2.7" class="menu-item"><a href="javascript:;" title="2.3 DHCP 指定监听网卡">2.3 DHCP 指定监听网卡</a></li></ul></li><li data-key="1.4" class="menu-item"><a href="javascript:;" title="3. 安装 TFTP 服务">3. 安装 TFTP 服务</a><ul class="level-2"><li data-key="2.8" class="menu-item"><a href="javascript:;" title="3.1 TFTP 简介">3.1 TFTP 简介</a></li><li data-key="2.9" class="menu-item"><a href="javascript:;" title="3.2 TFTP 安装配置">3.2 TFTP 安装配置</a></li></ul></li><li data-key="1.5" class="menu-item"><a href="javascript:;" title="4. 配置 HTTP 服务">4. 配置 HTTP 服务</a></li><li data-key="1.6" class="menu-item"><a href="javascript:;" title="5. 配置支持 PXE 的启动程序">5. 配置支持 PXE 的启动程序</a><ul class="level-2"><li data-key="2.10" class="menu-item"><a href="javascript:;" title="5.1 PXE 引导配置（bootstrap）">5.1 PXE 引导配置（bootstrap）</a></li><li data-key="2.11" class="menu-item"><a href="javascript:;" title="5.2 PXE 配置文件 default 解析">5.2 PXE 配置文件 default 解析</a></li></ul></li><li data-key="1.7" class="menu-item"><a href="javascript:;" title="6. 预热之手动网络安装">6. 预热之手动网络安装</a></li><li data-key="1.8" class="menu-item"><a href="javascript:;" title="7. 创建 ks.cfg 文件">7. 创建 ks.cfg 文件</a><ul class="level-2"><li data-key="2.12" class="menu-item"><a href="javascript:;" title="7.1 查看 anaconda-ks.cfg">7.1 查看 anaconda-ks.cfg</a></li><li data-key="2.13" class="menu-item"><a href="javascript:;" title="7.2 ks.cfg 详解">7.2 ks.cfg 详解</a></li><li data-key="2.14" class="menu-item"><a href="javascript:;" title="7.3 编写 ks 文件">7.3 编写 ks 文件</a></li><li data-key="2.15" class="menu-item"><a href="javascript:;" title="7.4 开机优化脚本">7.4 开机优化脚本</a></li></ul></li><li data-key="1.9" class="menu-item"><a href="javascript:;" title="8. 无人值守自动安装">8. 无人值守自动安装</a></li><li data-key="1.10" class="menu-item"><a href="javascript:;" title="9. 安装完成后验证">9. 安装完成后验证</a></li><li data-key="1.11" class="menu-item"><a href="javascript:;" title="10. 知识扩展">10. 知识扩展</a><ul class="level-2"><li data-key="2.16" class="menu-item"><a href="javascript:;" title="10.1 PXE 配置文件 default">10.1 PXE 配置文件 default</a></li><li data-key="2.17" class="menu-item"><a href="javascript:;" title="10.2 Cobbler">10.2 Cobbler</a></li></ul></li><li data-key="1.12" class="menu-item"><a href="javascript:;" title="11. 报错">11. 报错</a></li></ul></div></div></div></div><div class="J-footer com-2-footer" style="position:fixed;width:100%;bottom:0;visibility:hidden"><div class="com-2-footer-inner"><div class="com-2-footer-main"><div class="com-2-footer-main-ctn"><div class="com-2-footer-main-inner"><div class="com-2-footer-website"><ul class="com-2-footer-website-group"><li class="com-2-footer-website-column"><div class="com-2-footer-website-box"><h3 class="com-2-footer-website-title">社区</h3><ul class="com-2-footer-website-list"><li class="com-2-footer-website-item"><a href="/developer/column" hotrep="community.footer.community.article">专栏文章</a></li><li class="com-2-footer-website-item"><a href="/developer/ask" hotrep="community.footer.community.ask">互动问答</a></li><li class="com-2-footer-website-item"><a href="/developer/salon" hotrep="community.footer.community.salon">技术沙龙</a></li><li class="com-2-footer-website-item"><a href="/developer/news" hotrep="community.footer.community.news">技术快讯</a></li><li class="com-2-footer-website-item"><a href="/developer/teams" hotrep="community.footer.community.teams">团队主页</a></li><li class="com-2-footer-website-item"><a href="/developer/devdocs" hotrep="community.footer.community.devdocs">开发者手册</a></li><li class="com-2-footer-website-item"><a href="/developer/timl" hotrep="community.footer.community.timl">智能钛AI</a></li></ul></div></li><li class="com-2-footer-website-column"><div class="com-2-footer-website-box"><h3 class="com-2-footer-website-title">活动</h3><ul class="com-2-footer-website-list"><li class="com-2-footer-website-item"><a href="/developer/original-sharing" hotrep="community.footer.activity.original-sharing">原创分享计划</a></li><li class="com-2-footer-website-item"><a href="/developer/support-plan" hotrep="community.footer.activity.support-plan">自媒体分享计划</a></li></ul></div></li><li class="com-2-footer-website-column"><div class="com-2-footer-website-box"><h3 class="com-2-footer-website-title">资源</h3><ul class="com-2-footer-website-list"><li class="com-2-footer-website-item"><a href="/edu/learning?ADTAG=sq.bott" target="_blank" hotrep="community.footer.resource.edu">在线学习中心</a></li><li class="com-2-footer-website-item"><a href="/developer/specials" hotrep="community.footer.resource.specials">技术周刊</a></li><li class="com-2-footer-website-item"><a href="/developer/tags" hotrep="community.footer.resource.tags">社区标签</a></li><li class="com-2-footer-website-item"><a href="/developer/labs" target="_blank" hotrep="community.footer.resource.labs">开发者实验室</a></li></ul></div></li><li class="com-2-footer-website-column"><div class="com-2-footer-website-box"><h3 class="com-2-footer-website-title">关于</h3><ul class="com-2-footer-website-list"><li class="com-2-footer-website-item"><a href="https://cloud.tencent.com/developer/article/1006434" hotrep="community.footer.about.spec">社区规范</a></li><li class="com-2-footer-website-item"><a href="https://cloud.tencent.com/developer/article/1006435" hotrep="community.footer.about.disclaimer">免责声明</a></li><li class="com-2-footer-website-item"><a href="mailto:yunjia_community@tencent.com" hotrep="community.footer.about.contact">联系我们</a></li></ul></div></li><li class="com-2-footer-website-column com-v-box"><div class="com-2-footer-website-box"><h3 class="com-2-footer-website-title">归档</h3><ul class="com-2-footer-website-list"><li class="com-2-footer-website-item"><a href="/developer/ask/archives.html">问题归档</a></li><li class="com-2-footer-website-item"><a href="/developer/column/archives.html">专栏文章归档</a></li><li class="com-2-footer-website-item"><a href="/developer/news/archives.html">快讯文章归档</a></li><li class="com-2-footer-website-item"><a href="/developer/information/all.html">关键词归档</a></li><li class="com-2-footer-website-item"><a href="/developer/devdocs/archives.html">开发者手册归档</a></li><li class="com-2-footer-website-item"><a href="/developer/devdocs/sections_p1.html">开发者手册 Section 归档</a></li></ul></div></li></ul></div><div class="com-2-footer-copyright"><h3 class="com-2-footer-copyright-title">云+社区</h3><div class="com-2-footer-qr"><div class="com-2-footer-qr-object"><img class="com-2-footer-qr-image" src="//imgcache.qq.com/open_proj/proj_qcloud_v2/community/portal/css/img/wechat-qr.jpg" alt=""/></div><p class="com-2-footer-qr-info"><span class="com-2-footer-qr-text">扫码关注云+社区</span></p><p class="com-2-footer-qr-info"><span class="com-2-footer-qr-text">领取腾讯云代金券</span></p></div></div></div></div></div></div><div class="com-2-footer-recommend"><div class="com-2-footer-inner"><div class="com-2-footer-recommend-rows"><div class="com-2-footer-recommend-cell"><h3 class="com-2-footer-recommend-tit">热门产品</h3><div class="com-2-footer-recommend-list-wrap"><ul class="com-2-footer-recommend-list"><li class="com-2-footer-recommend-item"><a href="https://dnspod.cloud.tencent.com" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmcp.ymzc">域名注册</a></li><li class="com-2-footer-recommend-item"><a href="/product/cvm" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmcp.cvm">云服务器</a></li><li class="com-2-footer-recommend-item"><a href="/product/tbaas" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmcp.tbaas">区块链技术</a></li><li class="com-2-footer-recommend-item"><a href="/product/mq" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmcp.mq">消息队列</a></li><li class="com-2-footer-recommend-item"><a href="/product/dsa" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmcp.dsa"> 网络加速</a></li><li class="com-2-footer-recommend-item"><a href="/product/cdb-overview" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmcp.cdb-overview">关系型数据库</a></li><li class="com-2-footer-recommend-item"><a href="/product/cns" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmcp.rmjx">域名解析</a></li><li class="com-2-footer-recommend-item"><a href="/product/cos" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmcp.cos">云存储</a></li><li class="com-2-footer-recommend-item"><a href="/product/cdh" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmcp.cdh">宿主机</a></li></ul></div></div><div class="com-2-footer-recommend-cell"><h3 class="com-2-footer-recommend-tit">热门推荐</h3><div class="com-2-footer-recommend-list-wrap"><ul class="com-2-footer-recommend-list"><li class="com-2-footer-recommend-item"><a href="/product/facerecognition" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmtj.facerecognition">人脸识别</a></li><li class="com-2-footer-recommend-item"><a href="/product/ba" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmtj.ba">网站备案</a></li><li class="com-2-footer-recommend-item"><a href="/product/yuntu" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmtj.yuntu">数据可视化</a></li><li class="com-2-footer-recommend-item"><a href="/product/cdn-scd" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmtj.cdn-scd">CDN 加速</a></li><li class="com-2-footer-recommend-item"><a href="/product/vts" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmtj.vts">视频转码</a></li><li class="com-2-footer-recommend-item"><a href="/product/ocr" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmtj.ocr">图片文字识别</a></li><li class="com-2-footer-recommend-item"><a href="/product/cdb" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmtj.cdb">MySQL 数据库</a></li><li class="com-2-footer-recommend-item"><a href="/product/symantecssl" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmtj.symantecssl">SSL 证书</a></li><li class="com-2-footer-recommend-item"><a href="/product/asr" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.rmtj.asr">语音识别</a></li></ul></div></div><div class="com-2-footer-recommend-cell"><h3 class="com-2-footer-recommend-tit">更多推荐</h3><div class="com-2-footer-recommend-list-wrap"><ul class="com-2-footer-recommend-list"><li class="com-2-footer-recommend-item"><a href="/solution/data_protection" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.gdtj.data_protection">数据安全</a></li><li class="com-2-footer-recommend-item"><a href="/act/campus" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.gdtj.campus">学生机</a></li><li class="com-2-footer-recommend-item"><a href="/product/sms" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.gdtj.sms">短信群发平台</a></li><li class="com-2-footer-recommend-item"><a href="/product/ocr" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.gdtj.ocr">文字识别</a></li><li class="com-2-footer-recommend-item"><a href="/product/vod" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.gdtj.vod">视频点播</a></li><li class="com-2-footer-recommend-item"><a href="/product/cds-audit" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.gdtj.cds-audit">数据安全审计</a></li><li class="com-2-footer-recommend-item"><a href="/solution/la" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.gdtj.la">小程序开发</a></li><li class="com-2-footer-recommend-item"><a href="/product/cat" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.gdtj.cat">网站监控</a></li><li class="com-2-footer-recommend-item"><a href="/product/ba" class="com-2-footer-recommend-link" target="_blank" hotrep="community.footer.gdtj.ba">域名备案</a></li></ul></div></div></div></div></div><div class="com-2-footer-copyright-cnt"><div class="com-2-footer-inner"><p>Copyright © 2013 - 2020 Tencent Cloud. All Rights Reserved. 腾讯云 版权所有 <a href="http://www.beian.miit.gov.cn" target="_blank" hotrep="community.footer.link.miitbeian">京ICP备11018762号</a><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802020287" hotrep="community.footer.link.beian" target="_blank">京公网安备 11010802020287</a></p></div></div></div></div><div class="com-widget-global"><div style="position:relative;z-index:8088"><div class="c-bubble-trigger com-widget-qr"><button class="scan-btn" hotrep="community.edge-widget.follow-oa">扫描二维码</button><div class="c-bubble c-bubble-right "><div class="c-bubble-inner"><div class="qr-img"><img src="//imgcache.qq.com/open_proj/proj_qcloud_v2/community/portal/css/img/wechat-qr.jpg" alt=""/></div><p class="qr-txt">扫码关注云+社区</p><p class="qr-txt">领取腾讯云代金券</p></div></div></div></div></div><div id="dialog-root"></div></div><script>window.isServerContext = false; window.isClientContext = true;</script><script>window.$serverTime = 1583596807021; window.$clientTime = Date.now();</script><script>window.$ua = {"ua":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36","browser":{"name":"Chrome","version":"80.0.3987.132","major":"80"},"engine":{"name":"WebKit","version":"537.36"},"os":{"name":"Linux","version":"x86_64"},"device":{},"cpu":{"architecture":"amd64"}};</script><script src="//imgcache.qq.com/qcloud/developer/scripts/release/base.18719486f5.js?max_age=31536000"></script><script src="//imgcache.qq.com/qcloud/draft-master/dist/draft-master-v1.3.42.js?max_age=31536000"></script><script src="https://cloud.tencent.com/qccomponent/login/api.js"></script><script src="//imgcache.qq.com/qcloud/main/scripts/release/common/deps/wechatJsSdk.js?version=1_0_1&amp;max_age=31536000"></script><script src="//imgcache.qq.com/qcloud/developer/scripts/release/common.8fdc5a6a5e.js?max_age=31536000"></script><script src="//imgcache.qq.com/qcloud/developer/scripts/release/column/article-detail.aca95f69d5.js?max_age=31536000"></script><script>
window.$render({"articleDetail":{"id":1180826,"articleId":1180826,"title":"PXE\u002FKickStart 无人值守安装","content":"entityMap|0|type|IMAGE|mutability|IMMUTABLE|data|imageUrl|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fnzfyc367ol.jpeg|imageAlt|1|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Ftjleco86vm.jpeg|2|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Ffe5j5db89f.png|3|LINK|MUTABLE|url|http:\u002F\u002Fwww.zyops.com\u002Fdhcp-working-procedure\u002F|4|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002F7rzl6uvfnn.jpeg|5|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fugdjgql62l.png|6|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fi75pwq1dpb.jpeg|7|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fe552dlhzwk.jpeg|8|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002F21de3kwwgu.png|9|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002F387bd3oshi.jpeg|10|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fcub410wz22.png|11|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002F3rz46uisj3.jpeg|12|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002F1ms79xvblx.png|13|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Folblva955b.png|14|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fw3evaykpj1.png|15|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fefzdrn8wth.png|16|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002F8kfhtehqt1.png|17|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fcvoay221tt.jpeg|18|http:\u002F\u002Fwww.centos.org\u002Fdocs\u002F5\u002Fhtml\u002FInstallation_Guide-en-US\u002Fs1-kickstart2-options.html|19|https:\u002F\u002Faccess.redhat.com\u002Fknowledge\u002Fdocs\u002Fen-US\u002FRed_Hat_Enterprise_Linux\u002F6\u002Fhtml\u002FInstallation_Guide\u002Fs1-kickstart2-options.html|20|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Figxf4hsqam.png|21|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fcuqmm0n5vl.png|22|http:\u002F\u002Fwww.zyops.com\u002Fautoinstall-cobbler\u002F|23|https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fg1bimfknlv.jpeg|blocks|key|8vu1f|text|导言|header-one|depth|inlineStyleRanges|entityRanges|8h1j2|作为中小公司的运维，经常会遇到一些机械式的重复工作，例如：有时公司同时上线几十甚至上百台服务器，而且需要我们在短时间内完成系统安装。|unstyled|l5co|常规的办法有什么？+光盘安装系统+===\u003E+一个服务器+DVD+内置光驱百千块，百台服务器都配光驱就浪费了，因为一台服务器也就开始装系统能用的上，以后用的机会屈指可数。用+USB+外置光驱，插来插去也醉了。+U+盘安装系统+===\u003E还是同样的问题，要一台一台服务器插+U+盘。+*+网络安装系统+(ftp,http,nfs)+===\u003E+这个方法不错，只要服务器能联网就可以装系统了，但还是需要一台台服务器去敲键盘点鼠标。时刻想偷懒的我们，有没有更好的方法！|offset|length|style|ITALIC|b5tl5|高逼格的方法：+Kickstart+Cobbler|574ov|+在进入主题前，首先会向大家介绍一下什么是+PXE，PXE+能干什么，Kickstart+是什么，Cobbler+又有什么特别。\n+|blockquote|6jkc3|1.+简介|4u3ck|1.1+什么是+PXE|header-two|fpt99|PXE，全名+Pre-boot+Execution+Environment，预启动执行环境；|unordered-list-item|a2lia|通过网络接口启动计算机，不依赖本地存储设备（如硬盘）或本地已安装的操作系统；|5qo8g|由+Intel+和+Systemsoft+公司于+1999+年+9+月+20+日公布的技术；|412m6|Client\u002FServer+的工作模式；|8qtok|PXE+客户端会调用网际协议+(IP)、用户数据报协议(UDP)、动态主机设定协议(DHCP)、小型文件传输协议(TFTP)+等网络协议；|49tc3|PXE+客户端+(client)+这个术语是指机器在+PXE+启动过程中的角色。一个+PXE+客户端可以是一台服务器、笔记本电脑或者其他装有+PXE+启动代码的机器（我们电脑的网卡）。|c88g|1.2+PXE+的工作过程|fpqf0|?|atomic|a9k3v|epjp6|PXE+Client+向+DHCP+发送请求+PXE+Client+从自己的+PXE+网卡启动，通过+PXE+BootROM(自启动芯片)+会以+UDP(简单用户数据报协议)+发送一个广播请求，向本网络中的+DHCP+服务器索取+IP。\n+|ordered-list-item|d71jm|DHCP+服务器提供信息+DHCP+服务器收到客户端的请求，验证是否来至合法的+PXE+Client+的请求，验证通过它将给客户端一个+“提供”+响应，这个+“提供”+响应中包含了为客户端分配的+IP+地址、pxelinux+启动程序+(TFTP)+位置，以及配置文件所在位置。\n+|4p1ap|PXE+客户端请求下载启动文件+客户端收到服务器的+“回应”+后，会回应一个帧，以请求传送启动所需文件。这些启动文件包括：pxelinux.0、pxelinux.cfg\u002Fdefault、vmlinuz、initrd.img+等文件。\n+|956r6|Boot+Server+响应客户端请求并传送文件+当服务器收到客户端的请求后，他们之间之后将有更多的信息在客户端与服务器之间作应答,+用以决定启动参数。BootROM+由+TFTP+通讯协议从+Boot+Server+下载启动安装程序所必须的文件+(pxelinux.0、pxelinux.cfg\u002Fdefault)。default+文件下载完成后，会根据该文件中定义的引导顺序，启动+Linux+安装程序的引导内核。\n+|bufh4|请求下载自动应答文件+客户端通过+pxelinux.cfg\u002Fdefault+文件成功的引导+Linux+安装内核后，安装程序首先必须确定你通过什么安装介质来安装+linux，如果是通过网络安装+(NFS,+FTP,+HTTP)，则会在这个时候初始化网络，并定位安装源位置。接着会读取+default+文件中指定的自动应答文件+ks.cfg+所在位置，根据该位置请求下载该文件。\n++这里有个问题，在第+2+步和第+5+步初始化+2+次网络了，这是由于+PXE+获取的是安装用的内核以及安装程序等，而安装程序要获取的是安装系统所需的二进制包以及配置文件。因此+PXE+模块和安装程序是相对独立的，PXE+的网络配置并不能传递给安装程序，从而进行两次获取+IP+地址过程，但+IP+地址在+DHCP+的租期内是一样的。\n+\n+|85eac|客户端安装操作系统+将+ks.cfg+文件下载回来后，通过该文件找到+OS+Server，并按照该文件的配置请求下载安装过程需要的软件包。+OS+Server+和客户端建立连接后，将开始传输软件包，客户端将开始安装操作系统。安装完成后，将提示重新引导计算机。\n+|2somh|1.3+批量装机软件介绍|34h6i|Redhat+系主要有两种+Kickstart+和+Cobbler。|epr2l|Kickstart+是一种无人值守的安装方式。它的工作原理是在安装过程中记录人工干预填写的各种参数，并生成一个名为+ks.cfg+的文件。如果在自动安装过程中出现要填写参数的情况，安装程序首先会去查找+ks.cfg+文件，如果找到合适的参数，就采用所找到的参数；如果没有找到合适的参数，便会弹出对话框让安装者手工填写。所以，如果+ks.cfg+文件涵盖了安装过程中所有需要填写的参数，那么安装者完全可以只告诉安装程序从何处下载+ks.cfg+文件，然后就去忙自己的事情。等安装完毕，安装程序会根据+ks.cfg+中的设置重启+\u002F+关闭系统，并结束安装。|3sj9p|Cobbler+集中和简化了通过网络安装操作系统需要使用到的+DHCP、TFTP+和+DNS+服务的配置。Cobbler+不仅有一个命令行界面，还提供了一个+Web+界面，大大降低了使用者的入门水平。Cobbler+内置了一个轻量级配置管理系统，但它也支持和其它配置管理系统集成，如+Puppet，暂时不支持+SaltStack。|fkhp5|简单的说，Cobbler+是对+kickstart+的封装，简化安装步骤、使用流程，降低使用者的门槛。|BOLD|dm0ef|1.4+系统环境准备|4u6r8|[root@linux-node1+~]#+cat+\u002Fetc\u002Fredhat-release\nCentOS+release+6.7+(Final)\n[root@linux-node1+~]#+uname+-r\n2.6.32-573.el6.x86_64\n[root@linux-node1+~]#+getenforce\nDisabled\n[root@linux-node1+~]#+\u002Fetc\u002Finit.d\u002Fiptables+status\niptables:+Firewall+is+not+running.\n[root@linux-node1+~]#+ifconfig+eth0%7Cawk+-F+\"[+:]%2B\"+'NR==2+{print+$4}'\n10.0.0.7\n[root@linux-node1+~]#+hostname\nlinux-node1.example.com|code-block|syntax|js|5e18d|+注意：+虚拟机网卡采用+NAT+模式，不要使用桥接模式，因为稍后我们会搭建+DHCP+服务器，在同一局域网多个+DHCP+服务会有冲突。+VMware+的+NAT+模式的+dhcp+服务也关闭，避免干扰。+|bpi61|cq41h|2.+安装+DHCP+服务|3td45|2.1+DHCP+简介|3o819|DHCP（Dynamic+Host+Configuration+Protocol，动态主机配置协议）通常被应用在大型的局域网络环境中，主要作用是集中的管理、分配+IP+地址，使网络环境中的主机动态的获得+IP+地址、网关地址、DNS+服务器地址等信息，并能够提升地址的使用率。|2bphg|参考文档：DHCP+工作过程的六个主要步骤|j3bq|ejppl|2.2+DHCP+服务安装配置|atsea|[root@linux-node1+~]#+yum+-y+install+dhcp\n[root@linux-node1+~]#+rpm+-ql+dhcp+%7Cgrep+\"dhcpd.conf\"\n\u002Fetc\u002Fdhcp\u002Fdhcpd.conf+++#+查看配置文件位置\n\u002Fusr\u002Fshare\u002Fdoc\u002Fdhcp-4.1.1\u002Fdhcpd-conf-to-ldap\n\u002Fusr\u002Fshare\u002Fdoc\u002Fdhcp-4.1.1\u002Fdhcpd.conf.sample\n\u002Fusr\u002Fshare\u002Fman\u002Fman5\u002Fdhcpd.conf.5.gz\n[root@linux-node1+~]#+cat+\u002Fetc\u002Fdhcp\u002Fdhcpd.conf\n#\n#+DHCP+Server+Configuration+file.\n#+++see+\u002Fusr\u002Fshare\u002Fdoc\u002Fdhcp*\u002Fdhcpd.conf.sample\n#+++see+'man+5+dhcpd.conf'\n#\n[root@linux-node1+~]#+vim+\u002Fetc\u002Fdhcp\u002Fdhcpd.conf\nsubnet+10.0.0.0+netmask+255.255.255.0+{\n++++++++range+10.0.0.100+10.0.0.200;\n++++++++option+subnet-mask+255.255.255.0;\n++++++++default-lease-time+21600;\n++++++++max-lease-time+43200;\n++++++++next-server+10.0.0.7;\n++++++++filename+\"\u002Fpxelinux.0\";\n}\n#+注释\nrange+10.0.0.100+10.0.0.200;+++++++++#+可分配的起始IP-结束IP\noption+subnet-mask+255.255.255.0;++++#+设定netmask\ndefault-lease-time+21600;++++++++++++#+设置默认的IP租用期限\nmax-lease-time+43200;++++++++++++++++#+设置最大的IP租用期限\nnext-server+10.0.0.7;++++++++++++++++#+告知客户端TFTP服务器的ip\nfilename+\"\u002Fpxelinux.0\";++++++++++++++#+告知客户端从TFTP根目录下载pxelinux.0文件\n[root@linux-node1+~]#+\u002Fetc\u002Finit.d\u002Fdhcpd+start\nStarting+dhcpd:++++++++++++++++++++++++++++++++++++++++++++[++OK++]\n[root@linux-node1+~]#+netstat+-tunlp%7Cgrep+dhcp\nudp++++++++0++++++0+0.0.0.0:67++++++++++++++++++0.0.0.0:*+++++++++++++++++++++++++++++++1573\u002Fdhcpd|1cbgj|+|8i9uk|本来软件装完后都要加入开机自启动，但这个+Kickstart+系统就不能开机自启动，而且用完后服务都要关闭，防止未来重启服务器自动重装系统了。|25fu2|如果机器数量过多的话，注意+dhcp+服务器的地址池，不要因为耗尽+IP+而导致+dhcpd+服务器没有+IP+地址+release+的情况。|9pue2|2.3+DHCP+指定监听网卡|e6bam|+说明：此知识点与本文无关，只是作者用过这个功能，记于此。+多网卡默认监听+eth0，指定+DHCP+监听+eth1+网卡\n+|fa5gq|[root@linux-node1+~]#+vim+\u002Fetc\u002Fsysconfig\u002Fdhcpd\n#+Command+line+options+here\nDHCPDARGS=eth1++#+指定监听网卡\n[root@linux-node1+~]#+\u002Fetc\u002Finit.d\u002Fdhcpd+restart\n[root@linux-node1+~]#+tailf+\u002Fvar\u002Flog\u002Fmessages\nMay+26+14:24:38+Kickstart+kernel:+e1000:+eth1+NIC+Link+is+Up+1000+Mbps+Full+Duplex,+Flow+Control:+None\nMay+26+14:29:04+Kickstart+dhcpd:+Internet+Systems+Consortium+DHCP+Server+4.1.1-P1\nMay+26+14:29:04+Kickstart+dhcpd:+Copyright+2004-2010+Internet+Systems+Consortium.\nMay+26+14:29:04+Kickstart+dhcpd:+All+rights+reserved.\nMay+26+14:29:04+Kickstart+dhcpd:+For+info,+please+visit+https:\u002F\u002Fwww.isc.org\u002Fsoftware\u002Fdhcp\u002F\nMay+26+14:29:04+Kickstart+dhcpd:+Not+searching+LDAP+since+ldap-server,+ldap-port+and+ldap-base-dn+were+not+specified+in+the+config+file\nMay+26+14:29:04+Kickstart+dhcpd:+Wrote+0+leases+to+leases+file.\nMay+26+14:29:04+Kickstart+dhcpd:+Listening+on+LPF\u002Feth1\u002F00:0c:29:ea:c1:83\u002F10.0.10.0\u002F24\nMay+26+14:29:04+Kickstart+dhcpd:+Sending+on+++LPF\u002Feth1\u002F00:0c:29:ea:c1:83\u002F10.0.10.0\u002F24\nMay+26+14:29:04+Kickstart+dhcpd:+Sending+on+++Socket\u002Ffallback\u002Ffallback-net\n……|472ij|3.+安装+TFTP+服务|79vek|3.1+TFTP+简介|88b7p|TFTP（Trivial+File+Transfer+Protocol,+简单文件传输协议）是+TCP\u002FIP+协议族中的一个用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务。端口号为+69。|65fal|3.2+TFTP+安装配置|4vieg|[root@linux-node1+~]#+yum+-y+install+tftp-server\n[root@linux-node1+~]#+vim+\u002Fetc\u002Fxinetd.d\u002Ftftp\n#+default:+off\n#+description:+The+tftp+server+serves+files+using+the+trivial+file+transfer+\\\n#+++++++protocol.++The+tftp+protocol+is+often+used+to+boot+diskless+\\\n#+++++++workstations,+download+configuration+files+to+network-aware+printers,+\\\n#+++++++and+to+start+the+installation+process+for+some+operating+systems.\nservice+tftp\n{\n++++++++socket_type+++++++++++++=+dgram\n++++++++protocol++++++++++++++++=+udp\n++++++++wait++++++++++++++++++++=+yes\n++++++++user++++++++++++++++++++=+root\n++++++++server++++++++++++++++++=+\u002Fusr\u002Fsbin\u002Fin.tftpd\n++++++++server_args+++++++++++++=+-s+\u002Fvar\u002Flib\u002Ftftpboot+#+指定目录，保持默认，不用修改\n++++++++disable+++++++++++++++++=+no+#+由原来的yes改为no\n++++++++per_source++++++++++++++=+11\n++++++++cps+++++++++++++++++++++=+100+2\n++++++++flags+++++++++++++++++++=+IPv4\n}\n[root@linux-node1+~]#+\u002Fetc\u002Finit.d\u002Fxinetd+restart\nStopping+xinetd:+++++++++++++++++++++++++++++++++++++++++++[FAILED]\nStarting+xinetd:+++++++++++++++++++++++++++++++++++++++++++[++OK++]\n[root@linux-node1+~]#+netstat+-tunlp%7Cgrep+69\nudp++++++++0++++++0+0.0.0.0:69++++++++++++++++++0.0.0.0:*+++++++++++++++++++++++++++++++1106\u002Fxinetd\n|7k5ci|4.+配置+HTTP+服务|745sp|可以用+Apache+或+Nginx+提供+HTTP+服务。Python+的命令+web+服务不行，会有报错。|13avl|[root@linux-node1+~]#+yum+-y+install+httpd\n[root@linux-node1+~]#+sed+-i+\"277i+ServerName+127.0.0.1:80\"+\u002Fetc\u002Fhttpd\u002Fconf\u002Fhttpd.conf\n[root@linux-node1+~]#+\u002Fetc\u002Finit.d\u002Fhttpd+start\n[root@linux-node1+~]#+mkdir+\u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\n[root@linux-node1+~]#+mount+\u002Fdev\u002Fcdrom+\u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\u002F\nmount:+block+device+\u002Fdev\u002Fsr0+is+write-protected,+mounting+read-only\n[root@linux-node1+~]#+df+-h\nFilesystem++++++Size++Used+Avail+Use%25+Mounted+on\n\u002Fdev\u002Fsda3++++++++19G++2.4G+++16G++14%25+\u002F\ntmpfs+++++++++++491M+++16K++491M+++1%25+\u002Fdev\u002Fshm\n\u002Fdev\u002Fsda1+++++++190M+++36M++145M++20%25+\u002Fboot\n\u002Fdev\u002Fsr0++++++++3.7G++3.7G+++++0+100%25+\u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\n#+不管怎么弄，只要把安装光盘内容能通过web发布即可。因为是演示，如果复制镜像就有点浪费时间。但生产环境就一定要复制了，光盘读取速度有限。|a6lm4|浏览器访问http:\u002F\u002F10.0.0.7\u002FCentOS-6.7\u002F检验配置是否正确。+|CODE|b6qha|79eth|5.+配置支持+PXE+的启动程序|5go2g|5.1+PXE+引导配置（bootstrap）|citpc|+syslinux+是一个功能强大的引导加载程序，而且兼容各种介质。SYSLINUX+是一个小型的+Linux+操作系统，它的目的是简化首次安装+Linux+的时间，并建立修护或其它特殊用途的启动盘。如果没有找到+pxelinux.0+这个文件,+可以安装一下。\n+|bpo3r|[root@linux-node1+~]#+yum+-y+install+syslinux\n[root@linux-node1+~]#+cp+\u002Fusr\u002Fshare\u002Fsyslinux\u002Fpxelinux.0+\u002Fvar\u002Flib\u002Ftftpboot\u002F\n#+复制启动菜单程序文件\n[root@linux-node1+~]#+cp+-a+\u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\u002Fisolinux\u002F*+\u002Fvar\u002Flib\u002Ftftpboot\u002F\n[root@linux-node1+~]#+ls+\u002Fvar\u002Flib\u002Ftftpboot\u002F\nboot.cat++grub.conf+++isolinux.bin++memtest+++++splash.jpg++vesamenu.c32\nboot.msg++initrd.img++isolinux.cfg++pxelinux.0++TRANS.TBL+++vmlinuz\n#+新建一个pxelinux.cfg目录，存放客户端的配置文件。\n[root@linux-node1+~]#+mkdir+-p+\u002Fvar\u002Flib\u002Ftftpboot\u002Fpxelinux.cfg\n[root@linux-node1+~]#+cp+\u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\u002Fisolinux\u002Fisolinux.cfg+\u002Fvar\u002Flib\u002Ftftpboot\u002Fpxelinux.cfg\u002Fdefault|5jbe5|5.2+PXE+配置文件+default+解析|12sbl|+配合虚拟机演示讲解+default+文件。新建一个虚拟机，注意内存需要给+1G。\n+|28v2r|打开电源后，显示如下+|cve6r|6rd50|接下来的画面就是我们熟悉的界面，输入+ESC+可以进入命令行界面。|79tcl|779ta|b2r79|[root@linux-node1+~]#+vim+\u002Fvar\u002Flib\u002Ftftpboot\u002Fpxelinux.cfg\u002Fdefault\ndefault+vesamenu.c32++#+默认加载一个菜单\n#prompt+1+++++++++++++#+开启会显示命令行'boot:+'提示符。prompt值为0时则不提示，将会直接启动'default'参数中指定的内容。\ntimeout+600+++++++++++#+timeout时间是引导时等待用户手动选择的时间，设为1可直接引导，单位为1\u002F10秒。\n\ndisplay+boot.msg\n#+菜单背景图片、标题、颜色。\nmenu+background+splash.jpg\nmenu+title+Welcome+to+CentOS+6.7!\nmenu+color+border+0+#ffffffff+#00000000\nmenu+color+sel+7+#ffffffff+#ff000000\nmenu+color+title+0+#ffffffff+#00000000\nmenu+color+tabmsg+0+#ffffffff+#00000000\nmenu+color+unsel+0+#ffffffff+#00000000\nmenu+color+hotsel+0+#ff000000+#ffffffff\nmenu+color+hotkey+7+#ffffffff+#ff000000\nmenu+color+scrollbar+0+#ffffffff+#00000000\n\n#+label指定在boot:提示符下输入的关键字，比如boot:linux[ENTER]，这个会启动label+linux下标记的kernel和initrd.img文件。\nlabel+linux+++++++#+一个标签就是前面图片的一行选项。\n++menu+label+%5EInstall+or+upgrade+an+existing+system\n++menu+default\n++kernel+vmlinuz++#+指定要启动的内核。同样要注意路径，默认是\u002Ftftpboot目录。\n++append+initrd=initrd.img+#+指定追加给内核的参数，initrd.img是一个最小的linux系统\nlabel+vesa\n++menu+label+Install+system+with+%5Ebasic+video+driver\n++kernel+vmlinuz\n++append+initrd=initrd.img+nomodeset\nlabel+rescue\n++menu+label+%5ERescue+installed+system\n++kernel+vmlinuz\n++append+initrd=initrd.img+rescue\nlabel+local\n++menu+label+Boot+from+%5Elocal+drive\n++localboot+0xffff\nlabel+memtest86\n++menu+label+%5EMemory+test\n++kernel+memtest\n++append+-|co1me|6.+预热之手动网络安装|7fmv5|1、新建一台空白虚拟机，也不要挂载+ISO+镜像，打开电源。|eoac9|扩展：DEll+R710+服务器开机后，根据提示按+F12，进行+PXE+启动。物理服务器有+4+个网卡，所以还会让选择从哪个网卡启动。+|elugd|a6av1|fuo80|2、选择第一个选项+|bckhg|84mej|3、选择英语|3q3v7|23kog|4、选择美式键盘+|bk6oj|1e6t4|5、选择+URL+方式安装+|8sskb|3i7ve|+注：使用+NFS+的写法+nfs:10.0.0.1:\u002Fdata\u002Fsys\u002Fkickstart\u002Fks.cfg\n+|44q1g|6、禁用+IPv6+|d4jnl|7al1j|7、输入+http+的地址+|a8u8q|daq73|8、接下来和光盘安装一样+|6j28s|1gajf|7.+创建+ks.cfg+文件|4pcem|通常，我们在安装操作系统的过程中，需要大量的和服务器交互操作，为了减少这个交互过程，kickstart+就诞生了。使用这种+kickstart，只需事先定义好一个+Kickstart+自动应答配置文件+ks.cfg（通常存放在安装服务器上），并让安装程序知道该配置文件的位置，在安装过程中安装程序就可以自己从该文件中读取安装配置，这样就避免了在安装过程中多次的人机交互，从而实现无人值守的自动化安装。|33fii|生成+kickstart+配置文件的三种方法：+方法+1、+每安装好一台+Centos+机器，Centos+安装程序都会创建一个+kickstart+配置文件，记录你的真实安装配置。如果你希望实现和某系统类似的安装，可以基于该系统的+kickstart+配置文件来生成你自己的+kickstart+配置文件。（生成的文件名字叫+anaconda-ks.cfg+位于+\u002F+root\u002Fanaconda-ks.cfg）+方法+2、Centos+提供了一个图形化的+kickstart+配置工具。在任何一个安装好的+Linux+系统上运行该工具，就可以很容易地创建你自己的+kickstart+配置文件。kickstart+配置工具命令为+redhat-config-kickstart（RHEL3）或+system-config-kickstart（RHEL4，RHEL5）.+网上有很多用+CentOS+桌面版生成+ks+文件的文章，如果有现成的系统就没什么可说。但没有现成的，也没有必要去用桌面版，命令行也很简单。+*+方法+3、阅读+kickstart+配置文件的手册。用任何一个文本编辑器都可以创建你自己的+kickstart+配置文件。|12se6|7.1+查看+anaconda-ks.cfg|4ogh4|[root@linux-node1+~]#+cat+anaconda-ks.cfg\n#+Kickstart+file+automatically+generated+by+anaconda.\n\n#version=DEVEL\ninstall\ncdrom\nlang+en_US.UTF-8\nkeyboard+us\nnetwork+--onboot+yes+--device+eth0+--bootproto+static+--ip+10.0.0.6+--netmask+255.255.255.0+--gateway+10.0.0.2+--noipv6+--nameserver+10.0.0.2+--hostname+centos67\nrootpw++--iscrypted+$6$2Frfm3Sc\u002FoWdF2Yb$GTS8VbsaeLzAfT46EYJWezKA7VMOnefDAH6anyb12Hu5K1qu1awlpTwBxTjAzXpV\u002F.l983Irdwxo5Rks0QV1p1\nfirewall+--service=ssh\nauthconfig+--enableshadow+--passalgo=sha512\nselinux+--enforcing\ntimezone+--utc+Asia\u002FShanghai\nbootloader+--location=mbr+--driveorder=sda+--append=\"crashkernel=auto+rhgb+quiet\"\n#+The+following+is+the+partition+information+you+requested\n#+Note+that+any+partitions+you+deleted+are+not+expressed\n#+here+so+unless+you+clear+all+partitions+first,+this+is\n#+not+guaranteed+to+work\n#clearpart+--none\n\n#part+\u002Fboot+--fstype=ext4+--asprimary+--size=200\n#part+swap+--asprimary+--size=1024\n#part+\u002F+--fstype=ext4+--grow+--asprimary+--size=200\n\nrepo+--++--baseurl=cdrom:sr0+--cost=100\n\n%25packages\n@base\n@compat-libraries\n@core\n@debugging\n@development\n@server-policy\n@workstation-policy\npython-dmidecode\nsgpio\ndevice-mapper-persistent-data\nsystemtap-client|bfj81|7.2+ks.cfg+详解|f680v|官网文档|5jneb|CentOS5+:+http:\u002F\u002Fwww.centos.org\u002Fdocs\u002F5\u002Fhtml\u002FInstallation_Guide-en-US\u002Fs1-kickstart2-options.html+|fv8i1|CentOS6+:+https:\u002F\u002Faccess.redhat.com\u002Fknowledge\u002Fdocs\u002Fen-US\u002FRed_Hat_Enterprise_Linux\u002F6\u002Fhtml\u002FInstallation_Guide\u002Fs1-kickstart2-options.html+官网自带中文版，选一下语言即可+ks.cfg文件组成大致分为+3+段|89gma|命令段+键盘类型，语言，安装方式等系统的配置，有必选项和可选项，如果缺少某项必选项，安装时会中断并提示用户选择此项的选项\n+|67rc4|软件包段\n+|av090|%25packages\n@groupname：指定安装的包组\npackage_name：指定安装的包\n-package_name：指定不安装的包|84egs|在安装过程中默认安装的软件包，安装软件时会自动分析依赖关系。|f78hd|脚本段+(可选)|1gptd|%25pre:安装系统前执行的命令或脚本(由于只依赖于启动镜像，支持的命令很少)\n%25post:安装系统后执行的命令或脚本(基本支持所有命令)|8rqsb|+++关键字+含义+++++install+告知安装程序，这是一次全新安装，而不是升级upgrade。+++url+--url=\"+\"+通过FTP或HTTP从远程服务器上的安装树中安装。+++url+--url=\"http:\u002F\u002F10.0.0.7\u002FCentOS-6.7\u002F\"++++url+--url+ftp:\u002F\u002F\u003Cusername\u003E:\u003Cpassword\u003E@\u003Cserver\u003E\u002F\u003Cdir\u003E++++nfs+从指定的NFS服务器安装。+++nfs+--server=nfsserver.example.com+--dir=\u002Ftmp\u002Finstall-tree++++text+使用文本模式安装。+++lang+设置在安装过程中使用的语言以及系统的缺省语言。lang+en_US.UTF-8+++keyboard+设置系统键盘类型。keyboard+us+++zerombr+清除mbr引导信息。+++bootloader+系统引导相关配置。+++bootloader+--location=mbr+--driveorder=sda+--append=\"crashkernel=auto+rhgb+quiet\"++++--location=+,指定引导记录被写入的位置.+有效的值如下:mbr(缺省),partition(在包含内核的分区的第一个扇区安装引导装载程序)+或none(不安装引导装载程序)。+++--driveorder+指定在BIOS引导顺序中居首的驱动器。+++--append=+指定内核参数.+要指定多个参数,+使用空格分隔它们。+++network+为通过网络的kickstart安装以及所安装的系统配置联网信息。+++network+--bootproto=dhcp+--device=eth0+--onboot=yes+--noipv6+--hostname=CentOS6++++--bootproto=[dhcp\u002Fbootp\u002Fstatic]中的一种，缺省值是dhcp。+bootp和dhcp被认为是相同的。static方法要求在kickstart文件里输入所有的网络信息。+++network+--bootproto=static+--ip=10.0.0.100+--netmask=255.255.255.0+--gateway=10.0.0.2+--nameserver=10.0.0.2+请注意所有配置信息都必须在一行上指定,+不能使用反斜线来换行。+++--ip=+要安装的机器的IP地址.+++--gateway=+IP+地址格式的默认网关.+++--netmask=+安装的系统的子网掩码.+++--hostname=+安装的系统的主机名.+++--onboot=+是否在引导时启用该设备.+++--noipv6=+禁用此设备的IPv6.+++--nameserver=+配置dns解析.+++timezone+设置系统时区。timezone+--utc+Asia\u002FShanghai+++authconfig+系统认证信息。+++authconfig+--enableshadow+--passalgo=sha512+设置密码加密方式为sha512+启用shadow文件。+++rootpw+root密码+++clearpart+清空分区。+++clearpart+--all+--initlabel+--all+从系统中清除所有分区，--initlable+初始化磁盘标签+++part+磁盘分区。+++part+\u002Fboot+--fstype=ext4+--asprimary+--size=200++++part+swap+--size=1024++++part+\u002F+--fstype=ext4+--grow+--asprimary+--size=200++++--fstype=+为分区设置文件系统类型.+有效的类型为ext2,ext3,swap和vfat。+++--asprimary+强迫把分区分配为主分区,+否则提示分区失败。+++--size=+以MB为单位的分区最小值.+在此处指定一个整数值,+如500.+不要在数字后面加MB。+++--grow+告诉分区使用所有可用空间+(若有),+或使用设置的最大值。+++firstboot+负责协助配置+redhat+一些重要的信息。+++firstboot+--disable++++selinux+关闭selinux。selinux+--disabled+++firewall+关闭防火墙。firewall+--disabled+++logging+设置日志级别。logging+--level=info+++reboot+设定安装完成后重启,+此选项必须存在，不然+kickstart+显示一条消息，并等待用户按任意键后才重新引导，也可以选择halt关机。+++|table|aligns|8os0m|align|left|5jq9u|rows|ev6d0|cells|ckruf|raw|ectvm|关键字|be5ti|bs07c|含义|1tdm1|el9ek|6bdq7|install|32s2j|4emt4|告知安装程序，这是一次全新安装，而不是升级upgrade。|71iu5|2eemg|6489e|url+--url=\"+\"|6nq0a|chk7a|通过FTP或HTTP从远程服务器上的安装树中安装。|fkr3l|43ptp|bodip|url+--url=\"http:\u002F\u002F10.0.0.7\u002FCentOS-6.7\u002F\"|itjf|ceost|2jd9m|16r0|4tb9j|url+--url+ftp:\u002F\u002F\u003Cusername\u003E:\u003Cpassword\u003E@\u003Cserver\u003E\u002F\u003Cdir\u003E|3ago4|fs9p8|djgap|5gthh|3v4ak|nfs|dvutk|bmfgg|从指定的NFS服务器安装。|7m02a|aboss|3ek9l|nfs+--server=nfsserver.example.com+--dir=\u002Ftmp\u002Finstall-tree|99jgv|49upd|rj85|8aglo|7m1gi|3jdf3|53ag8|使用文本模式安装。|9jda8|9h37l|177ea|lang|drnbv|ca4aa|设置在安装过程中使用的语言以及系统的缺省语言。lang+en_US.UTF-8|eee24|68oj3|7lug0|keyboard|1hrj0|5s494|设置系统键盘类型。keyboard+us|2jjn1|9ulh4|50ja4|zerombr|2dcus|6i0bt|清除mbr引导信息。|phdk|58ai6|7vvtv|bootloader|bk0m2|1a128|系统引导相关配置。|d6dqo|cgs7b|f06vd|bootloader+--location=mbr+--driveorder=sda+--append=\"crashkernel=auto+rhgb+quiet\"|fgi6s|6s21s|7t1q7|6819f|c4t72|--location=|247mb|b5kcs|,指定引导记录被写入的位置.+有效的值如下:mbr(缺省),partition(在包含内核的分区的第一个扇区安装引导装载程序)+或none(不安装引导装载程序)。|5fvij|9s8un|eei1d|--driveorder|f94o8|c24e6|指定在BIOS引导顺序中居首的驱动器。|5d7m4|5mt1n|bueiv|--append=|fb4r2|15a18|指定内核参数.+要指定多个参数,+使用空格分隔它们。|49fvj|631no|o4uk|network|5f4eu|10m79|为通过网络的kickstart安装以及所安装的系统配置联网信息。|e2do3|a8r07|dk0d|network+--bootproto=dhcp+--device=eth0+--onboot=yes+--noipv6+--hostname=CentOS6|fuai4|fp177|23b9r|8jok6|5gtlh|--bootproto=[dhcp\u002Fbootp\u002Fstatic]中的一种，缺省值是dhcp。|d3000|7em4s|bootp和dhcp被认为是相同的。static方法要求在kickstart文件里输入所有的网络信息。|2n4so|7k1hd|9gjon|network+--bootproto=static+--ip=10.0.0.100+--netmask=255.255.255.0+--gateway=10.0.0.2+--nameserver=10.0.0.2|8pobm|dj86o|请注意所有配置信息都必须在一行上指定,+不能使用反斜线来换行。|5m2g6|35mtk|2j999|--ip=|8dn75|5ms3v|要安装的机器的IP地址.|3vool|2e3kb|b6ku4|--gateway=|87k1r|4veqs|IP+地址格式的默认网关.|7qmj2|d8llc|4u9t3|--netmask=|agoog|4rde0|安装的系统的子网掩码.|1tas8|8a4a3|3msc8|--hostname=|bj8cp|4qqe7|安装的系统的主机名.|17qvm|3u8hc|5cvcg|--onboot=|822cv|cpsd4|是否在引导时启用该设备.|fs093|4mtn3|4ia4r|--noipv6=|ndec|1o3c8|禁用此设备的IPv6.|2qmdq|frmj1|bh8te|--nameserver=|5c9ab|ajdeq|配置dns解析.|33uqc|3j913|fpn2i|timezone|e2kf3|13hvq|设置系统时区。timezone+--utc+Asia\u002FShanghai|9ig0b|dq89p|bi5gs|authconfig|8j2ha|16e2b|系统认证信息。|8bkp8|9qprq|28su0|authconfig+--enableshadow+--passalgo=sha512|4sb9s|600uq|设置密码加密方式为sha512+启用shadow文件。|ck04f|38ri1|9878p|rootpw|bmjp0|4qohq|root密码|d9uc3|2k6vu|12t6l|clearpart|dndl0|3u5qi|清空分区。|elt9s|9rgbh|7cmkt|clearpart+--all+--initlabel|3ppkd|avbhc|--all+从系统中清除所有分区，--initlable+初始化磁盘标签|1hdan|d4a43|e5fv6|part|fu38q|fro6m|磁盘分区。|7om4v|eknlt|3ceds|part+\u002Fboot+--fstype=ext4+--asprimary+--size=200|dkbmd|1b51e|d3kqf|4j5a0|d6v5u|part+swap+--size=1024|1eobs|1lu4b|1cj0r|fmtij|8vueh|part+\u002F+--fstype=ext4+--grow+--asprimary+--size=200|u07n|4c8f8|84ugk|3lfsl|8chue|--fstype=|4k0mn|4etm6|为分区设置文件系统类型.+有效的类型为ext2,ext3,swap和vfat。|9qlk2|c80uf|169ea|--asprimary|7413d|l4bs|强迫把分区分配为主分区,+否则提示分区失败。|ets4i|dfstf|1e3r4|--size=|5g0gs|frb8n|以MB为单位的分区最小值.+在此处指定一个整数值,+如500.+不要在数字后面加MB。|27ul1|o8sr|99iuu|--grow|e6l17|e0pe0|告诉分区使用所有可用空间+(若有),+或使用设置的最大值。|7skkk|au89h|8uucn|firstboot|18ch6|7ii9|负责协助配置+redhat+一些重要的信息。|64vo8|dfpe5|1g7ov|firstboot+--disable|75jf1|61v6r|9mcvh|9re95|56ro5|selinux|amep5|70cnk|关闭selinux。selinux+--disabled|192i8|faj45|7rkmj|firewall|25l4m|8p9mh|关闭防火墙。firewall+--disabled|9moq|9lgkj|63ri2|logging|eqprg|326v5|设置日志级别。logging+--level=info|aeca3|belb0|ai2o|reboot|3hgv0|6g5sg|设定安装完成后重启,+此选项必须存在，不然+kickstart+显示一条消息，并等待用户按任意键后才重新引导，也可以选择halt关机。|71ko8|7.3+编写+ks+文件|3kdqn|#+先生成一个密码备用\n[root@linux-node1+~]#+grub-crypt\nPassword:123456\nRetype+password:123456\n$6$X20eRtuZhkHznTb4$dK0BJByOSAWSDD8jccLVFz0CscijS9ldMWwpoCw\u002FZEjYw2BTQYGWlgKsn945fFTjRC658UXjuocwJbAjVI5D6\u002F\n[root@linux-node1+~]#+mkdir+\u002Fvar\u002Fwww\u002Fhtml\u002Fks_config\n[root@linux-node1+~]#+vim+\u002Fvar\u002Fwww\u002Fhtml\u002Fks_config\u002FCentOS-6.7-ks.cfg\n#+Kickstart+Configurator+for+CentOS+6.7+by+yao+zhang\ninstall\nurl+--url=\"http:\u002F\u002F10.0.0.7\u002FCentOS-6.7\u002F\"\ntext\nlang+en_US.UTF-8\nkeyboard+us\nzerombr\nbootloader+--location=mbr+--driveorder=sda+--append=\"crashkernel=auto+rhgb+quiet\"\nnetwork+--bootproto=dhcp+--device=eth0+--onboot=yes+--noipv6+--hostname=CentOS6\ntimezone+--utc+Asia\u002FShanghai\nauthconfig+--enableshadow+--passalgo=sha512\nrootpw++--iscrypted+$6$X20eRtuZhkHznTb4$dK0BJByOSAWSDD8jccLVFz0CscijS9ldMWwpoCw\u002FZEjYw2BTQYGWlgKsn945fFTjRC658UXjuocwJbAjVI5D6\u002F\nclearpart+--all+--initlabel\npart+\u002Fboot+--fstype=ext4+--asprimary+--size=200\npart+swap+--size=1024\npart+\u002F+--fstype=ext4+--grow+--asprimary+--size=200\nfirstboot+--disable\nselinux+--disabled\nfirewall+--disabled\nlogging+--level=info\nreboot\n%25packages\n@base\n@compat-libraries\n@debugging\n@development\ntree\nnmap\nsysstat\nlrzsz\ndos2unix\ntelnet\n\n%25post\nwget+-O+\u002Ftmp\u002Foptimization.sh+http:\u002F\u002F10.0.0.7\u002Fks_config\u002Foptimization.sh+&\u003E\u002Fdev\u002Fnull\n\u002Fbin\u002Fsh+\u002Ftmp\u002Foptimization.sh\n%25end|cci5i|7.4+开机优化脚本|dn93i|[root@linux-node1+~]#+vim+\u002Fvar\u002Fwww\u002Fhtml\u002Fks_config\u002Foptimization.sh\n#!\u002Fbin\u002Fbash\n##############################################################\n#+File+Name:+\u002Fvar\u002Fwww\u002Fhtml\u002Fks_config\u002Foptimization.sh\n#+Version:+V1.0\n#+Author:+yao+zhang\n#+Organization:+www.zyops.com\n#+Created+Time+:+2015-12-03+15:23:08\n#+Description:+Linux+system+initialization\n##############################################################\n\n.+\u002Fetc\u002Finit.d\u002Ffunctions\n\nIp=10.0.0.7\nPort=80\nConfigDir=ks_config\n\n#+Judge+Http+server+is+ok?\nPortNum=`nmap+$Ip++-p+$Port+2\u003E\u002Fdev\u002Fnull%7Cgrep+open%7Cwc+-l`\n[+$PortNum+-lt+1+]+&&+{\n++++++++echo+\"Http+server+is+bad!\"\n++++++++exit+1\n}\n\n#+Defined+result+function\nfunction+Msg(){\n++++++++if+[+$?+-eq+0+];then\n++++++++++action+\"$1\"+\u002Fbin\u002Ftrue\n++++++++else\n++++++++++action+\"$1\"+\u002Fbin\u002Ffalse\n++++++++fi\n}\n\n#+Defined+IP+function\nfunction+ConfigIP(){\n++++++++Suffix=`ifconfig+eth0%7Cawk+-F+\"[+.]%2B\"+'NR==2+{print+$6}'`\n++++++++cat+\u003E\u002Fetc\u002Fsysconfig\u002Fnetwork-scripts\u002Fifcfg-eth0+\u003C\u003C-END\n++++++++DEVICE=eth0\n++++++++TYPE=Ethernet\n++++++++ONBOOT=yes\n++++++++NM_CONTROLLED=yes\n++++++++BOOTPROTO=none\n++++++++IPADDR=10.0.0.$Suffix\n++++++++PREFIX=24\n++++++++GATEWAY=10.0.0.2\n++++++++DNS1=10.0.0.2\n++++++++DEFROUTE=yes\n++++++++IPV4_FAILURE_FATAL=yes\n++++++++IPV6INIT=no\n\n++++++++END\n++++++++Msg+\"config+eth0\"\n}\n\n#+Defined+Yum+source+Functions\nfunction+yum(){\n++++++++YumDir=\u002Fetc\u002Fyum.repos.d\n++++++++[+-f+\"$YumDir\u002FCentOS-Base.repo\"+]+&&+cp+$YumDir\u002FCentOS-Base.repo{,.ori}+\n++++++++wget+-O+$YumDir\u002FCentOS-Base.repo+http:\u002F\u002F$Ip:$Port\u002F$ConfigDir\u002FCentOS-Base.repo+&\u003E\u002Fdev\u002Fnull+&&\\\n++++++++wget+-O+$YumDir\u002Fepel.repo+http:\u002F\u002F$Ip:$Port\u002F$ConfigDir\u002Fepel.repo+&\u003E\u002Fdev\u002Fnull+&&\\\n++++++++Msg+\"YUM+source\"\n}\n\n#+Defined+Hide+the+system+version+number+Functions\nfunction+HideVersion(){\n++++++++[+-f+\"\u002Fetc\u002Fissue\"+]+&&+\u003E\u002Fetc\u002Fissue\n++++++++Msg+\"Hide+issue\"+\n++++++++[+-f+\"\u002Fetc\u002Fissue.net\"+]+&&+\u003E+\u002Fetc\u002Fissue.net\n++++++++Msg+\"Hide+issue.net\"\n}\n\n#+Defined+OPEN+FILES+Functions\nfunction+openfiles(){\n++++++++[+-f+\"\u002Fetc\u002Fsecurity\u002Flimits.conf\"+]+&&+{\n++++++++echo+'*++-++nofile++65535'+\u003E\u003E+\u002Fetc\u002Fsecurity\u002Flimits.conf\n++++++++Msg+\"open+files\"\n++++++++}\n}\n\n#+Defined+Kernel+parameters+Functions\nfunction+kernel(){\n++++++++KernelDir=\u002Fetc\n++++++++[+-f+\"$KernelDir\u002Fsysctl.conf\"+]+&&+\u002Fbin\u002Fmv+$KernelDir\u002Fsysctl.conf{,.ori}\n++++++++wget+-O+$KernelDir\u002Fsysctl.conf+http:\u002F\u002F$Ip:$Port\u002F$ConfigDir\u002Fsysctl.conf+&\u003E\u002Fdev\u002Fnull\n++++++++Msg+\"Kernel+config\"\n}\n\n#+Defined+System+Startup+Services+Functions\nfunction+boot(){\n++++++++for+oldboy+in+`chkconfig+--list%7Cgrep+\"3:on\"%7Cawk+'{print+$1}'%7Cgrep+-vE+\"crond%7Cnetwork%7Crsyslog%7Csshd%7Csysstat\"`+\n++++++++++do+\n+++++++++++chkconfig+$oldboy+off\n++++++++done\n++++++++Msg+\"BOOT+config\"\n}\n\n#+Defined+Time+Synchronization+Functions\nfunction+Time(){\n++++++++echo+\"#time+sync+by+zhangyao+at+$(date+%2B%25F)\"+\u003E\u003E\u002Fvar\u002Fspool\u002Fcron\u002Froot\n++++++++echo+'*\u002F5+*+*+*+*+\u002Fusr\u002Fsbin\u002Fntpdate+time.nist.gov+&\u003E\u002Fdev\u002Fnull'+\u003E\u003E\u002Fvar\u002Fspool\u002Fcron\u002Froot\n++++++++Msg+\"Time+Synchronization\"\n}\n\n#+Defined+main+Functions\nfunction+main(){\n++++++++ConfigIP\n++++++++yum\n++++++++HideVersion\n++++++++openfiles\n++++++++kernel\n++++++++boot\n++++++++Time\n}\n\nmain\n#+rz上传CentOS-Base.repo、epel.repo、sysctl.conf|6ghno|7.5+整合编辑+default+配置文件|header-three|7kcu3|#+最精简配置\n[root@linux-node1+~]#+vim+\u002Fvar\u002Flib\u002Ftftpboot\u002Fpxelinux.cfg\u002Fdefault\ndefault+ks\nprompt+0\n\nlabel+ks\n++kernel+vmlinuz\n++append+initrd=initrd.img+ks=http:\u002F\u002F10.0.0.7\u002Fks_config\u002FCentOS-6.7-ks.cfg+#+告诉安装程序ks.cfg文件在哪里\n\n#+append+initrd=initrd.img+ks=http:\u002F\u002F10.0.0.7\u002Fks_config\u002FCentOS-6.7-ks.cfg+ksdevice=eth0\n#+ksdevice=eth0代表当客户端有多块网卡的时候，要实现自动化需要设置从eth1安装，不指定的话，安装的时候系统会让你选择，那就不叫全自动化了。|4qdrq|8.+无人值守自动安装|e3den|打开系统电源，出去喝杯水。过会回来,+系统就以经装好了.%5E_%5E+下面是安装过程中截的几个图|4581l|3l2nb|ai2s5|如果安装过程出错，可以通过+Alt%2BF2-F5+切到其他控制台查看报错信息|cm36n|9.+安装完成后验证|lafu|[root@CentOS6+~]#+df+-h\nFilesystem++++++Size++Used+Avail+Use%25+Mounted+on\n\u002Fdev\u002Fsda2+++++++6.6G++1.4G++4.9G++22%25+\u002F\ntmpfs+++++++++++491M+++++0++491M+++0%25+\u002Fdev\u002Fshm\n\u002Fdev\u002Fsda1+++++++190M+++36M++145M++20%25+\u002Fboot\n[root@CentOS6+~]#+\u002Fetc\u002Finit.d\u002Fiptables+status\niptables：未运行防火墙。\n[root@CentOS6+~]#+getenforce\nDisabled\n[root@CentOS6+~]#+ifconfig+eth0%7Cawk+-F+\"[+:]%2B\"+'NR==2+{print+$4}'\n10.0.0.101\n[root@CentOS6+~]#+chkconfig+--list%7Cgrep+\"3:on\"\ncrond+++++++++++0:off+++1:off+++2:on++++3:on++++4:on++++5:on++++6:off\nnetwork+++++++++0:off+++1:off+++2:on++++3:on++++4:on++++5:on++++6:off\nrsyslog+++++++++0:off+++1:off+++2:on++++3:on++++4:on++++5:on++++6:off\nsshd++++++++++++0:off+++1:off+++2:on++++3:on++++4:on++++5:on++++6:off\nsysstat+++++++++0:off+++1:on++++2:on++++3:on++++4:on++++5:on++++6:off|dh8la|10.+知识扩展|7m667|10.1+PXE+配置文件+default|86v56|由于多个客户端可以从一个+PXE+服务器引导，PXE+引导映像使用了一个复杂的配置文件搜索方式来查找针对客户机的配置文件。如果客户机的网卡的+MAC+地址为8F：3H：AA：6B：CC：5D，对应的+IP+地址为+10.0.0.195，那么客户机首先尝试以+MAC+地址为文件名匹配的配置文件，如果不存在就以+IP+地址来查找。根据上述环境针对这台主机要查找的以一个配置文件就是+\u002Ftftpboot\u002Fpxelinux.cfg\u002F01-8F：3H：AA：6B：CC：5D。如果该文件不存在，就会根据+IP+地址来查找配置文件了，这个算法更复杂些，PXE+映像查找会根据+IP+地址+16+进制命名的客户机配置文件。例如：10.0.0.195+对应的+16+进制的形式为+C0A801C3。（可以通过+syslinux+软件包提供的+gethostip+命令将+10+进制的+IP+转换为+16+进制）|6ektv|如果+C0A801C3+文件不存在，就尝试查找+C0A801C+文件，如果+C0A801C+也不存在，那么就尝试+C0A801+文件，依次类推，直到查找+C+文件，如果+C+也不存在的话，那么最后尝试+default+文件。|a8ii|总体来说，pxelinux+搜索的文件的顺序是：|c04u7|\u002Ftftpboot\u002Fpxelinux.cfg\u002F01-88-99-aa-bb-cc-dd\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A801C3\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A801C\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A801\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A80\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A8\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC\n\u002Ftftpboot\u002Fpxelinux.cfg\u002Fdefault|njvk|应用：如果已经从厂商获取了服务器+MAC+地址，就可以差异化定制安装服务器了。|5ttv7|10.2+Cobbler|d8qnr|大家学完+kickstart，会发现一个问题，kickstart+不怎么灵活，调整某些参数就需要另外一个+ks.cfg+文件。因此+Cobbler+无人值守安装可以一观。|3li17|11.+报错|36dpf|d3op0|报错原因：selinux+没关^0|0|0|A|2L|0|8|9|0|0|0|0|0|0|0|0|0|0|0|0|1|0|0|0|1|1|0|0|0|0|0|0|0|0|0|0|0|0|1F|0|0|0|5|1S|0|0|1|2|0|0|0|0|0|L|5|G|3|0|0|1|4|0|0|0|0|0|1Z|0|0|1Z|0|0|U|V|0|0|0|0|0|0|0|0|0|0|5|R|0|0|1|5|0|0|0|0|0|0|0|0|0|1|6|0|0|0|1|7|0|0|1|8|0|0|0|0|0|0|1|9|0|0|1|A|0|0|0|1|B|0|0|0|1|C|0|0|0|1|D|0|0|0|1|E|0|0|0|0|1|F|0|0|0|1|G|0|0|0|1|H|0|0|0|O|52|0|0|0|0|0|A|2D|I|0|47|6|A|3G|J|0|0|0|0|0|0|0|E|7|17|7|1I|D|1Y|3|22|4|2O|13|3V|1G|5F|3|5N|3|5Z|1M|7P|4|86|4|8Y|G|9H|8|9Z|B|AD|7|AN|3|AY|A|BL|29|DY|B|EW|3|F4|9|G3|4|GM|C|H2|4|HL|9|IO|7|J2|9|JV|27|M6|V|NA|4|NG|5|NM|4|NY|6|O9|9|OY|2Z|SW|5|T9|2|TH|A|U8|A|UX|B|VM|9|WB|9|WR|4|WZ|D|XF|3|XO|8|Y4|S|YZ|A|ZK|17|111|6|11A|6|11M|6|11T|4|122|9|12K|R|13C|5|13T|B|14F|4|14S|1B|167|L|16W|1E|18E|9|197|4|19C|4|19H|4|19M|4|19U|B|1AV|7|1B4|2|1BU|3|1C7|2|1CD|6|1DG|9|1EF|J|1F2|7|1FC|7|1FK|I|1G5|8|1GK|J|1H6|7|1HL|K|1I8|6|1K3|4|0|0|0|0|0|0|0|0|0|0|1|K|0|0|1|L|0|0|0|0|0|0|26|H|5A|17|0|0|0|0|0|0|1U|E|M|0|0|0|1|N|0|0|F^^$0|$1|$2|3|4|5|6|$7|8|9|-4]]|A|$2|3|4|5|6|$7|B|9|-4]]|C|$2|3|4|5|6|$7|D|9|-4]]|E|$2|F|4|G|6|$H|I]]|J|$2|3|4|5|6|$7|K|9|-4]]|L|$2|3|4|5|6|$7|M|9|-4]]|N|$2|3|4|5|6|$7|O|9|-4]]|P|$2|3|4|5|6|$7|Q|9|-4]]|R|$2|3|4|5|6|$7|S|9|-4]]|T|$2|3|4|5|6|$7|U|9|-4]]|V|$2|3|4|5|6|$7|W|9|-4]]|X|$2|3|4|5|6|$7|Y|9|-4]]|Z|$2|3|4|5|6|$7|10|9|-4]]|11|$2|3|4|5|6|$7|12|9|-4]]|13|$2|3|4|5|6|$7|14|9|-4]]|15|$2|3|4|5|6|$7|16|9|-4]]|17|$2|3|4|5|6|$7|18|9|-4]]|19|$2|3|4|5|6|$7|1A|9|-4]]|1B|$2|F|4|G|6|$H|1C]]|1D|$2|F|4|G|6|$H|1E]]|1F|$2|3|4|5|6|$7|1G|9|-4]]|1H|$2|3|4|5|6|$7|1I|9|-4]]|1J|$2|F|4|G|6|$H|1K]]|1L|$2|3|4|5|6|$7|1M|9|-4]]]|1N|@$1O|1P|1Q|1R|2|1S|1T|HX|1U|@]|1V|@]|6|$]]|$1O|1W|1Q|1X|2|1Y|1T|HY|1U|@]|1V|@]|6|$]]|$1O|1Z|1Q|20|2|1Y|1T|HZ|1U|@$21|I0|22|I1|23|24]]|1V|@]|6|$]]|$1O|25|1Q|26|2|1Y|1T|I2|1U|@$21|I3|22|I4|23|24]]|1V|@]|6|$]]|$1O|27|1Q|28|2|29|1T|I5|1U|@]|1V|@]|6|$]]|$1O|2A|1Q|2B|2|1S|1T|I6|1U|@]|1V|@]|6|$]]|$1O|2C|1Q|2D|2|2E|1T|I7|1U|@]|1V|@]|6|$]]|$1O|2F|1Q|2G|2|2H|1T|I8|1U|@]|1V|@]|6|$]]|$1O|2I|1Q|2J|2|2H|1T|I9|1U|@]|1V|@]|6|$]]|$1O|2K|1Q|2L|2|2H|1T|IA|1U|@]|1V|@]|6|$]]|$1O|2M|1Q|2N|2|2H|1T|IB|1U|@]|1V|@]|6|$]]|$1O|2O|1Q|2P|2|2H|1T|IC|1U|@]|1V|@]|6|$]]|$1O|2Q|1Q|2R|2|2H|1T|ID|1U|@]|1V|@]|6|$]]|$1O|2S|1Q|2T|2|2E|1T|IE|1U|@]|1V|@]|6|$]]|$1O|2U|1Q|2V|2|2W|1T|IF|1U|@]|1V|@$21|IG|22|IH|1O|II]]|6|$]]|$1O|2X|1Q|2V|2|2W|1T|IJ|1U|@]|1V|@$21|IK|22|IL|1O|IM]]|6|$]]|$1O|2Y|1Q|2Z|2|30|1T|IN|1U|@]|1V|@]|6|$]]|$1O|31|1Q|32|2|30|1T|IO|1U|@]|1V|@]|6|$]]|$1O|33|1Q|34|2|30|1T|IP|1U|@]|1V|@]|6|$]]|$1O|35|1Q|36|2|30|1T|IQ|1U|@]|1V|@]|6|$]]|$1O|37|1Q|38|2|30|1T|IR|1U|@]|1V|@]|6|$]]|$1O|39|1Q|3A|2|30|1T|IS|1U|@]|1V|@]|6|$]]|$1O|3B|1Q|3C|2|2E|1T|IT|1U|@]|1V|@]|6|$]]|$1O|3D|1Q|3E|2|1Y|1T|IU|1U|@]|1V|@]|6|$]]|$1O|3F|1Q|3G|2|1Y|1T|IV|1U|@]|1V|@]|6|$]]|$1O|3H|1Q|3I|2|1Y|1T|IW|1U|@]|1V|@]|6|$]]|$1O|3J|1Q|3K|2|1Y|1T|IX|1U|@$21|IY|22|IZ|23|3L]]|1V|@]|6|$]]|$1O|3M|1Q|3N|2|2E|1T|J0|1U|@]|1V|@]|6|$]]|$1O|3O|1Q|3P|2|3Q|1T|J1|1U|@]|1V|@]|6|$3R|3S]]|$1O|3T|1Q|3U|2|29|1T|J2|1U|@$21|J3|22|J4|23|24]]|1V|@]|6|$]]|$1O|3V|1Q|2V|2|2W|1T|J5|1U|@]|1V|@$21|J6|22|J7|1O|J8]]|6|$]]|$1O|3W|1Q|3X|2|1S|1T|J9|1U|@]|1V|@]|6|$]]|$1O|3Y|1Q|3Z|2|2E|1T|JA|1U|@]|1V|@]|6|$]]|$1O|40|1Q|41|2|1Y|1T|JB|1U|@]|1V|@]|6|$]]|$1O|42|1Q|43|2|1Y|1T|JC|1U|@$21|JD|22|JE|23|3L]]|1V|@$21|JF|22|JG|1O|JH]]|6|$]]|$1O|44|1Q|2V|2|2W|1T|JI|1U|@]|1V|@$21|JJ|22|JK|1O|JL]]|6|$]]|$1O|45|1Q|46|2|2E|1T|JM|1U|@]|1V|@]|6|$]]|$1O|47|1Q|48|2|3Q|1T|JN|1U|@]|1V|@]|6|$3R|3S]]|$1O|49|1Q|4A|2|29|1T|JO|1U|@]|1V|@]|6|$]]|$1O|4B|1Q|4C|2|2H|1T|JP|1U|@$21|JQ|22|JR|23|3L]]|1V|@]|6|$]]|$1O|4D|1Q|4E|2|2H|1T|JS|1U|@$21|JT|22|JU|23|3L]]|1V|@]|6|$]]|$1O|4F|1Q|4G|2|2E|1T|JV|1U|@]|1V|@]|6|$]]|$1O|4H|1Q|4I|2|29|1T|JW|1U|@$21|JX|22|JY|23|3L]]|1V|@]|6|$]]|$1O|4J|1Q|4K|2|3Q|1T|JZ|1U|@]|1V|@]|6|$3R|3S]]|$1O|4L|1Q|4M|2|1S|1T|K0|1U|@]|1V|@]|6|$]]|$1O|4N|1Q|4O|2|2E|1T|K1|1U|@]|1V|@]|6|$]]|$1O|4P|1Q|4Q|2|1Y|1T|K2|1U|@]|1V|@]|6|$]]|$1O|4R|1Q|4S|2|2E|1T|K3|1U|@]|1V|@]|6|$]]|$1O|4T|1Q|4U|2|3Q|1T|K4|1U|@]|1V|@]|6|$3R|3S]]|$1O|4V|1Q|4W|2|1S|1T|K5|1U|@]|1V|@]|6|$]]|$1O|4X|1Q|4Y|2|1Y|1T|K6|1U|@]|1V|@]|6|$]]|$1O|4Z|1Q|50|2|3Q|1T|K7|1U|@]|1V|@]|6|$3R|3S]]|$1O|51|1Q|52|2|1Y|1T|K8|1U|@$21|K9|22|KA|23|53]]|1V|@]|6|$]]|$1O|54|1Q|2V|2|2W|1T|KB|1U|@]|1V|@$21|KC|22|KD|1O|KE]]|6|$]]|$1O|55|1Q|56|2|1S|1T|KF|1U|@]|1V|@]|6|$]]|$1O|57|1Q|58|2|2E|1T|KG|1U|@]|1V|@]|6|$]]|$1O|59|1Q|5A|2|29|1T|KH|1U|@]|1V|@]|6|$]]|$1O|5B|1Q|5C|2|3Q|1T|KI|1U|@]|1V|@]|6|$3R|3S]]|$1O|5D|1Q|5E|2|2E|1T|KJ|1U|@]|1V|@]|6|$]]|$1O|5F|1Q|5G|2|29|1T|KK|1U|@]|1V|@]|6|$]]|$1O|5H|1Q|5I|2|1Y|1T|KL|1U|@]|1V|@]|6|$]]|$1O|5J|1Q|2V|2|2W|1T|KM|1U|@]|1V|@$21|KN|22|KO|1O|KP]]|6|$]]|$1O|5K|1Q|5L|2|1Y|1T|KQ|1U|@]|1V|@]|6|$]]|$1O|5M|1Q|2V|2|2W|1T|KR|1U|@]|1V|@$21|KS|22|KT|1O|KU]]|6|$]]|$1O|5N|1Q|2V|2|2W|1T|KV|1U|@]|1V|@$21|KW|22|KX|1O|KY]]|6|$]]|$1O|5O|1Q|5P|2|3Q|1T|KZ|1U|@]|1V|@]|6|$3R|3S]]|$1O|5Q|1Q|5R|2|1S|1T|L0|1U|@]|1V|@]|6|$]]|$1O|5S|1Q|5T|2|1Y|1T|L1|1U|@]|1V|@]|6|$]]|$1O|5U|1Q|5V|2|1Y|1T|L2|1U|@]|1V|@]|6|$]]|$1O|5W|1Q|2V|2|2W|1T|L3|1U|@]|1V|@$21|L4|22|L5|1O|L6]]|6|$]]|$1O|5X|1Q|2V|2|2W|1T|L7|1U|@]|1V|@$21|L8|22|L9|1O|LA]]|6|$]]|$1O|5Y|1Q|5Z|2|1Y|1T|LB|1U|@]|1V|@]|6|$]]|$1O|60|1Q|2V|2|2W|1T|LC|1U|@]|1V|@$21|LD|22|LE|1O|LF]]|6|$]]|$1O|61|1Q|62|2|1Y|1T|LG|1U|@]|1V|@]|6|$]]|$1O|63|1Q|2V|2|2W|1T|LH|1U|@]|1V|@$21|LI|22|LJ|1O|LK]]|6|$]]|$1O|64|1Q|65|2|1Y|1T|LL|1U|@]|1V|@]|6|$]]|$1O|66|1Q|2V|2|2W|1T|LM|1U|@]|1V|@$21|LN|22|LO|1O|LP]]|6|$]]|$1O|67|1Q|68|2|1Y|1T|LQ|1U|@]|1V|@]|6|$]]|$1O|69|1Q|2V|2|2W|1T|LR|1U|@]|1V|@$21|LS|22|LT|1O|LU]]|6|$]]|$1O|6A|1Q|6B|2|29|1T|LV|1U|@]|1V|@]|6|$]]|$1O|6C|1Q|6D|2|1Y|1T|LW|1U|@]|1V|@]|6|$]]|$1O|6E|1Q|2V|2|2W|1T|LX|1U|@]|1V|@$21|LY|22|LZ|1O|M0]]|6|$]]|$1O|6F|1Q|6G|2|1Y|1T|M1|1U|@]|1V|@]|6|$]]|$1O|6H|1Q|2V|2|2W|1T|M2|1U|@]|1V|@$21|M3|22|M4|1O|M5]]|6|$]]|$1O|6I|1Q|6J|2|1Y|1T|M6|1U|@]|1V|@]|6|$]]|$1O|6K|1Q|2V|2|2W|1T|M7|1U|@]|1V|@$21|M8|22|M9|1O|MA]]|6|$]]|$1O|6L|1Q|6M|2|1S|1T|MB|1U|@]|1V|@]|6|$]]|$1O|6N|1Q|6O|2|1Y|1T|MC|1U|@]|1V|@]|6|$]]|$1O|6P|1Q|6Q|2|1Y|1T|MD|1U|@$21|ME|22|MF|23|24]]|1V|@]|6|$]]|$1O|6R|1Q|6S|2|2E|1T|MG|1U|@]|1V|@]|6|$]]|$1O|6T|1Q|6U|2|3Q|1T|MH|1U|@]|1V|@]|6|$3R|3S]]|$1O|6V|1Q|6W|2|2E|1T|MI|1U|@]|1V|@]|6|$]]|$1O|6X|1Q|6Y|2|1Y|1T|MJ|1U|@]|1V|@]|6|$]]|$1O|6Z|1Q|70|2|2H|1T|MK|1U|@]|1V|@$21|ML|22|MM|1O|MN]]|6|$]]|$1O|71|1Q|72|2|2H|1T|MO|1U|@$21|MP|22|MQ|23|53]]|1V|@$21|MR|22|MS|1O|MT]]|6|$]]|$1O|73|1Q|74|2|2H|1T|MU|1U|@]|1V|@]|6|$]]|$1O|75|1Q|76|2|2H|1T|MV|1U|@]|1V|@]|6|$]]|$1O|77|1Q|78|2|3Q|1T|MW|1U|@]|1V|@]|6|$3R|3S]]|$1O|79|1Q|7A|2|1Y|1T|MX|1U|@]|1V|@]|6|$]]|$1O|7B|1Q|7C|2|2H|1T|MY|1U|@]|1V|@]|6|$]]|$1O|7D|1Q|7E|2|3Q|1T|MZ|1U|@]|1V|@]|6|$3R|3S]]|$1O|7F|1Q|7G|2|7H|1T|N0|1U|@$21|N1|22|N2|23|53]|$21|N3|22|N4|23|53]|$21|N5|22|N6|23|53]|$21|N7|22|N8|23|53]|$21|N9|22|NA|23|53]|$21|NB|22|NC|23|53]|$21|ND|22|NE|23|53]|$21|NF|22|NG|23|53]|$21|NH|22|NI|23|53]|$21|NJ|22|NK|23|53]|$21|NL|22|NM|23|53]|$21|NN|22|NO|23|53]|$21|NP|22|NQ|23|53]|$21|NR|22|NS|23|53]|$21|NT|22|NU|23|53]|$21|NV|22|NW|23|53]|$21|NX|22|NY|23|53]|$21|NZ|22|O0|23|53]|$21|O1|22|O2|23|53]|$21|O3|22|O4|23|53]|$21|O5|22|O6|23|53]|$21|O7|22|O8|23|53]|$21|O9|22|OA|23|53]|$21|OB|22|OC|23|53]|$21|OD|22|OE|23|53]|$21|OF|22|OG|23|53]|$21|OH|22|OI|23|53]|$21|OJ|22|OK|23|53]|$21|OL|22|OM|23|53]|$21|ON|22|OO|23|53]|$21|OP|22|OQ|23|53]|$21|OR|22|OS|23|53]|$21|OT|22|OU|23|53]|$21|OV|22|OW|23|53]|$21|OX|22|OY|23|53]|$21|OZ|22|P0|23|53]|$21|P1|22|P2|23|53]|$21|P3|22|P4|23|53]|$21|P5|22|P6|23|53]|$21|P7|22|P8|23|53]|$21|P9|22|PA|23|53]|$21|PB|22|PC|23|53]|$21|PD|22|PE|23|53]|$21|PF|22|PG|23|53]|$21|PH|22|PI|23|53]|$21|PJ|22|PK|23|53]|$21|PL|22|PM|23|53]|$21|PN|22|PO|23|53]|$21|PP|22|PQ|23|53]|$21|PR|22|PS|23|53]|$21|PT|22|PU|23|53]|$21|PV|22|PW|23|53]|$21|PX|22|PY|23|53]|$21|PZ|22|Q0|23|53]|$21|Q1|22|Q2|23|53]|$21|Q3|22|Q4|23|53]|$21|Q5|22|Q6|23|53]|$21|Q7|22|Q8|23|53]|$21|Q9|22|QA|23|53]|$21|QB|22|QC|23|53]|$21|QD|22|QE|23|53]|$21|QF|22|QG|23|53]|$21|QH|22|QI|23|53]|$21|QJ|22|QK|23|53]|$21|QL|22|QM|23|53]|$21|QN|22|QO|23|53]|$21|QP|22|QQ|23|53]|$21|QR|22|QS|23|53]|$21|QT|22|QU|23|53]|$21|QV|22|QW|23|53]|$21|QX|22|QY|23|53]|$21|QZ|22|R0|23|53]|$21|R1|22|R2|23|53]|$21|R3|22|R4|23|53]|$21|R5|22|R6|23|53]|$21|R7|22|R8|23|53]|$21|R9|22|RA|23|53]|$21|RB|22|RC|23|53]|$21|RD|22|RE|23|53]|$21|RF|22|RG|23|53]|$21|RH|22|RI|23|53]|$21|RJ|22|RK|23|53]|$21|RL|22|RM|23|53]|$21|RN|22|RO|23|53]]|1V|@]|6|$7I|@$1O|7J|7K|7L]|$1O|7M|7K|7L]]|7N|@$1O|7O|7P|@$1O|7Q|7R|$1N|@$1O|7S|2|1Y|1Q|7T|1U|@]|1V|@]]]|0|$]]]|$1O|7U|7R|$1N|@$1O|7V|2|1Y|1Q|7W|1U|@]|1V|@]]]|0|$]]]]]|$1O|7X|7P|@$1O|7Y|7R|$1N|@$1O|7Z|2|1Y|1Q|80|1U|@]|1V|@]]]|0|$]]]|$1O|81|7R|$1N|@$1O|82|2|1Y|1Q|83|1U|@]|1V|@]]]|0|$]]]]]|$1O|84|7P|@$1O|85|7R|$1N|@$1O|86|2|1Y|1Q|87|1U|@]|1V|@]]]|0|$]]]|$1O|88|7R|$1N|@$1O|89|2|1Y|1Q|8A|1U|@]|1V|@]]]|0|$]]]]]|$1O|8B|7P|@$1O|8C|7R|$1N|@$1O|8D|2|1Y|1Q|8E|1U|@]|1V|@]]]|0|$]]]|$1O|8F|7R|$1N|@$1O|8G|2|1Y|1Q|-4|1U|@]|1V|@]]]|0|$]]]]]|$1O|8H|7P|@$1O|8I|7R|$1N|@$1O|8J|2|1Y|1Q|8K|1U|@]|1V|@]]]|0|$]]]|$1O|8L|7R|$1N|@$1O|8M|2|1Y|1Q|-4|1U|@]|1V|@]]]|0|$]]]]]|$1O|8N|7P|@$1O|8O|7R|$1N|@$1O|8P|2|1Y|1Q|8Q|1U|@]|1V|@]]]|0|$]]]|$1O|8R|7R|$1N|@$1O|8S|2|1Y|1Q|8T|1U|@]|1V|@]]]|0|$]]]]]|$1O|8U|7P|@$1O|8V|7R|$1N|@$1O|8W|2|1Y|1Q|8X|1U|@]|1V|@]]]|0|$]]]|$1O|8Y|7R|$1N|@$1O|8Z|2|1Y|1Q|-4|1U|@]|1V|@]]]|0|$]]]]]|$1O|90|7P|@$1O|91|7R|$1N|@$1O|92|2|1Y|1Q|1Q|1U|@]|1V|@]]]|0|$]]]|$1O|93|7R|$1N|@$1O|94|2|1Y|1Q|95|1U|@]|1V|@]]]|0|$]]]]]|$1O|96|7P|@$1O|97|7R|$1N|@$1O|98|2|1Y|1Q|99|1U|@]|1V|@]]]|0|$]]]|$1O|9A|7R|$1N|@$1O|9B|2|1Y|1Q|9C|1U|@]|1V|@]]]|0|$]]]]]|$1O|9D|7P|@$1O|9E|7R|$1N|@$1O|9F|2|1Y|1Q|9G|1U|@]|1V|@]]]|0|$]]]|$1O|9H|7R|$1N|@$1O|9I|2|1Y|1Q|9J|1U|@]|1V|@]]]|0|$]]]]]|$1O|9K|7P|@$1O|9L|7R|$1N|@$1O|9M|2|1Y|1Q|9N|1U|@]|1V|@]]]|0|$]]]|$1O|9O|7R|$1N|@$1O|9P|2|1Y|1Q|9Q|1U|@]|1V|@]]]|0|$]]]]]|$1O|9R|7P|@$1O|9S|7R|$1N|@$1O|9T|2|1Y|1Q|9U|1U|@]|1V|@]]]|0|$]]]|$1O|9V|7R|$1N|@$1O|9W|2|1Y|1Q|9X|1U|@]|1V|@]]]|0|$]]]]]|$1O|9Y|7P|@$1O|9Z|7R|$1N|@$1O|A0|2|1Y|1Q|A1|1U|@]|1V|@]]]|0|$]]]|$1O|A2|7R|$1N|@$1O|A3|2|1Y|1Q|-4|1U|@]|1V|@]]]|0|$]]]]]|$1O|A4|7P|@$1O|A5|7R|$1N|@$1O|A6|2|1Y|1Q|A7|1U|@]|1V|@]]]|0|$]]]|$1O|A8|7R|$1N|@$1O|A9|2|1Y|1Q|AA|1U|@]|1V|@]]]|0|$]]]]]|$1O|AB|7P|@$1O|AC|7R|$1N|@$1O|AD|2|1Y|1Q|AE|1U|@]|1V|@]]]|0|$]]]|$1O|AF|7R|$1N|@$1O|AG|2|1Y|1Q|AH|1U|@]|1V|@]]]|0|$]]]]]|$1O|AI|7P|@$1O|AJ|7R|$1N|@$1O|AK|2|1Y|1Q|AL|1U|@]|1V|@]]]|0|$]]]|$1O|AM|7R|$1N|@$1O|AN|2|1Y|1Q|AO|1U|@]|1V|@]]]|0|$]]]]]|$1O|AP|7P|@$1O|AQ|7R|$1N|@$1O|AR|2|1Y|1Q|AS|1U|@]|1V|@]]]|0|$]]]|$1O|AT|7R|$1N|@$1O|AU|2|1Y|1Q|AV|1U|@]|1V|@]]]|0|$]]]]]|$1O|AW|7P|@$1O|AX|7R|$1N|@$1O|AY|2|1Y|1Q|AZ|1U|@]|1V|@]]]|0|$]]]|$1O|B0|7R|$1N|@$1O|B1|2|1Y|1Q|-4|1U|@]|1V|@]]]|0|$]]]]]|$1O|B2|7P|@$1O|B3|7R|$1N|@$1O|B4|2|1Y|1Q|B5|1U|@]|1V|@]]]|0|$]]]|$1O|B6|7R|$1N|@$1O|B7|2|1Y|1Q|B8|1U|@]|1V|@]]]|0|$]]]]]|$1O|B9|7P|@$1O|BA|7R|$1N|@$1O|BB|2|1Y|1Q|BC|1U|@]|1V|@]]]|0|$]]]|$1O|BD|7R|$1N|@$1O|BE|2|1Y|1Q|BF|1U|@]|1V|@]]]|0|$]]]]]|$1O|BG|7P|@$1O|BH|7R|$1N|@$1O|BI|2|1Y|1Q|BJ|1U|@]|1V|@]]]|0|$]]]|$1O|BK|7R|$1N|@$1O|BL|2|1Y|1Q|BM|1U|@]|1V|@]]]|0|$]]]]]|$1O|BN|7P|@$1O|BO|7R|$1N|@$1O|BP|2|1Y|1Q|BQ|1U|@]|1V|@]]]|0|$]]]|$1O|BR|7R|$1N|@$1O|BS|2|1Y|1Q|BT|1U|@]|1V|@]]]|0|$]]]]]|$1O|BU|7P|@$1O|BV|7R|$1N|@$1O|BW|2|1Y|1Q|BX|1U|@]|1V|@]]]|0|$]]]|$1O|BY|7R|$1N|@$1O|BZ|2|1Y|1Q|C0|1U|@]|1V|@]]]|0|$]]]]]|$1O|C1|7P|@$1O|C2|7R|$1N|@$1O|C3|2|1Y|1Q|C4|1U|@]|1V|@]]]|0|$]]]|$1O|C5|7R|$1N|@$1O|C6|2|1Y|1Q|C7|1U|@]|1V|@]]]|0|$]]]]]|$1O|C8|7P|@$1O|C9|7R|$1N|@$1O|CA|2|1Y|1Q|CB|1U|@]|1V|@]]]|0|$]]]|$1O|CC|7R|$1N|@$1O|CD|2|1Y|1Q|CE|1U|@]|1V|@]]]|0|$]]]]]|$1O|CF|7P|@$1O|CG|7R|$1N|@$1O|CH|2|1Y|1Q|CI|1U|@]|1V|@]]]|0|$]]]|$1O|CJ|7R|$1N|@$1O|CK|2|1Y|1Q|CL|1U|@]|1V|@]]]|0|$]]]]]|$1O|CM|7P|@$1O|CN|7R|$1N|@$1O|CO|2|1Y|1Q|CP|1U|@]|1V|@]]]|0|$]]]|$1O|CQ|7R|$1N|@$1O|CR|2|1Y|1Q|CS|1U|@]|1V|@]]]|0|$]]]]]|$1O|CT|7P|@$1O|CU|7R|$1N|@$1O|CV|2|1Y|1Q|CW|1U|@]|1V|@]]]|0|$]]]|$1O|CX|7R|$1N|@$1O|CY|2|1Y|1Q|CZ|1U|@]|1V|@]]]|0|$]]]]]|$1O|D0|7P|@$1O|D1|7R|$1N|@$1O|D2|2|1Y|1Q|D3|1U|@]|1V|@]]]|0|$]]]|$1O|D4|7R|$1N|@$1O|D5|2|1Y|1Q|D6|1U|@]|1V|@]]]|0|$]]]]]|$1O|D7|7P|@$1O|D8|7R|$1N|@$1O|D9|2|1Y|1Q|DA|1U|@]|1V|@]]]|0|$]]]|$1O|DB|7R|$1N|@$1O|DC|2|1Y|1Q|DD|1U|@]|1V|@]]]|0|$]]]]]|$1O|DE|7P|@$1O|DF|7R|$1N|@$1O|DG|2|1Y|1Q|DH|1U|@]|1V|@]]]|0|$]]]|$1O|DI|7R|$1N|@$1O|DJ|2|1Y|1Q|DK|1U|@]|1V|@]]]|0|$]]]]]|$1O|DL|7P|@$1O|DM|7R|$1N|@$1O|DN|2|1Y|1Q|DO|1U|@]|1V|@]]]|0|$]]]|$1O|DP|7R|$1N|@$1O|DQ|2|1Y|1Q|DR|1U|@]|1V|@]]]|0|$]]]]]|$1O|DS|7P|@$1O|DT|7R|$1N|@$1O|DU|2|1Y|1Q|DV|1U|@]|1V|@]]]|0|$]]]|$1O|DW|7R|$1N|@$1O|DX|2|1Y|1Q|DY|1U|@]|1V|@]]]|0|$]]]]]|$1O|DZ|7P|@$1O|E0|7R|$1N|@$1O|E1|2|1Y|1Q|E2|1U|@]|1V|@]]]|0|$]]]|$1O|E3|7R|$1N|@$1O|E4|2|1Y|1Q|E5|1U|@]|1V|@]]]|0|$]]]]]|$1O|E6|7P|@$1O|E7|7R|$1N|@$1O|E8|2|1Y|1Q|E9|1U|@]|1V|@]]]|0|$]]]|$1O|EA|7R|$1N|@$1O|EB|2|1Y|1Q|-4|1U|@]|1V|@]]]|0|$]]]]]|$1O|EC|7P|@$1O|ED|7R|$1N|@$1O|EE|2|1Y|1Q|EF|1U|@]|1V|@]]]|0|$]]]|$1O|EG|7R|$1N|@$1O|EH|2|1Y|1Q|-4|1U|@]|1V|@]]]|0|$]]]]]|$1O|EI|7P|@$1O|EJ|7R|$1N|@$1O|EK|2|1Y|1Q|EL|1U|@]|1V|@]]]|0|$]]]|$1O|EM|7R|$1N|@$1O|EN|2|1Y|1Q|-4|1U|@]|1V|@]]]|0|$]]]]]|$1O|EO|7P|@$1O|EP|7R|$1N|@$1O|EQ|2|1Y|1Q|ER|1U|@]|1V|@]]]|0|$]]]|$1O|ES|7R|$1N|@$1O|ET|2|1Y|1Q|EU|1U|@]|1V|@]]]|0|$]]]]]|$1O|EV|7P|@$1O|EW|7R|$1N|@$1O|EX|2|1Y|1Q|EY|1U|@]|1V|@]]]|0|$]]]|$1O|EZ|7R|$1N|@$1O|F0|2|1Y|1Q|F1|1U|@]|1V|@]]]|0|$]]]]]|$1O|F2|7P|@$1O|F3|7R|$1N|@$1O|F4|2|1Y|1Q|F5|1U|@]|1V|@]]]|0|$]]]|$1O|F6|7R|$1N|@$1O|F7|2|1Y|1Q|F8|1U|@]|1V|@]]]|0|$]]]]]|$1O|F9|7P|@$1O|FA|7R|$1N|@$1O|FB|2|1Y|1Q|FC|1U|@]|1V|@]]]|0|$]]]|$1O|FD|7R|$1N|@$1O|FE|2|1Y|1Q|FF|1U|@]|1V|@]]]|0|$]]]]]|$1O|FG|7P|@$1O|FH|7R|$1N|@$1O|FI|2|1Y|1Q|FJ|1U|@]|1V|@]]]|0|$]]]|$1O|FK|7R|$1N|@$1O|FL|2|1Y|1Q|FM|1U|@]|1V|@]]]|0|$]]]]]|$1O|FN|7P|@$1O|FO|7R|$1N|@$1O|FP|2|1Y|1Q|FQ|1U|@]|1V|@]]]|0|$]]]|$1O|FR|7R|$1N|@$1O|FS|2|1Y|1Q|-4|1U|@]|1V|@]]]|0|$]]]]]|$1O|FT|7P|@$1O|FU|7R|$1N|@$1O|FV|2|1Y|1Q|FW|1U|@]|1V|@]]]|0|$]]]|$1O|FX|7R|$1N|@$1O|FY|2|1Y|1Q|FZ|1U|@]|1V|@]]]|0|$]]]]]|$1O|G0|7P|@$1O|G1|7R|$1N|@$1O|G2|2|1Y|1Q|G3|1U|@]|1V|@]]]|0|$]]]|$1O|G4|7R|$1N|@$1O|G5|2|1Y|1Q|G6|1U|@]|1V|@]]]|0|$]]]]]|$1O|G7|7P|@$1O|G8|7R|$1N|@$1O|G9|2|1Y|1Q|GA|1U|@]|1V|@]]]|0|$]]]|$1O|GB|7R|$1N|@$1O|GC|2|1Y|1Q|GD|1U|@]|1V|@]]]|0|$]]]]]|$1O|GE|7P|@$1O|GF|7R|$1N|@$1O|GG|2|1Y|1Q|GH|1U|@]|1V|@]]]|0|$]]]|$1O|GI|7R|$1N|@$1O|GJ|2|1Y|1Q|GK|1U|@]|1V|@]]]|0|$]]]]]]]]|$1O|GL|1Q|GM|2|2E|1T|RP|1U|@]|1V|@]|6|$]]|$1O|GN|1Q|GO|2|3Q|1T|RQ|1U|@]|1V|@]|6|$3R|3S]]|$1O|GP|1Q|GQ|2|2E|1T|RR|1U|@]|1V|@]|6|$]]|$1O|GR|1Q|GS|2|3Q|1T|RS|1U|@]|1V|@]|6|$3R|3S]]|$1O|GT|1Q|GU|2|GV|1T|RT|1U|@]|1V|@]|6|$]]|$1O|GW|1Q|GX|2|3Q|1T|RU|1U|@]|1V|@]|6|$3R|3S]]|$1O|GY|1Q|GZ|2|1S|1T|RV|1U|@]|1V|@]|6|$]]|$1O|H0|1Q|H1|2|1Y|1T|RW|1U|@]|1V|@]|6|$]]|$1O|H2|1Q|2V|2|2W|1T|RX|1U|@]|1V|@$21|RY|22|RZ|1O|S0]]|6|$]]|$1O|H3|1Q|2V|2|2W|1T|S1|1U|@]|1V|@$21|S2|22|S3|1O|S4]]|6|$]]|$1O|H4|1Q|H5|2|1Y|1T|S5|1U|@]|1V|@]|6|$]]|$1O|H6|1Q|H7|2|1S|1T|S6|1U|@]|1V|@]|6|$]]|$1O|H8|1Q|H9|2|3Q|1T|S7|1U|@]|1V|@]|6|$3R|3S]]|$1O|HA|1Q|HB|2|1S|1T|S8|1U|@]|1V|@]|6|$]]|$1O|HC|1Q|HD|2|2E|1T|S9|1U|@]|1V|@]|6|$]]|$1O|HE|1Q|HF|2|1Y|1T|SA|1U|@$21|SB|22|SC|23|53]|$21|SD|22|SE|23|53]]|1V|@]|6|$]]|$1O|HG|1Q|HH|2|1Y|1T|SF|1U|@]|1V|@]|6|$]]|$1O|HI|1Q|HJ|2|1Y|1T|SG|1U|@]|1V|@]|6|$]]|$1O|HK|1Q|HL|2|3Q|1T|SH|1U|@]|1V|@]|6|$3R|3S]]|$1O|HM|1Q|HN|2|1Y|1T|SI|1U|@]|1V|@]|6|$]]|$1O|HO|1Q|HP|2|2E|1T|SJ|1U|@]|1V|@]|6|$]]|$1O|HQ|1Q|HR|2|1Y|1T|SK|1U|@]|1V|@$21|SL|22|SM|1O|SN]]|6|$]]|$1O|HS|1Q|HT|2|1S|1T|SO|1U|@]|1V|@]|6|$]]|$1O|HU|1Q|2V|2|2W|1T|SP|1U|@]|1V|@$21|SQ|22|SR|1O|SS]]|6|$]]|$1O|HV|1Q|HW|2|1Y|1T|ST|1U|@$21|SU|22|SV|23|3L]]|1V|@]|6|$]]]]","plain":"导言\n作为中小公司的运维，经常会遇到一些机械式的重复工作，例如：有时公司同时上线几十甚至上百台服务器，而且需要我们在短时间内完成系统安装。\n常规的办法有什么？ 光盘安装系统 ===\u003E 一个服务器 DVD 内置光驱百千块，百台服务器都配光驱就浪费了，因为一台服务器也就开始装系统能用的上，以后用的机会屈指可数。用 USB 外置光驱，插来插去也醉了。 U 盘安装系统 ===\u003E还是同样的问题，要一台一台服务器插 U 盘。 * 网络安装系统 (ftp,http,nfs) ===\u003E 这个方法不错，只要服务器能联网就可以装系统了，但还是需要一台台服务器去敲键盘点鼠标。时刻想偷懒的我们，有没有更好的方法！\n高逼格的方法： Kickstart Cobbler\n 在进入主题前，首先会向大家介绍一下什么是 PXE，PXE 能干什么，Kickstart 是什么，Cobbler 又有什么特别。\n \n1. 简介\n1.1 什么是 PXE\nPXE，全名 Pre-boot Execution Environment，预启动执行环境；\n通过网络接口启动计算机，不依赖本地存储设备（如硬盘）或本地已安装的操作系统；\n由 Intel 和 Systemsoft 公司于 1999 年 9 月 20 日公布的技术；\nClient\u002FServer 的工作模式；\nPXE 客户端会调用网际协议 (IP)、用户数据报协议(UDP)、动态主机设定协议(DHCP)、小型文件传输协议(TFTP) 等网络协议；\nPXE 客户端 (client) 这个术语是指机器在 PXE 启动过程中的角色。一个 PXE 客户端可以是一台服务器、笔记本电脑或者其他装有 PXE 启动代码的机器（我们电脑的网卡）。\n1.2 PXE 的工作过程\n?\n?\nPXE Client 向 DHCP 发送请求 PXE Client 从自己的 PXE 网卡启动，通过 PXE BootROM(自启动芯片) 会以 UDP(简单用户数据报协议) 发送一个广播请求，向本网络中的 DHCP 服务器索取 IP。\n \nDHCP 服务器提供信息 DHCP 服务器收到客户端的请求，验证是否来至合法的 PXE Client 的请求，验证通过它将给客户端一个 “提供” 响应，这个 “提供” 响应中包含了为客户端分配的 IP 地址、pxelinux 启动程序 (TFTP) 位置，以及配置文件所在位置。\n \nPXE 客户端请求下载启动文件 客户端收到服务器的 “回应” 后，会回应一个帧，以请求传送启动所需文件。这些启动文件包括：pxelinux.0、pxelinux.cfg\u002Fdefault、vmlinuz、initrd.img 等文件。\n \nBoot Server 响应客户端请求并传送文件 当服务器收到客户端的请求后，他们之间之后将有更多的信息在客户端与服务器之间作应答, 用以决定启动参数。BootROM 由 TFTP 通讯协议从 Boot Server 下载启动安装程序所必须的文件 (pxelinux.0、pxelinux.cfg\u002Fdefault)。default 文件下载完成后，会根据该文件中定义的引导顺序，启动 Linux 安装程序的引导内核。\n \n请求下载自动应答文件 客户端通过 pxelinux.cfg\u002Fdefault 文件成功的引导 Linux 安装内核后，安装程序首先必须确定你通过什么安装介质来安装 linux，如果是通过网络安装 (NFS, FTP, HTTP)，则会在这个时候初始化网络，并定位安装源位置。接着会读取 default 文件中指定的自动应答文件 ks.cfg 所在位置，根据该位置请求下载该文件。\n  这里有个问题，在第 2 步和第 5 步初始化 2 次网络了，这是由于 PXE 获取的是安装用的内核以及安装程序等，而安装程序要获取的是安装系统所需的二进制包以及配置文件。因此 PXE 模块和安装程序是相对独立的，PXE 的网络配置并不能传递给安装程序，从而进行两次获取 IP 地址过程，但 IP 地址在 DHCP 的租期内是一样的。\n \n \n客户端安装操作系统 将 ks.cfg 文件下载回来后，通过该文件找到 OS Server，并按照该文件的配置请求下载安装过程需要的软件包。 OS Server 和客户端建立连接后，将开始传输软件包，客户端将开始安装操作系统。安装完成后，将提示重新引导计算机。\n \n1.3 批量装机软件介绍\nRedhat 系主要有两种 Kickstart 和 Cobbler。\nKickstart 是一种无人值守的安装方式。它的工作原理是在安装过程中记录人工干预填写的各种参数，并生成一个名为 ks.cfg 的文件。如果在自动安装过程中出现要填写参数的情况，安装程序首先会去查找 ks.cfg 文件，如果找到合适的参数，就采用所找到的参数；如果没有找到合适的参数，便会弹出对话框让安装者手工填写。所以，如果 ks.cfg 文件涵盖了安装过程中所有需要填写的参数，那么安装者完全可以只告诉安装程序从何处下载 ks.cfg 文件，然后就去忙自己的事情。等安装完毕，安装程序会根据 ks.cfg 中的设置重启 \u002F 关闭系统，并结束安装。\nCobbler 集中和简化了通过网络安装操作系统需要使用到的 DHCP、TFTP 和 DNS 服务的配置。Cobbler 不仅有一个命令行界面，还提供了一个 Web 界面，大大降低了使用者的入门水平。Cobbler 内置了一个轻量级配置管理系统，但它也支持和其它配置管理系统集成，如 Puppet，暂时不支持 SaltStack。\n简单的说，Cobbler 是对 kickstart 的封装，简化安装步骤、使用流程，降低使用者的门槛。\n1.4 系统环境准备\n[root@linux-node1 ~]# cat \u002Fetc\u002Fredhat-release\nCentOS release 6.7 (Final)\n[root@linux-node1 ~]# uname -r\n2.6.32-573.el6.x86_64\n[root@linux-node1 ~]# getenforce\nDisabled\n[root@linux-node1 ~]# \u002Fetc\u002Finit.d\u002Fiptables status\niptables: Firewall is not running.\n[root@linux-node1 ~]# ifconfig eth0|awk -F \"[ :]+\" 'NR==2 {print $4}'\n10.0.0.7\n[root@linux-node1 ~]# hostname\nlinux-node1.example.com\n 注意： 虚拟机网卡采用 NAT 模式，不要使用桥接模式，因为稍后我们会搭建 DHCP 服务器，在同一局域网多个 DHCP 服务会有冲突。 VMware 的 NAT 模式的 dhcp 服务也关闭，避免干扰。 \n?\n2. 安装 DHCP 服务\n2.1 DHCP 简介\nDHCP（Dynamic Host Configuration Protocol，动态主机配置协议）通常被应用在大型的局域网络环境中，主要作用是集中的管理、分配 IP 地址，使网络环境中的主机动态的获得 IP 地址、网关地址、DNS 服务器地址等信息，并能够提升地址的使用率。\n参考文档：DHCP 工作过程的六个主要步骤\n?\n2.2 DHCP 服务安装配置\n[root@linux-node1 ~]# yum -y install dhcp\n[root@linux-node1 ~]# rpm -ql dhcp |grep \"dhcpd.conf\"\n\u002Fetc\u002Fdhcp\u002Fdhcpd.conf   # 查看配置文件位置\n\u002Fusr\u002Fshare\u002Fdoc\u002Fdhcp-4.1.1\u002Fdhcpd-conf-to-ldap\n\u002Fusr\u002Fshare\u002Fdoc\u002Fdhcp-4.1.1\u002Fdhcpd.conf.sample\n\u002Fusr\u002Fshare\u002Fman\u002Fman5\u002Fdhcpd.conf.5.gz\n[root@linux-node1 ~]# cat \u002Fetc\u002Fdhcp\u002Fdhcpd.conf\n#\n# DHCP Server Configuration file.\n#   see \u002Fusr\u002Fshare\u002Fdoc\u002Fdhcp*\u002Fdhcpd.conf.sample\n#   see 'man 5 dhcpd.conf'\n#\n[root@linux-node1 ~]# vim \u002Fetc\u002Fdhcp\u002Fdhcpd.conf\nsubnet 10.0.0.0 netmask 255.255.255.0 {\n        range 10.0.0.100 10.0.0.200;\n        option subnet-mask 255.255.255.0;\n        default-lease-time 21600;\n        max-lease-time 43200;\n        next-server 10.0.0.7;\n        filename \"\u002Fpxelinux.0\";\n}\n# 注释\nrange 10.0.0.100 10.0.0.200;         # 可分配的起始IP-结束IP\noption subnet-mask 255.255.255.0;    # 设定netmask\ndefault-lease-time 21600;            # 设置默认的IP租用期限\nmax-lease-time 43200;                # 设置最大的IP租用期限\nnext-server 10.0.0.7;                # 告知客户端TFTP服务器的ip\nfilename \"\u002Fpxelinux.0\";              # 告知客户端从TFTP根目录下载pxelinux.0文件\n[root@linux-node1 ~]# \u002Fetc\u002Finit.d\u002Fdhcpd start\nStarting dhcpd:                                            [  OK  ]\n[root@linux-node1 ~]# netstat -tunlp|grep dhcp\nudp        0      0 0.0.0.0:67                  0.0.0.0:*                               1573\u002Fdhcpd\n \n本来软件装完后都要加入开机自启动，但这个 Kickstart 系统就不能开机自启动，而且用完后服务都要关闭，防止未来重启服务器自动重装系统了。\n如果机器数量过多的话，注意 dhcp 服务器的地址池，不要因为耗尽 IP 而导致 dhcpd 服务器没有 IP 地址 release 的情况。\n2.3 DHCP 指定监听网卡\n 说明：此知识点与本文无关，只是作者用过这个功能，记于此。 多网卡默认监听 eth0，指定 DHCP 监听 eth1 网卡\n \n[root@linux-node1 ~]# vim \u002Fetc\u002Fsysconfig\u002Fdhcpd\n# Command line options here\nDHCPDARGS=eth1  # 指定监听网卡\n[root@linux-node1 ~]# \u002Fetc\u002Finit.d\u002Fdhcpd restart\n[root@linux-node1 ~]# tailf \u002Fvar\u002Flog\u002Fmessages\nMay 26 14:24:38 Kickstart kernel: e1000: eth1 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: None\nMay 26 14:29:04 Kickstart dhcpd: Internet Systems Consortium DHCP Server 4.1.1-P1\nMay 26 14:29:04 Kickstart dhcpd: Copyright 2004-2010 Internet Systems Consortium.\nMay 26 14:29:04 Kickstart dhcpd: All rights reserved.\nMay 26 14:29:04 Kickstart dhcpd: For info, please visit https:\u002F\u002Fwww.isc.org\u002Fsoftware\u002Fdhcp\u002F\nMay 26 14:29:04 Kickstart dhcpd: Not searching LDAP since ldap-server, ldap-port and ldap-base-dn were not specified in the config file\nMay 26 14:29:04 Kickstart dhcpd: Wrote 0 leases to leases file.\nMay 26 14:29:04 Kickstart dhcpd: Listening on LPF\u002Feth1\u002F00:0c:29:ea:c1:83\u002F10.0.10.0\u002F24\nMay 26 14:29:04 Kickstart dhcpd: Sending on   LPF\u002Feth1\u002F00:0c:29:ea:c1:83\u002F10.0.10.0\u002F24\nMay 26 14:29:04 Kickstart dhcpd: Sending on   Socket\u002Ffallback\u002Ffallback-net\n……\n3. 安装 TFTP 服务\n3.1 TFTP 简介\nTFTP（Trivial File Transfer Protocol, 简单文件传输协议）是 TCP\u002FIP 协议族中的一个用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务。端口号为 69。\n3.2 TFTP 安装配置\n[root@linux-node1 ~]# yum -y install tftp-server\n[root@linux-node1 ~]# vim \u002Fetc\u002Fxinetd.d\u002Ftftp\n# default: off\n# description: The tftp server serves files using the trivial file transfer \\\n#       protocol.  The tftp protocol is often used to boot diskless \\\n#       workstations, download configuration files to network-aware printers, \\\n#       and to start the installation process for some operating systems.\nservice tftp\n{\n        socket_type             = dgram\n        protocol                = udp\n        wait                    = yes\n        user                    = root\n        server                  = \u002Fusr\u002Fsbin\u002Fin.tftpd\n        server_args             = -s \u002Fvar\u002Flib\u002Ftftpboot # 指定目录，保持默认，不用修改\n        disable                 = no # 由原来的yes改为no\n        per_source              = 11\n        cps                     = 100 2\n        flags                   = IPv4\n}\n[root@linux-node1 ~]# \u002Fetc\u002Finit.d\u002Fxinetd restart\nStopping xinetd:                                           [FAILED]\nStarting xinetd:                                           [  OK  ]\n[root@linux-node1 ~]# netstat -tunlp|grep 69\nudp        0      0 0.0.0.0:69                  0.0.0.0:*                               1106\u002Fxinetd\n\n4. 配置 HTTP 服务\n可以用 Apache 或 Nginx 提供 HTTP 服务。Python 的命令 web 服务不行，会有报错。\n[root@linux-node1 ~]# yum -y install httpd\n[root@linux-node1 ~]# sed -i \"277i ServerName 127.0.0.1:80\" \u002Fetc\u002Fhttpd\u002Fconf\u002Fhttpd.conf\n[root@linux-node1 ~]# \u002Fetc\u002Finit.d\u002Fhttpd start\n[root@linux-node1 ~]# mkdir \u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\n[root@linux-node1 ~]# mount \u002Fdev\u002Fcdrom \u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\u002F\nmount: block device \u002Fdev\u002Fsr0 is write-protected, mounting read-only\n[root@linux-node1 ~]# df -h\nFilesystem      Size  Used Avail Use% Mounted on\n\u002Fdev\u002Fsda3        19G  2.4G   16G  14% \u002F\ntmpfs           491M   16K  491M   1% \u002Fdev\u002Fshm\n\u002Fdev\u002Fsda1       190M   36M  145M  20% \u002Fboot\n\u002Fdev\u002Fsr0        3.7G  3.7G     0 100% \u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\n# 不管怎么弄，只要把安装光盘内容能通过web发布即可。因为是演示，如果复制镜像就有点浪费时间。但生产环境就一定要复制了，光盘读取速度有限。\n浏览器访问http:\u002F\u002F10.0.0.7\u002FCentOS-6.7\u002F检验配置是否正确。 \n?\n5. 配置支持 PXE 的启动程序\n5.1 PXE 引导配置（bootstrap）\n syslinux 是一个功能强大的引导加载程序，而且兼容各种介质。SYSLINUX 是一个小型的 Linux 操作系统，它的目的是简化首次安装 Linux 的时间，并建立修护或其它特殊用途的启动盘。如果没有找到 pxelinux.0 这个文件, 可以安装一下。\n \n[root@linux-node1 ~]# yum -y install syslinux\n[root@linux-node1 ~]# cp \u002Fusr\u002Fshare\u002Fsyslinux\u002Fpxelinux.0 \u002Fvar\u002Flib\u002Ftftpboot\u002F\n# 复制启动菜单程序文件\n[root@linux-node1 ~]# cp -a \u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\u002Fisolinux\u002F* \u002Fvar\u002Flib\u002Ftftpboot\u002F\n[root@linux-node1 ~]# ls \u002Fvar\u002Flib\u002Ftftpboot\u002F\nboot.cat  grub.conf   isolinux.bin  memtest     splash.jpg  vesamenu.c32\nboot.msg  initrd.img  isolinux.cfg  pxelinux.0  TRANS.TBL   vmlinuz\n# 新建一个pxelinux.cfg目录，存放客户端的配置文件。\n[root@linux-node1 ~]# mkdir -p \u002Fvar\u002Flib\u002Ftftpboot\u002Fpxelinux.cfg\n[root@linux-node1 ~]# cp \u002Fvar\u002Fwww\u002Fhtml\u002FCentOS-6.7\u002Fisolinux\u002Fisolinux.cfg \u002Fvar\u002Flib\u002Ftftpboot\u002Fpxelinux.cfg\u002Fdefault\n5.2 PXE 配置文件 default 解析\n 配合虚拟机演示讲解 default 文件。新建一个虚拟机，注意内存需要给 1G。\n \n打开电源后，显示如下 \n?\n接下来的画面就是我们熟悉的界面，输入 ESC 可以进入命令行界面。\n?\n?\n[root@linux-node1 ~]# vim \u002Fvar\u002Flib\u002Ftftpboot\u002Fpxelinux.cfg\u002Fdefault\ndefault vesamenu.c32  # 默认加载一个菜单\n#prompt 1             # 开启会显示命令行'boot: '提示符。prompt值为0时则不提示，将会直接启动'default'参数中指定的内容。\ntimeout 600           # timeout时间是引导时等待用户手动选择的时间，设为1可直接引导，单位为1\u002F10秒。\n\ndisplay boot.msg\n# 菜单背景图片、标题、颜色。\nmenu background splash.jpg\nmenu title Welcome to CentOS 6.7!\nmenu color border 0 #ffffffff #00000000\nmenu color sel 7 #ffffffff #ff000000\nmenu color title 0 #ffffffff #00000000\nmenu color tabmsg 0 #ffffffff #00000000\nmenu color unsel 0 #ffffffff #00000000\nmenu color hotsel 0 #ff000000 #ffffffff\nmenu color hotkey 7 #ffffffff #ff000000\nmenu color scrollbar 0 #ffffffff #00000000\n\n# label指定在boot:提示符下输入的关键字，比如boot:linux[ENTER]，这个会启动label linux下标记的kernel和initrd.img文件。\nlabel linux       # 一个标签就是前面图片的一行选项。\n  menu label ^Install or upgrade an existing system\n  menu default\n  kernel vmlinuz  # 指定要启动的内核。同样要注意路径，默认是\u002Ftftpboot目录。\n  append initrd=initrd.img # 指定追加给内核的参数，initrd.img是一个最小的linux系统\nlabel vesa\n  menu label Install system with ^basic video driver\n  kernel vmlinuz\n  append initrd=initrd.img nomodeset\nlabel rescue\n  menu label ^Rescue installed system\n  kernel vmlinuz\n  append initrd=initrd.img rescue\nlabel local\n  menu label Boot from ^local drive\n  localboot 0xffff\nlabel memtest86\n  menu label ^Memory test\n  kernel memtest\n  append -\n6. 预热之手动网络安装\n1、新建一台空白虚拟机，也不要挂载 ISO 镜像，打开电源。\n扩展：DEll R710 服务器开机后，根据提示按 F12，进行 PXE 启动。物理服务器有 4 个网卡，所以还会让选择从哪个网卡启动。 \n?\n?\n2、选择第一个选项 \n?\n3、选择英语\n?\n4、选择美式键盘 \n?\n5、选择 URL 方式安装 \n?\n 注：使用 NFS 的写法 nfs:10.0.0.1:\u002Fdata\u002Fsys\u002Fkickstart\u002Fks.cfg\n \n6、禁用 IPv6 \n?\n7、输入 http 的地址 \n?\n8、接下来和光盘安装一样 \n?\n7. 创建 ks.cfg 文件\n通常，我们在安装操作系统的过程中，需要大量的和服务器交互操作，为了减少这个交互过程，kickstart 就诞生了。使用这种 kickstart，只需事先定义好一个 Kickstart 自动应答配置文件 ks.cfg（通常存放在安装服务器上），并让安装程序知道该配置文件的位置，在安装过程中安装程序就可以自己从该文件中读取安装配置，这样就避免了在安装过程中多次的人机交互，从而实现无人值守的自动化安装。\n生成 kickstart 配置文件的三种方法： 方法 1、 每安装好一台 Centos 机器，Centos 安装程序都会创建一个 kickstart 配置文件，记录你的真实安装配置。如果你希望实现和某系统类似的安装，可以基于该系统的 kickstart 配置文件来生成你自己的 kickstart 配置文件。（生成的文件名字叫 anaconda-ks.cfg 位于 \u002F root\u002Fanaconda-ks.cfg） 方法 2、Centos 提供了一个图形化的 kickstart 配置工具。在任何一个安装好的 Linux 系统上运行该工具，就可以很容易地创建你自己的 kickstart 配置文件。kickstart 配置工具命令为 redhat-config-kickstart（RHEL3）或 system-config-kickstart（RHEL4，RHEL5）. 网上有很多用 CentOS 桌面版生成 ks 文件的文章，如果有现成的系统就没什么可说。但没有现成的，也没有必要去用桌面版，命令行也很简单。 * 方法 3、阅读 kickstart 配置文件的手册。用任何一个文本编辑器都可以创建你自己的 kickstart 配置文件。\n7.1 查看 anaconda-ks.cfg\n[root@linux-node1 ~]# cat anaconda-ks.cfg\n# Kickstart file automatically generated by anaconda.\n\n#version=DEVEL\ninstall\ncdrom\nlang en_US.UTF-8\nkeyboard us\nnetwork --onboot yes --device eth0 --bootproto static --ip 10.0.0.6 --netmask 255.255.255.0 --gateway 10.0.0.2 --noipv6 --nameserver 10.0.0.2 --hostname centos67\nrootpw  --iscrypted $6$2Frfm3Sc\u002FoWdF2Yb$GTS8VbsaeLzAfT46EYJWezKA7VMOnefDAH6anyb12Hu5K1qu1awlpTwBxTjAzXpV\u002F.l983Irdwxo5Rks0QV1p1\nfirewall --service=ssh\nauthconfig --enableshadow --passalgo=sha512\nselinux --enforcing\ntimezone --utc Asia\u002FShanghai\nbootloader --location=mbr --driveorder=sda --append=\"crashkernel=auto rhgb quiet\"\n# The following is the partition information you requested\n# Note that any partitions you deleted are not expressed\n# here so unless you clear all partitions first, this is\n# not guaranteed to work\n#clearpart --none\n\n#part \u002Fboot --fstype=ext4 --asprimary --size=200\n#part swap --asprimary --size=1024\n#part \u002F --fstype=ext4 --grow --asprimary --size=200\n\nrepo --  --baseurl=cdrom:sr0 --cost=100\n\n%packages\n@base\n@compat-libraries\n@core\n@debugging\n@development\n@server-policy\n@workstation-policy\npython-dmidecode\nsgpio\ndevice-mapper-persistent-data\nsystemtap-client\n7.2 ks.cfg 详解\n官网文档\nCentOS5 : http:\u002F\u002Fwww.centos.org\u002Fdocs\u002F5\u002Fhtml\u002FInstallation_Guide-en-US\u002Fs1-kickstart2-options.html \nCentOS6 : https:\u002F\u002Faccess.redhat.com\u002Fknowledge\u002Fdocs\u002Fen-US\u002FRed_Hat_Enterprise_Linux\u002F6\u002Fhtml\u002FInstallation_Guide\u002Fs1-kickstart2-options.html 官网自带中文版，选一下语言即可 ks.cfg文件组成大致分为 3 段\n命令段 键盘类型，语言，安装方式等系统的配置，有必选项和可选项，如果缺少某项必选项，安装时会中断并提示用户选择此项的选项\n \n软件包段\n \n%packages\n@groupname：指定安装的包组\npackage_name：指定安装的包\n-package_name：指定不安装的包\n在安装过程中默认安装的软件包，安装软件时会自动分析依赖关系。\n脚本段 (可选)\n%pre:安装系统前执行的命令或脚本(由于只依赖于启动镜像，支持的命令很少)\n%post:安装系统后执行的命令或脚本(基本支持所有命令)\n   关键字 含义     install 告知安装程序，这是一次全新安装，而不是升级upgrade。   url --url=\" \" 通过FTP或HTTP从远程服务器上的安装树中安装。   url --url=\"http:\u002F\u002F10.0.0.7\u002FCentOS-6.7\u002F\"    url --url ftp:\u002F\u002F\u003Cusername\u003E:\u003Cpassword\u003E@\u003Cserver\u003E\u002F\u003Cdir\u003E    nfs 从指定的NFS服务器安装。   nfs --server=nfsserver.example.com --dir=\u002Ftmp\u002Finstall-tree    text 使用文本模式安装。   lang 设置在安装过程中使用的语言以及系统的缺省语言。lang en_US.UTF-8   keyboard 设置系统键盘类型。keyboard us   zerombr 清除mbr引导信息。   bootloader 系统引导相关配置。   bootloader --location=mbr --driveorder=sda --append=\"crashkernel=auto rhgb quiet\"    --location= ,指定引导记录被写入的位置. 有效的值如下:mbr(缺省),partition(在包含内核的分区的第一个扇区安装引导装载程序) 或none(不安装引导装载程序)。   --driveorder 指定在BIOS引导顺序中居首的驱动器。   --append= 指定内核参数. 要指定多个参数, 使用空格分隔它们。   network 为通过网络的kickstart安装以及所安装的系统配置联网信息。   network --bootproto=dhcp --device=eth0 --onboot=yes --noipv6 --hostname=CentOS6    --bootproto=[dhcp\u002Fbootp\u002Fstatic]中的一种，缺省值是dhcp。 bootp和dhcp被认为是相同的。static方法要求在kickstart文件里输入所有的网络信息。   network --bootproto=static --ip=10.0.0.100 --netmask=255.255.255.0 --gateway=10.0.0.2 --nameserver=10.0.0.2 请注意所有配置信息都必须在一行上指定, 不能使用反斜线来换行。   --ip= 要安装的机器的IP地址.   --gateway= IP 地址格式的默认网关.   --netmask= 安装的系统的子网掩码.   --hostname= 安装的系统的主机名.   --onboot= 是否在引导时启用该设备.   --noipv6= 禁用此设备的IPv6.   --nameserver= 配置dns解析.   timezone 设置系统时区。timezone --utc Asia\u002FShanghai   authconfig 系统认证信息。   authconfig --enableshadow --passalgo=sha512 设置密码加密方式为sha512 启用shadow文件。   rootpw root密码   clearpart 清空分区。   clearpart --all --initlabel --all 从系统中清除所有分区，--initlable 初始化磁盘标签   part 磁盘分区。   part \u002Fboot --fstype=ext4 --asprimary --size=200    part swap --size=1024    part \u002F --fstype=ext4 --grow --asprimary --size=200    --fstype= 为分区设置文件系统类型. 有效的类型为ext2,ext3,swap和vfat。   --asprimary 强迫把分区分配为主分区, 否则提示分区失败。   --size= 以MB为单位的分区最小值. 在此处指定一个整数值, 如500. 不要在数字后面加MB。   --grow 告诉分区使用所有可用空间 (若有), 或使用设置的最大值。   firstboot 负责协助配置 redhat 一些重要的信息。   firstboot --disable    selinux 关闭selinux。selinux --disabled   firewall 关闭防火墙。firewall --disabled   logging 设置日志级别。logging --level=info   reboot 设定安装完成后重启, 此选项必须存在，不然 kickstart 显示一条消息，并等待用户按任意键后才重新引导，也可以选择halt关机。   \n7.3 编写 ks 文件\n# 先生成一个密码备用\n[root@linux-node1 ~]# grub-crypt\nPassword:123456\nRetype password:123456\n$6$X20eRtuZhkHznTb4$dK0BJByOSAWSDD8jccLVFz0CscijS9ldMWwpoCw\u002FZEjYw2BTQYGWlgKsn945fFTjRC658UXjuocwJbAjVI5D6\u002F\n[root@linux-node1 ~]# mkdir \u002Fvar\u002Fwww\u002Fhtml\u002Fks_config\n[root@linux-node1 ~]# vim \u002Fvar\u002Fwww\u002Fhtml\u002Fks_config\u002FCentOS-6.7-ks.cfg\n# Kickstart Configurator for CentOS 6.7 by yao zhang\ninstall\nurl --url=\"http:\u002F\u002F10.0.0.7\u002FCentOS-6.7\u002F\"\ntext\nlang en_US.UTF-8\nkeyboard us\nzerombr\nbootloader --location=mbr --driveorder=sda --append=\"crashkernel=auto rhgb quiet\"\nnetwork --bootproto=dhcp --device=eth0 --onboot=yes --noipv6 --hostname=CentOS6\ntimezone --utc Asia\u002FShanghai\nauthconfig --enableshadow --passalgo=sha512\nrootpw  --iscrypted $6$X20eRtuZhkHznTb4$dK0BJByOSAWSDD8jccLVFz0CscijS9ldMWwpoCw\u002FZEjYw2BTQYGWlgKsn945fFTjRC658UXjuocwJbAjVI5D6\u002F\nclearpart --all --initlabel\npart \u002Fboot --fstype=ext4 --asprimary --size=200\npart swap --size=1024\npart \u002F --fstype=ext4 --grow --asprimary --size=200\nfirstboot --disable\nselinux --disabled\nfirewall --disabled\nlogging --level=info\nreboot\n%packages\n@base\n@compat-libraries\n@debugging\n@development\ntree\nnmap\nsysstat\nlrzsz\ndos2unix\ntelnet\n\n%post\nwget -O \u002Ftmp\u002Foptimization.sh http:\u002F\u002F10.0.0.7\u002Fks_config\u002Foptimization.sh &\u003E\u002Fdev\u002Fnull\n\u002Fbin\u002Fsh \u002Ftmp\u002Foptimization.sh\n%end\n7.4 开机优化脚本\n[root@linux-node1 ~]# vim \u002Fvar\u002Fwww\u002Fhtml\u002Fks_config\u002Foptimization.sh\n#!\u002Fbin\u002Fbash\n##############################################################\n# File Name: \u002Fvar\u002Fwww\u002Fhtml\u002Fks_config\u002Foptimization.sh\n# Version: V1.0\n# Author: yao zhang\n# Organization: www.zyops.com\n# Created Time : 2015-12-03 15:23:08\n# Description: Linux system initialization\n##############################################################\n\n. \u002Fetc\u002Finit.d\u002Ffunctions\n\nIp=10.0.0.7\nPort=80\nConfigDir=ks_config\n\n# Judge Http server is ok?\nPortNum=`nmap $Ip  -p $Port 2\u003E\u002Fdev\u002Fnull|grep open|wc -l`\n[ $PortNum -lt 1 ] && {\n        echo \"Http server is bad!\"\n        exit 1\n}\n\n# Defined result function\nfunction Msg(){\n        if [ $? -eq 0 ];then\n          action \"$1\" \u002Fbin\u002Ftrue\n        else\n          action \"$1\" \u002Fbin\u002Ffalse\n        fi\n}\n\n# Defined IP function\nfunction ConfigIP(){\n        Suffix=`ifconfig eth0|awk -F \"[ .]+\" 'NR==2 {print $6}'`\n        cat \u003E\u002Fetc\u002Fsysconfig\u002Fnetwork-scripts\u002Fifcfg-eth0 \u003C\u003C-END\n        DEVICE=eth0\n        TYPE=Ethernet\n        ONBOOT=yes\n        NM_CONTROLLED=yes\n        BOOTPROTO=none\n        IPADDR=10.0.0.$Suffix\n        PREFIX=24\n        GATEWAY=10.0.0.2\n        DNS1=10.0.0.2\n        DEFROUTE=yes\n        IPV4_FAILURE_FATAL=yes\n        IPV6INIT=no\n\n        END\n        Msg \"config eth0\"\n}\n\n# Defined Yum source Functions\nfunction yum(){\n        YumDir=\u002Fetc\u002Fyum.repos.d\n        [ -f \"$YumDir\u002FCentOS-Base.repo\" ] && cp $YumDir\u002FCentOS-Base.repo{,.ori} \n        wget -O $YumDir\u002FCentOS-Base.repo http:\u002F\u002F$Ip:$Port\u002F$ConfigDir\u002FCentOS-Base.repo &\u003E\u002Fdev\u002Fnull &&\\\n        wget -O $YumDir\u002Fepel.repo http:\u002F\u002F$Ip:$Port\u002F$ConfigDir\u002Fepel.repo &\u003E\u002Fdev\u002Fnull &&\\\n        Msg \"YUM source\"\n}\n\n# Defined Hide the system version number Functions\nfunction HideVersion(){\n        [ -f \"\u002Fetc\u002Fissue\" ] && \u003E\u002Fetc\u002Fissue\n        Msg \"Hide issue\" \n        [ -f \"\u002Fetc\u002Fissue.net\" ] && \u003E \u002Fetc\u002Fissue.net\n        Msg \"Hide issue.net\"\n}\n\n# Defined OPEN FILES Functions\nfunction openfiles(){\n        [ -f \"\u002Fetc\u002Fsecurity\u002Flimits.conf\" ] && {\n        echo '*  -  nofile  65535' \u003E\u003E \u002Fetc\u002Fsecurity\u002Flimits.conf\n        Msg \"open files\"\n        }\n}\n\n# Defined Kernel parameters Functions\nfunction kernel(){\n        KernelDir=\u002Fetc\n        [ -f \"$KernelDir\u002Fsysctl.conf\" ] && \u002Fbin\u002Fmv $KernelDir\u002Fsysctl.conf{,.ori}\n        wget -O $KernelDir\u002Fsysctl.conf http:\u002F\u002F$Ip:$Port\u002F$ConfigDir\u002Fsysctl.conf &\u003E\u002Fdev\u002Fnull\n        Msg \"Kernel config\"\n}\n\n# Defined System Startup Services Functions\nfunction boot(){\n        for oldboy in `chkconfig --list|grep \"3:on\"|awk '{print $1}'|grep -vE \"crond|network|rsyslog|sshd|sysstat\"` \n          do \n           chkconfig $oldboy off\n        done\n        Msg \"BOOT config\"\n}\n\n# Defined Time Synchronization Functions\nfunction Time(){\n        echo \"#time sync by zhangyao at $(date +%F)\" \u003E\u003E\u002Fvar\u002Fspool\u002Fcron\u002Froot\n        echo '*\u002F5 * * * * \u002Fusr\u002Fsbin\u002Fntpdate time.nist.gov &\u003E\u002Fdev\u002Fnull' \u003E\u003E\u002Fvar\u002Fspool\u002Fcron\u002Froot\n        Msg \"Time Synchronization\"\n}\n\n# Defined main Functions\nfunction main(){\n        ConfigIP\n        yum\n        HideVersion\n        openfiles\n        kernel\n        boot\n        Time\n}\n\nmain\n# rz上传CentOS-Base.repo、epel.repo、sysctl.conf\n7.5 整合编辑 default 配置文件\n# 最精简配置\n[root@linux-node1 ~]# vim \u002Fvar\u002Flib\u002Ftftpboot\u002Fpxelinux.cfg\u002Fdefault\ndefault ks\nprompt 0\n\nlabel ks\n  kernel vmlinuz\n  append initrd=initrd.img ks=http:\u002F\u002F10.0.0.7\u002Fks_config\u002FCentOS-6.7-ks.cfg # 告诉安装程序ks.cfg文件在哪里\n\n# append initrd=initrd.img ks=http:\u002F\u002F10.0.0.7\u002Fks_config\u002FCentOS-6.7-ks.cfg ksdevice=eth0\n# ksdevice=eth0代表当客户端有多块网卡的时候，要实现自动化需要设置从eth1安装，不指定的话，安装的时候系统会让你选择，那就不叫全自动化了。\n8. 无人值守自动安装\n打开系统电源，出去喝杯水。过会回来, 系统就以经装好了.^_^ 下面是安装过程中截的几个图\n?\n?\n如果安装过程出错，可以通过 Alt+F2-F5 切到其他控制台查看报错信息\n9. 安装完成后验证\n[root@CentOS6 ~]# df -h\nFilesystem      Size  Used Avail Use% Mounted on\n\u002Fdev\u002Fsda2       6.6G  1.4G  4.9G  22% \u002F\ntmpfs           491M     0  491M   0% \u002Fdev\u002Fshm\n\u002Fdev\u002Fsda1       190M   36M  145M  20% \u002Fboot\n[root@CentOS6 ~]# \u002Fetc\u002Finit.d\u002Fiptables status\niptables：未运行防火墙。\n[root@CentOS6 ~]# getenforce\nDisabled\n[root@CentOS6 ~]# ifconfig eth0|awk -F \"[ :]+\" 'NR==2 {print $4}'\n10.0.0.101\n[root@CentOS6 ~]# chkconfig --list|grep \"3:on\"\ncrond           0:off   1:off   2:on    3:on    4:on    5:on    6:off\nnetwork         0:off   1:off   2:on    3:on    4:on    5:on    6:off\nrsyslog         0:off   1:off   2:on    3:on    4:on    5:on    6:off\nsshd            0:off   1:off   2:on    3:on    4:on    5:on    6:off\nsysstat         0:off   1:on    2:on    3:on    4:on    5:on    6:off\n10. 知识扩展\n10.1 PXE 配置文件 default\n由于多个客户端可以从一个 PXE 服务器引导，PXE 引导映像使用了一个复杂的配置文件搜索方式来查找针对客户机的配置文件。如果客户机的网卡的 MAC 地址为8F：3H：AA：6B：CC：5D，对应的 IP 地址为 10.0.0.195，那么客户机首先尝试以 MAC 地址为文件名匹配的配置文件，如果不存在就以 IP 地址来查找。根据上述环境针对这台主机要查找的以一个配置文件就是 \u002Ftftpboot\u002Fpxelinux.cfg\u002F01-8F：3H：AA：6B：CC：5D。如果该文件不存在，就会根据 IP 地址来查找配置文件了，这个算法更复杂些，PXE 映像查找会根据 IP 地址 16 进制命名的客户机配置文件。例如：10.0.0.195 对应的 16 进制的形式为 C0A801C3。（可以通过 syslinux 软件包提供的 gethostip 命令将 10 进制的 IP 转换为 16 进制）\n如果 C0A801C3 文件不存在，就尝试查找 C0A801C 文件，如果 C0A801C 也不存在，那么就尝试 C0A801 文件，依次类推，直到查找 C 文件，如果 C 也不存在的话，那么最后尝试 default 文件。\n总体来说，pxelinux 搜索的文件的顺序是：\n\u002Ftftpboot\u002Fpxelinux.cfg\u002F01-88-99-aa-bb-cc-dd\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A801C3\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A801C\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A801\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A80\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A8\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0A\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC0\n\u002Ftftpboot\u002Fpxelinux.cfg\u002FC\n\u002Ftftpboot\u002Fpxelinux.cfg\u002Fdefault\n应用：如果已经从厂商获取了服务器 MAC 地址，就可以差异化定制安装服务器了。\n10.2 Cobbler\n大家学完 kickstart，会发现一个问题，kickstart 不怎么灵活，调整某些参数就需要另外一个 ks.cfg 文件。因此 Cobbler 无人值守安装可以一观。\n11. 报错\n?\n报错原因：selinux 没关","brief":"导言\n作为中小公司的运维，经常会遇到一些机械式的重复工作，例如：有时公司同时上线几十甚至上百台服务器，而且需要我们在短时间内完成系统安装。\n常规的办法有什么？ ...","summary":"作为中小公司的运维，经常会遇到一些机械式的重复工作，例如：有时公司同时上线几十甚至上百台服务器，而且需要我们在短时间内完成系统安装。","abstract":"作为中小公司的运维，经常会遇到一些机械式的重复工作，例如：有时公司同时上线几十甚至上百台服务器，而且需要我们在短时间内完成系统安装。","posterSummary":"导言\n作为中小公司的运维，经常会遇到一些机械式的重复工作，例如：有时公司同时上线几十甚至上百台服务器，而且需要我们在短时间内完成系统安装。\n常规的办法有什么？ 光盘安装系统 ===\u003E 一个服务器 DVD 内置光驱百千块，百台服务器都配光驱就浪费了，因为一台服务器也就开始装系统能用的上，以后用的机会屈指可数。用 USB 外置光驱，插来插去也醉了。 U 盘安装系统 ===\u003E还是同样的问题，要一台一台服...","description":"使用这种 kickstart，只需事先定义好一个 Kickstart 自动应答配置文件 ks.cfg（通常存放在安装服务器上），并让安装程序知道该配置文件的位置，在安装过程中安装程序就可以自己从该文件中读取安装配置，这样就避免了在安装过程中多次的人机交互，从而实现无人值守的自动化安装。# ksdevice=eth0代表当客户端有多块网卡的时候，要实现自动化需要设置从eth1安装，不指定的话，安装的时候系统会让你选择，那就不叫全自动化了。","picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fnzfyc367ol.jpeg","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1032887\u002Fnzfyc367ol.jpeg","sourceType":99,"sourceDetail":{},"channelType":2,"channelDetail":{"source":"kangvcar","originalTime":"2018-06-20"},"authorId":1032887,"columnId":4082,"writeTime":1533718725,"updateTime":1533718725,"viewCount":353,"likeCount":0,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[10671,10726],"tags":[{"id":10671,"tagId":10671,"name":"运维","tagName":"运维","articleCount":0,"disable":0},{"id":10726,"tagId":10726,"name":"FTP","tagName":"FTP","articleCount":0,"disable":0}],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1032887,"name":"KangVcar","label":"知识的广度是深度的副产品","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1032887\u002Fx1dfac0ngm.png","province":"1213","city":"1216","company":"","title":"","school":"","major":"","homePage":"http:\u002F\u002Fwww.kangvcar.com","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10283,10308,10284,10169,10310],"specialities":[],"gender":1,"trade":"itcc","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2017-09-20 14:49:36","skipAds":false,"upvoteCount":0,"followingCount":3,"followerCount":36,"questionCount":0,"answerCount":0,"followQuestionCount":0,"followTagCount":0,"favorAnswerCount":0,"beHandPickedCount":0,"followColumnCount":0,"articleCount":0,"badgeInfo":{},"statInfo":{"articleCount":25,"validArticleCount":25,"joinedColumnCount":1,"followColumnCount":2,"uid":1032887,"beLikeNum":70,"articleReadNum":6123,"articleRecommNum":0,"answerRecommNum":0,"contribNum":0,"createTime":"2019-09-09 15:54:14"},"rank":3879,"userTeams":[],"fromInfo":{}},"column":{"id":4082,"name":"kangvcar","desc":"","icon":"https:\u002F\u002Fimgcache.qq.com\u002Fqcloud\u002Fdeveloper\u002Fimages\u002Frelease\u002Fcolumn-icons\u002F8.png","background":"","status":2,"creatorId":1032887,"memberCount":1,"articleCount":25,"followCount":24,"createdTime":1529050434,"creator":{"id":1032887,"name":"KangVcar","label":"知识的广度是深度的副产品","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1032887\u002Fx1dfac0ngm.png","province":"1213","city":"1216","company":"","title":"","school":"","major":"","homePage":"http:\u002F\u002Fwww.kangvcar.com","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10283,10308,10284,10169,10310],"specialities":[],"gender":1,"trade":"itcc","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2017-09-20 14:49:36","skipAds":false}},"translator":{},"textLinks":[]},"articleAuditInfo":null,"commentsData":{"fetchStatus":"none","pageNumber":1,"pageSize":10,"total":0,"list":[]},"hotArticleList":[{"id":115826,"weight":1583501500,"type":8,"detail":{"articleId":1594419,"abstract":"新型冠状病毒在全球蔓延呈现扩大趋势，继谷歌一名员工在瑞士苏黎世办事处确诊新冠病毒后，亚马逊亦于近日公布两名员工在意大利米兰检测出新冠病毒阳性。谷歌亚马逊等科技公司纷纷限制员工出差旅行，一些大学和科研机构也取消了聚集性会议，以降低健康风险。","coverImageUrl":"","weight":1583501500,"avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","author":{"id":1366542,"name":"新智元","label":"深度锁定人工智能及机器人产业链","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1366542\u002Fcp6rwl02ww.jpeg","province":"1001","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10539,10333,10149,10332,10147],"specialities":[],"gender":1,"trade":"whcm","growthLevel":1,"isProfessionVerified":false,"upvoteCount":0,"followingCount":1,"followerCount":71,"questionCount":0,"answerCount":0,"followQuestionCount":0,"followTagCount":0,"favorAnswerCount":0,"beHandPickedCount":0,"followColumnCount":2,"articleCount":3924},"authorBadgeInfo":{}},"createTime":1583501500,"objId":1594419,"entry":0,"readNum":29,"showReadNum":95,"articleId":1594419,"abstract":"新型冠状病毒在全球蔓延呈现扩大趋势，继谷歌一名员工在瑞士苏黎世办事处确诊新冠病毒后，亚马逊亦于近日公布两名员工在意大利米兰检测出新冠病毒阳性。谷歌亚马逊等科技公司纷纷限制员工出差旅行，一些大学和科研机构也取消了聚集性会议，以降低健康风险。","coverImageUrl":"","avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","title":"刚刚，谷歌宣布取消I\u002FO全球开发者大会！2020因疫情取消的科技会议大盘点","writeTime":1583379321,"tags":[{"tagId":10813,"tagName":"https"},{"tagId":10681,"tagName":"网络安全"}],"picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1366542\u002Fay46yp8s6t.gif","author":{"id":1366542,"name":"新智元"}},{"id":115824,"weight":1583501452,"type":8,"detail":{"articleId":1595389,"abstract":"有的时候看到一些3D游戏锯齿感特别明显，与一些开发者沟通后发现，其实很多人并不清楚怎么能去掉明显的锯齿感，而这并不是只有新开发者才遇到的问题，很多游戏研发经验丰富的开发者，甚至是使用LayaAir引擎开发了很多游戏的开发者也会不清楚。另外，最近也遇到有开发者想了解刘海屏如何适配，所以通过本篇文章全面介绍一下。","coverImageUrl":"","weight":1583501452,"avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","author":{"id":1390933,"name":"Layabox Charley","label":"Layabox引擎团队合伙人，腾讯云TVP，北京动漫游戏产业协会标准化工作委员会副主任委员。","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Fcustom-avatar\u002F1390933\u002F51qjvpavaq.jpg","province":"1001","city":"","company":"Layabox","title":"合伙人","school":"","major":"","homePage":"https:\u002F\u002Fwww.layabox.com","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10683,144,10894],"specialities":[],"gender":1,"trade":"game","growthLevel":1,"isProfessionVerified":false,"upvoteCount":0,"followingCount":2,"followerCount":23,"questionCount":0,"answerCount":0,"followQuestionCount":0,"followTagCount":0,"favorAnswerCount":0,"beHandPickedCount":0,"followColumnCount":3,"articleCount":43},"authorBadgeInfo":{"list":[5],"entities":{"5":{"id":5,"uid":1390933,"status":2,"level":0}}}},"createTime":1583501452,"objId":1595389,"entry":0,"readNum":79,"showReadNum":657,"articleId":1595389,"abstract":"有的时候看到一些3D游戏锯齿感特别明显，与一些开发者沟通后发现，其实很多人并不清楚怎么能去掉明显的锯齿感，而这并不是只有新开发者才遇到的问题，很多游戏研发经验丰富的开发者，甚至是使用LayaAir引擎开发了很多游戏的开发者也会不清楚。另外，最近也遇到有开发者想了解刘海屏如何适配，所以通过本篇文章全面介绍一下。","coverImageUrl":"","avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","title":"详解LayaAir引擎游戏屏幕适配，及有效抗锯齿","writeTime":1583498859,"tags":[{"tagId":10565,"tagName":"游戏解决方案"},{"tagId":10683,"tagName":"HTML5"},{"tagId":10170,"tagName":"JavaScript"},{"tagId":10800,"tagName":"小程序"},{"tagId":137,"tagName":"官方文档"}],"picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fdraft\u002F1390933\u002Fe602hjkkp3.png","author":{"id":1390933,"name":"Layabox Charley"}},{"id":115822,"weight":1583312410,"type":8,"detail":{"articleId":1593962,"abstract":"3、推出9.9元体验包，包含流量，存储，普通转码，极速高清转码，视频审核时长五种资源类型，低成本快速体验点播所有功能。","coverImageUrl":"","weight":1583312410,"avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","author":{"id":2669993,"name":"腾讯云视频","label":"腾讯十几年的音视频技术沉淀，都在这里","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F2669993\u002Fhpzhngjmuk.png","province":"1213","city":"1216","company":"腾讯","title":"行业应用产品经理","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10216,10151,10620,10373,10292],"specialities":[],"gender":1,"trade":"","growthLevel":1,"isProfessionVerified":true,"upvoteCount":0,"followingCount":1,"followerCount":68,"questionCount":0,"answerCount":1,"followQuestionCount":0,"followTagCount":0,"favorAnswerCount":0,"beHandPickedCount":0,"followColumnCount":2,"articleCount":111},"authorBadgeInfo":{}},"createTime":1583312410,"objId":1593962,"entry":0,"readNum":172,"showReadNum":389,"articleId":1593962,"abstract":"3、推出9.9元体验包，包含流量，存储，普通转码，极速高清转码，视频审核时长五种资源类型，低成本快速体验点播所有功能。","coverImageUrl":"","avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","title":"腾讯云视频云(点播&直播)产品月刊(2020.2)","writeTime":1583307743,"tags":[{"tagId":10372,"tagName":"云直播"},{"tagId":10375,"tagName":"短视频"},{"tagId":102,"tagName":"费用中心"},{"tagId":106,"tagName":"云点播"},{"tagId":10204,"tagName":"CSS"}],"picture":"https:\u002F\u002Fask.qcloudimg.com\u002Farticle-cover-image\u002F2669993\u002Fywopgtcd52.png","author":{"id":2669993,"name":"腾讯云视频"}},{"id":115820,"weight":1583299186,"type":8,"detail":{"articleId":1593409,"abstract":"​相信所有企业和个人开发者在选用云存储产品时都把数据安全作为重要考量标准。 本文介绍了用户如何使用腾讯云对象存储COS的事前防护、事中监控、事后追溯三个手段来保证自己的数据安全","coverImageUrl":"","weight":1583299186,"avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","author":{"id":5909132,"name":"云存储","label":"我会为大家分享更多的腾讯云存储技术实战内容！","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Fcustom-avatar\u002F5909132\u002Fbwv5d0u3i5.jpg","province":"1213","city":"1216","company":"腾讯云","title":"云存储","school":"腾讯大学","major":"云存储","homePage":"https:\u002F\u002Fcloud.tencent.com\u002Fdeveloper\u002Fteam\u002Fstorage","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[110,10366,10367,10876,112],"specialities":[],"gender":1,"trade":"","growthLevel":2,"isProfessionVerified":true,"upvoteCount":0,"followingCount":5,"followerCount":17,"questionCount":0,"answerCount":0,"followQuestionCount":0,"followTagCount":1,"favorAnswerCount":0,"beHandPickedCount":0,"followColumnCount":5,"articleCount":16},"authorBadgeInfo":{"list":[4],"entities":{"4":{"id":4,"uid":5909132,"status":1,"level":1}}}},"createTime":1583299186,"objId":1593409,"entry":0,"readNum":48,"showReadNum":152,"articleId":1593409,"abstract":"​相信所有企业和个人开发者在选用云存储产品时都把数据安全作为重要考量标准。 本文介绍了用户如何使用腾讯云对象存储COS的事前防护、事中监控、事后追溯三个手段来保证自己的数据安全","coverImageUrl":"","avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","title":"腾讯云对象存储COS安全方案介绍","writeTime":1583223650,"tags":[{"tagId":110,"tagName":"对象存储"},{"tagId":145,"tagName":"官方产品"},{"tagId":10881,"tagName":"腾讯云帐号"},{"tagId":142,"tagName":"腾讯云大学"},{"tagId":10636,"tagName":"小程序 · 云开发"}],"picture":"","author":{"id":5909132,"name":"云存储"}},{"id":115818,"weight":1583299176,"type":8,"detail":{"articleId":1593660,"abstract":"它在上线四小时内用户数激增60倍，获得新华社力荐，开发过程中仅投入2个前端开发+1个美术+1个策划，这款小游戏里，单机玩法、邀请好友对战、在线匹配对战、排行榜、背景音乐音效等功能一应俱全。","coverImageUrl":"","weight":1583299176,"avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","author":{"id":6802049,"name":"泛互联网行业产品团队","label":"腾讯云泛互联网行业产品团队，提供游戏，文创，行业工具等行业产品方案，助力行业发展。","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Fraw\u002Fyehe-b3360f6a89f75\u002F0kpo7r6x27.png","province":"1081","city":"","company":"腾讯","title":"产品经理","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[144,10894,10292],"specialities":[],"gender":1,"trade":"","growthLevel":0,"isProfessionVerified":true,"upvoteCount":0,"followingCount":0,"followerCount":7,"questionCount":0,"answerCount":0,"followQuestionCount":0,"followTagCount":0,"favorAnswerCount":0,"beHandPickedCount":0,"followColumnCount":5,"articleCount":3},"authorBadgeInfo":{}},"createTime":1583299176,"objId":1593660,"entry":0,"readNum":107,"showReadNum":309,"articleId":1593660,"abstract":"它在上线四小时内用户数激增60倍，获得新华社力荐，开发过程中仅投入2个前端开发+1个美术+1个策划，这款小游戏里，单机玩法、邀请好友对战、在线匹配对战、排行榜、背景音乐音效等功能一应俱全。","coverImageUrl":"","avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","title":"仅有两名前端开发，联机小游戏一周内上线，如何做到？","writeTime":1583292327,"tags":[{"tagId":10894,"tagName":"小游戏联机对战引擎"},{"tagId":10636,"tagName":"小程序 · 云开发"},{"tagId":10929,"tagName":"正版曲库直通车"}],"picture":"https:\u002F\u002Fask.qcloudimg.com\u002Farticle-cover-image\u002F6802049\u002Fv5u959a1mg.jpg","author":{"id":6802049,"name":"泛互联网行业产品团队"}},{"id":115816,"weight":1583287416,"type":8,"detail":{"articleId":1593427,"abstract":"近来，微前端的概念非常火爆，那么什么是微前端架构？微前端架构是一种架构风格类似于微服务的架构，它将微服务的理念应用于浏览器端，即将 Web 应用由单一的单体应用转变为多个小型前端应用聚合为一的应用。由此带来的变化是，这些前端应用可以独立运行、独立开发、独立部署。微前端所具备的便于引入新框架，代码简洁、易维护等特点使其应用愈发广泛。\n","coverImageUrl":"","weight":1583287416,"avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","author":{"id":1260054,"name":"coder_koala","label":"【程序员成长指北】公众号博主，慕课网认证作者，目前在做一个Node.js后端工程师高级进阶路线。","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Fcustom-avatar\u002F1260054\u002Fkulw4o08y2.jpg","province":"1001","city":"","company":"","title":"","school":"","major":"","homePage":"https:\u002F\u002Fgithub.com\u002Fkoala-coding\u002FgoodBlog\u002F","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10200,10170,10164,10216,10245],"specialities":[],"gender":1,"trade":"mobileapp","growthLevel":0,"isProfessionVerified":false,"upvoteCount":0,"followingCount":1,"followerCount":12,"questionCount":0,"answerCount":0,"followQuestionCount":0,"followTagCount":0,"favorAnswerCount":0,"beHandPickedCount":0,"followColumnCount":2,"articleCount":109},"authorBadgeInfo":{}},"createTime":1583287416,"objId":1593427,"entry":0,"readNum":82,"showReadNum":244,"articleId":1593427,"abstract":"近来，微前端的概念非常火爆，那么什么是微前端架构？微前端架构是一种架构风格类似于微服务的架构，它将微服务的理念应用于浏览器端，即将 Web 应用由单一的单体应用转变为多个小型前端应用聚合为一的应用。由此带来的变化是，这些前端应用可以独立运行、独立开发、独立部署。微前端所具备的便于引入新框架，代码简洁、易维护等特点使其应用愈发广泛。\n","coverImageUrl":"","avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","title":"爱奇艺号微前端架构实践","writeTime":1583228104,"tags":[{"tagId":10197,"tagName":"Vue.js"},{"tagId":10649,"tagName":"容器"},{"tagId":10207,"tagName":"JSON"},{"tagId":10548,"tagName":"网站"},{"tagId":10629,"tagName":"webpack"}],"picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1260054\u002Febn48bsvo6.png","author":{"id":1260054,"name":"coder_koala"}},{"id":115814,"weight":1583287253,"type":8,"detail":{"articleId":1591615,"abstract":"这是 MPM 分享系列的第二篇，在上一篇 MPM 卖场可视化搭建系统 — 要素设计 中，我们介绍了 MPM 作为一个面向卖场场景的页面可视化搭建系统，最基础的系统要素都有哪些，并给出了系统要素的推导和设计过程。系统要素是一个庞大系统链接各个模块的纽带，也是系统设计的基石，而要素之上，才是系统的架构和流程。","coverImageUrl":"","weight":1583287253,"avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","author":{"id":6788075,"name":"WecTeam","label":"WecTeam，京东社交电商部前端技术团队！","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Fcustom-avatar\u002F6788075\u002Fa3vli3w2vk.jpg","province":"1213","city":"1216","company":"京东","title":"","school":"","major":"","homePage":"https:\u002F\u002Fwecteam.io\u002F","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[],"specialities":[],"gender":1,"trade":"","growthLevel":0,"isProfessionVerified":false,"upvoteCount":0,"followingCount":1,"followerCount":11,"questionCount":0,"answerCount":0,"followQuestionCount":0,"followTagCount":0,"favorAnswerCount":0,"beHandPickedCount":0,"followColumnCount":4,"articleCount":42},"authorBadgeInfo":{}},"createTime":1583287253,"objId":1591615,"entry":0,"readNum":37,"showReadNum":100,"articleId":1591615,"abstract":"这是 MPM 分享系列的第二篇，在上一篇 MPM 卖场可视化搭建系统 — 要素设计 中，我们介绍了 MPM 作为一个面向卖场场景的页面可视化搭建系统，最基础的系统要素都有哪些，并给出了系统要素的推导和设计过程。系统要素是一个庞大系统链接各个模块的纽带，也是系统设计的基石，而要素之上，才是系统的架构和流程。","coverImageUrl":"","avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","title":"MPM 卖场可视化搭建系统 — 架构流程设计","writeTime":1582778323,"tags":[{"tagId":10683,"tagName":"HTML5"},{"tagId":10800,"tagName":"小程序"},{"tagId":10797,"tagName":"微信"},{"tagId":10197,"tagName":"Vue.js"},{"tagId":10576,"tagName":"渲染"}],"picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-6788075\u002Fy7xy36hg38.png","author":{"id":6788075,"name":"WecTeam"}},{"id":115812,"weight":1583287177,"type":8,"detail":{"articleId":1592865,"abstract":" 作者 | 王俊杰 整理 | 李俊辰 Serverless 是当下炙手可热的技术，被认为是云计算发展的未来方向，拥有免运维、降低开发成本、按需自动扩展等诸多优点。尤其是在前端研发领域，使用 Node 开发云函数，可以让前端工程师更加专注于业务逻辑，实现全栈工程师的角色转变。但现有的开发模式、工具、脚手架已经标准化、流程化，存量业务正在线上稳定运行，如何将 Serverless 融入到现有开发模式和工具中？如何将 Serverless 和当前的业务进行结合落地？本文将尝试给出解法，内容整理自腾讯 Server","coverImageUrl":"","weight":1583287177,"avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","author":{"id":1000057,"name":"腾讯云serverless团队","label":"腾讯云无服务器云函数SCF产品","avatar":"https:\u002F\u002Fblog-10039692.file.myqcloud.com\u002F1500878989713_2945_1500878989894.jpeg","province":"1213","city":"1216","company":"腾讯云","title":"产品团队","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10356,10420,10174,110,10169],"specialities":[],"gender":1,"trade":"itcc","growthLevel":2,"isProfessionVerified":true,"upvoteCount":19,"followingCount":13,"followerCount":99,"questionCount":0,"answerCount":24,"followQuestionCount":0,"followTagCount":9,"favorAnswerCount":0,"beHandPickedCount":23,"followColumnCount":9,"articleCount":108},"authorBadgeInfo":{}},"createTime":1583287177,"objId":1592865,"entry":0,"readNum":46,"showReadNum":127,"articleId":1592865,"abstract":" 作者 | 王俊杰 整理 | 李俊辰 Serverless 是当下炙手可热的技术，被认为是云计算发展的未来方向，拥有免运维、降低开发成本、按需自动扩展等诸多优点。尤其是在前端研发领域，使用 Node 开发云函数，可以让前端工程师更加专注于业务逻辑，实现全栈工程师的角色转变。但现有的开发模式、工具、脚手架已经标准化、流程化，存量业务正在线上稳定运行，如何将 Serverless 融入到现有开发模式和工具中？如何将 Serverless 和当前的业务进行结合落地？本文将尝试给出解法，内容整理自腾讯 Server","coverImageUrl":"","avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","title":"前端如何真正晋级成全栈：腾讯Serverless前端落地与实践","writeTime":1583133014,"tags":[{"tagId":10548,"tagName":"网站"},{"tagId":10671,"tagName":"运维"},{"tagId":10619,"tagName":"Express"},{"tagId":10876,"tagName":"云计算"},{"tagId":10663,"tagName":"编程算法"}],"picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002F1000057\u002Fq4nx0xr06c.jpeg","author":{"id":1000057,"name":"腾讯云serverless团队"}},{"id":115810,"weight":1583287137,"type":8,"detail":{"articleId":1593132,"abstract":"随着各种社交论坛等的日益火爆，敏感词过滤逐渐成了非常重要的也是值得重视的功能。那么在Serverless架构下，通过Python语言，敏感词过滤又有那些新的实现呢？我们能否是用最简单的方法，实现一个敏感词过滤的API呢？","coverImageUrl":"","weight":1583287137,"avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","author":{"id":1739253,"name":"Dfounderliu","label":"没有介绍才是最牛逼的炫耀","avatar":"https:\u002F\u002Fshare-10039692.file.myqcloud.com\u002Flab\u002F0ca6ad4f68\u002Fimage\u002Fg9xh1apy7s\u002F20141112115936_zYyEc.jpeg","province":"1213","city":"1216","company":"腾讯","title":"后台研发","school":"浙江大学","major":"软件工程","homePage":"http:\u002F\u002Fwww.pmliu.cn","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10292,10169,10356,10318],"specialities":[],"gender":1,"trade":"","growthLevel":2,"isProfessionVerified":true,"upvoteCount":40,"followingCount":4,"followerCount":59,"questionCount":0,"answerCount":54,"followQuestionCount":0,"followTagCount":1,"favorAnswerCount":0,"beHandPickedCount":1,"followColumnCount":4,"articleCount":42},"authorBadgeInfo":{"list":[4],"entities":{"4":{"id":4,"uid":1739253,"status":1,"level":1}}}},"createTime":1583287137,"objId":1593132,"entry":0,"readNum":40,"showReadNum":153,"articleId":1593132,"abstract":"随着各种社交论坛等的日益火爆，敏感词过滤逐渐成了非常重要的也是值得重视的功能。那么在Serverless架构下，通过Python语言，敏感词过滤又有那些新的实现呢？我们能否是用最简单的方法，实现一个敏感词过滤的API呢？","coverImageUrl":"","avatar":"\u002F\u002Fimgcache.qq.com\u002Fopen_proj\u002Fproj_qcloud_v2\u002Fgateway\u002Fq-and-a\u002Fcss\u002Fimg\u002Favatar-default.png","title":"3分钟实践：Python语言在Serverless架构下实现敏感词过滤","writeTime":1583206186,"tags":[{"tagId":10651,"tagName":"Serverless"}],"picture":"","author":{"id":1739253,"name":"Dfounderliu"}},{"id":115808,"weight":1583285509,"type":8,"detail":{"abstract":"本次智能制造与工业互联网系列公益联播由腾讯、同济大学、中国产业互联网发展联盟（IDAC）以及深圳市工业互联网行业协会联合举办，来自全国的相关领域专家将为工业企业带来智能制造的实践经验，助力企业数字化转型。 ","articleId":1593425,"coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Farticle-cover-image\u002F1261809\u002Fj9gabrastk.png","weight":1583285509,"avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Farticle-cover-image\u002F1261809\u002Fj9gabrastk.png","author":{"id":1261809,"name":"腾讯云大学","label":"面向云生态用户的一站式学习成长平台","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Fcustom-avatar\u002F1261809\u002Fji97d012vs.jpg","province":"1213","city":"1216","company":"腾讯","title":"产品运营","school":"","major":"","homePage":"https:\u002F\u002Fcloud.tencent.com\u002Fedu\u002Flearning","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[],"specialities":[],"gender":1,"trade":"","growthLevel":3,"isProfessionVerified":true,"upvoteCount":0,"followingCount":0,"followerCount":31,"questionCount":0,"answerCount":1,"followQuestionCount":0,"followTagCount":6,"favorAnswerCount":1,"beHandPickedCount":0,"followColumnCount":3,"articleCount":103},"authorBadgeInfo":{"list":[4],"entities":{"4":{"id":4,"uid":1261809,"status":2,"level":1}}}},"createTime":1583285509,"objId":1593425,"entry":0,"readNum":70,"showReadNum":205,"abstract":"本次智能制造与工业互联网系列公益联播由腾讯、同济大学、中国产业互联网发展联盟（IDAC）以及深圳市工业互联网行业协会联合举办，来自全国的相关领域专家将为工业企业带来智能制造的实践经验，助力企业数字化转型。 ","articleId":1593425,"coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Farticle-cover-image\u002F1261809\u002Fj9gabrastk.png","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Farticle-cover-image\u002F1261809\u002Fj9gabrastk.png","title":"《智能制造与工业互联网》系列公益联播——第三期 腾讯互联周","writeTime":1583228033,"tags":[{"tagId":142,"tagName":"腾讯云大学"}],"picture":"https:\u002F\u002Fask.qcloudimg.com\u002Farticle-cover-image\u002F1261809\u002Fj9gabrastk.png","author":{"id":1261809,"name":"腾讯云大学"}}],"relatedArticles":[{"id":1170834,"articleId":1170834,"title":"记一次服务器被入侵的调查取证","content":"","plain":"","brief":"","summary":"*本文原创作者：fish1983，本文属FreeBuf原创奖励计划，未经许可禁止转载","abstract":"*本文原创作者：fish1983，本文属FreeBuf原创奖励计划，未经许可禁止转载","posterSummary":"","description":"","picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1268449\u002F1qbv7hsimv.jpeg","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1268449\u002F1qbv7hsimv.jpeg","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-06-26","author":"fish1983","nickName":"FreeBuf","userName":"gh_7524f20253aa","alias":"freebuf"},"authorId":1268449,"columnId":2006,"writeTime":0,"updateTime":0,"viewCount":1179,"likeCount":1,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1268449,"name":"FB客服","label":"","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1268449\u002Fflvc0hl3bd.jpeg","province":"","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10308,10216,10151,10244,10169],"specialities":[],"gender":1,"trade":"","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-01-24 15:39:28","skipAds":false},"column":{"id":2006,"name":"FreeBuf","desc":"","icon":"https:\u002F\u002Fimgcache.qq.com\u002Fqcloud\u002Fdeveloper\u002Fimages\u002Frelease\u002Fcolumn-icons\u002F12.png","background":"","status":2,"creatorId":1268449,"memberCount":1,"articleCount":3961,"followCount":226,"createdTime":1516779728}},{"id":1171167,"articleId":1171167,"title":"浅谈信息安全管理体系建设","content":"","plain":"","brief":"","summary":"信息安全管理体系（ISMS)是组织在整体或特定范围内建立的信息安全方针和目标，以及完成这些目标所用的方法和体系。它是直接管理活动的结果，表示为方针、原则、目标、...","abstract":"信息安全管理体系（ISMS)是组织在整体或特定范围内建立的信息安全方针和目标，以及完成这些目标所用的方法和体系。它是直接管理活动的结果，表示为方针、原则、目标、...","posterSummary":"信息安全管理体系（ISMS)是组织在整体或特定范围内建立的信息安全方针和目标，以及完成这些目标所用的方法和体系。它是直接管理活动的结果，表示为方针、原则、目标、方法、计划、活动、程序、过程和资源的集合。","description":"","picture":"","coverImageUrl":"","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-07-11","author":"oumeixi2","nickName":"FreeBuf","userName":"gh_7524f20253aa","alias":"freebuf"},"authorId":1268449,"columnId":2006,"writeTime":0,"updateTime":0,"viewCount":314,"likeCount":7,"commentCount":0,"favorCount":1,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1268449,"name":"FB客服","label":"","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1268449\u002Fflvc0hl3bd.jpeg","province":"","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10308,10216,10151,10244,10169],"specialities":[],"gender":1,"trade":"","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-01-24 15:39:28","skipAds":false},"column":{"id":2006,"name":"FreeBuf","desc":"","icon":"https:\u002F\u002Fimgcache.qq.com\u002Fqcloud\u002Fdeveloper\u002Fimages\u002Frelease\u002Fcolumn-icons\u002F12.png","background":"","status":2,"creatorId":1268449,"memberCount":1,"articleCount":3961,"followCount":226,"createdTime":1516779728}},{"id":1171781,"articleId":1171781,"title":"万字长文带你从 0 学习 Keepalived","content":"","plain":"","brief":"","summary":"负载均衡器（Load Balancer, LB ）是一组能够将IP数据流以负载均衡形式转发到多台物理服务器的集成软件。有硬件负载均衡器和软件负载均衡器之分，硬件...","abstract":"负载均衡器（Load Balancer, LB ）是一组能够将IP数据流以负载均衡形式转发到多台物理服务器的集成软件。有硬件负载均衡器和软件负载均衡器之分，硬件...","posterSummary":"负载均衡器（Load Balancer, LB ）是一组能够将IP数据流以负载均衡形式转发到多台物理服务器的集成软件。有硬件负载均衡器和软件负载均衡器之分，硬件负载均衡器主要是在访问网络和服务器之间配置物理负载均衡设备，客户端对物理服务器的访问请求首先会抵达负载均衡设备，然后再由负载均衡设备根据一定的负载算法转发到后端服务器。相比而言，软件负载均衡器不需要特定的物理设备，只需在相应的操作系统上部署...","description":"","picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1751832\u002Fuv0vxwkqwt.jpeg","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1751832\u002Fuv0vxwkqwt.jpeg","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-06-24","author":"运维网-嘎子锅","nickName":"马哥Linux运维","userName":"gh_904f08561055","alias":"magedu-Linux"},"authorId":1751832,"columnId":2708,"writeTime":0,"updateTime":0,"viewCount":183,"likeCount":0,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1751832,"name":"小小科","label":"","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Fcustom-avatar\u002F1751832\u002Fv8eezkecko.jpg","province":"","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10308,10169,10244,10539,10245],"specialities":[],"gender":1,"trade":"education","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-04-27 11:29:42","skipAds":false},"column":{"id":2708,"name":"北京马哥教育","desc":"","icon":"https:\u002F\u002Fask.qcloudimg.com\u002Fcolumn-icons\u002F2708\u002F1751832\u002Fxe8n1v95wo.jpg","background":"","status":2,"creatorId":1751832,"memberCount":2,"articleCount":1715,"followCount":158,"createdTime":1524800738}},{"id":1170846,"articleId":1170846,"title":"区块链黑幕：我们不生产白皮书，我们只是白皮书的搬运工！","content":"","plain":"","brief":"","summary":"当大家一窝蜂的投身区块链掘金渴望一夜暴富的时候，新的行业又促生了另一批新职业。他们离开风险中心，靠代写ICO的白皮书赚的盆满钵满。","abstract":"当大家一窝蜂的投身区块链掘金渴望一夜暴富的时候，新的行业又促生了另一批新职业。他们离开风险中心，靠代写ICO的白皮书赚的盆满钵满。","posterSummary":"","description":"","picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1268449\u002F7r8tyw5lqx.jpeg","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1268449\u002F7r8tyw5lqx.jpeg","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-06-27","author":"灰产圈","nickName":"FreeBuf","userName":"gh_7524f20253aa","alias":"freebuf"},"authorId":1268449,"columnId":2006,"writeTime":0,"updateTime":0,"viewCount":226,"likeCount":0,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1268449,"name":"FB客服","label":"","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1268449\u002Fflvc0hl3bd.jpeg","province":"","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10308,10216,10151,10244,10169],"specialities":[],"gender":1,"trade":"","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-01-24 15:39:28","skipAds":false},"column":{"id":2006,"name":"FreeBuf","desc":"","icon":"https:\u002F\u002Fimgcache.qq.com\u002Fqcloud\u002Fdeveloper\u002Fimages\u002Frelease\u002Fcolumn-icons\u002F12.png","background":"","status":2,"creatorId":1268449,"memberCount":1,"articleCount":3961,"followCount":226,"createdTime":1516779728}},{"id":1171097,"articleId":1171097,"title":"监控系统的前世今生","content":"","plain":"","brief":"","summary":"微博平台监控技术负责人，负责微博平台、PC微博大规模监控系统的建设，主要关注实时大数据、运维自动化、智能化方向，2014年加入微博，之前曾在新浪、搜狐等公司从事...","abstract":"微博平台监控技术负责人，负责微博平台、PC微博大规模监控系统的建设，主要关注实时大数据、运维自动化、智能化方向，2014年加入微博，之前曾在新浪、搜狐等公司从事...","posterSummary":"微博平台监控技术负责人，负责微博平台、PC微博大规模监控系统的建设，主要关注实时大数据、运维自动化、智能化方向，2014年加入微博，之前曾在新浪、搜狐等公司从事运维监控方面的工作。","description":"","picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1682855\u002Fu8jqkzjgfx.jpeg","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1682855\u002Fu8jqkzjgfx.jpeg","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-07-06","author":"刘俊\u002F著  付睿\u002F编","nickName":"前沿技墅","userName":"gh_8d5fb8cd2b27","alias":"Edge-Book"},"authorId":1682855,"columnId":2605,"writeTime":0,"updateTime":0,"viewCount":460,"likeCount":4,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1682855,"name":"用户1682855","label":"","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1682855\u002Ffjfu1d50ae.png","province":"","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10539,10149,10244,10333,10184],"specialities":[],"gender":1,"trade":"","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-04-19 15:20:25","skipAds":false},"column":{"id":2605,"name":"前沿技墅","desc":"","icon":"https:\u002F\u002Fimgcache.qq.com\u002Fqcloud\u002Fdeveloper\u002Fimages\u002Frelease\u002Fcolumn-icons\u002F9.png","background":"","status":2,"creatorId":1682855,"memberCount":1,"articleCount":89,"followCount":32,"createdTime":1524122670}},{"id":1170906,"articleId":1170906,"title":"业界 | 京东金融与KDD2018：如何针对性解决城市计算痛点","content":"","plain":"","brief":"","summary":"作为会议的承办方，京东金融的城市计算事业部在会议上给出了一个主题演讲和两篇论文介绍，分享了京东进行城市计算的方法论，辅以众多实际案例。","abstract":"作为会议的承办方，京东金融的城市计算事业部在会议上给出了一个主题演讲和两篇论文介绍，分享了京东进行城市计算的方法论，辅以众多实际案例。","posterSummary":"","description":"","picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1754229\u002Fxvgq4dkgrd.jpeg","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1754229\u002Fxvgq4dkgrd.jpeg","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-07-25","author":"邱陆陆","nickName":"机器之心","userName":"gh_dbc0a5474692","alias":"almosthuman2014"},"authorId":1754229,"columnId":2713,"writeTime":0,"updateTime":0,"viewCount":147,"likeCount":0,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1754229,"name":"机器之心","label":"专业的人工智能媒体和产业服务平台","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1754229\u002F32embxnqwf.jpg","province":"","city":"","company":"","title":"全球人工智能信息服务","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10539,10333,10149,10332,10284],"specialities":[],"gender":1,"trade":"","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-04-27 18:00:31","skipAds":false},"column":{"id":2713,"name":"机器之心","desc":"","icon":"https:\u002F\u002Fask.qcloudimg.com\u002Fcolumn-icons\u002F2713\u002F1754229\u002Fmdjgzu6zfi.jpg","background":"","status":2,"creatorId":1754229,"memberCount":1,"articleCount":3768,"followCount":185,"createdTime":1524823372}},{"id":1171824,"articleId":1171824,"title":"浅论公有云市场商战","content":"","plain":"","brief":"","summary":"根据相关统计，2017年全球公有云市场达到1170亿美元，国内公有云也达到了577亿元人民币，虽然国内公有云市场规模还比较小，但增长是翻倍的增长。","abstract":"根据相关统计，2017年全球公有云市场达到1170亿美元，国内公有云也达到了577亿元人民币，虽然国内公有云市场规模还比较小，但增长是翻倍的增长。","posterSummary":"","description":"","picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1302819\u002Flqkjqmfr1x.jpeg","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1302819\u002Flqkjqmfr1x.jpeg","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-06-27","author":"harbor","nickName":"云计算D1net","userName":"gh_28db306fbead","alias":"D1Net02"},"authorId":1302819,"columnId":2103,"writeTime":0,"updateTime":0,"viewCount":281,"likeCount":0,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1302819,"name":"静一","label":"","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1302819\u002F2y0qy62zme.png","province":"","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10244,10649,10318,10539,10292],"specialities":[],"gender":1,"trade":"","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-01-31 11:33:29","skipAds":false},"column":{"id":2103,"name":"云计算D1net","desc":"","icon":"https:\u002F\u002Fimgcache.qq.com\u002Fqcloud\u002Fdeveloper\u002Fimages\u002Frelease\u002Fcolumn-icons\u002F5.png","background":"","status":2,"creatorId":1302819,"memberCount":1,"articleCount":1954,"followCount":98,"createdTime":1517911186}},{"id":1171814,"articleId":1171814,"title":"面试 Linux 运维工作至少需要知道哪些知识？","content":"","plain":"","brief":"","summary":"知乎上有这样一个问题：一个新手面试 Linux 运维工作至少需要知道哪些知识？其中有一个答案对这一话题的解读非常深入，今天特别分享给大家。","abstract":"知乎上有这样一个问题：一个新手面试 Linux 运维工作至少需要知道哪些知识？其中有一个答案对这一话题的解读非常深入，今天特别分享给大家。","posterSummary":"","description":"","picture":"","coverImageUrl":"","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-06-29","author":"","nickName":"马哥Linux运维","userName":"gh_904f08561055","alias":"magedu-Linux"},"authorId":1751832,"columnId":2708,"writeTime":0,"updateTime":0,"viewCount":331,"likeCount":0,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1751832,"name":"小小科","label":"","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Fcustom-avatar\u002F1751832\u002Fv8eezkecko.jpg","province":"","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10308,10169,10244,10539,10245],"specialities":[],"gender":1,"trade":"education","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-04-27 11:29:42","skipAds":false},"column":{"id":2708,"name":"北京马哥教育","desc":"","icon":"https:\u002F\u002Fask.qcloudimg.com\u002Fcolumn-icons\u002F2708\u002F1751832\u002Fxe8n1v95wo.jpg","background":"","status":2,"creatorId":1751832,"memberCount":2,"articleCount":1715,"followCount":158,"createdTime":1524800738}},{"id":1171609,"articleId":1171609,"title":"小程序 · 一周报","content":"","plain":"","brief":"","summary":"小游戏新增分包加载功能。运用分包功能后，小程序或小游戏代码包总上限可提升至 8M。建议开发者将每个分包做得尽可能小，以便提升用户的打开速度，优化服务体验。","abstract":"小游戏新增分包加载功能。运用分包功能后，小程序或小游戏代码包总上限可提升至 8M。建议开发者将每个分包做得尽可能小，以便提升用户的打开速度，优化服务体验。","posterSummary":"","description":"","picture":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1291439\u002Fgpbwfc2lcm.jpeg","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fhttp-save\u002Fyehe-1291439\u002Fgpbwfc2lcm.jpeg","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-06-19","author":"爱技术乐分享","nickName":"极乐技术社区","userName":"gh_623dc0d9c40d","alias":"wxapp-union"},"authorId":1291439,"columnId":2046,"writeTime":0,"updateTime":0,"viewCount":154,"likeCount":0,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1291439,"name":"极乐君","label":"小程序社区（http:\u002F\u002Fwww.wxapp-union.com）：开发者知识分享与技术交流平台","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Favatar\u002F1291439\u002Fdc3f1nu0ai.png","province":"","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10170,10151,10292,10541,10216],"specialities":[],"gender":1,"trade":"itcc","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-01-29 14:18:53","skipAds":false},"column":{"id":2046,"name":"极乐技术社区","desc":"","icon":"https:\u002F\u002Fask.qcloudimg.com\u002Fcolumn-icons\u002F2046\u002F1291439\u002Ft5efswynq6.jpg","background":"https:\u002F\u002Fimgcache.qq.com\u002Fqcloud\u002Fdeveloper\u002Fimages\u002Frelease\u002Fcolumn-bgs\u002F1.svg","status":2,"creatorId":1291439,"memberCount":1,"articleCount":181,"followCount":67,"createdTime":1517213324}},{"id":1171742,"articleId":1171742,"title":"Linux下的8个开源安全工具，再也不怕黑客啦","content":"","plain":"","brief":"","summary":"在计算机的发展史上，恶意软件和病毒攻击层出不穷。Linux的安全问题始终未能在大众范围里引起注意。但对于专业人士而言，Linux系统上的攻击虽然隐藏在水面之下，...","abstract":"在计算机的发展史上，恶意软件和病毒攻击层出不穷。Linux的安全问题始终未能在大众范围里引起注意。但对于专业人士而言，Linux系统上的攻击虽然隐藏在水面之下，...","posterSummary":"在计算机的发展史上，恶意软件和病毒攻击层出不穷。Linux的安全问题始终未能在大众范围里引起注意。但对于专业人士而言，Linux系统上的攻击虽然隐藏在水面之下，威胁却与日俱增。","description":"","picture":"","coverImageUrl":"","sourceType":1,"sourceDetail":{},"channelType":0,"channelDetail":{"source":"wechat","originalTime":"2018-06-21","author":"iyunv","nickName":"马哥Linux运维","userName":"gh_904f08561055","alias":"magedu-Linux"},"authorId":1751832,"columnId":2708,"writeTime":0,"updateTime":0,"viewCount":383,"likeCount":0,"commentCount":0,"favorCount":0,"weight":0,"status":2,"draftId":0,"tagIds":[],"tags":[],"isCommentEnable":true,"highQuality":false,"skipAds":false,"showAds":false,"author":{"id":1751832,"name":"小小科","label":"","avatar":"https:\u002F\u002Fask.qcloudimg.com\u002Fcustom-avatar\u002F1751832\u002Fv8eezkecko.jpg","province":"","city":"","company":"","title":"","school":"","major":"","homePage":"","region":1,"jobType":1,"graduationDate":"","education":0,"specialityIds":[10308,10169,10244,10539,10245],"specialities":[],"gender":1,"trade":"education","growthLevel":0,"isProfessionVerified":false,"status":1,"createTime":"2018-04-27 11:29:42","skipAds":false},"column":{"id":2708,"name":"北京马哥教育","desc":"","icon":"https:\u002F\u002Fask.qcloudimg.com\u002Fcolumn-icons\u002F2708\u002F1751832\u002Fxe8n1v95wo.jpg","background":"","status":2,"creatorId":1751832,"memberCount":2,"articleCount":1715,"followCount":158,"createdTime":1524800738}}],"anchorToCommentsArea":false,"isFromOriginalSharing":false,"isCampusAmabassdor":false,"hasColumnArticleRecommendRight":false,"moduleStoredKeyMap":{"mod-article-handpicked-special-topic":"COLUMN_article_handpicked_special_topic","mod-article-handpicked-activity":"COLUMN_article_handpicked_activity"},"moduleDataMap":{"mod-article-handpicked-special-topic":[{"id":"pRQeBt-T8","url":"https:\u002F\u002Fcloud.tencent.com\u002Fdeveloper\u002Fspecial\u002FSARS-CoV-2","title":"疫情分析专题","subTitle":"“清华-腾讯联合实验室\"专家解读疫情数字的规律和趋势，分析疫情发展","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fraw\u002Fyehe-1b54603d7b98\u002Fjqy6becsm0.jpg"}],"mod-article-handpicked-activity":[{"id":"es8bcjiiD","url":"https:\u002F\u002Fcloud.tencent.com\u002Fdeveloper\u002Fsupport-plan","title":"腾讯云自媒体分享计划","subTitle":"入驻云加社区，共享百万资源包。","btnText":"立即入驻","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fraw\u002Fyehe-1b54603d7b98\u002F8rzvh0nm9n.jpg"},{"id":"_2oAP_Fw6","url":"https:\u002F\u002Fcloud.tencent.com\u002Fdeveloper\u002Fsupport-plan-invitation","title":"邀请作者加入自媒体计划","subTitle":"每月最高可拿1800元无门槛代金券。","btnText":"了解更多","coverImageUrl":"https:\u002F\u002Fask.qcloudimg.com\u002Fraw\u002Fyehe-1b54603d7b98\u002Fl7paq6x0qv.jpg"}]},"developerSpreadBanner":{"id":0,"title":"","desc":"","buttonText":"立即抢购","spreadUrl":""},"env":"production","documentBaseTitle":"云+社区 - 腾讯云","cdnDomain":"imgcache.qq.com","cssDomain":"imgcache.qq.com","session":{"isLogined":false,"isQcloudUser":false,"isOwner":false,"nickname":"","accountInfoCompleted":false,"phoneCompleted":false,"profile":{}},"fromMiniProgram":false,"route":{"url":"\u002Fdeveloper\u002Farticle\u002F1180826","path":"\u002Fdeveloper\u002Farticle\u002F1180826","pathname":"\u002Fdeveloper\u002Farticle\u002F1180826","search":"","query":{},"segments":["developer","article","1180826"]}});
</script><script src="https://cloud.tencent.com/qccomponent/loader.js" async=""></script><script src="//imgcache.qq.com/qcloud/main/scripts/release/common/qcloudStatApi.js" async=""></script></body></html>