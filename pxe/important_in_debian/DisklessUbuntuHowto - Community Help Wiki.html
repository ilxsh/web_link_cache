<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="index,nofollow">

<title>DisklessUbuntuHowto - Community Help Wiki</title>
<script type="text/javascript" src="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "搜索";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/light/css/msie.css">
<![endif]-->


<link rel="alternate" title="Community Help Wiki: DisklessUbuntuHowto" href="https://help.ubuntu.com/community/DisklessUbuntuHowto?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=DisklessUbuntuHowto&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="https://help.ubuntu.com/community/CommunityHelpWiki">
<link rel="Alternate" title="维基标记" href="https://help.ubuntu.com/community/DisklessUbuntuHowto?action=raw">
<link rel="Alternate" media="print" title="打印视图" href="https://help.ubuntu.com/community/DisklessUbuntuHowto?action=print">
<link rel="Search" href="https://help.ubuntu.com/community/FindPage">
<link rel="Index" href="https://help.ubuntu.com/community/TitleIndex">
<link rel="Glossary" href="https://help.ubuntu.com/community/WordIndex">
<link rel="Help" href="https://help.ubuntu.com/community/HelpOnFormatting">
</head>

<body dir="ltr" lang="zh">


    <div id="leftbanner">
    </div>
    <div id="rightbanner">
    </div>
    <div id="container">
        <div id="container-inner">
	    <div id="mothership">
		<ul>
	            <li><a href="https://partners.ubuntu.com/">Partners</a> </li>
        	    <li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
        	    <li><a href="https://community.ubuntu.com/">Community</a></li>
        	    <li><a href="https://www.ubuntu.com/">Ubuntu.com</a></li>
	        </ul>
	    </div>
            <div id="header">
                <h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
                <ul id="main-menu">
                    <li><a href="https://help.ubuntu.com/">Official Documentation</a></li>
                    <li><a class="main-menu-item current" href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
                    <li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
                </ul>
            </div>
            <div id="menu-search">
                <div id="subheader"> 
                    <div class="subheader-menu"> 
                        <div id="second-nav">
<ul id="username"><li><a class="nbinfo" href="https://help.ubuntu.com/community/DisklessUbuntuHowto?action=info" rel="nofollow">Page History</a></li><li><a href="https://help.ubuntu.com/community/DisklessUbuntuHowto?action=login&amp;login=1" id="login" rel="nofollow">Login to edit</a></li></ul>
 </div> 
    <div id="user-info"> 
    </div>
 

                            
                        </div> 
                    </div> 


                    <div id="search-box">

<noscript>
 <form action="http://www.google.com/cse" id="cse-search-box">
   <div>
     <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq" />
     <input type="hidden" name="ie" value="UTF-8" />
     <input type="text" name="q" size="21" />
     <input type="submit" name="sa" value="Search" />
   </div>
 </form>
</noscript>

<script>
 document.write('<form action="https://help.ubuntu.com/search.html" id="cse-search-box">');
 document.write('  <div>');
 document.write('    <input type="hidden" name="cof" value="FORID:9" />');
 document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq" />');
 document.write('    <input type="hidden" name="ie" value="UTF-8" />');
 document.write('    <input type="text" name="q" size="21" />');
 document.write('    <input type="submit" name="sa" value="Search" />');
 document.write('  </div>');
 document.write('</form>');
</script><form action="https://help.ubuntu.com/search.html" id="cse-search-box">  <div>    <input type="hidden" name="cof" value="FORID:9">    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">    <input type="hidden" name="ie" value="UTF-8">    <input type="text" name="q" size="21">    <input type="submit" name="sa" value="Search">  </div></form>


                    </div>
                </div>
                <div id="title"><h1>
<span id="pagelocation"><a href="https://help.ubuntu.com/community/DisklessUbuntuHowto">DisklessUbuntuHowto</a></span>
</h1>
                </div>
            <div id="cwt-nav3">

 <hr class="clear">
            </div>
                <div id="cwt-content" class="clearfix content-area">

<div id="page" dir="ltr" lang="en">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><div><table style="float:right;  font-size: 0.9em;  width:30%;  background:#F1F1ED;  margin: 0 0 1em 1em;"><tbody><tr>  <td style="padding:0.5em;"><p class="line891"></p><div class="table-of-contents"><p class="table-of-contents-heading">目录</p><ol><li>
<a href="#What_is_diskless_booting.3F">What is diskless booting?</a></li><li>
<a href="#Why_do_it.3F">Why do it?</a></li><li>
<a href="#How_is_this_different_than_ThinClientHowto.3F">How is this different than ThinClientHowto?</a></li><li>
<a href="#How_does_it_work.3F">How does it work?</a></li><li>
<a href="#Requirements">Requirements</a></li><li>
<a href="#Getting_Started">Getting Started</a><ol><li>
<a href="#Naming_Conventions">Naming Conventions</a></li><li>
<a href="#Set_up_your_Server">Set up your Server</a></li><li>
<a href="#Creating_your_NFS_installation">Creating your NFS installation</a></li><li>
<a href="#Alternative_to_the_above_method">Alternative to the above method</a></li><li>
<a href="#Setup_your_client">Setup your client</a></li></ol></li><li>
<a href="#Now_What.3F">Now What?</a><ol><li>
<a href="#Adding_a_swap_file">Adding a swap file</a></li></ol></li><li>
<a href="#Static_IP">Static IP</a></li><li>
<a href="#Gotchas">Gotchas</a></li><li>
<a href="#Status">Status</a></li><li>
<a href="#Credits">Credits</a></li></ol></div></td>
</tr>
</tbody></table></div><span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line867">
</p><h1 id="What_is_diskless_booting.3F">What is diskless booting?</h1>
<span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line874">Diskless
 booting is using a remote system or systems to store the kernel and the
 filesystem that will be used on other computer(s). <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></p><p class="line867">
</p><h1 id="Why_do_it.3F">Why do it?</h1>
<span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line862">Imagine
 my case I admin about 25 public workstations for a local library, if 
they want something changed across the board I can either go sit at each
 PC and spend X minutes on it, adding up to who knows how many hours, <em>or</em>
 I can simply make the change at any one of the 25 systems and have it 
affect every system equally. The same goes for updates and many other 
operations. It really eases support issues. <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span></p><p class="line867">
</p><h1 id="How_is_this_different_than_ThinClientHowto.3F">How is this different than ThinClientHowto?</h1>
<span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><p class="line874">Thin
 clients use some of the same principles but they also connect to a 
remote X session, which means everything runs on the remote server - all
 applications will consume the servers resources, such as RAM and CPU 
cycles. <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span></p><p class="line874">Diskless
 Booting simply uses the remote server for storage and still runs all 
applications on the local client station. This works better if you have 
full powered PC's to work with, and are working with a large number of 
clients that would require too much CPU and RAM to run all their 
applications on one server. <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></p><p class="line874">It
 is different enough to have multiple machines mounting the same root 
filesystem as opposed to simply being a remote monitor and keyboard to 
warrant a separate how-to I think. <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></p><p class="line862">Oliver Grawert says :- <em>you
 could have achieved this easier by following the thin client howto, 
remove the ltsp-client package from the chroot and install 
ubuntu-desktop (or whatever desktop you want) there, would save you a 
lot of configuration work ;)</em> <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span></p><p class="line867">
</p><h1 id="How_does_it_work.3F">How does it work?</h1>
<span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line862">There are a lot of parallels to <a href="https://help.ubuntu.com/community/ThinClientHowto">ThinClientHowto</a>,
 diskless booting requires a DHCP server which a bootable PXE network 
card will query to get its configuration and location of the file to 
tftp from the server, after booting the PXE image the client will tftp 
and boot the kernel image(with args specified in the pxe config), those 
args will tell the kernel how to configure itself, and the path to mount
 the NFS share where its / directory is located. <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span></p><p class="line867">
</p><h1 id="Requirements">Requirements</h1>
<span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><ul><li>An Ubuntu system with (preferably) nfs-kernel-server and tftpd server (the server) <span class="anchor" id="line-32"></span></li><li>At least one PXE-bootable system (the client) <span class="anchor" id="line-33"></span></li><li>It helps to have the client set up in its final configuration before you start <span class="anchor" id="line-34"></span></li><li>Enough disk space on the server to hold the client filesystem <span class="anchor" id="line-35"></span></li><li>A fast network connection between the client and the server <span class="anchor" id="line-36"></span></li><li>A
 DHCP server which is capable of supporting PXE clients, or a separate 
network segment where you can run a dedicated DHCP server <span class="anchor" id="line-37"></span></li><li>A good understanding of Linux <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></li></ul><p class="line867">
</p><h1 id="Getting_Started">Getting Started</h1>
<span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><p class="line867">
</p><h2 id="Naming_Conventions">Naming Conventions</h2>
<span class="anchor" id="line-42"></span><p class="line874">Client: A diskless system that you wish to boot via a network connection <span class="anchor" id="line-43"></span><br>
Server: An always-on system which will provide the neccesary files to allow the client to boot over the network <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span></p><p class="line867">
</p><h2 id="Set_up_your_Server">Set up your Server</h2>
<span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><ol type="1"><li>Install the required packages <span class="anchor" id="line-48"></span><ol type="1"><li>Ubuntu 14.04 <span class="anchor" id="line-49"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><pre><span class="anchor" id="line-1"></span>sudo apt-get install isc-dhcp-server tftpd-hpa syslinux nfs-kernel-server initramfs-tools</pre><span class="anchor" id="line-52"></span></li></ul></li><li>Ubuntu 14.10 and after <span class="anchor" id="line-53"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><pre><span class="anchor" id="line-1-1"></span>sudo apt-get install isc-dhcp-server tftpd-hpa syslinux pxelinux nfs-kernel-server initramfs-tools</pre><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></li></ul></li></ol></li><li class="gap">Configure your DHCP server  <span class="anchor" id="line-58"></span><p class="line891"><br>
You need to set up the DHCP server to offer /tftpboot/pxelinux.0 as a 
boot file as a minimum.   You also assign a fixed IP to the machine you 
want to boot with PXE (the client).  A range of other options are also 
available but are beyond the scope of this article.  Your 
/etc/dhcp/dhcpd.conf might look like this assuming your subnet is 
192.168.2.0 <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span></p><pre><span class="anchor" id="line-1-2"></span>allow booting;
<span class="anchor" id="line-2"></span>allow bootp;
<span class="anchor" id="line-3"></span>
<span class="anchor" id="line-4"></span>subnet 192.168.2.0 netmask 255.255.255.0 {
<span class="anchor" id="line-5"></span>  range 192.168.2.xxx 192.168.2.xxx;
<span class="anchor" id="line-6"></span>  option broadcast-address 192.168.2.255;
<span class="anchor" id="line-7"></span>  option routers 192.168.2.xxx;
<span class="anchor" id="line-8"></span>  option domain-name-servers 192.168.2.xxx;
<span class="anchor" id="line-9"></span>
<span class="anchor" id="line-10"></span>  filename "/pxelinux.0";
<span class="anchor" id="line-11"></span>}
<span class="anchor" id="line-12"></span>
<span class="anchor" id="line-13"></span># force the client to this ip for pxe.
<span class="anchor" id="line-14"></span># This is only necessary assuming you want to send different images to different computers.
<span class="anchor" id="line-15"></span>host pxe_client {
<span class="anchor" id="line-16"></span>  hardware ethernet xx:xx:xx:xx:xx:xx;
<span class="anchor" id="line-17"></span>  fixed-address 192.168.2.xxx;
<span class="anchor" id="line-18"></span>}</pre><span class="anchor" id="line-80"></span><p class="line891"><strong>NOTE 1:</strong> You will need to replace the 'xx:xx:xx:xx:xx:xx' and the '192.168.2.xxx' with your own values <span class="anchor" id="line-81"></span><br>
<strong>NOTE 2:</strong> the filename is a <em>relative</em> path to the root of the tftp server. <span class="anchor" id="line-82"></span><br>
<br>
Restart DHCP Server using the command <span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span></p><pre><span class="anchor" id="line-1-3"></span>sudo service isc-dhcp-server restart</pre><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span></li><li class="gap">Configure the TFTP Server <span class="anchor" id="line-88"></span><p class="line891"><br>
We need to set tftp-hpa to run in daemon mode and to use /tftpboot as its root directory. <span class="anchor" id="line-89"></span><br>
Here is an example /etc/default/tftpd-hpa file <span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span></p><pre><span class="anchor" id="line-1-4"></span>#Defaults for tftpd-hpa
<span class="anchor" id="line-2-1"></span>RUN_DAEMON="yes"
<span class="anchor" id="line-3-1"></span>OPTIONS="-l -s /tftpboot"</pre><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span></li><li class="gap">Configure your tftp root directory <span class="anchor" id="line-98"></span><ol type="a"><li>Create directories <span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><pre><span class="anchor" id="line-1-5"></span>sudo mkdir -p /tftpboot/pxelinux.cfg</pre><span class="anchor" id="line-102"></span></li><li>Copy across bootfile <span class="anchor" id="line-103"></span><ol type="a"><li>Ubuntu 14.04: <span class="anchor" id="line-104"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><pre><span class="anchor" id="line-1-6"></span>sudo cp /usr/lib/syslinux/pxelinux.0 /tftpboot</pre><span class="anchor" id="line-107"></span></li></ul></li><li>Ubuntu 14.10 and after: <span class="anchor" id="line-108"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><pre><span class="anchor" id="line-1-7"></span>sudo cp /usr/lib/PXELINUX/pxelinux.0 /tftpboot
<span class="anchor" id="line-2-2"></span>sudo mkdir -p /tftpboot/boot
<span class="anchor" id="line-3-2"></span>sudo cp -r /usr/lib/syslinux/modules/bios /tftpboot/boot/isolinux</pre><span class="anchor" id="line-113"></span></li></ul></li></ol></li><li>Create default configuration file /tftpboot/pxelinux.cfg/default <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><pre><span class="anchor" id="line-1-8"></span>LABEL linux
<span class="anchor" id="line-2-3"></span>KERNEL vmlinuz-2.6.15-23-686
<span class="anchor" id="line-3-3"></span>APPEND root=/dev/nfs initrd=initrd.img-2.6.15-23-686 nfsroot=192.168.2.2:/nfsroot ip=dhcp rw</pre><span class="anchor" id="line-119"></span><p class="line891"><strong>NOTE1:</strong>
 your nfs server IP address, kernel name, and initrd name will likely be
 different.  If you have a preconfigured system the names should be the 
names of the kernel and initrd (see below) on the client system <span class="anchor" id="line-120"></span><br>
<strong>NOTE2:</strong> to find the vmlinuz type <tt>uname&nbsp;-r</tt> <span class="anchor" id="line-121"></span><br>
<strong>NOTE3:</strong> There are more options available such as MAC or 
IP identification for multiple config files see syslinux/pxelinux 
documentation for help. <span class="anchor" id="line-122"></span><br>
<strong>NOTE4:</strong> Newer distributions might require that you 
append ",rw" to the end of the "nfsroot=" specification, to prevent a 
race in the Upstart version of the statd and portmap scripts. <span class="anchor" id="line-123"></span></p></li><li>Set permissions <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><pre><span class="anchor" id="line-1-9"></span>sudo chmod -R 777 /tftpboot</pre><span class="anchor" id="line-127"></span><p class="line891"><strong>NOTE:</strong>If the files do not have the correct permissions you will receive a "File Not Found" or "Permission Denied" error. <span class="anchor" id="line-128"></span></p></li><li>Start the tftp-hpa service: <span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><pre><span class="anchor" id="line-1-10"></span>sudo /etc/init.d/tftpd-hpa start</pre><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span></li></ol></li><li class="gap">Configure OS root <span class="anchor" id="line-134"></span><ol type="a"><li>Create a directory to hold the OS files for the client <span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><pre><span class="anchor" id="line-1-11"></span>sudo mkdir /nfsroot</pre><span class="anchor" id="line-138"></span></li><li>configure your /etc/exports to export your /nfsroot <span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><pre><span class="anchor" id="line-1-12"></span>/nfsroot             192.168.2.xxx(rw,no_root_squash,async,insecure)</pre><span class="anchor" id="line-142"></span><p class="line891"><strong>NOTE:</strong>
 The '192.168.2.xxx' should be replaced with either the client IP or 
hostname for single installations, or wildcards to match the set of 
servers you are using.    <span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span></p><p class="line891"><strong>Note:</strong> In versions prior to Ubuntu 11.04 the option ',insecure' is not required after async. <span class="anchor" id="line-145"></span></p></li><li>sync your exports <span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><pre><span class="anchor" id="line-1-13"></span>sudo exportfs -rv</pre><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span></li></ol></li></ol><p class="line867">
</p><h2 id="Creating_your_NFS_installation">Creating your NFS installation</h2>
<span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><p class="line874">There are a few ways you can go about this: <span class="anchor" id="line-153"></span></p><ul><li><p class="line862">debbootstrap (as outlined at <a href="https://help.ubuntu.com/community/Installation/OnNFSDrive">Installation/OnNFSDrive</a>) <span class="anchor" id="line-154"></span></p></li><li>copying the install from your server <span class="anchor" id="line-155"></span></li><li>install
 [lk]ubuntu on the client from CD, after you've got your system 
installed and working on the network mount the /nfsroot and copy 
everything from your working system to it. <span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span></li></ul><p class="line874">This
 tutorial will focus on the last option.  The commands in this section 
should be carried out on the client machine unless it is explicitly 
noted otherwise.  You should ensure that the following package is 
installed on the client <span class="anchor" id="line-158"></span><tt>nfs-common</tt> <span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span></p><ol type="1"><li>Copy current kernel version to your home directory. <span class="anchor" id="line-161"></span><ul><li style="list-style-type:none"><p class="line891"><br>
uname -r will print your kernel version, and ~ is shorthand for your home directory. <span class="anchor" id="line-162"></span></p></li></ul><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><pre><span class="anchor" id="line-1-14"></span>sudo cp /boot/vmlinuz-`uname -r` ~</pre><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span></li><li class="gap">Create an initrd.img file <span class="anchor" id="line-167"></span><ol type="a"><li><p class="line862">Change the BOOT flag to <em>nfs</em> in /etc/initramfs-tools/initramfs.conf <span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span></p><pre><span class="anchor" id="line-1-15"></span>#
<span class="anchor" id="line-2-4"></span># BOOT: [ local | nfs ]
<span class="anchor" id="line-3-4"></span>#
<span class="anchor" id="line-4-1"></span># local - Boot off of local media (harddrive, USB stick).
<span class="anchor" id="line-5-1"></span>#
<span class="anchor" id="line-6-1"></span># nfs - Boot using an NFS drive as the root of the drive.
<span class="anchor" id="line-7-1"></span>#
<span class="anchor" id="line-8-1"></span>
<span class="anchor" id="line-9-1"></span>BOOT=nfs</pre><span class="anchor" id="line-179"></span></li><li><p class="line862">Change the MODULES flag to <em>netboot</em> in /etc/initramfs-tools/initramfs.conf <span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span></p><pre><span class="anchor" id="line-1-16"></span>#
<span class="anchor" id="line-2-5"></span># MODULES: [ most | netboot | dep | list ]
<span class="anchor" id="line-3-5"></span>#
<span class="anchor" id="line-4-2"></span># most - Add all framebuffer, acpi, filesystem, and harddrive drivers.
<span class="anchor" id="line-5-2"></span>#
<span class="anchor" id="line-6-2"></span># dep - Try and guess which modules to load.
<span class="anchor" id="line-7-2"></span>#
<span class="anchor" id="line-8-2"></span># netboot - Add the base modules, network modules, but skip block devices.
<span class="anchor" id="line-9-2"></span>#
<span class="anchor" id="line-10-1"></span># list - Only include modules from the 'additional modules' list
<span class="anchor" id="line-11-1"></span>#
<span class="anchor" id="line-12-1"></span>
<span class="anchor" id="line-13-1"></span>MODULES=netboot</pre><span class="anchor" id="line-195"></span><p class="line891"><strong>NOTE:</strong> if you have anything in /etc/initramfs-tools/conf.d/driver-policy, this line will be ignored. <span class="anchor" id="line-196"></span></p></li><li>Check
 which modules you will need for your network adapters and put their 
names into /etc/initramfs-tools/modules (for example forcedeth , r8169 
or tulip) <span class="anchor" id="line-197"></span></li><li>Run mkinitramfs <span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><pre><span class="anchor" id="line-1-17"></span>mkinitramfs -o ~/initrd.img-`uname -r`</pre><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span></li></ol></li><li class="gap">Copy OS files to the server <span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><pre><span class="anchor" id="line-1-18"></span>mount -t nfs -onolock 192.168.1.2:/nfsroot /mnt
<span class="anchor" id="line-2-6"></span>cp -ax /. /mnt/.
<span class="anchor" id="line-3-6"></span>cp -ax /dev/. /mnt/dev/.</pre><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><p class="line891"><strong>NOTE:</strong>
 If the client source installation you copied the files from should 
remain bootable and usable from local hard disk, restore the former 
BOOT=local and MODULES=most options you changed in 
/etc/initramfs-tools/initramfs.conf. Otherwise, the first time you 
update the kernel image on the originating installation, the initram 
will be built for network boot, giving you "can't open 
/tmp/net-eth0.conf" and "kernel panic". Skip this step if you no longer 
need the source client installation. <span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span></p></li><li class="gap">Copy kernel and initrd to tftp root. <span class="anchor" id="line-212"></span><p class="line891"><br>
Run these commands <em><strong>ON THE SERVER</strong></em> <span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span></p><pre><span class="anchor" id="line-1-19"></span>sudo cp ~/vmlinuz-`uname -r` /tftpboot/
<span class="anchor" id="line-2-7"></span>sudo cp ~/initrd.img-`uname -r` /tftpboot/</pre><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span></li><li class="gap">Modify /nfsroot/etc/network/interfaces <span class="anchor" id="line-219"></span><p class="line891"><br>
When booting over the network, the client will already have carried out a
 DHCP discovery before the OS is reached.  For this reason you should 
ensure the OS does not try to reconfigure the interface later.   <span class="anchor" id="line-220"></span><br>
You should set your network interface to be "manual" not "auto" or "dhcp".  Below is an example file. <span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span></p><pre><span class="anchor" id="line-1-20"></span># This file describes the network interfaces available on your system
<span class="anchor" id="line-2-8"></span># and how to activate them. For more information, see interfaces(5).
<span class="anchor" id="line-3-7"></span>
<span class="anchor" id="line-4-3"></span># The loopback network interface
<span class="anchor" id="line-5-3"></span>auto lo
<span class="anchor" id="line-6-3"></span>iface lo inet loopback
<span class="anchor" id="line-7-3"></span>
<span class="anchor" id="line-8-3"></span># The primary network interface, commented out for NFS root
<span class="anchor" id="line-9-3"></span>#auto eth0
<span class="anchor" id="line-10-2"></span>#iface eth0 inet dhcp
<span class="anchor" id="line-11-2"></span>iface eth0 inet manual</pre><span class="anchor" id="line-234"></span><p class="line891"><strong>NOTE:</strong> For Ubuntu 7.04 (Feisty Fawn) it seems the /etc/network/interfaces needs a little tweak, in order *not* to have the <a href="https://help.ubuntu.com/community/NetworkManager">NetworkManager</a>
 fiddle with the interface since it's already configured (see also bug 
#111227 : "NFS-root support indirectly broken in Feisty") <span class="anchor" id="line-235"></span><br>
<strong>NOTE:</strong> If you use dnsmasq for your boot client (instead 
of dhcp), you will need to provide nameserver(s) information in 
/etc/resolvconf/resolv.conf.d/base. For instance,<br>
nameserver 192.168.0.xxx (You will need to replace the '192.168.0.xxx' with your own values.) <span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span></p></li><li class="gap">Configure fstab <span class="anchor" id="line-238"></span><p class="line891"><br>
/nfsroot/etc/fstab contains the information the client will use to mount
 file systems on boot, edit it to ensure it looks something like this 
('note no swap') <span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span></p><pre><span class="anchor" id="line-1-21"></span># /etc/fstab: static file system information.
<span class="anchor" id="line-2-9"></span>#
<span class="anchor" id="line-3-8"></span># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
<span class="anchor" id="line-4-4"></span>proc            /proc           proc    defaults        0       0
<span class="anchor" id="line-5-4"></span>/dev/nfs       /               nfs    defaults          1       1
<span class="anchor" id="line-6-4"></span>none            /tmp            tmpfs   defaults        0       0
<span class="anchor" id="line-7-4"></span>none            /var/run        tmpfs   defaults        0       0
<span class="anchor" id="line-8-4"></span>none            /var/lock       tmpfs   defaults        0       0
<span class="anchor" id="line-9-4"></span>none            /var/tmp        tmpfs   defaults        0       0
<span class="anchor" id="line-10-3"></span>/dev/hdc        /media/cdrom0   udf,iso9660 user,noauto 0       0</pre><span class="anchor" id="line-251"></span><p class="line891"><strong>NOTE:</strong> if you have entries for other tmpfs that's fine to leave them in there <span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span></p></li><li class="gap">Disable Grub update <span class="anchor" id="line-254"></span><p class="line891"><br>
Since diskless systems don't need grub to boot, disable update scripts 
to prevent glitches during further software updates. Comment out <tt>exec&nbsp;update-grub</tt> in <tt>/etc/kernel/postinst.d/zz-update-grub</tt> <span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span></p></li></ol><p class="line867">
</p><h2 id="Alternative_to_the_above_method">Alternative to the above method</h2>
<span class="anchor" id="line-257"></span><p class="line874">An 
alternative to parts 1, 2, 3 and 4 exists, if you are copying your 
nfsroot to the same server as your tftp server.  To use the alternative,
 do not copy your vmlinux-2.#.#-#-generic file to your home directory.  
Do part 2(a) and then do <span class="anchor" id="line-258"></span><tt>sudo&nbsp;mkinitramfs&nbsp;-o&nbsp;/boot/initrd.img-X</tt> <span class="anchor" id="line-259"></span>where of course X is your kernel version ('2.6.20-16-generic' from the mkinitramfs example shown above). <span class="anchor" id="line-260"></span>Do part 3. <span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span></p><p class="line874">On The Server <span class="anchor" id="line-263"></span>Instead
 of copying your kernel and initrd into the tftp folder as suggested in 
part 4, cd into the boot folder in the root of the machine that your 
just copied over in part 3.  If you followed part 3 exactly, this will 
be in /nfsroot/boot/.  Create a symlink called 'vmlinuz' what points to 
your current kernel version in that same directory.  Create another 
symlink called 'initrd.img' that points to the initrd.img that your are 
currently using (same version as your kernel).  Create one more symlink 
called 'config' that points to the config your using.  You will likely 
need to create these symlinks with sudo.  They will help keep your tftp 
configuration simple and can help ease system upgrades, all you have to 
do is upgrade the 'vmlinuz', 'initrd.img', and 'config' symlinks to 
point to the new files. <span class="anchor" id="line-264"></span>cd into your tftp directory, and create symlinks <img alt="Info (!)" src="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/icon_cool.png" title="Info (!)" width="16" height="16"> <img alt="(1)" src="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/prio1.png" title="(1)" width="16" height="16">
 to the 'vmlinuz', 'initrd.img', and 'config' symlinks you just created.
  If you will be doing this for more than one machine, you may want to 
add the name of the machine to the symlink in this directory so that you
 can tell them apart. <span class="anchor" id="line-265"></span>From 
here, continue at part 5 of the above instructions.  When you finish the
 from part 5 onward of the above instructions you should have a booting 
machine in the same state as you would had you followed them from part 1
 onwards. <span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span></p><p class="line867"><img alt="Info (!)" src="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/icon_cool.png" title="Info (!)" width="16" height="16"> <img alt="(1)" src="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/prio1.png" title="(1)" width="16" height="16">
 - Remember that it will not work if creating symlink out of chroot. 
Symlink won't work if you keep the default -s (--secure) option from 
tftpd, which actually does chroot. You have to do something else to make
 those files (vmlinuz,initrd.img,config) visible, for example when you 
use different filesystem for storing nfsroot: mount -o bind 
/mnt/nfsroot/boot /tftpboot/ubuntuboot , then add relative path 
'./ubuntuboot' to KERNEL file definition <span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span></p><p class="line867">
</p><h2 id="Setup_your_client">Setup your client</h2>
<span class="anchor" id="line-272"></span><p class="line874">Enter your BIOS settings and configure your system to boot from LAN <span class="anchor" id="line-273"></span></p><ul><li style="list-style-type:none"><p class="line891"><em>If you have options for different LAN boot methods choose PXE</em> <span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span></p></li></ul><p class="line867">
</p><h1 id="Now_What.3F">Now What?</h1>
<span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><p class="line862">Reboot
 your client PC it should get its net config from the DHCP server, 
download the pxelinux image, download and boot the kernel, mount your 
root fs and continue to boot just as if it were using its internal HD, 
only now you can yank that HD out and use it for something else, that 
machine doesn't need it any more <img alt="Smile :)" src="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/icon_smile.png" title="Smile :)" width="16" height="16"> <span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span></p><p class="line867">
</p><h2 id="Adding_a_swap_file">Adding a swap file</h2>
<span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><p class="line874">In case you do need or want to set up a swapfile, here's what I did to get one working: <span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span></p><pre><span class="anchor" id="line-1-22"></span>sudo apt-get install dphys-swapfile</pre><span class="anchor" id="line-285"></span><p class="line874">this
 package sets up a swap file at /var/swap that is 2x your current ram.  
however, it still doesn't setup the swapfile on its own, though it does 
try.  to get the swap file working the rest of the way, do: <span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span></p><pre><span class="anchor" id="line-1-23"></span>sudo losetup /dev/loop0 /var/swap
<span class="anchor" id="line-2-10"></span>sudo swapon /dev/loop0</pre><span class="anchor" id="line-290"></span><p class="line874">then,
 run top and you will see you have a swap file.  however, put in as much
 ram as you need for what you are going to run, and just look at your 
swap file as "in case of emergency", because it is not efficient as a 
ram or a regular swap file, but should keep something from crashing.  <span class="anchor" id="line-291"></span>I'm
 running mythtv on top of a full feisty desktop, and tried it with 256mb
 ram, and myth-frontend would crash when i would try to bring it up.  
with the swap file, it would launch, but would take a while.  i added an
 additional 256mb to bring the total to 512mb and it runs flawless, and i
 add the swap file just in case.  i just make a script for it to set up 
the swap file at boot.   <span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span></p><p class="line867">
</p><h1 id="Static_IP">Static IP</h1>
<span class="anchor" id="line-294"></span><p class="line874">As described in #175324 ipconfig have problems with DHCP relays. Static IP is configured by parameter: <span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span></p><pre><span class="anchor" id="line-1-24"></span>ip=&lt;client-ip&gt;:&lt;server-ip&gt;:&lt;gw-ip&gt;:&lt;netmask&gt;:&lt;hostname&gt;:&lt;device&gt;:&lt;autoconf&gt;</pre><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span><ul><li style="list-style-type:none"><p class="line891">&lt;client-ip&gt;   IP address of the client. If empty, the address will <span class="anchor" id="line-300"></span></p><ul><li style="list-style-type:none">either be determined by RARP/BOOTP/DHCP. What protocol <span class="anchor" id="line-301"></span><p class="line862">is used de- pends on the &lt;autoconf&gt; parameter. If this <span class="anchor" id="line-302"></span>parameter is not empty, autoconf will be used. <span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span></p></li></ul><p class="line891">&lt;server-ip&gt;   IP address of the NFS server. If RARP is used to <span class="anchor" id="line-305"></span></p><ul><li style="list-style-type:none">determine the client address and this parameter is NOT <span class="anchor" id="line-306"></span>empty only replies from the specified server are <span class="anchor" id="line-307"></span>accepted. To use different RARP and NFS server, <span class="anchor" id="line-308"></span>specify your RARP server here (or leave it blank), and <span class="anchor" id="line-309"></span>specify your NFS server in the `nfsroot' parameter <span class="anchor" id="line-310"></span>(see above). If this entry is blank the address of the <span class="anchor" id="line-311"></span>server is used which answered the RARP/BOOTP/DHCP <span class="anchor" id="line-312"></span>request. <span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span></li></ul><p class="line891">&lt;gw-ip&gt;       IP address of a gateway if the server is on a different <span class="anchor" id="line-315"></span></p><ul><li style="list-style-type:none">subnet. If this entry is empty no gateway is used and the <span class="anchor" id="line-316"></span>server is assumed to be on the local network, unless a <span class="anchor" id="line-317"></span>value has been received by BOOTP/DHCP. <span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span></li></ul><p class="line891">&lt;netmask&gt;     Netmask for local network interface. If this is empty, <span class="anchor" id="line-320"></span></p><ul><li style="list-style-type:none">the netmask is derived from the client IP address assuming <span class="anchor" id="line-321"></span>classful addressing, unless overridden in BOOTP/DHCP reply. <span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span></li></ul><p class="line891">&lt;hostname&gt;    Name of the client. If empty, the client IP address is <span class="anchor" id="line-324"></span></p><ul><li style="list-style-type:none">used in ASCII notation, or the value received by <span class="anchor" id="line-325"></span>BOOTP/DHCP. <span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span></li></ul><p class="line891">&lt;device&gt;      Name of network device to use. If this is empty, all <span class="anchor" id="line-328"></span></p><ul><li style="list-style-type:none">devices are used for RARP/BOOTP/DHCP requests, and the <span class="anchor" id="line-329"></span>first one we receive a reply on is configured. If you <span class="anchor" id="line-330"></span>have only one device, you can safely leave this blank. <span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span></li></ul><p class="line891">&lt;autoconf&gt;    Method to use for autoconfiguration. If this is either <span class="anchor" id="line-333"></span></p><ul><li style="list-style-type:none">'rarp', 'bootp', or 'dhcp' the specified protocol is <span class="anchor" id="line-334"></span>used.  If the value is 'both', 'all' or empty, all <span class="anchor" id="line-335"></span>protocols are used.  'off', 'static' or 'none' means <span class="anchor" id="line-336"></span>no autoconfiguration. <span class="anchor" id="line-337"></span><span class="anchor" id="line-338"></span><span class="anchor" id="line-339"></span></li></ul></li></ul><p class="line867">
</p><h1 id="Gotchas">Gotchas</h1>
<span class="anchor" id="line-340"></span><ul><li>This does not work for
 a PXE server running 10.04.1 LTS, nor does it work for clients trying 
to run 10.04.1 LTS. The client receives an offer from DHCP, gets the 
kernel, and fails while trying to load. <span class="anchor" id="line-341"></span><p class="line891"><img alt="Info (!)" src="DisklessUbuntuHowto%20-%20Community%20Help%20Wiki_files/icon_cool.png" title="Info (!)" width="16" height="16"> <strong>NOTE</strong>:
 It WILL work if you add required module names in 
/etc/initramfs-tools/modules (module names for your network adapters, 
like forcedeth or tulip) <span class="anchor" id="line-342"></span></p></li><li>Remember
 to use -o nolock when first mounting your NFS or have portmapper 
running or you'll end up with a long (nearly 2 min) hang mounting the 
remote NFS.  You may also be able to get around this by mounting your 
nfsroot in read/write mode off the bat, by adding ",rw" to the 
"nfsroot=" option on the kernel command line. <span class="anchor" id="line-343"></span></li><li><p class="line862">If
 you are going to have multiple systems share this root you need to make
 sure some directories like /var/run, /var/lock and /tmp are mounted in 
tmpfs so different systems won't be conflicting into each other. <strong>NOTE:</strong> it is not required on Ubuntu 15.04+ though, /var/run and /var/lock are already mounted using tmpfs. <span class="anchor" id="line-344"></span></p><ul><li>You
 probably also want to mount /media in tmpfs space if you don't want 
every workstation having access to every other workstations storage 
media. <span class="anchor" id="line-345"></span></li></ul></li><li>Think of things in cron like slocate - do you really want 25 computers trying to updatedb at 4AM all on the same HD? <span class="anchor" id="line-346"></span></li><li>Don't forget graphics drivers, conflicts can arise if your machines use varying graphics cards. <span class="anchor" id="line-347"></span></li><li>Do
 you really want all of the machines trying to append to the same log 
file?  Maybe have each machine send their logs to a central log server, 
or mount the log directories over NFS.   <span class="anchor" id="line-348"></span></li><li>With
 this setup under 8.10 to get any NFS directories to mount in the fstab 
on boot, you need to add ASYNCMOUNTNFS=no to /etc/default/rcS (because 
otherwise /etc/init.d/mountnfs.sh expects /etc/network/ifup.d/ scripts 
to take care of it (which don't run for manual interfaces)) <span class="anchor" id="line-349"></span></li><li><p class="line862">If you intend to use AutoFS to automatically mount/unmount directories on a diskless system, you may run into this <a class="https" href="https://bugs.launchpad.net/ubuntu/+source/autofs/+bug/226219">small bump in the road</a>.  There is a one-liner fix in the autofs init.d script to get you going again. <span class="anchor" id="line-350"></span></p></li><li><p class="line862">If you are performing upgrades on your diskless client and run into <a class="http" href="http://jeffwelling.github.com//2011/08/29/Diskless-Upgrade-Problem.html">these problems</a>, you can fix them by commenting out one line in a config file, as outlined on the same page. <span class="anchor" id="line-351"></span><span class="anchor" id="line-352"></span></p></li><li class="gap">Beware
 of poorly programed applications which crash hard with errors 
indicating there is already another instance of itself running if you 
ever have a hard crash and have to use the reboot/power button.  Many 
applications, including Firefox, Thunderbird, Skype and many others 
don't handle such crashes cleanly and will give you such errors if you 
ever find yourself in this situation.  To remedy it, you must _manually_
 go through their config folders (for example, firefox uses 
~/.mozilla/firefox/XXX.default/.) and delete all of the locks.  For 
Firefox and related browsers, you may also have to delete several of the
 .sqlite files in order to get your history, in-browser search bar and 
such features to work properly again; as for which ones, you'll have to 
use trial and error to figure it out (or, rm -rf *.sqlite does it too, 
but assures you obliterate everything at the same time).  Also while 
your looking for locks to remove in the respective config folders, look 
for and delete files such as .nfs00000000e000e47e0000000a ; These were 
left by the crashed instance of the application and do not directly get 
in your way but its cruft you don't want sitting around. <span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span></li></ul><p class="line867">
</p><h1 id="Status">Status</h1>
<span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><p class="line862">This <a href="https://help.ubuntu.com/community/HowTo">HowTo</a> is confirmed to work with Ubuntu 12.04. <span class="anchor" id="line-357"></span><span class="anchor" id="line-358"></span></p><p class="line862">This <a href="https://help.ubuntu.com/community/HowTo">HowTo</a> is confirmed to work with Lubuntu 12.04 on Intel Atom client systems. <span class="anchor" id="line-359"></span><span class="anchor" id="line-360"></span></p><p class="line862">This <a href="https://help.ubuntu.com/community/HowTo">HowTo</a> is confirmed to work with Ubuntu 14.04.2 LTS when the following line is added to /tftpboot/pxelinux.cfg/default: <span class="anchor" id="line-361"></span></p><ul><li style="list-style-type:none"><span class="anchor" id="line-362"></span><span class="anchor" id="line-363"></span><pre><span class="anchor" id="line-1-25"></span>DEFAULT linux</pre><span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span></li></ul><p class="line862">This <a href="https://help.ubuntu.com/community/HowTo">HowTo</a> is confirmed to work with Ubuntu 15.04 <span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span></p><p class="line867">
</p><h1 id="Credits">Credits</h1>
<span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><p class="line874">For the feisty interfaces fix and locating your current kernel: <span class="anchor" id="line-370"></span><a class="http" href="http://developer.novell.com/wiki/index.php/HOWTO:_Convert_Ubuntu_to_Diskless">http://developer.novell.com/wiki/index.php/HOWTO:_Convert_Ubuntu_to_Diskless</a> <span class="anchor" id="line-371"></span>For the tftp-hpa config - dodox in the forums: <span class="anchor" id="line-372"></span><a class="http" href="http://ubuntuforums.org/showthread.php?t=236518">http://ubuntuforums.org/showthread.php?t=236518</a> <span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span></p><p class="line867"></p><hr class="hr2"><p class="line874"> <span class="anchor" id="line-375"></span></p><hr><p class="line874"> <span class="anchor" id="line-376"></span><a href="https://help.ubuntu.com/community/CategoryLtsp">CategoryLtsp</a> <span class="anchor" id="line-377"></span><span class="anchor" id="bottom"></span></p></div><div id="pagebottom"></div>
</div>


            </div>
<p id="pageinfo" class="info" dir="ltr" lang="zh">DisklessUbuntuHowto  (2015-10-26 19:49:48由<span title="doug-manley @ 38.98.198.34[38.98.198.34]"><a class="interwiki" href="https://launchpad.net/~doug-manley" title="doug-manley @ 38.98.198.34[38.98.198.34]">doug-manley</a></span>编辑)</p>

</div>
            
            <div id="footer">
		<p>
		The material on this wiki is available under a free license, see <a href="https://help.ubuntu.com/community/License">Copyright / License</a> for details<br><b>You</b> can contribute to this wiki, see 
		<a href="https://help.ubuntu.com/community/WikiGuide">Wiki Guide</a> for details
		</p>
            </div>

        </div>


</body></html>