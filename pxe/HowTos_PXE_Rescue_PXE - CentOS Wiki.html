<!DOCTYPE html>
<html><head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="index,nofollow">

<title>HowTos/PXE/Rescue_PXE - CentOS Wiki</title>
<script type="text/javascript" src="HowTos_PXE_Rescue_PXE%20-%20CentOS%20Wiki_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "搜索";
//-->
</script>


<link rel="stylesheet" type="text/css" media="all" href="HowTos_PXE_Rescue_PXE%20-%20CentOS%20Wiki_files/bootstrap.css">
<link rel="stylesheet" type="text/css" media="all" href="HowTos_PXE_Rescue_PXE%20-%20CentOS%20Wiki_files/bootstrap-theme.css">
<link rel="stylesheet" type="text/css" media="all" href="HowTos_PXE_Rescue_PXE%20-%20CentOS%20Wiki_files/memodump.css">
<link rel="stylesheet" type="text/css" media="all" href="HowTos_PXE_Rescue_PXE%20-%20CentOS%20Wiki_files/moinizer.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" media="all" href="/moin_static1910/memodump/css/msie.css">
<![endif]-->


<link rel="alternate" title="CentOS Wiki: HowTos/PXE/Rescue_PXE" href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=HowTos%2FPXE%2FRescue_PXE&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="https://wiki.centos.org/FrontPage">
<link rel="Alternate" title="维基标记" href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=raw">
<link rel="Alternate" media="print" title="打印视图" href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=print">
<link rel="Up" href="https://wiki.centos.org/HowTos/PXE">
<link rel="Search" href="https://wiki.centos.org/FindPage">
<link rel="Index" href="https://wiki.centos.org/TitleIndex">
<link rel="Glossary" href="https://wiki.centos.org/WordIndex">
<link rel="Help" href="https://wiki.centos.org/HelpOnFormatting">
</head>

<body dir="ltr" lang="zh">

  <div id="outbox" class="sidebar-toggle">
    <!-- Bootstrap navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top navbar-mobile-toggle" role="navigation">
      <div class="container">

        <!-- Navbar header -->
        <div class="navbar-header">
          <!-- Sidebar toggler -->
          <button type="button" class="btn navbar-btn sidebar-toggler" data-toggle="toggle" data-target=".sidebar-toggle">
            <span class="sr-only">Toggle sidebar</span>
            <span class="menu-btn-sidebar-toggler sidebar-toggle"></span>
          </button>
          <!-- Button to show navbar controls when collapsed -->
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- Sitename -->

          <div class="navbar-brand-wrapper">
            <a class="navbar-brand" href="https://wiki.centos.org/FrontPage"><img src="HowTos_PXE_Rescue_PXE%20-%20CentOS%20Wiki_files/centos.png" alt="CentOS Wiki"></a>
          </div>
          
        </div> <!-- /.navbar-header -->

        <!-- Body of navbar -->
        <div class="collapse navbar-collapse">

          <!-- Navbar elements -->
          <ul class="nav navbar-nav navbar-right">

            <!-- Comment toggle button -->

            <li class="toggleCommentsButton" style="display:none;">
              <a href="#" class="menu-nav-comment nbcomment" rel="nofollow" onclick="toggleComments();return false;">
                <span class="hidden-sm">注释</span>
              </a>
            </li>

            <!-- Edit button -->

            <li class="disabled">
              <a class="menu-nav-edit"><span class="hidden-sm">只读网页</span></a>
            </li>

            <!-- Search form -->

          <li>
            <div class="navbar-form">
              <form class="form-search" role="search" id="searchform" method="get" action="/HowTos/PXE/Rescue_PXE">
                <input type="hidden" name="action" value="fullsearch">
                <input type="hidden" name="context" value="180">
                <div class="form-group">
                  <label class="sr-only" for="searchinput">搜索：</label>
                  <input id="searchinput" type="text" class="form-control form-search" placeholder="搜索" name="value">
                </div>
              </form>
            </div>
          </li>

            <!-- Menu -->

            <li class="dropdown">
              <!-- Menu button -->
              <a href="#" class="menu-nav-menu dropdown-toggle" data-toggle="dropdown">
                Menu<span class="padding"></span><span class="caret"></span>
              </a>
              <!-- Dropdown contents -->
              <ul class="dropdown-menu">
                <li class="dropdown-header">Navigation</li>
                <li><a href="https://wiki.centos.org/RecentChanges" class="menu-dd-RecentChanges" rel="nofollow">RecentChanges</a></li>
                <li><a href="https://wiki.centos.org/FindPage" class="menu-dd-FindPage" rel="nofollow">FindPage</a></li>
                <li><a href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=LocalSiteMap" class="menu-dd-LocalSiteMap" rel="nofollow">本站地图</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Help</li>
                <li><a href="https://wiki.centos.org/HelpContents" class="menu-dd-HelpContents" rel="nofollow">HelpContents</a></li>
                <li><a href="https://wiki.centos.org/HelpOnMoinWikiSyntax" class="menu-dd-HelpOnMoinWikiSyntax" rel="nofollow">HelpOnMoinWikiSyntax</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">显示</li>
                <li><a href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=AttachFile" class="menu-dd-AttachFile" rel="nofollow">附件</a></li>
                <li><a href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=info" class="menu-dd-info" rel="nofollow">信息</a></li>
                <li><a href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=raw" class="menu-dd-raw" rel="nofollow">源码</a></li>
                <li><a href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=print" class="menu-dd-print" rel="nofollow">打印视图</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">编辑</li>
                <li><a href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=Load" class="menu-dd-Load" rel="nofollow">加载</a></li>
                <li><a href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=Save" class="menu-dd-Save" rel="nofollow">保存</a></li>
              </ul>
            </li> <!-- /dropdown -->

            <!-- Login user -->

            <li>
              <a class="menu-nav-login" href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE?action=login" rel="nofollow">登录</a>
            </li>


          </ul> <!-- /.navbar-right -->

        </div> <!-- /.collapse -->
      </div> <!-- /.container -->
    </div> <!-- /.navbar -->
    <!-- End of navbar -->

    <div class="container no-padding" id="pagebox">


      <!-- Sidebar -->
      <div class="sidebar-toggle" id="sidebar-curtain">
        <div class="sidebar-toggle" id="sidebar-mover">
          <div class="sidebar-toggle" id="sidebar" role="navigation">
<!-- SideBar contents -->

<!-- End of SideBar contents -->

            <div>
              <h4>Navigation</h4>
              <ul id="navibar">
                <li class="wikilink"><a href="https://wiki.centos.org/FrontPage">FrontPage</a></li>                <li class="wikilink"><a href="https://wiki.centos.org/Documentation">Documentation</a></li>                <li class="wikilink"><a href="https://wiki.centos.org/TipsAndTricks">TipsAndTricks</a></li>                <li class="wikilink"><a href="https://wiki.centos.org/HowTos">HowTos</a></li>                <li class="wikilink"><a href="https://wiki.centos.org/FAQ">FAQ</a></li>                <li class="wikilink"><a href="https://wiki.centos.org/Events">Events</a></li>                <li class="wikilink"><a href="https://wiki.centos.org/Contribute">Contribute</a></li>                <li class="wikilink"><a href="https://wiki.centos.org/RecentChanges">RecentChanges</a></li>
              </ul>
            </div>


          </div> <!-- /#sidebar -->
        </div> <!-- /#sidebar-mover -->
      </div><div id="contentbox"> <!-- End of Sidebar and Beginning of content -->




        <div id="location">


<ul id="pagelocation">
<li><a href="https://wiki.centos.org/HowTos">HowTos</a></li><li><a href="https://wiki.centos.org/HowTos/PXE">PXE</a></li><li><a href="https://wiki.centos.org/HowTos/PXE/Rescue_PXE">Rescue_PXE</a></li>
</ul>

          <span class="lastupdate">Last updated at 2019-12-09 09:11:32</span>
        </div>


<!-- Page contents -->
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><p class="line867">
</p><h2 id="PXE_CentOS_Rescue_Mode">PXE CentOS Rescue Mode</h2>
<span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line874">Here is a quick how to get CentOS Rescue mode via your PXE server. <span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span></p><p class="line874">This article assumes you already have:  <span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span></p><p class="line862">1. A working <a class="http" href="http://syslinux.zytor.com/pxe.php">pxelinux style PXE server</a>. <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span></p><p class="line874">2. A working DHCP server. <span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span></p><p class="line874">On your PXE server: <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span></p><p class="line874"># mkdir -p /tftpboot/images/centos/4.4/ <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span></p><p class="line862">Copy <strong>vmlinuz</strong> and <strong>initrd.img</strong> from /images/pxeboot/ directory on "disc 1" to /tftpboot/images/centos/4.4/ <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span></p><p class="line867">
</p><h3 id="The_config_files">1. The config files</h3>
<span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><p class="line867"><strong>Http Method</strong> <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></p><p class="line874">Create a kickstart config file (ks.cfg) and place it on your web server.  <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span></p><p class="line867"><span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span></p><pre><span class="anchor" id="line-1"></span># Kickstart configuration file CentOS 4.4 Rescue Mode
<span class="anchor" id="line-2"></span>#
<span class="anchor" id="line-3"></span>#System  language
<span class="anchor" id="line-4"></span>#
<span class="anchor" id="line-5"></span>lang en_US.UTF-8
<span class="anchor" id="line-6"></span>#
<span class="anchor" id="line-7"></span>#Language modules to install
<span class="anchor" id="line-8"></span>#
<span class="anchor" id="line-9"></span>langsupport --default=en_US.UTF-8 en_US.UTF-8
<span class="anchor" id="line-10"></span>#
<span class="anchor" id="line-11"></span>#System keyboard
<span class="anchor" id="line-12"></span>#
<span class="anchor" id="line-13"></span>keyboard us
<span class="anchor" id="line-14"></span>#
<span class="anchor" id="line-15"></span>#System mouse
<span class="anchor" id="line-16"></span>#
<span class="anchor" id="line-17"></span>mouse none
<span class="anchor" id="line-18"></span>#
<span class="anchor" id="line-19"></span>#Retrieve rescue system from NFS
<span class="anchor" id="line-20"></span>#
<span class="anchor" id="line-21"></span># nfs --server=$yournfsserverip  --dir=/directory/that/contains/disc1/CentOS/RPMS/
<span class="anchor" id="line-22"></span>#
<span class="anchor" id="line-23"></span>#Retrieve rescue system from http
<span class="anchor" id="line-24"></span>#
<span class="anchor" id="line-25"></span>url --url http://$yourwebserver/directory/that/contains/disc1/CentOS/RPMS/
<span class="anchor" id="line-26"></span>#
<span class="anchor" id="line-27"></span>#Network information
<span class="anchor" id="line-28"></span>#
<span class="anchor" id="line-29"></span>network --bootproto=dhcp</pre><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><p class="line874">Entry for the PXE menu. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span></p><p class="line867"><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span></p><pre><span class="anchor" id="line-1-1"></span>LABEL CentOS 4.4 Rescue via HTTP
<span class="anchor" id="line-2-1"></span>        KERNEL images/centos/4.4/vmlinuz
<span class="anchor" id="line-3-1"></span>        MENU LABEL ^CentOS 4.4 Rescue via HTTP
<span class="anchor" id="line-4-1"></span>        APPEND initrd=images/centos/4.4/initrd.img ramdisk_size=10000 text rescue ks=http://$yourwebserver/path/to/your/ks.cfg</pre><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><p class="line867"><strong>NFS Method</strong> <span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span></p><p class="line874">Create a kickstart config file (ks.cfg) and place it on your NFS server. <span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span></p><p class="line867"><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span></p><pre><span class="anchor" id="line-1-2"></span># Kickstart configuration file CentOS 4.4 Rescue Mode
<span class="anchor" id="line-2-2"></span>#
<span class="anchor" id="line-3-2"></span>#System  language
<span class="anchor" id="line-4-2"></span>#
<span class="anchor" id="line-5-1"></span>lang en_US.UTF-8
<span class="anchor" id="line-6-1"></span>#
<span class="anchor" id="line-7-1"></span>#Language modules to install
<span class="anchor" id="line-8-1"></span>#
<span class="anchor" id="line-9-1"></span>langsupport --default=en_US.UTF-8 en_US.UTF-8
<span class="anchor" id="line-10-1"></span>#
<span class="anchor" id="line-11-1"></span>#System keyboard
<span class="anchor" id="line-12-1"></span>#
<span class="anchor" id="line-13-1"></span>keyboard us
<span class="anchor" id="line-14-1"></span>#
<span class="anchor" id="line-15-1"></span>#System mouse
<span class="anchor" id="line-16-1"></span>#
<span class="anchor" id="line-17-1"></span>mouse none
<span class="anchor" id="line-18-1"></span>#
<span class="anchor" id="line-19-1"></span>#Retrieve rescue system from NFS
<span class="anchor" id="line-20-1"></span>#
<span class="anchor" id="line-21-1"></span>nfs --server=$yournfsserverip  --dir=/directory/that/contains/disc1/CentOS/RPMS/
<span class="anchor" id="line-22-1"></span>#
<span class="anchor" id="line-23-1"></span>#Retrieve rescue system from http
<span class="anchor" id="line-24-1"></span>#
<span class="anchor" id="line-25-1"></span># url --url http://$yourwebserver/directory/that/contains/disc1/CentOS/RPMS/
<span class="anchor" id="line-26-1"></span>#
<span class="anchor" id="line-27-1"></span>#Network information
<span class="anchor" id="line-28-1"></span>#
<span class="anchor" id="line-29-1"></span>network --bootproto=dhcp</pre><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><p class="line874">Entry for the PXE menu. <span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span></p><p class="line867"><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span></p><pre><span class="anchor" id="line-1-3"></span>LABEL CentOS 4.4 Rescue via NFS
<span class="anchor" id="line-2-3"></span>        KERNEL images/centos/4.4/vmlinuz
<span class="anchor" id="line-3-3"></span>        MENU LABEL ^CentOS 4.4 Rescue via NFS
<span class="anchor" id="line-4-3"></span>        APPEND initrd=images/centos/4.4/initrd.img ramdisk_size=10000 text rescue ks=nfs:$yournfsserverip:/path/to/your/ks.cfg</pre><span class="anchor" id="line-112"></span><span class="anchor" id="bottom"></span></div>
<!-- End of page contents -->

      </div> <!-- /#contentbox -->
      <!-- End of content body -->
    </div> <!-- /.container, #pagebox -->
  </div> <!-- /#outbox -->

  <!-- pageinfo -->
  <div id="pageinfo-container">
    <div class="container">
      <p id="pageinfo" class="info" dir="ltr" lang="zh">HowTos/PXE/Rescue_PXE  (2019-12-09 09:11:32由<span title="">匿名</span>编辑)</p>

    </div>
  </div>
  <!-- End of pageinfo -->



  <!-- Footer -->
  <div id="footer">
    <div class="container text-right text-muted">
      <ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>

      

    </div> <!-- /.container -->
  </div> <!-- /#footer -->
  <!-- End of footer -->

  <!-- Bootstrap core JavaScript -->
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="HowTos_PXE_Rescue_PXE%20-%20CentOS%20Wiki_files/jquery.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="HowTos_PXE_Rescue_PXE%20-%20CentOS%20Wiki_files/bootstrap.js"></script>
  <!-- toggle.js by dossist -->
  <script src="HowTos_PXE_Rescue_PXE%20-%20CentOS%20Wiki_files/toggle.js"></script>
  <!-- Uncollapse minified navbar under mobile landscape view syncing with menu button -->
  <script>
    +function ($) {
      $('.navbar-collapse').on('show.bs.collapse', function () {
        $('.navbar-mobile-toggle').togglejs('show');
      });
      $('.navbar-collapse').on('hidden.bs.collapse', function () {
        $('.navbar-mobile-toggle').togglejs('hide');
      });
    }(jQuery);
  </script>
  <!-- End of JavaScript -->



</body></html>