
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="origin" />
    <meta property="og:description" content="通常在读写文件之前，需要判断文件或目录是否存在，不然某些处理方法可能会使程序出错。所以最好在做任何操作之前，先判断文件是否存在。 这里将介绍三种判断文件或文件夹是否存在的方法，分别使用os模块、Try" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <title>Python判断文件是否存在的三种方法 - j_hao104 - 博客园</title>
    
    <link rel="stylesheet" href="/css/blog-common.min.css?v=sqi5FxOybx6gjGoG6Zfy1wD-0AwznLNLYOVx7Y9tIN0" />
    <link id="MainCss" rel="stylesheet" href="/skins/codinglife/bundle-codinglife.min.css?v=HZYPsxMVafXureV358baXMkW01jE9FdDO18Qqm0WPVk" />
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/codinglife/bundle-codinglife-mobile.min.css?v=YLOkrTk5E7_pa0CoJzjGN-4x4Qir3rlm737NcHZyQvQ" />
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/jhao/rss" />
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/jhao/rsd.xml" />
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/jhao/wlwmanifest.xml" />
    <script src="https://common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script src="/js/blog-common.min.js?v=W8J2DYaUeAZPX2Lx1iRh00kAY9PXrT8UdrrPQB3gEXU"></script>
    <script>
        var currentBlogId = 311482;
        var currentBlogApp = 'jhao';
        var cb_enable_mathjax = true;
        var isLogined = false;
    </script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']], processClass: 'math', processEscapes: true },
        TeX: {
        equationNumbers: { autoNumber: ['AMS'], useLabelIds: true },
        extensions: ['extpfeil.js', 'mediawiki-texvc.js'],
        Macros: {bm: "\\boldsymbol"}
        },
        'HTML-CSS': { linebreaks: { automatic: true } },
        SVG: { linebreaks: { automatic: true } }
        });
    </script>
    <script src="https://mathjax.cnblogs.com/2_7_5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
</head>
<body>
    <a name="top"></a>
    
    
<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
        <a id="lnkBlogLogo" href="https://www.cnblogs.com/jhao/"><img id="blogLogo" src="/skins/custom/images/logo.gif" alt="返回主页" /></a>		
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/jhao/">j_hao104</a>
</h1>
<h2>

</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
</li>
<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/jhao/">
首页</a>
</li>
<li>


</li>
<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/j_hao104">
联系</a></li>
<li>
<a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/jhao/rss/">
订阅</a>
<!--<partial name="./Shared/_XmlLink.cshtml" model="Model" /></li>--></li>
<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
</ul>


		<div class="blogStats">
			
			<span id="stats_post_count">随笔 - 
44&nbsp; </span>
<span id="stats_article_count">文章 - 
0&nbsp; </span>
<span id="stats-comment_count">评论 - 
41</span>

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="post_detail">
    <!--done-->
    <div id="topics">
        <div class="post">
            <h1 class = "postTitle">
                
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/jhao/p/7243043.html">Python判断文件是否存在的三种方法</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                
<div id="cnblogs_post_body" class="blogpost-body ">
    <div class="markdown-here-wrapper" data-md-url="https://i.cnblogs.com/EditPosts.aspx?opt=1">
<p style="margin: 0px 0px 1.2em !important;">通常在读写文件之前，需要判断文件或目录是否存在，不然某些处理方法可能会使程序出错。所以最好在做任何操作之前，先判断文件是否存在。</p>
<p style="margin: 0px 0px 1.2em !important;">这里将介绍三种判断文件或文件夹是否存在的方法，分别使用<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">os模块</code>、<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">Try语句</code>、<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">pathlib模块</code>。</p>
<h2 id="1-os-" style="margin: 1.3em 0px 1em; padding: 0px; font-weight: bold; font-size: 1.4em; border-bottom: 1px solid #eeeeee;">1.使用os模块</h2>
<p style="margin: 0px 0px 1.2em !important;">os模块中的<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">os.path.exists()</code>方法用于检验文件是否存在。</p>
<ul style="margin: 1.2em 0px; padding-left: 2em;">
<li style="margin: 0.5em 0px;">判断文件是否存在</li>
</ul>
<pre><code class="hljs language-python" style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0.5em; white-space: pre; border: 1px solid #cccccc; background-color: #f8f8f8; border-radius: 3px; display: block; overflow: auto; overflow-x: auto; color: #333333; background: #f8f8f8; text-size-adjust: none;"><span class="hljs-keyword" style="color: #333333; font-weight: bold;">import</span> os
os.path.exists(test_file.txt)
<span class="hljs-comment" style="color: #999988; font-style: italic;">#True</span>

os.path.exists(no_exist_file.txt)
<span class="hljs-comment" style="color: #999988; font-style: italic;">#False</span>
</code></pre>
<ul style="margin: 1.2em 0px; padding-left: 2em;">
<li style="margin: 0.5em 0px;">判断文件夹是否存在</li>
</ul>
<pre><code class="hljs language-python" style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0.5em; white-space: pre; border: 1px solid #cccccc; background-color: #f8f8f8; border-radius: 3px; display: block; overflow: auto; overflow-x: auto; color: #333333; background: #f8f8f8; text-size-adjust: none;"><span class="hljs-keyword" style="color: #333333; font-weight: bold;">import</span> os
os.path.exists(test_dir)
<span class="hljs-comment" style="color: #999988; font-style: italic;">#True</span>

os.path.exists(no_exist_dir)
<span class="hljs-comment" style="color: #999988; font-style: italic;">#False</span>
</code></pre>
<p style="margin: 0px 0px 1.2em !important;">可以看出用<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">os.path.exists()</code>方法，判断文件和文件夹是一样。</p>
<p style="margin: 0px 0px 1.2em !important;">其实这种方法还是有个问题，假设你想检查文件&ldquo;test_data&rdquo;是否存在，但是当前路径下有个叫&ldquo;test_data&rdquo;的文件夹，这样就可能出现误判。为了避免这样的情况，可以这样:</p>
<ul style="margin: 1.2em 0px; padding-left: 2em;">
<li style="margin: 0.5em 0px;">只检查文件
<pre><code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0.5em 0.7em; white-space: pre; border: 1px solid #cccccc; background-color: #f8f8f8; border-radius: 3px; display: block !important; overflow: auto;">import os
os.path.isfile("test-data")
</code></pre>
</li>
</ul>
<p style="margin: 0px 0px 1.2em !important;">通过这个方法，如果文件&rdquo;test-data&rdquo;不存在将返回False，反之返回True。</p>
<p style="margin: 0px 0px 1.2em !important;">即是文件存在，你可能还需要判断文件是否可进行读写操作。</p>
<h2 id="-" style="margin: 1.3em 0px 1em; padding: 0px; font-weight: bold; font-size: 1.4em; border-bottom: 1px solid #eeeeee;">判断文件是否可做读写操作</h2>
<p style="margin: 0px 0px 1.2em !important;">使用<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">os.access()</code>方法判断文件是否可进行读写操作。</p>
<p style="margin: 0px 0px 1.2em !important;">语法：</p>
<blockquote style="margin: 1.2em 0px; border-left: 4px solid #dddddd; padding: 0px 1em; color: #777777; quotes: none;">
<p style="margin: 0px 0px 1.2em !important;">os.access(path, mode)</p>
</blockquote>
<p style="margin: 0px 0px 1.2em !important;">path为文件路径，mode为操作模式，有这么几种:</p>
<ul style="margin: 1.2em 0px; padding-left: 2em;">
<li style="margin: 0.5em 0px;">
<p style="margin: 0.5em 0px !important;">os.F_OK: 检查文件是否存在;</p>
</li>
<li style="margin: 0.5em 0px;">
<p style="margin: 0.5em 0px !important;">os.R_OK: 检查文件是否可读;</p>
</li>
<li style="margin: 0.5em 0px;">
<p style="margin: 0.5em 0px !important;">os.W_OK: 检查文件是否可以写入;</p>
</li>
<li style="margin: 0.5em 0px;">
<p style="margin: 0.5em 0px !important;">os.X_OK: 检查文件是否可以执行</p>
</li>
</ul>
<p style="margin: 0px 0px 1.2em !important;">该方法通过判断文件路径是否存在和各种访问模式的权限返回True或者False。</p>
<pre><code class="hljs language-python" style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0.5em; white-space: pre; border: 1px solid #cccccc; background-color: #f8f8f8; border-radius: 3px; display: block; overflow: auto; overflow-x: auto; color: #333333; background: #f8f8f8; text-size-adjust: none;"><span class="hljs-keyword" style="color: #333333; font-weight: bold;">import</span> os
<span class="hljs-keyword" style="color: #333333; font-weight: bold;">if</span> os.access(<span class="hljs-string" style="color: #dd1144;">"/file/path/foo.txt"</span>, os.F_OK):
    <span class="hljs-keyword" style="color: #333333; font-weight: bold;">print</span> <span class="hljs-string" style="color: #dd1144;">"Given file path is exist."</span>

<span class="hljs-keyword" style="color: #333333; font-weight: bold;">if</span> os.access(<span class="hljs-string" style="color: #dd1144;">"/file/path/foo.txt"</span>, os.R_OK):
    <span class="hljs-keyword" style="color: #333333; font-weight: bold;">print</span> <span class="hljs-string" style="color: #dd1144;">"File is accessible to read"</span>

<span class="hljs-keyword" style="color: #333333; font-weight: bold;">if</span> os.access(<span class="hljs-string" style="color: #dd1144;">"/file/path/foo.txt"</span>, os.W_OK):
    <span class="hljs-keyword" style="color: #333333; font-weight: bold;">print</span> <span class="hljs-string" style="color: #dd1144;">"File is accessible to write"</span>

<span class="hljs-keyword" style="color: #333333; font-weight: bold;">if</span> os.access(<span class="hljs-string" style="color: #dd1144;">"/file/path/foo.txt"</span>, os.X_OK):
    <span class="hljs-keyword" style="color: #333333; font-weight: bold;">print</span> <span class="hljs-string" style="color: #dd1144;">"File is accessible to execute"</span>
</code></pre>
<h2 id="2-try-" style="margin: 1.3em 0px 1em; padding: 0px; font-weight: bold; font-size: 1.4em; border-bottom: 1px solid #eeeeee;">2.使用Try语句</h2>
<p style="margin: 0px 0px 1.2em !important;">可以在程序中直接使用<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">open()</code>方法来检查文件是否存在和可读写。</p>
<p style="margin: 0px 0px 1.2em !important;">语法：</p>
<blockquote style="margin: 1.2em 0px; border-left: 4px solid #dddddd; padding: 0px 1em; color: #777777; quotes: none;">
<p style="margin: 0px 0px 1.2em !important;">open()</p>
</blockquote>
<p style="margin: 0px 0px 1.2em !important;">如果你open的文件不存在，程序会抛出错误，使用try语句来捕获这个错误。</p>
<p style="margin: 0px 0px 1.2em !important;">程序无法访问文件，可能有很多原因：</p>
<ul style="margin: 1.2em 0px; padding-left: 2em;">
<li style="margin: 0.5em 0px;">
<p style="margin: 0.5em 0px !important;">如果你open的文件不存在，将抛出一个<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">FileNotFoundError</code>的异常;</p>
</li>
<li style="margin: 0.5em 0px;">
<p style="margin: 0.5em 0px !important;">文件存在，但是没有权限访问，会抛出一个<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">PersmissionError</code>的异常。</p>
</li>
</ul>
<p style="margin: 0px 0px 1.2em !important;">所以可以使用下面的代码来判断文件是否存在:</p>
<pre><code class="hljs language-python" style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0.5em; white-space: pre; border: 1px solid #cccccc; background-color: #f8f8f8; border-radius: 3px; display: block; overflow: auto; overflow-x: auto; color: #333333; background: #f8f8f8; text-size-adjust: none;"><span class="hljs-keyword" style="color: #333333; font-weight: bold;">try</span>:
    f =open()
    f.close()
<span class="hljs-keyword" style="color: #333333; font-weight: bold;">except</span> FileNotFoundError:
    <span class="hljs-keyword" style="color: #333333; font-weight: bold;">print</span> <span class="hljs-string" style="color: #dd1144;">"File is not found."</span>
<span class="hljs-keyword" style="color: #333333; font-weight: bold;">except</span> PersmissionError:
    <span class="hljs-keyword" style="color: #333333; font-weight: bold;">print</span> <span class="hljs-string" style="color: #dd1144;">"You don't have permission to access this file."</span>
</code></pre>
<p style="margin: 0px 0px 1.2em !important;">其实没有必要去这么细致的处理每个异常，上面的这两个异常都是<code style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0px 0.3em; white-space: pre-wrap; border: 1px solid #eaeaea; background-color: #f8f8f8; border-radius: 3px; display: inline;">IOError</code>的子类。所以可以将程序简化一下:</p>
<pre><code class="hljs language-python" style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0.5em; white-space: pre; border: 1px solid #cccccc; background-color: #f8f8f8; border-radius: 3px; display: block; overflow: auto; overflow-x: auto; color: #333333; background: #f8f8f8; text-size-adjust: none;"><span class="hljs-keyword" style="color: #333333; font-weight: bold;">try</span>:
    f =open()
    f.close()
<span class="hljs-keyword" style="color: #333333; font-weight: bold;">except</span> IOError:
    <span class="hljs-keyword" style="color: #333333; font-weight: bold;">print</span> <span class="hljs-string" style="color: #dd1144;">"File is not accessible."</span>
</code></pre>
<p style="margin: 0px 0px 1.2em !important;">使用try语句进行判断，处理所有异常非常简单和优雅的。而且相比其他不需要引入其他外部模块。</p>
<h2 id="3-pathlib-" style="margin: 1.3em 0px 1em; padding: 0px; font-weight: bold; font-size: 1.4em; border-bottom: 1px solid #eeeeee;">3. 使用pathlib模块</h2>
<p style="margin: 0px 0px 1.2em !important;">pathlib模块在Python3版本中是内建模块，但是在Python2中是需要单独安装三方模块。</p>
<p style="margin: 0px 0px 1.2em !important;">使用pathlib需要先使用文件路径来创建path对象。此路径可以是文件名或目录路径。</p>
<ul style="margin: 1.2em 0px; padding-left: 2em;">
<li style="margin: 0.5em 0px;">检查路径是否存在</li>
</ul>
<pre><code class="hljs language-python" style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0.5em; white-space: pre; border: 1px solid #cccccc; background-color: #f8f8f8; border-radius: 3px; display: block; overflow: auto; overflow-x: auto; color: #333333; background: #f8f8f8; text-size-adjust: none;">path = pathlib.Path(<span class="hljs-string" style="color: #dd1144;">"path/file"</span>)
path.exist()
</code></pre>
<ul style="margin: 1.2em 0px; padding-left: 2em;">
<li style="margin: 0.5em 0px;">检查路径是否是文件</li>
</ul>
<pre><code class="hljs language-python" style="font-size: 0.85em; font-family: Consolas, Inconsolata, Courier, monospace; margin: 0px 0.15em; padding: 0.5em; white-space: pre; border: 1px solid #cccccc; background-color: #f8f8f8; border-radius: 3px; display: block; overflow: auto; overflow-x: auto; color: #333333; background: #f8f8f8; text-size-adjust: none;">path = pathlib.Path(<span class="hljs-string" style="color: #dd1144;">"path/file"</span>)
path.is_file()
</code></pre>
<p style="margin: 0px 0px 1.2em !important;">&nbsp;</p>
<p style="margin: 0px 0px 1.2em !important;">博客原文:http://www.spiderpy.cn/blog/detail/28</p>
<div style="height: 0; width: 0; max-height: 0; max-width: 0; overflow: hidden; font-size: 0em; padding: 0; margin: 0;" title="MDH:PGRpdj7pgJrluLjlnKjor7vlhpnmlofku7bkuYvliY3vvIzpnIDopoHliKTmlq3mlofku7bmiJbn
m67lvZXmmK/lkKblrZjlnKjvvIzkuI3nhLbmn5DkupvlpITnkIbmlrnms5Xlj6/og73kvJrkvb/n
qIvluo/lh7rplJnjgILmiYDku6XmnIDlpb3lnKjlgZrku7vkvZXmk43kvZzkuYvliY3vvIzlhYjl
iKTmlq3mlofku7bmmK/lkKblrZjlnKjjgII8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+6L+Z
6YeM5bCG5LuL57uN5LiJ56eN5Yik5pat5paH5Lu25oiW5paH5Lu25aS55piv5ZCm5a2Y5Zyo55qE
5pa55rOV77yM5YiG5Yir5L2/55SoYG9z5qih5Z2XYOOAgWBUcnnor63lj6Vg44CBYHBhdGhsaWLm
qKHlnZdg44CCPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2PiMjIDEu5L2/55Sob3PmqKHlnZc8
L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+b3PmqKHlnZfkuK3nmoRgb3MucGF0aC5leGlzdHMo
KWDmlrnms5XnlKjkuo7mo4Dpqozmlofku7bmmK/lkKblrZjlnKjjgII8L2Rpdj48ZGl2PiZuYnNw
OzwvZGl2PjxkaXY+KiDliKTmlq3mlofku7bmmK/lkKblrZjlnKg8L2Rpdj48ZGl2PiZuYnNwOzwv
ZGl2PjxkaXY+YGBgcHl0aG9uPC9kaXY+PGRpdj5pbXBvcnQgb3M8L2Rpdj48ZGl2Pm9zLnBhdGgu
ZXhpc3RzKHRlc3RfZmlsZS50eHQpPC9kaXY+PGRpdj4jVHJ1ZTwvZGl2PjxkaXY+Jm5ic3A7PC9k
aXY+PGRpdj5vcy5wYXRoLmV4aXN0cyhub19leGlzdF9maWxlLnR4dCk8L2Rpdj48ZGl2PiNGYWxz
ZTwvZGl2PjxkaXY+YGBgPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2Piog5Yik5pat5paH5Lu2
5aS55piv5ZCm5a2Y5ZyoPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2PmBgYHB5dGhvbjwvZGl2
PjxkaXY+aW1wb3J0IG9zPC9kaXY+PGRpdj5vcy5wYXRoLmV4aXN0cyh0ZXN0X2Rpcik8L2Rpdj48
ZGl2PiNUcnVlPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2Pm9zLnBhdGguZXhpc3RzKG5vX2V4
aXN0X2Rpcik8L2Rpdj48ZGl2PiNGYWxzZTwvZGl2PjxkaXY+YGBgPC9kaXY+PGRpdj4mbmJzcDs8
L2Rpdj48ZGl2PuWPr+S7peeci+WHuueUqGBvcy5wYXRoLmV4aXN0cygpYOaWueazle+8jOWIpOaW
reaWh+S7tuWSjOaWh+S7tuWkueaYr+S4gOagt+OAgjwvZGl2PjxkaXY+Jm5ic3A7PC9kaXY+PGRp
dj7lhbblrp7ov5nnp43mlrnms5Xov5jmmK/mnInkuKrpl67popjvvIzlgYforr7kvaDmg7Pmo4Dm
n6Xmlofku7bigJx0ZXN0X2RhdGHigJ3mmK/lkKblrZjlnKjvvIzkvYbmmK/lvZPliY3ot6/lvoTk
uIvmnInkuKrlj6vigJx0ZXN0X2RhdGHigJ3nmoTmlofku7blpLnvvIzov5nmoLflsLHlj6/og73l
h7rnjrDor6/liKTjgILkuLrkuobpgb/lhY3ov5nmoLfnmoTmg4XlhrXvvIzlj6/ku6Xov5nmoLc6
PC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2Piog5Y+q5qOA5p+l5paH5Lu2PC9kaXY+PGRpdj5g
YGA8L2Rpdj48ZGl2PmltcG9ydCBvczwvZGl2PjxkaXY+b3MucGF0aC5pc2ZpbGUoInRlc3QtZGF0
YSIpPC9kaXY+PGRpdj5gYGA8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+6YCa6L+H6L+Z5Liq
5pa55rOV77yM5aaC5p6c5paH5Lu2InRlc3QtZGF0YSLkuI3lrZjlnKjlsIbov5Tlm55GYWxzZe+8
jOWPjeS5i+i/lOWbnlRydWXjgII8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+5Y2z5piv5paH
5Lu25a2Y5Zyo77yM5L2g5Y+v6IO96L+Y6ZyA6KaB5Yik5pat5paH5Lu25piv5ZCm5Y+v6L+b6KGM
6K+75YaZ5pON5L2c44CCPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2PiMjIOWIpOaWreaWh+S7
tuaYr+WQpuWPr+WBmuivu+WGmeaTjeS9nDwvZGl2PjxkaXY+Jm5ic3A7PC9kaXY+PGRpdj7kvb/n
lKhgb3MuYWNjZXNzKClg5pa55rOV5Yik5pat5paH5Lu25piv5ZCm5Y+v6L+b6KGM6K+75YaZ5pON
5L2c44CCPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2Puivreazle+8mjwvZGl2PjxkaXY+Jm5i
c3A7PC9kaXY+PGRpdj4mZ3Q7IG9zLmFjY2VzcygmbHQ7cGF0aCZndDssICZsdDttb2RlJmd0Oyk8
L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+cGF0aOS4uuaWh+S7tui3r+W+hO+8jG1vZGXkuLrm
k43kvZzmqKHlvI/vvIzmnInov5nkuYjlh6Dnp406PC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2
Piogb3MuRl9PSzog5qOA5p+l5paH5Lu25piv5ZCm5a2Y5ZyoOzwvZGl2PjxkaXY+Jm5ic3A7PC9k
aXY+PGRpdj4qIG9zLlJfT0s6IOajgOafpeaWh+S7tuaYr+WQpuWPr+ivuzs8L2Rpdj48ZGl2PiZu
YnNwOzwvZGl2PjxkaXY+KiBvcy5XX09LOiDmo4Dmn6Xmlofku7bmmK/lkKblj6/ku6XlhpnlhaU7
PC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2Piogb3MuWF9PSzog5qOA5p+l5paH5Lu25piv5ZCm
5Y+v5Lul5omn6KGMPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2PuivpeaWueazlemAmui/h+WI
pOaWreaWh+S7tui3r+W+hOaYr+WQpuWtmOWcqOWSjOWQhOenjeiuv+mXruaooeW8j+eahOadg+mZ
kOi/lOWbnlRydWXmiJbogIVGYWxzZeOAgjwvZGl2PjxkaXY+Jm5ic3A7PC9kaXY+PGRpdj5gYGBw
eXRob248L2Rpdj48ZGl2PmltcG9ydCBvczwvZGl2PjxkaXY+aWYgb3MuYWNjZXNzKCIvZmlsZS9w
YXRoL2Zvby50eHQiLCBvcy5GX09LKTo8L2Rpdj48ZGl2PiZuYnNwOyAmbmJzcDsgcHJpbnQgIkdp
dmVuIGZpbGUgcGF0aCBpcyBleGlzdC4iPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2PmlmIG9z
LmFjY2VzcygiL2ZpbGUvcGF0aC9mb28udHh0Iiwgb3MuUl9PSyk6PC9kaXY+PGRpdj4mbmJzcDsg
Jm5ic3A7IHByaW50ICJGaWxlIGlzIGFjY2Vzc2libGUgdG8gcmVhZCI8L2Rpdj48ZGl2PiZuYnNw
OzwvZGl2PjxkaXY+aWYgb3MuYWNjZXNzKCIvZmlsZS9wYXRoL2Zvby50eHQiLCBvcy5XX09LKTo8
L2Rpdj48ZGl2PiZuYnNwOyAmbmJzcDsgcHJpbnQgIkZpbGUgaXMgYWNjZXNzaWJsZSB0byB3cml0
ZSI8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+aWYgb3MuYWNjZXNzKCIvZmlsZS9wYXRoL2Zv
by50eHQiLCBvcy5YX09LKTo8L2Rpdj48ZGl2PiZuYnNwOyAmbmJzcDsgcHJpbnQgIkZpbGUgaXMg
YWNjZXNzaWJsZSB0byBleGVjdXRlIjwvZGl2PjxkaXY+YGBgPC9kaXY+PGRpdj4mbmJzcDs8L2Rp
dj48ZGl2PiMjIDIu5L2/55SoVHJ56K+t5Y+lPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2PuWP
r+S7peWcqOeoi+W6j+S4reebtOaOpeS9v+eUqGBvcGVuKClg5pa55rOV5p2l5qOA5p+l5paH5Lu2
5piv5ZCm5a2Y5Zyo5ZKM5Y+v6K+75YaZ44CCPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2Puiv
reazle+8mjwvZGl2PjxkaXY+Jm5ic3A7PC9kaXY+PGRpdj4mZ3Q7b3BlbigmbHQ7ZmlsZS9wYXRo
Jmd0Oyk8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+5aaC5p6c5L2gb3BlbueahOaWh+S7tuS4
jeWtmOWcqO+8jOeoi+W6j+S8muaKm+WHuumUmeivr++8jOS9v+eUqHRyeeivreWPpeadpeaNleiO
t+i/meS4qumUmeivr+OAgjwvZGl2PjxkaXY+Jm5ic3A7PC9kaXY+PGRpdj7nqIvluo/ml6Dms5Xo
rr/pl67mlofku7bvvIzlj6/og73mnInlvojlpJrljp/lm6DvvJo8L2Rpdj48ZGl2PiZuYnNwOzwv
ZGl2PjxkaXY+KiDlpoLmnpzkvaBvcGVu55qE5paH5Lu25LiN5a2Y5Zyo77yM5bCG5oqb5Ye65LiA
5LiqYEZpbGVOb3RGb3VuZEVycm9yYOeahOW8guW4uDs8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2Pjxk
aXY+KiDmlofku7blrZjlnKjvvIzkvYbmmK/msqHmnInmnYPpmZDorr/pl67vvIzkvJrmipvlh7rk
uIDkuKpgUGVyc21pc3Npb25FcnJvcmDnmoTlvILluLjjgII8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2
PjxkaXY+5omA5Lul5Y+v5Lul5L2/55So5LiL6Z2i55qE5Luj56CB5p2l5Yik5pat5paH5Lu25piv
5ZCm5a2Y5ZyoOjwvZGl2PjxkaXY+Jm5ic3A7PC9kaXY+PGRpdj5gYGBweXRob248L2Rpdj48ZGl2
PnRyeTo8L2Rpdj48ZGl2PiZuYnNwOyAmbmJzcDsgZiA9b3BlbigpPC9kaXY+PGRpdj4mbmJzcDsg
Jm5ic3A7IGYuY2xvc2UoKTwvZGl2PjxkaXY+ZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOjwvZGl2
PjxkaXY+Jm5ic3A7ICZuYnNwOyBwcmludCAiRmlsZSBpcyBub3QgZm91bmQuIjwvZGl2PjxkaXY+
ZXhjZXB0IFBlcnNtaXNzaW9uRXJyb3I6PC9kaXY+PGRpdj4mbmJzcDsgJm5ic3A7IHByaW50ICJZ
b3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIGZpbGUuIjwvZGl2PjxkaXY+
YGBgPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2PuWFtuWunuayoeacieW/heimgeWOu+i/meS5
iOe7huiHtOeahOWkhOeQhuavj+S4quW8guW4uO+8jOS4iumdoueahOi/meS4pOS4quW8guW4uOmD
veaYr2BJT0Vycm9yYOeahOWtkOexu+OAguaJgOS7peWPr+S7peWwhueoi+W6j+eugOWMluS4gOS4
izo8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+YGBgcHl0aG9uPC9kaXY+PGRpdj50cnk6PC9k
aXY+PGRpdj4mbmJzcDsgJm5ic3A7IGYgPW9wZW4oKTwvZGl2PjxkaXY+Jm5ic3A7ICZuYnNwOyBm
LmNsb3NlKCk8L2Rpdj48ZGl2PmV4Y2VwdCBJT0Vycm9yOjwvZGl2PjxkaXY+Jm5ic3A7ICZuYnNw
OyBwcmludCAiRmlsZSBpcyBub3QgYWNjZXNzaWJsZS4iPC9kaXY+PGRpdj5gYGA8L2Rpdj48ZGl2
PiZuYnNwOzwvZGl2PjxkaXY+5L2/55SodHJ56K+t5Y+l6L+b6KGM5Yik5pat77yM5aSE55CG5omA
5pyJ5byC5bi46Z2e5bi4566A5Y2V5ZKM5LyY6ZuF55qE44CC6ICM5LiU55u45q+U5YW25LuW5LiN
6ZyA6KaB5byV5YWl5YW25LuW5aSW6YOo5qih5Z2X44CCPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48
ZGl2PiMjIDMuIOS9v+eUqHBhdGhsaWLmqKHlnZc8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+
cGF0aGxpYuaooeWdl+WcqFB5dGhvbjPniYjmnKzkuK3mmK/lhoXlu7rmqKHlnZfvvIzkvYbmmK/l
nKhQeXRob24y5Lit5piv6ZyA6KaB5Y2V54us5a6J6KOF5LiJ5pa55qih5Z2X44CCPC9kaXY+PGRp
dj4mbmJzcDs8L2Rpdj48ZGl2PuS9v+eUqHBhdGhsaWLpnIDopoHlhYjkvb/nlKjmlofku7bot6/l
voTmnaXliJvlu7pwYXRo5a+56LGh44CC5q2k6Lev5b6E5Y+v5Lul5piv5paH5Lu25ZCN5oiW55uu
5b2V6Lev5b6E44CCPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2Piog5qOA5p+l6Lev5b6E5piv
5ZCm5a2Y5ZyoPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2PmBgYHB5dGhvbjwvZGl2PjxkaXY+
cGF0aCA9IHBhdGhsaWIuUGF0aCgicGF0aC9maWxlIik8L2Rpdj48ZGl2PnBhdGguZXhpc3QoKTwv
ZGl2PjxkaXY+YGBgPC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2Piog5qOA5p+l6Lev5b6E5piv
5ZCm5piv5paH5Lu2PC9kaXY+PGRpdj4mbmJzcDs8L2Rpdj48ZGl2PmBgYHB5dGhvbjwvZGl2Pjxk
aXY+cGF0aCA9IHBhdGhsaWIuUGF0aCgicGF0aC9maWxlIik8L2Rpdj48ZGl2PnBhdGguaXNfZmls
ZSgpPC9kaXY+PGRpdj5gYGA8L2Rpdj48ZGl2PiZuYnNwOzwvZGl2PjxkaXY+YTwvZGl2PjxkaXY+
Jm5ic3A7PC9kaXY+">​</div>
</div>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
    <div id="blog_post_info"></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
            </div>
            <div class="postDesc">posted @ 
<span id="post-date">2017-07-27 09:22</span>&nbsp;<a href="https://www.cnblogs.com/jhao/">j_hao104</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>) <a href="https://i.cnblogs.com/EditPosts.aspx?postid=7243043" rel="nofollow"> 编辑</a> <a href="javascript:void(0)" onclick="AddToWz(7243043); return false;">收藏</a>
</div>
        </div>
	    
	    
    </div><!--end: topics 文章、评论容器-->
</div>
<script src="https://common.cnblogs.com/highlight/9.12.0/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 311482, cb_blogApp = 'jhao', cb_blogUserGuid = '333e07b8-8e8e-e611-845c-ac853d9f53ac';
    var cb_entryId = 7243043, cb_entryCreatedDate = '2017-07-27 09:22', cb_postType = 1; 
    loadViewCount(cb_entryId);
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container"></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;"></div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;">
            <script>
                if (new Date() >= new Date(2018, 9, 13)) {
                    googletag.cmd.push(function () { googletag.display("div-gpt-ad-1539008685004-0"); });
                }
            </script>
        </div>
    </div>
    <div id="under_post_kb"></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div>
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			


			<div id="blog-calendar" style="display:none"></div><script>loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div>
                    <script>loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright &copy; 2019 j_hao104
<br /><span id="poweredby">Powered by .NET Core 3.0.0-preview9-19423-09 on Linux</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


    <div id="page_end_html">
        <script language="javascript" type="text/javascript">

// 生成目录索引列表
// ref: http://www.cnblogs.com/wangqiguo/p/4355032.html
// modified by: zzq
function GenerateContentList()
{
    var mainContent = $('#cnblogs_post_body');
    var h2_list = $('#cnblogs_post_body h2');//如果你的章节标题不是h2,只需要将这里的h2换掉即可

    if(mainContent.length < 1)
        return;
 
    if(h2_list.length>0)
    {
        var content = '<a name="_labelTop"></a>';
        content += '<div id="navCategory">';
        content += '<p style="font-size:18px"><b>目录</b></p>';
        content += '<ul>';
        for(var i=0; i<h2_list.length; i++)
        {
            var go_to_top = '<div style="text-align: right"><a href="#_labelTop">回到顶部</a><a name="_label' + i + '"></a></div>';
            $(h2_list[i]).before(go_to_top);
            
            var h3_list = $(h2_list[i]).nextAll("h3");
            var li3_content = '';
            for(var j=0; j<h3_list.length; j++)
            {
                var tmp = $(h3_list[j]).prevAll('h2').first();
                if(!tmp.is(h2_list[i]))
                    break;
                var li3_anchor = '<a name="_label' + i + '_' + j + '"></a>';
                $(h3_list[j]).before(li3_anchor);
                li3_content += '<li><a href="#_label' + i + '_' + j + '">' + $(h3_list[j]).text() + '</a></li>';
            }
            
            var li2_content = '';
            if(li3_content.length > 0)
                li2_content = '<li><a href="#_label' + i + '">' + $(h2_list[i]).text() + '</a><ul>' + li3_content + '</ul></li>';
            else
                li2_content = '<li><a href="#_label' + i + '">' + $(h2_list[i]).text() + '</a></li>';
            content += li2_content;
        }
        content += '</ul>';
        content += '</div><p>&nbsp;</p>';
        content += '<p style="font-size:18px"><b>正文</b></p>';
        if($('#cnblogs_post_body').length != 0 )
        {
            $($('#cnblogs_post_body')[0]).prepend(content);
        }
    }   

}

GenerateContentList();
</script>
    </div>
</body>
</html>
