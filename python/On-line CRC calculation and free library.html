<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<!-- base href="https://www.lammertbies.nl/" -->
<meta name="viewport" content="width=device-width, initial-scale=1">


<link rel="alternate" hreflang="en" href="https://www.lammertbies.nl/comm/info/crc-calculation.html">

<link rel="alternate" hreflang="nl" href="https://www.lammertbies.nl/comm/info/nl_crc-calculation.html">



<link rel="shortcut icon" type="image/x-icon" href="https://www.lammertbies.nl/favicon.ico">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">




<meta name="robots" content="index,follow,noarchive">
<meta name="author" content="Lammert Bies © 1997-2017">

<meta name="description" content="On-line CRC calculation sheet. Free CRC routines downloadable. Covers CRC-16, 32, CCITT, DNP and Sick routines.">

<title>On-line CRC calculation and free library</title>
<style type="text/css">
<!--
html,body{height:100%}
body{padding:0;margin:0;text-align:left}
body,td,th,a,h1,h2,h3,caption,.rtxt,.ltxt{font-family:Verdana,Arial,Helvetica,sans-serif}
body,p,td{font-weight:normal;color:#000;text-decoration:none}
th{font-weight:bold}
a{color:#039;text-decoration:underline}
a:hover,a:active{color:#09F}
h1,h2,h3,.tabh1,.tabh2,.tabh3,h1 a, h2 a, h3 a{color:#039;text-decoration:none}
h1,.tabh1{font-size:15pt;font-weight:normal;line-height:125%}
h2,.tabh2{font-size:12.5pt;font-weight:bold}
h3,.tabh3{font-size:11pt;font-weight:bold}
caption,.caption{font-size:9pt;font-weight:bold;padding-bottom:0.6em;}
.osup,.osub{font-size:6pt}
sup{position:relative;bottom:0.5em;vertical-align:baseline}
#leftimg,.ltxt{float:left}
#rightimg,.rimg,.rtxt{float:right}
.rtxt,.ltxt{background:#000;height:25px;color:#FF0;font-weight:bold;font-size:13px;line-height:25px}
.rtxt a,.ltxt a{text-decoration:none;color:#FFF}
.headline{background:#000;border:0;width:100%;margin-top:10px;overflow:auto}
.content{padding:0 15px 15px 15px;text-align:left;vertical-align:top;font:80%/125% Verdana,Arial,Helvetica,sans-serif;overflow-y:hidden}
.leftmenu{width:160px;text-align:center;vertical-align:top;float:left;margin-bottom:-99999px;padding-bottom:99999px;overflow-y:hidden}
.leftmenu{background:#DDD;padding-top:10px}
.qlinkhead,.qlink{font: 9pt Arial,Verdana,Helvetica,sans-serif;white-space:nowrap;text-align:left;padding:5px 10px 5px 10px}
.qlink a{text-decoration:none}
.qlinkbutton{font-size:8pt;color:#F00;padding:5px}
dt{padding-bottom:3pt;font-weight:bold}
dd{padding-bottom:6pt}
.news{font-weight:normal}
.autoscale{height:auto;max-width:100%}
.googleadd{float:right;margin:0 0 6px 6px;height:280px;width:336px}
.googleaddleft{float:left;margin:0 20px 20px 0;height:280px;width:336px}
.googletopnew{float:right;margin:10px 0 6px 6px;width:336px}
#googlefoot{height:60px;width:468px}
#googleexit{height:15px;width:728px;margin-top:30px;margin-bottom:55px}
#googlefooterlow{height:90px;width:728px;margin-top:30px;margin-bottom:55px}
#googlefooterhigh{height:90px;width:728px;margin-top:30px;margin-bottom:55px}
#googletopexit{margin-top:30px;margin-bottom:30px;clear:both}
#googleshort{height:240px;width:120px;margin-top:30px;margin-bottom:20px}
#googlelong{height:600px;width:120px;margin-top:30px;margin-bottom:20px}
#googleblong{height:600px;width:160px;margin-top:10px;margin-bottom:20px}
.newgoogleheader{margin-top:10px;display:none}
#googlesearch{padding:0;white-space:nowrap;border:0;position:absolute;left:15px;top:10px}
.newgoogleexit{padding:0 0 15px 0;overflow:auto}
.googleleft{height:600px;width:160px}
table.pinout{border:1px solid #369;margin:3px;border-collapse:collapse}
.pinout td{padding:2pt 10pt 2pt 10pt;font-size:10pt}
.pinout th{padding:2pt 10pt 4pt 10pt;font-size:10pt;background:#369;color:#fff}
.tabdiv {margin-left:auto;margin-right:auto}
.tabdiv {text-align:center}
.tabdiv img {border:0;border-collapse:collapse;margin:0px 10px 0px 10px}
.centab {display:inline-block}
.leftcol {float:left;margin-left:auto;margin-right:auto;display:inline-block;text-align:center}
.rightcol {float:none;margin-left:auto;margin-right:auto;display:inline-block;text-align:center}
td.arrow,th.arrow{padding:0;vertical-align:middle;}
.even,.odd{vertical-align:baseline}
.even{background:#fff}
.odd{background:#eee}
.literature{clear:both}
.literature td{font-size:10pt}
.ltext{text-align:left}
.full{border:0;width:100%;height:100%;border-collapse:collapse}
.contentwrap{overflow:hidden}
.twocols td{font-size:10pt}
.footerline{font:8pt Arial,Verdana,Helvetica,sans-serif;width:100%;overflow:auto;color:#FFF;background:#369;vertical-align:middle;text-decoration:none;white-space:nowrap;margin-bottom:15px}
.footerline a{font-family:Arial,Verdana,Helvetica,sans-serif;color:#FFF;background:#369;text-decoration:none}
.footerline a:hover{color:#000;text-decoration:underline}
.footerline a:active{color:#000}
.leftfooter {float:left;vertical-align:middle;line-height:20px;height:20px}
.rightfooter {float:right;vertical-align:middle;line-height:20px;height:20px}
.like {float:left;margin-right:30px}
.kwoot{background:none #fff;border:2px solid #777;clear:both;color:#000;margin-left:auto;margin-right:auto;padding:0.35em 0.5em;margin-top:15px}
.kw_text{text-align:left;font-size:8pt;padding-bottom:0.45em}
.kw_auth{text-align:right;font-size:7pt}
.nowrap{white-space:nowrap}
.red{color:red;font-weight:bold}
blockquote{border:1px solid #000;margin:15px;padding:15px}
.blue{color:blue;font-weight:bold}
@media (min-width:1000px) { .googleleft,.leftmenu{width:300px} }
@media (max-width:600px) { .googletopnew{display:none} }
@media (max-width:820px) {
	.googleleft{display:none}
	.newgoogleheader{display:block}
	.leftmenu{float:none;width:100%;margin-bottom:0;padding-bottom:0}
	.qlink{float:left}
	.qlinkbutton{display:none}
	.qlinkhead{display:none}
}
pre{font-size:9pt;color:#066;white-space:pre-wrap;white-space:-moz-pre-wrap !important;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;}
div#___plusone_0 { vertical-align: bottom !important; }
-->
</style>
<style type="text/css" media="print">
<!--
.likes,.delicious,.googleadd,#googletopexit,#googlesearch,#googleexit,#googlefoot,.leftmenu,.kwoot,#menuLayer{display:none}
#maintitle{font-size:12pt;font-weight:bold}
-->
</style>

<link rel="preload" href="On-line%20CRC%20calculation%20and%20free%20library_files/integrator.js" as="script"><script src="On-line%20CRC%20calculation%20and%20free%20library_files/xpc_expansion_embed.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/xpc_expansion_embed.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/xpc_expansion_embed.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/xpc_expansion_embed.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/xpc_expansion_embed.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/xpc_expansion_embed.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/xpc_expansion_embed.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/xpc_expansion_embed.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/osd.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/ca-pub-5192891647196130.js"></script><script src="On-line%20CRC%20calculation%20and%20free%20library_files/show_ads_impl.js" id="google_shimpl"></script><script type="text/javascript" src="On-line%20CRC%20calculation%20and%20free%20library_files/integrator.js"></script><link rel="preload" href="On-line%20CRC%20calculation%20and%20free%20library_files/show_ads_impl.js" as="script"></head>
<body>





















































































































































































































































































































<div class="full">

<div class="newgoogleheader">
<script async="" src="On-line%20CRC%20calculation%20and%20free%20library_files/analytics.js"></script><script async="" src="On-line%20CRC%20calculation%20and%20free%20library_files/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5192891647196130" data-ad-slot="4933891742" data-ad-format="auto" data-adsbygoogle-status="done"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>


<div class="headline">
<div class="ltxt">
&nbsp;
&nbsp;<a href="https://www.lammertbies.nl/">Lammert Bies</a>&nbsp; &nbsp;
&nbsp;<a href="https://www.lammertbies.nl/comm/">Interfacing</a>&nbsp; &nbsp;
&nbsp;<a href="https://www.lammertbies.nl/sitemap.html">Sitemap</a>&nbsp; &nbsp;
&nbsp;<a href="https://www.lammertbies.nl/forum/index.php">Forum</a>&nbsp;
</div>

<div class="rtxt">
&nbsp;<span title="English">EN</span>&nbsp;
&nbsp;<a href="https://www.lammertbies.nl/comm/info/nl_crc-calculation.html" title="Nederlands">NL</a>&nbsp;

&nbsp;
</div>

</div>
<div style="clear:both;"></div>
<div class="contentwrap">
<div class="leftmenu">
<div class="qlinkhead"><b>Quick links</b></div>








<div class="qlink"><span class="qlinkbutton">•</span> <a href="https://www.lammertbies.nl/comm/info/RS-232_specs.html">RS-232 specs</a></div>



<div class="qlink"><span class="qlinkbutton">•</span> <a href="https://www.lammertbies.nl/comm/info/serial-uart.html">The serial UART</a></div>




<div class="qlink"><span class="qlinkbutton">•</span> <a href="https://www.lammertbies.nl/comm/cable/RS-232.html">RS-232 cables</a></div>









<div class="qlink"><span class="qlinkbutton">•</span> <a href="https://www.lammertbies.nl/comm/cable/plc.html">PLC cables</a></div>
<div class="qlink"><span class="qlinkbutton">•</span> <a href="https://www.lammertbies.nl/comm/info/modbus.html">Modbus interface</a></div>










<div class="qlink"><span class="qlinkbutton">•</span> <a href="https://www.lammertbies.nl/comm/info/VoIP-overview.html">VoIP overview</a></div>

<div class="qlink"><span class="qlinkbutton">•</span> <a href="https://www.lammertbies.nl/comm/software/">Software download</a></div>












<p>



</p><div class="googleleft">
<script async="" src="On-line%20CRC%20calculation%20and%20free%20library_files/adsbygoogle.js"></script>
<!-- cable-rs232-left-resp -->
<ins class="adsbygoogle" style="display: block; height: 600px;" data-ad-client="ca-pub-5192891647196130" data-ad-slot="6849608648" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><iframe id="aswift_0" name="aswift_0" src="On-line%20CRC%20calculation%20and%20free%20library_files/ads.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!1" width="300" height="600" frameborder="0"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>


<div style="clear:both;"></div>
</div><div class="content">

<div class="googletopnew">
<script async="" src="On-line%20CRC%20calculation%20and%20free%20library_files/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display: block; height: 280px;" data-ad-client="ca-pub-5192891647196130" data-ad-slot="8489993374" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent;"><iframe id="aswift_1" name="aswift_1" src="On-line%20CRC%20calculation%20and%20free%20library_files/ads_002.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!2" data-load-complete="true" width="336" height="280" frameborder="0"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>




<h1>On-line CRC calculation and free library</h1>

<ul>
<li><a href="https://www.lammertbies.nl/comm/info/crc-calculation.html#intr">Introduction on CRC calculations</a>
</li><li><a href="http://www.libcrc.org/">Free CRC calculation routines for download</a>
</li></ul>

<p>

</p><div id="CRCBlock"><div>
<table class="pinout">

<tbody><tr><th colspan="2" align="center">"123456789"</th></tr><tr class="odd"><td align="left">1 byte checksum</td><td align="left"><b>221</b></td></tr><tr class="even"><td align="left">CRC-16</td><td align="left"><b>0xBB3D</b></td></tr><tr class="odd"><td align="left">CRC-16 (Modbus)</td><td align="left"><b>0x4B37</b></td></tr><tr class="even"><td align="left">CRC-16 (Sick)</td><td align="left"><b>0x56A6</b></td></tr><tr class="odd"><td align="left">CRC-CCITT (XModem)</td><td align="left"><b>0x31C3</b></td></tr><tr class="even"><td align="left">CRC-CCITT (0xFFFF)</td><td align="left"><b>0x29B1</b></td></tr><tr class="odd"><td align="left">CRC-CCITT (0x1D0F)</td><td align="left"><b>0xE5CC</b></td></tr><tr class="even"><td align="left">CRC-CCITT (Kermit)</td><td align="left"><b>0x8921</b></td></tr><tr class="odd"><td align="left">CRC-DNP</td><td align="left"><b>0x82EA</b></td></tr><tr class="even"><td align="left">CRC-32</td><td align="left"><b>0xCBF43926</b></td></tr></tbody></table>

<form name="myform" id="myform" onsubmit="return getcrc();">
<input type="text" value="123456789" size="25" id="crc" name="crc" maxlength="800">
<input type="submit" value="Calculate CRC"><br>
Input type: <input type="radio" value="ascii" id="methoda&quot;" name="method" checked="checked">ASCII <input type="radio" value="hex" id="methodh" name="method">Hex
</form>
</div>
</div>

<script type="text/javascript"><!--
function getcrc() {
var xmlHttp; var crc_val; var method_val;
var crc = document.getElementById( "crc" );
if ( crc != undefined ) { crc_val = crc.value; if ( crc_val == undefined ) crc_val = '123456789'; } else crc_val = '123456789';
var method = document.getElementById( "methodh" );
if ( method != undefined ) { if ( method.checked ) method_val = 'hex'; else method_val = 'ascii'; } else method_val = 'ascii';
if ( window.ActiveXObject ) { try { xmlHttp = new window.ActiveXObject( "Msxml2.XMLHTTP" );
} catch (er) { try { xmlHttp = new window.ActiveXObject( "Microsoft.XMLHTTP" ); } catch (er2) {} } }
else if ( window.XMLHttpRequest ) { xmlHttp = new XMLHttpRequest(); if ( xmlHttp.overrideMimeType ) { xmlHttp.overrideMimeType( "text/xml" ); } }
if ( xmlHttp ) { xmlHttp.onreadystatechange = function() {
if ( xmlHttp.readyState == 4  &&  xmlHttp.status == 200 ) { document.getElementById( 'CRCBlock' ).innerHTML = xmlHttp.responseText; } }
xmlHttp.open( "GET", "https://www.lammertbies.nl/comm/info/crc-calculation.php?crc=" + crc_val + "&method=" + method_val, true );
xmlHttp.send( null );
} return false; }
//--></script>
<script language="JavaScript1.2" type="text/javascript">getcrc();</script>


<p>


</p><p></p><div id="googletopexit">
<script async="" src="On-line%20CRC%20calculation%20and%20free%20library_files/adsbygoogle.js"></script>
<!-- cable-rs232-topexit-resp -->
<ins class="adsbygoogle" style="display: block; height: 90px;" data-ad-client="ca-pub-5192891647196130" data-ad-slot="5049441813" data-ad-format="link" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:1200px;background-color:transparent;"><ins id="aswift_2_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:1200px;background-color:transparent;"><iframe id="aswift_2" name="aswift_2" src="On-line%20CRC%20calculation%20and%20free%20library_files/ads_003.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!3" data-load-complete="true" width="1200" height="90" frameborder="0"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div>



<h2 id="intr">Introduction on CRC calculations</h2>

Whenever digital data is stored or interfaced, data corruption might occur. Since the beginning of computer
science, people have been thinking of ways to deal with this type of problem. For serial data they came up with
the solution to attach a
<a href="https://www.lammertbies.nl/comm/info/RS-232_specs.html#erro">parity bit</a>
to each sent byte.
This simple detection mechanism works if an odd number of bits in a byte changes, but an even
number of false bits in one byte will not be detected by the parity check. To overcome this problem people have
searched for mathematical sound mechanisms to detect multiple false bits. The <strong>CRC</strong> calculation
or <em>cyclic redundancy
check</em> was the result of this. Nowadays CRC calculations are used in all types of communications. All
packets sent over a network connection are checked with a CRC. Also each data block on your harddisk has a CRC
value attached to it. Modern computer world cannot do without these CRC calculation. So let's see why they are so
widely used. The answer is simple, they are powerful, detect many types of errors and are extremly fast to calculate
especially when dedicated hardware chips are used.

<p>

One might think, that using a checksum can replace proper CRC calculations. It is certainly easier to calculate
a checksum, but checksums do not find all errors. Lets take an example string and calculate a one byte checksum.
The example string is "<em>Lammert</em>" which converts to the
<a href="https://www.lammertbies.nl/comm/info/ascii-characters.html">ASCII</a>
values
[&nbsp;<b>76</b>, <b>97</b>, <b>109</b>, <b>109</b>, <b>101</b>, <b>114</b>, <b>116</b>&nbsp;]. The one
byte checksum of this array can be calculated by adding all values, than dividing it by
<b>256</b> and keeping the
remainder. The resulting checksum is&nbsp;<b>210</b>. You can use the calculator above to check this result.

</p><p>

In this example we have used a one byte long checksum which gives us
256 different values. Using a two byte checksum will
result in 65,536 possible different checksum values and when a four byte value is used there are more than four
billion possible values. We might conclude that with a four byte checksum the chance that we accidentily do
not detect an error is less than 1 to 4 billion. Seems rather good, but this is only theory. In practice, bits
do not change purely random during communications. They often fail in bursts, or due to electrical spikes.
Let us assume that in our example array the lowest significant bit of the character
'<b>L</b>' is set, and the lowest significant bit of charcter '<b>a</b>' is lost during communication.
The receiver will than
see the array
[&nbsp;<b>77</b>, <b>96</b>, <b>109</b>, <b>109</b>, <b>101</b>, <b>114</b>, <b>116</b>&nbsp;]
representing the string "<em>M`mmert</em>".
The checksum for this new
string is still <b>210</b>, but the result is obviously wrong, only after two bits changed. Even if we had used
a four byte long checksum we would not have detected this transmission error. So calculating a checksum may be
a simple method for detecting errors, but doesn't give much more protection than the parity bit, independent of
the length of the checksum.

</p><p>

The idea behind a check value calculation is simple. Use a function <em>F(bval,cval)</em> that inputs one data byte
and a check
value and outputs a recalculated check value. In fact checksum calculations as described
above can be defined in this way. Our one byte checksum example could have been calculated with the following
function (in C language) that we call repeatedly for each byte in the input string. The initial value for
<em>cval</em> is 0.

</p><p>

</p><blockquote>
<pre>int F_chk_8( int bval, int cval ) {

    retun ( bval + cval ) % 256;
}
</pre>
</blockquote>

<p>

The idea behind CRC calculation is to look at the data as one large binary number. This number is divided
by a certain value and the remainder of the calculation is called the CRC. Dividing in the CRC calculation at first looks to
cost a lot of computing power, but it can be performed very quickly if we use a method similar to the one
learned at school. We will as an example calculate the remainder for the character
'<b>m</b>'—which is <b>1101101</b> in binary notation—by dividing it by <b>19</b> or
<b>10011</b>. Please note that 19 is an odd number. This is necessary as we will see further on.
Please refer to your schoolbooks as the binary calculation method here is not very different
from the decimal method you learned when you were young. It might only look a little bit strange. Also
notations differ between countries, but the method is similar.

</p><p>
</p><blockquote>
<pre>                    1 0 1 = 5
            -------------
1 0 0 1 1 / 1 1 0 1 1 0 1
            1 0 0 1 1 | |
            --------- | |
              1 0 0 0 0 |
              0 0 0 0 0 |
              --------- |
              1 0 0 0 0 1
                1 0 0 1 1
                ---------
                  1 1 1 0 = 14 = remainder
</pre>
</blockquote>
<p>

With decimal calculations you can quickly check that <b>109</b> divided by <b>19</b>
gives a quotient of <b>5</b> with <b>14</b> as the remainder. But what
we also see in the scheme is that every bit extra to check only costs one binary comparison and
in 50% of the cases one binary substraction.
You can easily increase the number of bits of the test data string—for example to 56 bits if we use our example
value "<em>Lammert</em>"—and the result can be calculated with 56 binary comparisons and an average of 28
binary substractions. This can be implemented in hardware directly with only very few transistors involved. Also
software algorithms can be very efficient.

</p><p>

For CRC calculations, no normal substraction is used, but all calculations are done <em>modulo&nbsp;2</em>.
In that situation you ignore carry bits and in effect the substraction will be equal to an <em>exclusive or</em>
operation. This looks strange, the resulting remainder has a different value, but from an algebraic point of view
the functionality is equal. A discussion of this would need university level knowledge of algebraic field theory
and I guess most of the readers are not interested in this. Please look at the end of this document for books that
discuss this in detail.

</p><p>

Now we have a CRC calculation method which is implementable in both hardware and software and also has a more
<em>random</em> feeling than calculating an ordinary checksum. But how will it perform in practice when one
ore more bits are wrong? If we choose the divisor—19 in our example—to be an
<em>odd</em> number,
you don't need high level mathematics to see that every single bit error will be detected.
This is because every single bit error will let the dividend change with a power of&nbsp;2. If for example
bit&nbsp;<b>n</b> changes from 0&nbsp;to&nbsp;1, the value of the dividend will increase with 2<sup>n</sup>. If on the
other hand bit&nbsp;<b>n</b> changes from 1&nbsp;to&nbsp;0, the value of the dividend will decrease with
2<sup>n</sup>. Because you can't divide any power of two by an odd number, the remainder of the CRC calculation
will change and the error will not go unnoticed.

</p><p>

The second situation we want to detect is when two single bits change in the data. This requires some mathematics
which can be read in Tanenbaum's book mentioned below. You need to select your divisor very carefully to be
sure that independent of the distance between the two wrong bits you will always detect them. It is known, that
the commonly used values 0x8005 and 0x1021 of the CRC16 and CRC-CCITT calculations perform
very good at this issue. Please note that other values might or might not, and you cannot easily calculate which divisor
value is appropriate for detecting two bit errors and which isn't.
Rely on extensive mathematical research on this issue done some decades ago by highly skilled mathematicians
and use the values these people obtained.

</p><p>

Furthermore, with our CRC calculation we want to detect all errors where
 an odd number of bit changes. This can be achieved by using a
divisor with an even number of bits set. Using modulo&nbsp;2 mathematics
 you can
show that all errors with an odd number of bits are detected. As I have 
said before, in modulo&nbsp;2 mathematics
the substraction function is replaced by the <em>exclusive or</em>. There are four possible XOR operations.

</p><p>
</p><blockquote>
<pre>0 XOR 0 =&gt; 0     even =&gt; even
0 XOR 1 =&gt; 1     odd  =&gt; odd
1 XOR 0 =&gt; 1     odd  =&gt; odd
1 XOR 1 =&gt; 0     even =&gt; even
</pre>
</blockquote>
<p>

We see that for all combinations of bit values, the oddness of the expression remains the same. When chosing a
divisor with an even number of bits set, the oddness of the remainder is equal to the oddness of the divident.
Therefore, if the oddness of the dividend changes because an odd number of bits changes, the remainder will
also change. So all errors which change an odd number of bits will be detected by a CRC calculation which is performed with
such a divisor. You might have seen that the commonly used divisor values 0x8005 and 0x1021 actually have
an odd number of bits, and not even as stated here.
This is because inside the algorithm there is a "hidden" extra bit 2<sup>16</sup> which
makes the actual used divisor value 0x18005 and 0x11021 inside the algorithm.

</p><p>

Last but not least we want to detect all burst
errors with our CRC calculation with a maximum length to be detected, 
and all longer burst errors to be detected with a high probability.
A burst error is quite common in communications. It is the type of error
 that occurs because of lightning,
relay switching, etc. where during a small period all bits are set to 
one. To really understand this you also need
to have some knowledge of modulo&nbsp;2 algebra, so please accept that 
with a 16 bit divisor you will be
able to detect all bursts with a maximum length of 16 bits, and all 
longer bursts with at least 99.997%
certainty.

</p><p>

In a pure mathematical approach, CRC calculation is written down as polynomial calculations. The divisor value
is most often not described as a binary number, but a polynomial of certain order. In normal life some polynomials
are used more often than others. The three used in the on-line CRC calculation on this page are the
16 bit wide CRC16 and CRCCCITT and the 32 bits wide CRC32. The latter is probably most used now, because
amongst others it is the CRC generator for all network traffic verification and validation.

</p><p>

For all three types of CRC calculations I have a
<a href="http://www.libcrc.org/">free software library</a>
available. The test program can be
used directly to test files or strings. You can also look at the source codes and integrate these CRC routines
in your own program. Please be aware of the initialisation values of the CRC calculation and possible necessary
postprocessing like flipping bits. If you don't do this you might get different results than other CRC
implementations. All this pre and post processing is done in the example program so it should be not to difficult
to make your own implementation working. A common used test is to calculate the CRC value for the
<a href="https://www.lammertbies.nl/comm/info/ascii-characters.html">ASCII</a>
string
"123456789". If the outcome of your routine matches the outcome of the test program or the outcome on this
website, your implementation is working and compatible with most other implementations.

</p><p>

Just as a reference the polynomial functions for the most common CRC calculations. Please remember that the highest
order term of the polynomal (x<sup>16</sup> or x<sup>32</sup>) is not present in the binary number representation,
but implied by the algorithm itself.

</p><p>

</p><center>
<table class="pinout">
<tbody><tr><th colspan="3">Polynomial functions for common CRC's</th></tr>
<tr class="odd"><td align="left">CRC-16</td><td align="left">0x8005</td><td align="left">x<sup>16</sup> + x<sup>15</sup> + x<sup>2</sup> + 1</td></tr>
<tr class="even"><td align="left">CRC-CCITT</td><td align="left">0x1021</td><td align="left">x<sup>16</sup> + x<sup>12</sup> + x<sup>5</sup> + 1</td></tr>
<tr class="odd"><td align="left">CRC-DNP</td><td align="left">0x3D65</td><td align="left">x<sup>16</sup> + x<sup>13</sup> + x<sup>12</sup> + x<sup>11</sup> + x<sup>10</sup> + x<sup>8</sup> + x<sup>6</sup> + x<sup>5</sup> + x<sup>2</sup> + 1</td></tr>
<tr class="even"><td align="left">CRC-32</td><td align="left">0x04C11DB7</td><td align="left">x<sup>32</sup> + x<sup>26</sup> + x<sup>23</sup> + x<sup>22</sup> + x<sup>16</sup> + x<sup>12</sup> + x<sup>11</sup> + x<sup>10</sup> + x<sup>8</sup> + x<sup>7</sup> + x<sup>5</sup> + x<sup>4</sup> + x<sup>2</sup> + x<sup>1</sup> + 1</td></tr>
</tbody></table>
</center>


<table class="literature">
<tbody><tr><td colspan="3"><b>Literature</b></td></tr>
<tr><td valign="top" nowrap="nowrap" align="center"><i>2002</i></td><td valign="top" align="left"><b>Computer Networks</b>, describing common network systems and the theory and algorithms behind their implemenentation.</td><td valign="top" nowrap="nowrap" align="left"><i>Andrew S. Tanenbaum</i></td></tr>
<tr><td valign="top" nowrap="nowrap" align="center"><i>various</i></td><td valign="top" align="left"><b>The Art of Computer Programming</b>
 is the main reference for seminumerical algorithms. Polynomial 
calculations are described in depth. Some level of mathematics is 
necessary to fully understand it though.</td><td valign="top" nowrap="nowrap" align="left"><i>Donald E. Knuth</i></td></tr>
<tr><td valign="top" nowrap="nowrap" align="center"><i>–</i></td><td valign="top" align="left"><a href="http://www.dnp.org/">DNP 3.0, or <em>distributed network protocol</em></a> is a communication protocol designed for use between substation computers, RTUs <em>remote terminal units</em>, IEDs <em>intelligent electronic devices</em>
 and master stations for the electric utility industry. It is now also 
used in familiar industries like waste water treatment, transportation 
and the oil and gas industry.</td><td valign="top" nowrap="nowrap" align="left"><i>DNP User Group</i></td></tr>
</tbody></table>

<table class="kwoot"><tbody><tr><td>
<div class="kw_text"> Only two things are infinite,<br>the universe and human stupidity,<br>and I'm not sure about the former.</div>
<div class="kw_auth">ALBERT EINSTEIN </div>
</td></tr></tbody></table>



<p></p><div class="newgoogleexit">
<script async="" src="On-line%20CRC%20calculation%20and%20free%20library_files/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display: block; height: 90px;" data-ad-client="ca-pub-5192891647196130" data-ad-slot="2223790319" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_3_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:1200px;background-color:transparent;"><ins id="aswift_3_anchor" style="display: block; border: medium none; height: 90px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 1200px; background-color: transparent; overflow: hidden;"><iframe id="aswift_3" name="aswift_3" src="On-line%20CRC%20calculation%20and%20free%20library_files/ads.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!4" style="width: 1200px; height: 90px;" data-load-complete="true" width="1200" height="90" frameborder="0"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div>


</div></div>
<div class="footerline">
<div class="leftfooter">&nbsp;&nbsp;Sep. 2017 </div>
<div class="rightfooter">&nbsp;&nbsp;&nbsp;Copyright © 1997-2017 Lammert Bies, All rights reserved&nbsp;&nbsp;</div>
</div>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-295305-1', 'auto');
  ga('send', 'pageview');

</script>



<iframe id="google_osd_static_frame_4660452993405" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe></body><iframe id="google_esf" name="google_esf" src="On-line%20CRC%20calculation%20and%20free%20library_files/zrt_lookup.html" style="display: none;" data-ad-client="ca-pub-5192891647196130"></iframe></html>