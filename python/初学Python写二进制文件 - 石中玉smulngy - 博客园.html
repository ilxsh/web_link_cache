<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="referrer" content="origin" />
    <title>初学Python写二进制文件 - 石中玉smulngy - 博客园</title>
<meta property="og:description" content="初学Python写二进制文件 把一个图片的16进制数据保存到一个txt文本，从这个txt文本读出并保存为二进制文件jpg图片文件。说明：图片读出的0xff粘贴ff到文本中，读出时是字符串的”ff”。 " />
    <link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=svlZeZMvc3He7PqOD4T7SOuQn0_kIfLBYiy3idqd35Y1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/AnotherEon001/bundle-AnotherEon001.css?v=U5UoQIHpO_JKVLfS-_cGiJfvyStJK8n3Tl6p4K1f3ZI1"/>
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/AnotherEon001/bundle-AnotherEon001-mobile.css?v=08p1Qv0xTKiGzulu3Yk-n0vdvlMkpJByZdyNDoJhbTY1"/>
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/smulngy/rss"/>
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/smulngy/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/smulngy/wlwmanifest.xml"/>
    <script src="//common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script>var currentBlogId=282901;var currentBlogApp='smulngy',cb_enable_mathjax=false;var isLogined=false;</script>
    <script src="/bundles/blog-common.js?v=OFBZTzkHKauV7mtIFLF9jlqrX-sesK9-mY9KjurLrq01" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>


<div id="wrapper">
<div id="header">

<div id="top">
<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/smulngy/">石中玉smulngy</a></h1>
<div id="subtitle"></div>
</div>
<div id="sub"><div id="blog_stats">
<div class="BlogStats">随笔 - 69, 文章 - 0, 评论 - 8, 引用 - 0</div>
</div></div>



</div>
<div id="main_container">
<div id="main_content">
<div id="content">
	
        <div id="post_detail">
	<div class="post">
		<h2>
			<a id="cb_post_title_url" href="https://www.cnblogs.com/smulngy/p/7488812.html">初学Python写二进制文件</a>
		</h2>
		<div class="postbody">
		<div id="cnblogs_post_body" class="blogpost-body"><p><strong>初学Python写二进制文件</strong></p>
<p>把一个图片的16进制数据保存到一个txt文本，从这个txt文本读出并保存为二进制文件jpg图片文件。说明：图片读出的0xff粘贴ff到文本中，读出时是字符串的&rdquo;ff&rdquo;。</p>
<p>我主要是用C语言，python为初学，python的编码思想还是用C的思想。</p>
<p>一、<strong>C的实现：</strong></p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &lt;string.h&gt;</p>
<p>/*******************************</p>
<p>函数名：DSP_2_HEX</p>
<p>函数功能：字符串与十六进制数据转换</p>
<p>函数输入参数：dsp 要转换的字符串的地址</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex 转换16进制后的存放地址</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count 转换16进制后的长度</p>
<p>"1234"-&gt;{0x12,0x34}</p>
<p>修改: 较严格判断字符类型&nbsp; &lsquo;0&rsquo;~&rsquo;9&rsquo; &rsquo;A&rsquo;~&rsquo;F&rsquo; &lsquo;a&rsquo;~&rsquo;f&rsquo;</p>
<p>********************************/</p>
<p>int DSP_2_HEX( unsigned char *dsp, unsigned char *hex, int count )</p>
<p>{</p>
<p>&nbsp;&nbsp;&nbsp; int i;</p>
<p>&nbsp;&nbsp;&nbsp; unsigned char&nbsp; ucTmp = 0;</p>
<p>&nbsp;&nbsp;&nbsp; for (i = 0; i &lt; count; i++)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ucTmp = dsp[i*2];</p>
<p>/*将字符转为十六进制 &lsquo;0&rsquo;~&rsquo;9&rsquo;-&gt;0x00~0x09、&nbsp; &rsquo;A&rsquo;~&rsquo;F&rsquo;-&gt;0x0A~0x0F&nbsp; &lsquo;a&rsquo;~&rsquo;f&rsquo;-&gt;0x0A~0x0F*/</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(ucTmp&gt;=0x30 &amp;&amp; (ucTmp&lt;=0x39))</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i] = ucTmp-0x30;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(ucTmp &gt;= 0x41 &amp;&amp; ucTmp&lt;= 0x46)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i] = ucTmp-0x41+10 ;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if (ucTmp &gt;= 0x61 &amp;&amp; ucTmp&lt;= 0x66)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i] = ucTmp-0x61+10 ;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>/*第一个字符作为十六进制的高4位*/</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i] = hex[i] &lt;&lt; 4;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ucTmp = dsp[i*2+1];</p>
<p>/*将字符转为十六进制 &lsquo;0&rsquo;~&rsquo;9&rsquo;-&gt;0x00~0x09、&nbsp; &rsquo;A&rsquo;~&rsquo;F&rsquo;-&gt;0x0A~0x0F&nbsp; &lsquo;a&rsquo;~&rsquo;f&rsquo;-&gt;0x0A~0x0F*/</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(ucTmp&gt;=0x30 &amp;&amp; (ucTmp&lt;=0x39))</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i] += ucTmp-0x30;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if(ucTmp &gt;= 0x41 &amp;&amp; ucTmp&lt;= 0x46)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i] += ucTmp-0x41+10 ;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if (ucTmp &gt;= 0x61 &amp;&amp; ucTmp&lt;= 0x66)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i] += ucTmp-0x61+10 ;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*// 只有大写的字母可以转到十六进制</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i] = ( (dsp[i*2]&lt;=0x39)? dsp[i*2]-0x30 : dsp[i*2]-0x41+10 );</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i] = (hex[i] &lt;&lt; 4) &amp;0xF0;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hex[i]+= ( (dsp[i*2+1]&lt;=0x39) ? dsp[i*2+1]-0x30 : dsp[i*2+1]-0x41+10 );</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */</p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; return 0;</p>
<p>}</p>
<p>int main()</p>
<p>{</p>
<p>&nbsp;&nbsp;&nbsp; FILE *fp;</p>
<p>&nbsp;&nbsp;&nbsp; int i = 0;</p>
<p>&nbsp;&nbsp;&nbsp; int j =0;</p>
<p>&nbsp;&nbsp;&nbsp; int len = 0;</p>
<p>&nbsp;&nbsp;&nbsp; unsigned char buffer[40*1024] = {0}; //从txt文本里读出的字符串</p>
<p>&nbsp;&nbsp;&nbsp; unsigned char photo[40*1024] = {0}; //将字符串中空格、回车等去掉后字符串</p>
<p>&nbsp;&nbsp;&nbsp; unsigned char photoHEX[20*1024] = {0};&nbsp;&nbsp; //转为十六进制后的数组</p>
<p>&nbsp;&nbsp;&nbsp; int ch;</p>
<p>/*从txt中读出字符保存到buffer数组*/</p>
<p>&nbsp;&nbsp;&nbsp; fp = fopen("D:\\photo.txt","r");</p>
<p>&nbsp;&nbsp;&nbsp; if(fp != NULL)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while((ch=fgetc(fp))!=EOF)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; buffer[i] = ch;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i++;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; fclose(fp);</p>
<p>&nbsp;&nbsp;&nbsp; fp = NULL;</p>
<p>&nbsp;&nbsp;&nbsp; len = i; //字符长度</p>
<p>/*过滤掉字符串中的空格、回车(换行)、制表符*/</p>
<p>&nbsp;&nbsp;&nbsp; for (i = 0; i&lt;len; i++)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(buffer[i]!=' ' &amp;&amp; buffer[i]!= '\r' &amp;&amp; buffer[i]!='\n' &amp;&amp; buffer[i]!='\t'))</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; photo[j] = buffer[i];</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j++;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<blockquote>
<p>/*将过滤后的字符串转为十六进制*/</p>
</blockquote>
<blockquote>
<p>len = j/2; //要转换为十六进制的长度</p>
</blockquote>
<p>&nbsp;&nbsp;&nbsp; memset(photoHEX,0,sizeof(photoHEX));</p>
<p>&nbsp;&nbsp;&nbsp; DSP_2_HEX(photo,photoHEX,len);</p>
<p>/*保存为二进制图片*/</p>
<p>&nbsp;&nbsp;&nbsp; fp = fopen("D:\\photo.jpg","wb");</p>
<p>&nbsp;&nbsp;&nbsp; if(fp != NULL)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fwrite(photoHEX,1,len,fp);</p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; fclose(fp);</p>
<p>&nbsp;&nbsp;&nbsp; fp = NULL;</p>
<p>&nbsp;&nbsp;&nbsp; return 1;</p>
<p>}</p>
<p>二、<strong>python实现 </strong></p>
<p>Python直接以脚本方式，没有写成模块的方式。</p>
<p># -*- coding: utf-8 -*-</p>
<p>#codeing=utf-8</p>
<p>import struct</p>
<p>"""</p>
<p>打开txt文件，并读出文件内容，保存到str类型的filet变量中</p>
<p>"""</p>
<p>with open("D:\\photo.txt","r") as f:</p>
<p>&nbsp;&nbsp;&nbsp; filet= f.read();</p>
<p>print(type(filet))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #查看filet类型打印为&lt;type 'str'&gt;</p>
<p>strY = ''&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #建立空字符串保存过滤后的字符串</p>
<p>i = 0&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>"""</p>
<p>打开二进制文件，并把txt的字符串转换为二进制后写入</p>
<p>"""</p>
<p>with open("D:\\photo.jpg","wb") as g:</p>
<p>&nbsp;&nbsp;&nbsp; for x in filet :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #逐个字符迭代</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if x != ' ' and x!= '\n' and x!= '\r' and x!= '\t': #过滤掉空格、回车(换行）、制表符</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strY += x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #将字符串连接到strY</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i+=1;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(i%2 == 0):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #每两个字符转换一次为HEX，并写入文件</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xHex = int(strY,16)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #将两个字符转为HEX &ldquo;ff &rdquo;-&gt;0x000000ff</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xHex = struct.pack("B",xHex)&nbsp;&nbsp; #将HEX数据转为unsigned char的字符串</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g.write(xHex)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #write()函数参数只能为str类型</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; strY = ''&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #strY 置为空字符串</p>
<p>Struct模块的pack和unpack不在这里介绍。</p>
<p>有这个测试的原因是因为，在嵌入式中读出串口摄像头返回的数据并在仿真模式下在控制台打印了出来。目的把读出来的数据写成图片文件，验证摄像头返回的数据是否正确。虽然本嵌入式中没有文件系统，但可以直接在嵌入式中的仿真模式下直接写成图片文件就可以验证，</p>
<p>/*保存为二进制图片*/</p>
<p>&nbsp;&nbsp;&nbsp; fp = fopen("D:\\photo.jpg","wb");</p>
<p>&nbsp;&nbsp;&nbsp; if(fp != NULL)</p>
<p>&nbsp;&nbsp;&nbsp; {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fwrite(photoHEX,1,len,fp);</p>
<p>&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;&nbsp;&nbsp; fclose(fp);</p>
<p>&nbsp;&nbsp;&nbsp; fp = NULL;</p>
<p>结果兜了一大圈来实现。吐槽一下思维僵化。</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


		</div>
		<p class="postfoot">
			posted on <span id="post-date">2017-09-07 11:27</span> <a href='https://www.cnblogs.com/smulngy/'>石中玉smulngy</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href ="https://i.cnblogs.com/EditPosts.aspx?postid=7488812" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(7488812);return false;">收藏</a>
		</p>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=282901,cb_entryId=7488812,cb_blogApp=currentBlogApp,cb_blogUserGuid='80e9bbb1-4e05-e611-9fc1-ac853d9f53cc',cb_entryCreatedDate='2017/9/7 11:27:00';loadViewCount(cb_entryId);var cb_postType=1;var isMarkdown=false;</script>
	
	</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id='comment_form' class='commentform'>
<a name='commentform'></a>
<div id='divCommentShow'></div>
<div id='comment_nav'><span id='span_refresh_tips'></span><a href='javascript:void(0);' onclick='return RefreshCommentList();' id='lnk_RefreshComments' runat='server' clientidmode='Static'>刷新评论</a><a href='#' onclick='return RefreshPage();'>刷新页面</a><a href='#top'>返回顶部</a></div>
<div id='comment_form_container'></div>
<div class='ad_text_commentbox' id='ad_text_under_commentbox'></div>
<div id='ad_t2'></div>
<div id='opt_under_post'></div>
<script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id='cnblogs_c1' class='c_ad_block'>
    <div id='div-gpt-ad-1546353474406-0' style='height:250px; width:300px;'></div>
</div>
<div id='under_post_news'></div>
<div id='cnblogs_c2' class='c_ad_block'>
    <div id='div-gpt-ad-1539008685004-0' style='height:60px; width:468px;'></div>
</div>
<div id='under_post_kb'></div>
<div id='HistoryToday' class='c_ad_block'></div>
<script type='text/javascript'>
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
</div>
</div>
<div id="leftmenu">


<h3>导航</h3>
<ul>
<li>
<a id="blog_nav_sitehome" href="https://www.cnblogs.com/">博客园</a></li>
<li>
<a id="blog_nav_myhome" class="two_words" href="https://www.cnblogs.com/smulngy/">首页</a></li>
<li>
<a id="blog_nav_newpost" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li>
<a id="blog_nav_contact" accesskey="9" class="two_words" rel="nofollow" href="https://msg.cnblogs.com/send/%E7%9F%B3%E4%B8%AD%E7%8E%89smulngy">联系</a></li>
<li>
<a id="blog_nav_rss" class="two_words" href="https://www.cnblogs.com/smulngy/rss">订阅</a>
<a id="blog_nav_rss_image" href="https://www.cnblogs.com/smulngy/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>
</li>
<li>
<a id="blog_nav_admin" class="two_words" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>

<div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
<meta name="vs_showGrid" content="False">

<h3>公告</h3>
<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>

<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>

</div>
</div>
<div class="clear"></div>
<div id="footer">

<p id="footer">
	Powered by: 
	<br />
	
	<a id="Footer1_Hyperlink3" NAME="Hyperlink1" href="https://www.cnblogs.com/" style="font-family:Verdana;font-size:12px;">博客园</a>
	<br />
	Copyright &copy; 石中玉smulngy
</p>
</div>
</div>


</body>
</html>
