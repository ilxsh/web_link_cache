(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1590:function(e,t,n){"use strict";var r=n(4),a=n(8),o=n(7),i=n(5),s=n(33),c=n(6),l=n(0),u=n(3),d=n.n(u),p=n(1),m=n(39),f=n(21),h=n(1603),b=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).trackCardShowTimer=null,n.handleIntersectionChange=function(e,t){if(e.isIntersecting){t.disconnect();var r=n.props,a=r.view,o=void 0===a?{}:a,i=r.extra;n.trackCardShowTimer=setTimeout(function(){f.default.trackCardShow(Object(s.default)(n),o,i)})}},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.setModule()}},{key:"componentDidUpdate",value:function(){this.setModule()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.trackCardShowTimer)}},{key:"setModule",value:function(){var e=this.props,t=e.module,n=e.index,r=e.isAd,a=e.moduleName,o=e.content,i=e.list,s=e.card,c=e.attachedInfoBytes;if(t){var l=Object(m.findDOMNode)(this);l&&f.default.setModule(l,{module:t,index:n,is_ad:r,module_name:a},function(e,t,n,r){return Object.assign({},e&&{card:{content:e}},{},t&&{card:t},{},n&&{list:n},{},r&&{attached_info_bytes:r})}(o,s,i,c))}}},{key:"render",value:function(){var e=this.props,t=e.visibleThreshold,n=e.trackCardShow,r=e.children;return n?Object(l.b)(h.a,{threshold:t,onChange:this.handleIntersectionChange},r):r}}]),t}(p.Component);b.propTypes={id:d.a.string,module:d.a.string,moduleName:d.a.string,index:d.a.string,isAd:d.a.bool,content:d.a.object,extra:d.a.object,trackCardShow:d.a.bool,attachedInfoBytes:d.a.string},b.defaultProps={id:null,module:null,index:null,isAd:!1,content:null,extra:null,attachedInfoBytes:null,trackCardShow:!1,visibleThreshold:0};var v=b,g=n(1653),y=n.n(g),C=function(e){return function(t){var n=function(n){function s(){return Object(r.a)(this,s),Object(o.a)(this,Object(i.a)(s).apply(this,arguments))}return Object(c.a)(s,n),Object(a.a)(s,[{key:"render",value:function(){var n="function"==typeof e?e(this.props):e;return Object(l.b)(v,n,Object(l.b)(t,this.props))}}]),s}(p.Component);return y()(n,t)}};n.d(t,"a",function(){return v}),n.d(t,"b",function(){return C})},1593:function(e,t,n){var r=n(1676),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},1594:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1598:function(e,t,n){var r=n(1757),a=n(1762);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},1600:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.track=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).reduce(function(t,n){return t[(0,c.decamelize)(n)]=e[n],t},{});return l.default.stringify(t)}(t);n&&(e.indexOf("?")>-1?e+="&".concat(n):e+="?".concat(n));return Promise.race([g(e),new Promise(function(e){return setTimeout(e,1e3)})])},t.numberFormat=function(e){var t=e;e>999&&(t="".concat((e/1e3).toFixed(1),"K"));e>999999&&(t="".concat((e/1e6).toFixed(1),"M"));return t},t.niceNumber=function(e){if("number"!=typeof e)return"";if(e<1e3)return e.toString();if(e<1e4)return"".concat((t=(e/1e3).toFixed(1),(n=t.lastIndexOf(".0"))===t.length-2?t.slice(0,n):t),"K");var t,n;if(e<1e6)return"".concat(Math.floor(e/1e3),"K");if(e<1e9)return"".concat(Math.floor(e/1e6),"M");return"".concat(Math.floor(e/1e9),"G")},t.numberFormatDot=function(e){return(0,p.cnNiceNumber)(e)},t.secondesFormat=function(e){if(Number.isNaN(parseInt(e,10)))return"00:00";return[parseInt(e/60,10),e%60].join(":").replace(/\b(\d)\b/g,"0$1")},t.get=y,t.isAdblockEnabled=function(){var e=document.createElement("div");e.className="adsbox",document.body.appendChild(e);var t="none"===getComputedStyle(e).display;return document.body.removeChild(e),t},t.deepClone=function e(t){if(!C(t))throw new Error("obj 不是一个对象！");var n=Array.isArray(t)?[]:{};Object.keys(t).forEach(function(r){"object"!==(0,o.default)(t[r])?n[r]=t[r]:n[r]=e(t[r])});return n},t.convertNullDeepClone=function e(t){if(!C(t))throw new Error("obj 不是一个对象！");var n=Array.isArray(t)?[]:{};Object.keys(t).forEach(function(r){"object"!==(0,o.default)(t[r])?n[r]=t[r]:null===t[r]?n[r]="":n[r]=e(t[r])});return n},t.imgInformationChange=O,t.AddWatermark=function(e){var t=O(e);if(t&&t.includes("adx4.")||!t)return t;return t.includes("600x250")?t.replace(/(.*)\./,"$1|adx4."):t.replace(/(.*)\./,"$1_adx4.")},t.imgUrlAddAdx4=function(e){if(e&&e.includes("adx4."))return e;return e&&e.match(/\d*\x\d*/)?e.replace(/(.*)\./,"$1|adx4."):e.replace(/(.*)\./,"$1_adx4.")},t.formatNumber=function(e){if("number"!=typeof e)return"";var t=String(e);return t.indexOf(".")>0?t.replace(/(\d)(?=(\d{3})+\.)/g,"$1,"):t.replace(/(\d)(?=(\d{3})+$)/g,"$1,")},t.numberToArr=function(e){for(var t="".concat(e).split("."),n=(0,a.default)(t,2),r=n[0],o=n[1],i=[],s=1;s<=r;s+=1)i.push(1);if(parseInt(o,10))return i.push(Number("0.".concat(o)).toFixed(1)),i;return i},t.isAdditionalCreative=function(e){return!!y(e,["canvas","creativeContent"])},t.getVersionAndOS=function(e){var t=e.iOS,n=e.Android,r=e.ZhihuIOSVersionName,a=e.ZhihuAndroidVersionName;if(t)return{OS:"IOS",version:r||""};if(n)return{OS:"ANDROID",version:a||""};return{OS:"",version:""}},t.compareVersion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=j(e),r=j(t);if(Number(n.major)-Number(r.major)!=0)return Number(n.major)-Number(r.major)>0?1:-1;if(Number(n.minor)-Number(r.minor)!=0)return Number(n.minor)-Number(r.minor)>0?1:-1;if(Number(n.patch)-Number(r.patch)!=0)return Number(n.patch)-Number(r.patch)>0?1:-1;return 0},t.throttle=function(e,t,n){return function(){var r=Date.now(),a=parseInt(d.default.get(e))||0;r-a<t||(d.default.set(e,r),n())}},t.addUrlParam=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return e;var n=Object.keys(t).map(function(e){return"".concat(e,"=").concat(t[e])}).join("&");if(!n)return e;var r=e.split("#"),o=(0,a.default)(r,2),i=o[0],s=o[1],c=/\?/g.test(i)?"&":"?",l="".concat(i).concat(c).concat(n);return s?"".concat(l,"#").concat(s):l},t.getCreativeId=t.queryUrlString=t.patchURLTrackCI=t.replaceTrackConfig=t.getDownloadPluginTrackConfig=t.loadAnswerAdBanner=t.loadBanner=t.requestByFetch=t.request=t.str2Json=t.isThirdAd=t.onPartialShowedOnce=t.onCompletelyShowedOnce=t.onShowedOnce=t.isShowed=t.getEnv=void 0;var a=r(n(123)),o=r(n(798)),i=r(n(107)),s=r(n(1607)),c=n(11),l=r(n(36)),u=n(1751),d=r(n(31)),p=n(260);t.requestByFetch=function(e){var t,n,r=e.url,a=e.params;return r?fetch(r,{method:"post",headers:{"X-Requested-With":"fetch"},body:(t=(0,c.decamelizeKeys)(a),Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&e.append(n,r),e},n||new FormData))}).catch(function(){}):Promise.reject(new Error("request but no url"))};t.loadBanner=function(e){var t=e.query,n=e.url;return fetch("".concat(n,"?").concat(l.default.stringify(t))).then(function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()}).then(function(e){return e.banner}).catch(function(e){console.error(e)})};t.loadAnswerAdBanner=function(e){var t=e.questionId,n=e.env,r=void 0===n?{}:n,a=r.xAppVersion,o=r.xAppZa,i=r.xNetworkType,c=r.xAppFlavor,l=r.appViewConfig,u=(l=void 0===l?{}:l)["X-SUGER"];return fetch("".concat("https://www.zhihu.com/commercial_api/banners_v3/app_answer_float","?question_token=").concat(t),{method:"GET",query:{question_token:t},headers:(0,s.default)({},a&&{"X-APP-VERSION":a},o&&{"X-APP-ZA":o},i&&{"X-NETWORK-TYPE":i},c&&{"x-app-flavor":c},u&&{"x-suger":u}),fetchOptions:{abParams:["ios_ad_cta","adr_cta","top_adpar","top_root_ac","top_slot_ad_pos","top_raf","top_ac_merge"]}}).then(function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()}).then(function(e){return e.banner}).catch(function(e){console.error(e)})};t.getDownloadPluginTrackConfig=function(e){var t=e.os,n=e.pageId,r=e.pageType;return fetch("https://www.zhihu.com/api/v4/brand/plugin/100/track?platform=".concat(t,"&content_type=").concat(r,"&url_token=").concat(n)).then(function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()}).catch(function(e){console.error(e)})};t.replaceTrackConfig=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return e?Object.keys(e).reduce(function(r,a){var o=e[a].map(function(e){return n(function(e,t){var n=t.sessionId,r=void 0===n?"":n,a=t.os,o=void 0===a?"":a,i=t.pageId,s=void 0===i?"":i,c=t.xSuger,l=void 0===c?"{}":c,u=t.callback,d=void 0===u?"":u,p=t.creativeId,m=void 0===p?"":p,f=t.cardType,h="string"==typeof l?JSON.parse(l):l,b=h.IDFA,v=void 0===b?"":b,g=h.IMEI,y=void 0===g?"":g,C=h.ANDROID_ID,O=void 0===C?"":C,j=h.OAID,_=void 0===j?"":j,w=d;return/[&\/?]/.test(d)&&(w=encodeURIComponent(w)),f&&(e=e+"&ev="+f),e.replace("__SESSIONID__",r).replace("__REQUESTID__",r).replace("__OS__",o).replace("__ATOKEN__",s).replace("__IDFA__",v).replace("__IMEI__",y).replace("__ANDROIDID__",O).replace("__OAID__",_).replace("__CREATIVEID__",m).replace("__CALLBACK__",w)}(e,t))});return(0,s.default)({},r,(0,i.default)({},a,o))},{}):{}};var m=function(e){if(!document.body.contains(e))return!1;var t=e.getBoundingClientRect(),n=document.documentElement;return t.top<(window.innerHeight||n.clientHeight)};t.isShowed=m;t.onShowedOnce=function(e,t,n){if(m(e))t.call(n);else var r=(0,u.subscribe)("scroll",function(){m(e)&&(t.call(n),r.unsubscribe())})};var f=function(e){if(!document.body.contains(e))return!1;var t=e.getBoundingClientRect(),n=document.documentElement;return t.bottom<(window.innerHeight||n.clientHeight)};t.onCompletelyShowedOnce=function(e,t,n){if(f(e))t.call(n);else var r=(0,u.subscribe)("scroll",function(){f(e)&&(t.call(n),r.unsubscribe())})};var h,b=function(e){return function(t){if(!document.body.contains(t))return!1;var n=t.getBoundingClientRect();return e(n)}},v=(h=function(e){var t=document.documentElement;return e.top+parseInt(.3*e.height)<(window.innerHeight||t.clientHeight)},function(e,t,n){if(b(h)(e))t.call(n);else var r=(0,u.subscribe)("scroll",function(){b(h)(e)&&(t.call(n),r.unsubscribe())})});t.onPartialShowedOnce=v;var g=function(e){return new Promise(function(t,n){var r=new Image;r.onload=t,r.addEventListener("error",n),r.src=e}).catch(function(e){console.warn("zhihu-advert request error: ",e)})};function y(e,t,n){return(Array.isArray(t)?t:t.replace(/\[/g,".").replace(/\]/g,"").split(".")).reduce(function(e,t){return(e||{})[t]},e)||n}function C(e){return["[object Array]","[object Object]"].includes(Object.prototype.toString.call(e))}t.request=g;function O(e){return e&&e.includes("1200x500")?e.replace(/(.*)1200x500/,"$1600x250"):e}function j(e){var t=e.split("."),n={major:"0",minor:"0",patch:"0",tail:""};if(t[0]&&t[0].match(/\d+/)){var r=t[0].match(/\d+/);n.major=r[0]}if(t[1]&&t[1].match(/\d+/)){var a=t[1].match(/\d+/);n.minor=a[0]}if(t[2]&&t[2].match(/\d+/)){var o=t[2].match(/\d+/);n.patch=o[0]}var i=t[t.length-1];if(i&&i.match(/(\d+)(\D(.*))/)){var s=i.match(/(\d+)(\D(.*))/);n.tail=s[2]}return n}t.str2Json=function(e){try{return JSON.parse(e)}catch(e){return{}}};t.isThirdAd=function(e){return["google_pc_js","baidu_pc_js","qihoo_pc_js"].includes(e)};var _,w=(_={os:"",pc:""},function(){if(_.os)return _;var e=navigator.userAgent;return/iPhone|iPod|iPad/i.test(e)?_.os="ios":/android/i.test(e)?_.os="android":(_.os="pc",/Macintosh|OS X 10/i.test(e)?_.pc="mac":/Windows/i.test(e)&&(_.pc="windows")),_});t.getEnv=w;var k=function(e){if("string"!=typeof e||0===e.length)return{};var t=e.substr(e.indexOf("?")+1);return l.default.parse(t)};t.queryUrlString=k;t.patchURLTrackCI=function(e){var t=k(window.location.href).plugcb;if(!t)return e;var n=k(t).cid;return n?"".concat(e).concat(e.includes("?")?"&":"?","ci=").concat(n):e};t.getCreativeId=function(){var e=k(window.location.href).plugcb;return e?k(e).cid:""}},1601:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},1603:function(e,t,n){"use strict";var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(3),l=n.n(c),u=n(1),d=n(39),p=(n(1625),function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).handleChange=function(e,t){var r=n.props,a=r.onObserve,o=r.onChange;a&&a(e),e.forEach(function(e){o&&o(e,t)})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.findDOMNode)(this);e&&(this.observer=this.createObserver(),this.observer.observe(e))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null)}},{key:"createObserver",value:function(){var e=this.props,t=e.root,n=e.rootMargin,r=e.threshold,a=e.trackVisibility,o=e.delay;return new window.IntersectionObserver(this.handleChange,{root:t,rootMargin:n,threshold:r,trackVisibility:a,delay:o})}},{key:"render",value:function(){return this.props.children}}]),t}(u.Component));p.propTypes={root:l.a.object,rootMargin:l.a.string,threshold:l.a.oneOfType([l.a.number,l.a.arrayOf(l.a.number)]),trackVisibility:l.a.bool,delay:l.a.number,onObserve:l.a.func,onChange:l.a.func},t.a=p},1607:function(e,t,n){var r=n(107);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}},1608:function(e,t,n){var r=n(1632),a=n(1758),o=n(1759),i="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:i:c&&c in Object(e)?a(e):o(e)}},1609:function(e,t,n){var r=n(1631),a=n(1673);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),i?a(n,l,u):r(n,l,u)}return n}},1610:function(e,t,n){"use strict";var r=n(801),a=n(1780);e.exports={connections:{},EE:new r,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:a}},1612:function(e,t,n){"use strict";e.exports=n(1741)},1615:function(e,t,n){var r=n(1675),a=n(1679);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},1616:function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},1617:function(e,t,n){var r=n(1681),a=n(1778),o=n(1615);e.exports=function(e){return o(e)?r(e):a(e)}},1618:function(e,t,n){var r=n(1786),a=n(1787),o=n(1788),i=n(1789),s=n(1790);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},1619:function(e,t,n){var r=n(1633);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1620:function(e,t,n){var r=n(1598)(Object,"create");e.exports=r},1621:function(e,t,n){var r=n(1805);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1622:function(e,t,n){"use strict";var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(3),l=n.n(c),u=n(1),d=n(18),p=n.n(d),m=n(36),f=n.n(m),h=n(54),b=n.n(h),v=n(365),g=n(2123),y=n(1696),C=(n(1743),n(0)),O=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={isInputing:!1,value:n.props.value||""},n.handleChange=function(e){n.setState({value:Object(v.cutStringWidth)(e.target.value,30)})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.value&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isInputing,r=t.value,a=this.props.onChange,o=!n&&!r,i=!n&&r;return Object(C.b)("div",{className:"Editable-VideoTitleInput-container"},Object(C.b)(y.a,null,Object(C.b)("div",{className:p()("Editable-VideoTitleInput-innerContainer",{"Editable-VideoTitleInput-innerContainer--isBeforeIconShown":o}),onClick:function(){return e.setState({isInputing:!0})}},o&&Object(C.b)(g.a,{className:"Editable-VideoTitleInput-beforeIcon",center:!0}),!n&&Object(C.b)("div",{className:p()("Editable-VideoTitleInput-value",{"Editable-VideoTitleInput-value--noContent":!r})},r||"好的标题可以获得更多的推荐及关注者"),n&&Object(C.b)("input",{className:"Editable-VideoTitleInput",value:r,ref:function(e){e&&e.focus()},placeholder:"标题长度不超过 15 个字",onChange:this.handleChange,onBlur:function(t){e.setState({isInputing:!1}),a(t.target.value)}}),i&&Object(C.b)(g.a,{className:"Editable-VideoTitleInput-afterIcon",center:!0}))))}}]),t}(u.Component),j=n(1671),_=n(2137),w=n(1744),k=n.n(w),x=function(e){var t=e.className;return Object(C.b)("svg",{viewBox:"0 0 72 72",className:t},Object(C.b)("circle",{cx:"36",cy:"36",fill:"#fff",fillOpacity:".95",r:"36"}),Object(C.b)("path",{d:"M50.835 37.06L29.477 49.97a1.203 1.203 0 0 1-1.664-.43 1.25 1.25 0 0 1-.17-.631V23.091c0-.682.543-1.234 1.213-1.234.219 0 .433.06.62.173l21.359 12.91a1.245 1.245 0 0 1 0 2.12z",fill:"#444",fillRule:"nonzero"}))},S=(n(1745),function(){return Object(C.b)("div",{className:"VideoCardPlayButton"},Object(C.b)(x,{className:"VideoCardPlayButton-icon"}))}),N=function(e){var t=e.fileSize;return Object(C.b)("div",{className:"VideoCardPlayButton-withFileSize--outer"},Object(C.b)("span",{className:"VideoCardPlayButton-withFileSize"},Object(C.b)(_.a,{center:!0,size:14}),t?k()(t,{decimalPlaces:1,unit:"MB"}):"流量播放"))};function A(e){var t=e.thumbnail,n=e.isLens,r=e.canPlay;return n||r?t&&"string"==typeof t?Object(C.b)("img",{src:t,alt:"视频封面"}):t||null:Object(C.b)(x,{className:"VideoCard-playIcon VideoCard-playIcon--nonLens"})}n(1746);var E=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={isMobile:!1,playerShown:!1,playerLoading:!1},n.handlePlay=function(e){e.preventDefault();var t=n.props,r=t.interactive,a=t.isConverting,o=t.isLens,i=t.playerUrl,s=t.onPlayFailed,c=t.onLensPlay,l=t.onBeforePlay;r&&!a&&(i||!s?l?Promise.resolve(l()).then(function(e){!1!==e&&n.play()}):o&&c&&c()||n.play():s())},n.handlePlayerLoad=function(){n.loadingCount--,0===n.loadingCount&&n.setState({playerLoading:!1})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.setState({isMobile:b()(navigator.userAgent).Mobile})}},{key:"canPlay",value:function(){return this.props.isLens}},{key:"inlinePlayer",value:function(){var e=this.props,t=e.interactive,n=e.isLens,r=e.onLensPlay,a=e.onBeforePlay;return t&&n&&!(r||a)}},{key:"showContent",value:function(){var e=this.props,t=e.content,n=e.isLens,r=e.title;return!e.isVideoTitleEditable&&(!n||Boolean(t||r))}},{key:"showDescription",value:function(){var e=this.props.isLens;return this.showContent()&&!e}},{key:"play",value:function(){var e=this.props.onPlay;this.loadingCount=2,this.setState({playerShown:!0,playerLoading:!0}),setTimeout(this.handlePlayerLoad,1e3),e&&e()}},{key:"renderContent",value:function(){var e=this.props,t=e.interactive,n=e.isLens,r=e.title,a=e.thumbnail,o=e.source,i=e.url,s=e.showPlayButton,c=e.usePlayButtonWithFileSize,l=e.fileSize,u=e.rightBottomButton,d=e.isVideoTitleEditable,m=e.onVideoTitleChange,f=e.isConverting,h=e.content,b=this.canPlay(),v=this.inlinePlayer(),g=Object(C.b)(A,{thumbnail:a,isLens:n,canPlay:b}),y=s&&!f&&(c?Object(C.b)(N,{fileSize:l}):Object(C.b)(S,null)),j=Object(C.b)("div",{className:"VideoCard-layout"},b?Object(C.b)("div",{className:"VideoCard-video"},Object(C.b)("div",{className:"VideoCard-video-content"},v?this.renderPlayer():Object(C.b)("div",{className:p()("VideoCard-thumbnail",{"VideoCard-thumbnail--placeholder":!a}),onClick:this.handlePlay},g,y,u))):Object(C.b)("div",{className:"VideoCard-poster"},g),this.showContent()&&(h||Object(C.b)("div",{className:"VideoCard-content"},Object(C.b)("div",{className:"VideoCard-title"},r),this.showDescription()&&Object(C.b)("div",{className:"VideoCard-description"},o&&Object(C.b)("span",{className:"VideoCard-source"},o),Object(C.b)("span",{className:"VideoCard-badge"},"视频")))),d&&Object(C.b)(O,{value:r,onChange:m}));return n?j:t?Object(C.b)("a",{className:"VideoCard-link",href:i,target:"_blank",rel:"noopener noreferrer"},j):Object(C.b)("div",{className:"VideoCard-link"},j)}},{key:"renderPlayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,n=t.source,r=t.playerUrl,a=t.onIframeRef,o=t.useMSE,i=f.a.stringify({autoplay:e&&"lens"===n,useMSE:o});return Object(C.b)(j.a,{placeholder:Object(C.b)("div",{className:"VideoCard-player"})},Object(C.b)("div",{className:"VideoCard-player"},Object(C.b)("iframe",{ref:a,frameBorder:0,allowFullScreen:!0,src:"".concat(r,"?").concat(i),onLoad:this.handlePlayerLoad})))}},{key:"render",value:function(){var e=this.props,t=e.interactive,n=e.isConverting,r=this.state,a=r.isMobile,o=r.playerShown,i=r.playerLoading;return Object(C.b)("div",{className:p()("VideoCard",{"VideoCard--converting":n,"VideoCard--interactive":t,"VideoCard--mobile":a})},this.renderContent(),o&&Object(C.b)("div",{className:p()("VideoCard-overlay",{"is-loading":i})},this.renderPlayer(!0)),Object(C.b)("div",{className:p()("VideoCard-mask",{"is-shown":i})}))}}]),t}(u.Component);E.propTypes={interactive:l.a.bool,showPlayButton:l.a.bool,usePlayButtonWithFileSize:l.a.bool,fileSize:l.a.number,onPlay:l.a.func,onPlayFailed:l.a.func,onLensPlay:l.a.func,onBeforePlay:l.a.func,rightBottomButton:l.a.oneOfType([l.a.element,l.a.string]),thumbnail:l.a.oneOfType([l.a.element,l.a.string]),content:l.a.object},E.defaultProps={interactive:!0,showPlayButton:!0};var L=E;n.d(t,"b",function(){return L}),n.d(t,"a",function(){return x})},1623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1663);t.isTag=function(e){return r.isTag(e)},t.isCDATA=function(e){return"cdata"===e.type},t.isText=function(e){return"text"===e.type},t.isComment=function(e){return"comment"===e.type},t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")}},1624:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",function(){return r})},1625:function(e,t,n){e.exports=n(56)(289)},1627:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.isGdtAd=x,t.getGdtLandingUrl=S,t.zaTrack=g,t.zaSetModule=v,t.initCmTrack=k,t.initTrack=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,a=t.viewEntity,o=void 0===a?{}:a,i=t.modules,s=n||{},c=s.view,l=s.extra;v(e,o,i),setTimeout(function(){(0,f.onShowedOnce)(e,function(){g("cardShow",e,c,l)})},0),k(e,r)},t.openHybridAd=function(e,t,n){return E({data:e,node:t,clickPoint:n,type:"open"})},t.openHybrid=function(e,t){return new Promise(function(n){u.default.ready().then(function(){return u.default.supportsAction(e).then(function(r){r?u.default.dispatch(e,t).then(function(){return n(!0)},function(){return n(!1)}):n(!1)})},function(){return n(!1)})})},t.clickTrack=O,t.clickTrackExtra=function(e){var t=e.clickTracks;O(void 0===t?[]:t,null,"click_button")},t.viewTrack=_,t.closeTrack=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(Boolean).map(function(e){return C(e)}),t=Promise.all(e).catch(function(){return null});return Promise.race([t,new Promise(function(e){return setTimeout(e,500)})])},t.debugTrack=function(e,t){var n=e.debugTracks,r=void 0===n?[]:n,a=e.style;function o(e){var t=e.cl,n=e.ct,o=e.tw,i=e.th,s=e.bl,c=e.bt,l=e.bw,u=e.bh,d=e.bp;r.forEach(function(e){var r="et=ad_card_click&ev=".concat(t,"x").concat(n,"x").concat(o,"x").concat(i,"x").concat(d,"&etu=").concat(s,"x").concat(c,"x").concat(l,"x").concat(u,"&eru=").concat(a);(0,f.request)(e+(e.includes("?")?"&":"?")+r)})}try{var i=t.clientX,s=t.clientY,c=t.currentTarget,l=c.getBoundingClientRect(),d=l.top,p=l.left,m=l.width,h=l.height,b=(l.bottom,i-p),v=s-d,g=function(e){var t=(document.getElementsByClassName("AnswerToolbar-container")||[])[0];if(!t)return;return t.getBoundingClientRect().top-e}(d);u.default.supportsAction("answer/nextButtonInfo").then(function(e){e?u.default.dispatch("answer/nextButtonInfo").then(function(e){var t=e.x,n=e.y,r=e.h,a=e.w,i=t-p,s=n-d;o({cl:b,ct:v,tw:m,th:h,bl:i,bt:s,bw:a,bh:r,bp:g})}):o({cl:b,ct:v,tw:m,th:h,bp:g})})}catch(t){console.error(t)}},t.preloadHybridAd=function(e,t){return E({data:e,node:t,type:"preload"})},t.openFormAd=function(e){return E({data:e,type:"adOpenForm"})},t.dataOriginTrack=function(e,t){e&&e.length&&e.map(function(e){return(0,f.track)(e,{et:t?"page_adjson":"page_ads"})})},t.getHybridAd=N,t.viewExtraTrack=w,t.normalTracks=void 0;var a=r(n(123)),o=n(1),i=n(39),s=r(n(36)),c=r(n(1846)),l=r(n(21)),u=r(n(63)),d=n(11),p=r(n(1848)),m=n(1664),f=n(1600),h={commonAd:"ad/open",preloadAd:"ad/preload",answerAd:"answer/openAd",adOpenForm:"ad/openForm"};function b(e){return e instanceof o.Component?(0,i.findDOMNode)(e):e}function v(e,t,n){var r=t.moduleName,a=void 0===r?"ExternalAdItem":r,o=t.index,i=n.card,s=i.zaAdInfoJson,c=i.type,u=void 0===c?"ExternalAd":c,d=i.id,p=i.token,m=n.otherModule,f=Object.assign({card:{content:{ad_info:s&&JSON.parse(s),type:u,id:d,token:p}}},m);l.default.setModule(b(e),{module:"ExternalAdItem",module_name:a,is_ad:!0,index:o},f)}function g(e,t,n,r){"cardShow"===e?l.default.trackCardShow(b(t),n,r):"trackEvent"===e&&l.default.trackEvent(b(t),n,r)}var y="sugar.zhihu.com";function C(e,t){var n=e,r=/^https?:\/\/[\w-.]+(:\d+)?/i.exec(e)[0];return r&&r.match(y)&&(n=(0,f.addUrlParam)(n,{ets:(new Date).getTime()})),n=function(e){return"string"!=typeof e?e:e.replace(/__TS__/g,function(){return parseInt(Date.now()/1e3)})}(n),(0,f.track)(n,n.indexOf(y)>-1&&t?{fl:t}:void 0)}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.filter(Boolean).map(function(e){var a="".concat(e).concat(n?"&et=".concat(n):"");return C(a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=void 0===n?"":n,a=t.payload,o=void 0===a?{}:a;if(r===m.CLICK_TRACK_TYPE.TopicClick){var i=o.url;return"".concat(e,"&etu=").concat(btoa(unescape(encodeURIComponent(i))))}if(r===m.CLICK_TRACK_TYPE.ExtendClick&&0===e.indexOf("https://sugar.zhihu.com"))try{var s=e.slice(),l=parseInt(Date.now()/1e3),u="".concat((0,c.default)(s).pathname,"+").concat(l),d=(0,p.default)(u),f=o.clickEvent,h=void 0===f?{}:f,b=h.clientX,v=h.clientY,g=h.currentTarget.getBoundingClientRect(),y=g.width,C=g.height,O=g.left,j=v-g.top,_="".concat(parseInt(b-O),"x").concat(parseInt(j),"x").concat(parseInt(y),"x").concat(parseInt(C));return"".concat(s,"&ev=").concat(_,"&emfen=").concat(d,"&emfts=").concat(l)}catch(t){return e}return e}(a,r),t)}),o=Promise.all(a).catch(function(){return null});return Promise.race([o,new Promise(function(e){return setTimeout(e,500)})])}function j(e,t){e&&e.length&&e.map(function(e){return C(e,t)})}function _(e,t,n,r){t&&t.length&&(0,f.onShowedOnce)(e,function(){t.map(function(e){return Promise.race([C(e,n),new Promise(function(e,t){return setTimeout(t,5e3)})]).then(function(){return{status:200}}).catch(function(){return{status:600}}).then(function(t){return{et:"third_imp",ev:t.status||601,etu:btoa(unescape(encodeURIComponent(e))),plugin:(0,f.isAdblockEnabled)()}}).then(function(e){if(e){var t=s.default.stringify(e);(r||[]).map(function(e){return e?(0,f.request)(t?"".concat(e).concat(e.includes("?")?"&":"?").concat(t):e):null})}})})})}function w(e,t){t&&t.length&&(0,f.onPartialShowedOnce)(e,function(){t.map(function(e){return C("".concat(e))})})}function k(e,t){var n=t.impressionTracks,r=t.debugTracks,a=t.viewTracks,o=t.viewXTracks,i=t.xAppFlavor;j(n,i),_(e,a,i,r),w(e,o)}function x(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").indexOf("c.gdt.qq.com")>-1}function S(e,t,n){if(!x(e)||!t||!n)return e;var r=t.getBoundingClientRect(),a=r.left,o=r.top,i=n.clientX-a,s=n.clientY-o,c={__DOWN_X__:Math.abs(i),__DOWN_Y__:Math.abs(s),__UP_X__:Math.abs(i),__UP_Y__:Math.abs(s)};return Object.keys(c).reduce(function(e,t){return e.replace(t,c[t])},e)}function N(e,t,n,r){console.log("We are sending a ".concat(t," request to Hybrid ").concat(e));var o=e.conversionTracks,i=(0,a.default)(e.creatives,1)[0],s=e.videoProgress,c=e.sdk,l=e.downloadSilent,u=void 0!==l&&l,p=e.isNewWebview,m=void 0!==p&&p,f=e.conversionTrackJs,b=e.isSpeeding,v=e.cdnMap,g=e.experimentInfo,y=e.extraConversionTracks,C=i.landingUrl,O=i.appPromotionUrl,j=i.deepUrl,_=i.packageName,w=i.brand,k=i.thumbnailExtraInfo,x=i.nativeUrl,N=void 0===x?"":x,A=i.canvas;return[h.commonAd,h.preloadAd,h.adOpenForm].includes(t)?{is_speeding:b,cdn_map:v,download_silent:u,conversion_tracks:o,sdk:(0,d.decamelizeKeys)(c),conversion_track_js:f,extra_conversion_tracks:(0,d.decamelizeKeys)(y),experiment_info:g,creative:{package_name:_,shouldUseNewWebView:m,landing_url:S(C,n,r),app_promotion_url:O,deep_url:j,thumbnail_extra_info:(0,d.decamelizeKeys)(k),video_progress:s,brand:w,native_url:N,canvas:(0,d.decamelizeKeys)(A)}}:{ad:{downloadSilent:u,conversionTracks:o,sdk:c,creatives:[{shouldUseNewWebView:m,landingUrl:S(C,n,r),conversionTracks:o,appPromotionUrl:O,deepUrl:j,brand:w,nativeUrl:N}]}}}var A=function(e){return"preload"===e?h.preloadAd:"adOpenForm"===e?h.adOpenForm:h.commonAd};function E(e){var t=e.data,n=e.node,r=e.clickPoint,a=e.type,o=A(a);return new Promise(function(e){u.default.ready().then(function(){return u.default.supportsAction(o).then(function(a){a?u.default.dispatch(o,{ad:N(t,o,n,r)}).then(function(){return e(!0)},function(){return e(!1)}):o===h.commonAd&&u.default.dispatch(h.answerAd,{ad:N(t,h.answerAd,n,r)}).then(function(){return e(!0)},function(){return e(!1)})})}).catch(function(){var e=t.landingUrl;if(e){var n=document.createElement("a");n.href=e,n.click()}})})}var L={videoTrack:function(e,t,n){t&&t.length&&(0,f.onShowedOnce)(e,function(){t.map(function(e){return C("".concat(e,"&et=auto_play"),n)})})},impressionTrack:j,viewTrack:_,extraConversionTrack:function(e,t){t&&t.length&&(0,f.onShowedOnce)(e,function(){t.map(function(e){return C("".concat(e))})})}};t.normalTracks=L},1630:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultImageIcon=function(e){return i.default.createElement("svg",(0,o.default)({viewBox:"0 0 24 19",width:"24",height:"18",fill:"#e6eaee"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M12.8 2.5c4.4 0 9.4 15.6 9.4 16H0S2.8 6 6 6.4c1.2 0 1.8 5.8 1.8 5.8s2.5-9.5 5-9.8zm7.8 3c-2 0-3-1.2-3-2.7 0-1.6 1.5-2.8 3-2.8 1.6 0 2.8 1.2 2.8 2.8 0 1.5-1.2 2.7-2.8 2.7z"}))},t.DownloadIcon=function(e){return i.default.createElement("svg",(0,o.default)({width:"22",height:"24",viewBox:"0 0 22 24"},e),i.default.createElement("path",{d:"M12.5529341,14.1404734 L18.169832,9.26282809 C18.7810874,8.65157268 19.7534925,8.63293695 20.3417595,9.22120397 C20.9300266,9.80947106 20.9113909,10.7818762 20.3001355,11.3931316 L13.0513943,17.6878498 L12.2520561,18.4871879 C11.4710076,19.2682365 10.2046776,19.2682365 9.42362902,18.4871879 L8.70753902,17.7710979 L1.69466746,11.7582264 C1.10640039,11.1699593 1.12503611,10.1975542 1.73629152,9.58629879 C2.34754694,8.97504338 3.31995206,8.95640766 3.90821914,9.54467473 L9.54022989,14.3735893 L9.54022989,1.50635209 C9.54022989,0.674416801 10.2146467,1.52824032e-16 11.046582,0 C11.8785173,-8.18957847e-16 12.5529341,0.674416801 12.5529341,1.50635208 L12.5529341,14.1404734 Z M21.298428,22.2454939 L21.298428,22.2581981 C21.298428,23.0866252 20.6268551,23.7581981 19.798428,23.7581981 L2.2947352,23.7581981 C1.466308,23.7581981 0.7947352,23.0866252 0.7947352,22.2581981 L0.7947352,22.2454939 C0.7947352,21.4170668 1.466308,20.7454939 2.2947352,20.7454939 L19.798428,20.7454939 C20.6268551,20.7454939 21.298428,21.4170668 21.298428,22.2454939 Z"}))},t.PauseIcon=function(e){return i.default.createElement("svg",(0,o.default)({width:"100",height:"100",viewBox:"0 0 100 100"},e),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("circle",{cx:"50",cy:"50",r:"47.222",fill:"#000",fillOpacity:".2"}),i.default.createElement("path",{fill:"#FFF",d:"M50,100 C22.3857625,100 0,77.6142375 0,50 C0,22.3857625 22.3857625,0 50,0 C77.6142375,0 100,22.3857625 100,50 C100,77.6142375 77.6142375,100 50,100 Z M50,97.2222222 C76.0801132,97.2222222 97.2222222,76.0801132 97.2222222,50 C97.2222222,23.9198868 76.0801132,2.77777778 50,2.77777778 C23.9198868,2.77777778 2.77777778,23.9198868 2.77777778,50 C2.77777778,76.0801132 23.9198868,97.2222222 50,97.2222222 Z M66.0426405,48.1352959 C67.5072274,49.0506627 67.5117218,50.5319565 66.0426405,51.4501323 L43.8196795,65.339483 C42.3550926,66.2548498 41.1678103,65.6054361 41.1678103,63.8674518 L41.1678103,35.7179765 C41.1678103,33.9896292 42.3505982,33.3277694 43.8196795,34.2459452 L66.0426405,48.1352959 Z"})))},t.TriangleIcon=c,t.CloseIcon=l,t.ArrowDown=function(e){return i.default.createElement("svg",(0,o.default)({width:"24",height:"24",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M12.0005,13.0003752 L8.2845,9.21837516 C7.9905,8.92737516 7.5145,8.92737516 7.2205,9.21837516 C6.9265,9.50837516 6.9265,9.97937516 7.2205,10.2703752 L11.4685,14.7823752 C11.7625,15.0733752 12.2385,15.0733752 12.5325,14.7823752 L16.7795,10.2703752 C17.0735,9.97937516 17.0735,9.50937516 16.7795,9.21837516 C16.4855,8.92737516 16.0105,8.92737516 15.7165,9.21737516 L12.0005,13.0003752 Z"}))},t.ArrowUp=function(e){return i.default.createElement("svg",(0,o.default)({width:"22",height:"24",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M12.0005,13.0003752 L8.2845,9.21837516 C7.9905,8.92737516 7.5145,8.92737516 7.2205,9.21837516 C6.9265,9.50837516 6.9265,9.97937516 7.2205,10.2703752 L11.4685,14.7823752 C11.7625,15.0733752 12.2385,15.0733752 12.5325,14.7823752 L16.7795,10.2703752 C17.0735,9.97937516 17.0735,9.50937516 16.7795,9.21837516 C16.4855,8.92737516 16.0105,8.92737516 15.7165,9.21737516 L12.0005,13.0003752 Z",transform:"matrix(1 0 0 -1 0 24)"}))},t.AddIcon=u,t.DownloadIconWhite=function(e){return i.default.createElement("svg",(0,o.default)({width:"12",height:"14",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M41,34.647593 L46.4821856,29.8952505 C47.0573478,29.3171615 47.9939599,29.3212723 48.5741674,29.9044323 C49.1543749,30.4875923 49.1584649,31.4289706 48.5833027,32.0070596 L41.7409518,37.9384886 L41.0759034,38.6069213 C40.2968396,39.3899495 39.0305137,39.3931633 38.2474854,38.6140995 C38.2450866,38.6117128 38.2426938,38.6093201 38.2403072,38.6069213 L37.5569882,37.920125 L30.6628707,31.936666 C30.0826632,31.353506 30.0785732,30.4121277 30.6537354,29.8340386 C31.2288976,29.2559496 32.1655097,29.2600604 32.7457172,29.8432204 L38,34.403454 L38,22.5 C38,21.6715729 38.6715729,21 39.5,21 C40.3284271,21 41,21.6715729 41,22.5 L41,34.647593 Z M49,42.5 C49,43.3284271 48.3284271,44 47.5,44 L31.5,44 C30.6715729,44 30,43.3284271 30,42.5 C30,41.6715729 30.6715729,41 31.5,41 L47.5,41 C48.3284271,41 49,41.6715729 49,42.5 Z",transform:"translate(-30 -21)"}))},t.ActiveStar=function(e){var t=e.style;return i.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 25",style:t},i.default.createElement("path",{fill:"#FA0",d:"M17.274758,15.4469628 L19.717838,23.7077251 C19.8447617,24.1107955 19.7143932,24.5558233 19.3955281,24.8079664 C19.0766631,25.0601095 18.6426594,25.0613602 18.3225416,24.8110584 L11.9871141,19.556149 L5.67675579,24.8157738 C5.35585352,25.0642585 4.92230992,25.0611015 4.60456814,24.8079664 C4.28682636,24.5548313 4.15784801,24.1098443 4.28559448,23.7074782 L6.69918173,15.4591101 L0.383646092,10.7225632 C0.0610151875,10.4737818 -0.0766431831,10.0304757 0.0422739945,9.62323054 C0.161191172,9.21598539 0.509822814,8.93679002 0.906828141,8.93086791 L8.69117778,8.93086791 L11.125674,0.681629762 C11.2430397,0.276206583 11.5378306,0 12.0000481,0 C12.4622656,0 12.7310442,0.276206583 12.8484099,0.681629762 L15.2829062,8.93086791 L23.0932681,8.93086791 C23.4904075,8.93683682 23.8390971,9.21625563 23.9578641,9.62370313 C24.0766312,10.0311506 23.9386295,10.4745268 23.6156809,10.7230801 L17.274758,15.4469628 Z"}))},t.UnActiveStar=function(e){return i.default.createElement("svg",(0,o.default)({width:"16",height:"16",viewBox:"0 0 24 25"},e),i.default.createElement("path",{fill:"none",stroke:"#FA0",strokeWidth:"1.764",d:"M11.9819001,0.879433133 C11.9795516,0.880021622 11.9838641,0.88895781 11.971605,0.931278979 L9.35049088,9.81286791 L8.69117778,9.81286791 L0.919983421,9.8127698 C0.919003912,9.81278441 0.901713576,9.82663106 0.888917203,9.87045367 C0.870461414,9.93365758 0.891089579,10.0000872 0.912838593,10.0169576 L7.7173316,15.1202144 L7.54568587,15.7068089 L5.12624332,23.9743743 C5.10962557,24.0267157 5.12267547,24.0829123 5.14588507,24.110054 L11.9857433,18.4090959 L12.5501987,18.8772825 L18.8564176,24.1084404 C18.8797348,24.0814822 18.8926963,24.023831 18.8720512,23.9578624 L16.254506,15.1071827 L16.7478316,14.7396633 L23.0777374,10.0241232 C23.1088665,10.000165 23.1295357,9.93375829 23.111104,9.87052561 C23.0983169,9.82665738 23.0810031,9.81278318 23.0932681,9.81286791 L14.6235931,9.81286791 L14.4369752,9.18051713 L12.0011958,0.92688923 C11.9873473,0.879051627 11.9964848,0.872771777 12.0017908,0.875210734 Z"}))},t.VarietyStar=function(e){return i.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 25",style:e.style},i.default.createElement("clipPath",{id:"cut-off-bottom-test"},i.default.createElement("rect",{x:"0",y:"0",width:e.cutWidth,height:"25"})),i.default.createElement("path",{clipPath:"url(#cut-off-bottom-test)",fill:"#FA0",d:"M17.274758,15.4469628 L19.717838,23.7077251 C19.8447617,24.1107955 19.7143932,24.5558233 19.3955281,24.8079664 C19.0766631,25.0601095 18.6426594,25.0613602 18.3225416,24.8110584 L11.9871141,19.556149 L5.67675579,24.8157738 C5.35585352,25.0642585 4.92230992,25.0611015 4.60456814,24.8079664 C4.28682636,24.5548313 4.15784801,24.1098443 4.28559448,23.7074782 L6.69918173,15.4591101 L0.383646092,10.7225632 C0.0610151875,10.4737818 -0.0766431831,10.0304757 0.0422739945,9.62323054 C0.161191172,9.21598539 0.509822814,8.93679002 0.906828141,8.93086791 L8.69117778,8.93086791 L11.125674,0.681629762 C11.2430397,0.276206583 11.5378306,0 12.0000481,0 C12.4622656,0 12.7310442,0.276206583 12.8484099,0.681629762 L15.2829062,8.93086791 L23.0932681,8.93086791 C23.4904075,8.93683682 23.8390971,9.21625563 23.9578641,9.62370313 C24.0766312,10.0311506 23.9386295,10.4745268 23.6156809,10.7230801 L17.274758,15.4469628 Z"}))},t.Cart=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg",width:"27",height:"24",viewBox:"0 0 27 24"},e),i.default.createElement("path",{fill:"#0084FF",d:"M25.0589726,39.0133333 C25.4056402,39.0133333 25.7340622,39.0755556 26.0442385,39.2 C26.3544148,39.3244444 26.6280998,39.4977778 26.8652934,39.72 C27.1024871,39.9422222 27.2849437,40.2044444 27.4126634,40.5066667 C27.540383,40.8088889 27.6042428,41.1288889 27.6042428,41.4666667 C27.6042428,41.8044444 27.540383,42.1244444 27.4126634,42.4266667 C27.2849437,42.7288889 27.1024871,42.9911111 26.8652934,43.2133333 C26.6280998,43.4355556 26.3544148,43.6133333 26.0442385,43.7466667 C25.7340622,43.88 25.4056402,43.9466667 25.0589726,43.9466667 C24.6940593,43.9466667 24.3610759,43.88 24.0600224,43.7466667 C23.758969,43.6133333 23.4898454,43.4355556 23.2526518,43.2133333 C23.0154581,42.9911111 22.8330015,42.7288889 22.7052818,42.4266667 C22.5775622,42.1244444 22.5137023,41.8044444 22.5137023,41.4666667 C22.5137023,41.1288889 22.5775622,40.8088889 22.7052818,40.5066667 C22.8330015,40.2044444 23.0154581,39.9422222 23.2526518,39.72 C23.4898454,39.4977778 23.758969,39.3244444 24.0600224,39.2 C24.3610759,39.0755556 24.6940593,39.0133333 25.0589726,39.0133333 Z M36.4442675,39.0666667 C36.7909351,39.0666667 37.1239185,39.1288889 37.4432176,39.2533333 C37.7625167,39.3777778 38.0362017,39.5511111 38.2642725,39.7733333 C38.4923433,39.9955556 38.6748,40.2577778 38.8116425,40.56 C38.948485,40.8622222 39.0169062,41.1822222 39.0169062,41.52 C39.0169062,41.8577778 38.948485,42.1777778 38.8116425,42.48 C38.6748,42.7822222 38.4923433,43.0444444 38.2642725,43.2666667 C38.0362017,43.4888889 37.7625167,43.6666667 37.4432176,43.8 C37.1239185,43.9333333 36.7909351,44 36.4442675,44 C36.0975998,44 35.7691779,43.9333333 35.4590016,43.8 C35.1488253,43.6666667 34.8797017,43.4888889 34.6516309,43.2666667 C34.4235601,43.0444444 34.2411034,42.7822222 34.1042609,42.48 C33.9674185,42.1777778 33.8989972,41.8577778 33.8989972,41.52 C33.8989972,41.1822222 33.9674185,40.8622222 34.1042609,40.56 C34.2411034,40.2577778 34.4235601,39.9955556 34.6516309,39.7733333 C34.8797017,39.5511111 35.1488253,39.3777778 35.4590016,39.2533333 C35.7691779,39.1288889 36.0975998,39.0666667 36.4442675,39.0666667 Z M41.042175,23.92 C41.5530536,23.92 41.9498968,23.9866667 42.2327046,24.12 C42.5155124,24.2533333 42.7162147,24.4177778 42.8348116,24.6133333 C42.9534084,24.8088889 43.0081454,25.0177778 42.9990226,25.24 C42.9898997,25.4622222 42.9579698,25.6533333 42.9032328,25.8133333 C42.8484958,25.9733333 42.7344604,26.3022222 42.5611266,26.8 C42.3877928,27.2977778 42.1916519,27.8444444 41.9727039,28.44 C41.7537559,29.0355556 41.5393694,29.6266667 41.3295442,30.2133333 C41.1197191,30.8 40.9600695,31.2622222 40.8505955,31.6 C40.6134019,32.3111111 40.3123484,32.8044444 39.9474351,33.08 C39.5825218,33.3555556 39.135503,33.4933333 38.6063787,33.4933333 L37.6758498,33.4933333 L35.8968975,33.4933333 L33.5705752,33.4933333 L31.025305,33.4933333 L24.2379177,33.4933333 L24.6484451,35.8933333 L38.4421678,35.8933333 C39.3179597,35.8933333 39.7558556,36.2577778 39.7558556,36.9866667 C39.7558556,37.3422222 39.6691887,37.6488889 39.4958549,37.9066667 C39.3225211,38.1644444 38.9804149,38.2933333 38.4695363,38.2933333 L37.1558484,38.2933333 L34.6105781,38.2933333 L31.463201,38.2933333 L28.2610868,38.2933333 L25.633711,38.2933333 L24.1284437,38.2933333 C23.7635304,38.2933333 23.4579155,38.2133333 23.211599,38.0533333 C22.9652826,37.8933333 22.7600188,37.6844444 22.5958078,37.4266667 C22.4315969,37.1688889 22.2993158,36.8888889 22.1989646,36.5866667 C22.0986135,36.2844444 22.0210694,36 21.9663324,35.7333333 C21.9480867,35.6266667 21.8979112,35.3688889 21.8158057,34.96 C21.7337002,34.5511111 21.633349,34.04 21.5147522,33.4266667 C21.3961554,32.8133333 21.2638743,32.1288889 21.117909,31.3733333 C20.9719437,30.6177778 20.8259784,29.8577778 20.680013,29.0933333 C20.3333454,27.2977778 19.9410636,25.2977778 19.5031677,23.0933333 L17.4505304,23.0933333 C17.1768454,23.0933333 16.9487746,23.0266667 16.7663179,22.8933333 C16.5838613,22.76 16.4333345,22.6 16.3147377,22.4133333 C16.1961409,22.2266667 16.1140354,22.0266667 16.0684212,21.8133333 C16.0228071,21.6 16,21.4044444 16,21.2266667 C16,20.8711111 16.1231582,20.5777778 16.3694747,20.3466667 C16.6157912,20.1155556 16.9487746,20 17.3684249,20 L17.9705318,20 L18.5179017,20 L19.2021142,20 L20.1326431,20 C20.4975564,20 20.789487,20.0533333 21.008435,20.16 C21.227383,20.2666667 21.4007168,20.4 21.5284364,20.56 C21.6561561,20.72 21.7473844,20.8888889 21.8021214,21.0666667 C21.8568584,21.2444444 21.9024726,21.3955556 21.9389639,21.52 C21.9754552,21.6622222 22.0119466,21.8622222 22.0484379,22.12 C22.0849292,22.3777778 22.1214206,22.64 22.1579119,22.9066667 C22.2126489,23.2266667 22.2673859,23.5644444 22.3221229,23.92 L41.042175,23.92 Z",transform:"translate(-16 -20)"}))},t.CartRed=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg",width:"22",height:"20",viewBox:"0 0 22 20"},e),i.default.createElement("path",{fill:"#F1403C",d:"M8,21 C8.27240143,21 8.53046595,21.0504505 8.77419355,21.1513514 C9.01792115,21.2522523 9.23297491,21.3927928 9.41935484,21.572973 C9.60573477,21.7531532 9.74910394,21.9657658 9.84946237,22.2108108 C9.94982079,22.4558559 10,22.7153153 10,22.9891892 C10,23.2630631 9.94982079,23.5225225 9.84946237,23.7675676 C9.74910394,24.0126126 9.60573477,24.2252252 9.41935484,24.4054054 C9.23297491,24.5855856 9.01792115,24.7297297 8.77419355,24.8378378 C8.53046595,24.9459459 8.27240143,25 8,25 C7.71326165,25 7.4516129,24.9459459 7.21505376,24.8378378 C6.97849462,24.7297297 6.76702509,24.5855856 6.58064516,24.4054054 C6.39426523,24.2252252 6.25089606,24.0126126 6.15053763,23.7675676 C6.05017921,23.5225225 6,23.2630631 6,22.9891892 C6,22.7153153 6.05017921,22.4558559 6.15053763,22.2108108 C6.25089606,21.9657658 6.39426523,21.7531532 6.58064516,21.572973 C6.76702509,21.3927928 6.97849462,21.2522523 7.21505376,21.1513514 C7.4516129,21.0504505 7.71326165,21 8,21 L8,21 Z M16.9893048,21 C17.2602496,21 17.5204991,21.0504505 17.7700535,21.1513514 C18.0196078,21.2522523 18.2335116,21.3927928 18.4117647,21.572973 C18.5900178,21.7531532 18.7326203,21.9657658 18.8395722,22.2108108 C18.9465241,22.4558559 19,22.7153153 19,22.9891892 C19,23.2630631 18.9465241,23.5225225 18.8395722,23.7675676 C18.7326203,24.0126126 18.5900178,24.2252252 18.4117647,24.4054054 C18.2335116,24.5855856 18.0196078,24.7297297 17.7700535,24.8378378 C17.5204991,24.9459459 17.2602496,25 16.9893048,25 C16.7183601,25 16.4616756,24.9459459 16.2192513,24.8378378 C15.9768271,24.7297297 15.7664884,24.5855856 15.5882353,24.4054054 C15.4099822,24.2252252 15.2673797,24.0126126 15.1604278,23.7675676 C15.0534759,23.5225225 15,23.2630631 15,22.9891892 C15,22.7153153 15.0534759,22.4558559 15.1604278,22.2108108 C15.2673797,21.9657658 15.4099822,21.7531532 15.5882353,21.572973 C15.7664884,21.3927928 15.9768271,21.2522523 16.2192513,21.1513514 C16.4616756,21.0504505 16.7183601,21 16.9893048,21 Z M20.4047352,8.21428571 C20.8210066,8.21428571 21.1443604,8.26895044 21.3747964,8.37827988 C21.6052324,8.48760933 21.7687676,8.62244898 21.865402,8.78279883 C21.9620365,8.94314869 22.006637,9.11443149 21.9992036,9.29664723 C21.9917701,9.47886297 21.9657532,9.63556851 21.9211527,9.76676385 C21.8765521,9.89795918 21.7836344,10.1676385 21.6423994,10.5758017 C21.5011645,10.983965 21.341346,11.4322157 21.1629439,11.9205539 C20.9845419,12.4088921 20.8098565,12.893586 20.6388879,13.3746356 C20.4679192,13.8556851 20.3378344,14.2346939 20.2486334,14.5116618 C20.0553645,15.0947522 19.8100617,15.4992711 19.5127249,15.7252187 C19.2153881,15.9511662 18.8511506,16.0641399 18.4200123,16.0641399 L17.6618036,16.0641399 L16.2122869,16.0641399 L14.316765,16.0641399 L12.2428411,16.0641399 L6.71237737,16.0641399 L7.04688122,18.03207 L18.2862108,18.03207 C18.999819,18.03207 19.3566231,18.3309038 19.3566231,18.9285714 C19.3566231,19.2201166 19.2860056,19.4715743 19.1447707,19.6829446 C19.0035357,19.8943149 18.7247825,20 18.308511,20 L17.2380987,20 L15.1641748,20 L12.5996452,20 L9.99051515,20 L7.84969048,20 L6.62317634,20 C6.32583958,20 6.07682004,19.9344023 5.87611773,19.803207 C5.67541541,19.6720117 5.50816349,19.5007289 5.37436194,19.2893586 C5.2405604,19.0779883 5.13277583,18.8483965 5.05100822,18.6005831 C4.96924061,18.3527697 4.90605655,18.1195335 4.86145603,17.9008746 C4.84658919,17.8134111 4.80570539,17.6020408 4.73880462,17.2667638 C4.67190385,16.9314869 4.59013624,16.5123907 4.49350179,16.0094752 C4.39686734,15.5065598 4.28908277,14.9453353 4.17014807,14.3258017 C4.05121336,13.7062682 3.93227866,13.0830904 3.81334395,12.4562682 C3.53087403,10.983965 3.21123701,9.34402332 2.8544329,7.53644315 L1.18191362,7.53644315 C0.958911052,7.53644315 0.773075577,7.48177843 0.624407197,7.37244898 C0.475738817,7.26311953 0.353087403,7.1319242 0.256452956,6.97886297 C0.159818509,6.82580175 0.0929177376,6.66180758 0.0557506426,6.48688047 C0.0185835475,6.31195335 0,6.1516035 0,6.0058309 C0,5.71428571 0.100351157,5.47376093 0.30105347,5.28425656 C0.501755783,5.09475219 0.773075577,5 1.11501285,5 L1.60561851,5 L2.05162365,5 L2.60913007,5 L3.36733881,5 C3.66467557,5 3.90254498,5.04373178 4.08094704,5.13119534 C4.25934909,5.21865889 4.40058405,5.32798834 4.50465192,5.45918367 C4.60871979,5.59037901 4.68305398,5.72886297 4.72765449,5.87463557 C4.772255,6.02040816 4.8094221,6.14431487 4.83915578,6.24635569 C4.86888945,6.36297376 4.89862313,6.52696793 4.9283568,6.73833819 C4.95809048,6.94970845 4.98782416,7.16472303 5.01755783,7.38338192 C5.06215835,7.64577259 5.10675886,7.92274052 5.15135937,8.21428571 L20.4047352,8.21428571 L20.4047352,8.21428571 Z",transform:"translate(0 -5)"}))},t.ArrowRightRed=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg",width:"9",height:"15",viewBox:"0 0 9 15"},e),i.default.createElement("polyline",{fill:"none",stroke:"#F1403C","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",points:"683 1307 683 1316 674 1316",transform:"rotate(-45 -1234.067 1476.711)"}))},t.Pad=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 24 25"}),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{d:"M9.705 2h4.854c.855-.021 1.568.635 1.595 1.47v1.96a1.498 1.498 0 0 1-.486 1.057 1.57 1.57 0 0 1-1.109.412H9.705c-.854.022-1.565-.635-1.59-1.47V3.47c.025-.834.736-1.491 1.59-1.47zm.46 1.402a.504.504 0 0 0-.414.164.667.667 0 0 0-.174.458v.852c0 .174.063.34.174.458a.504.504 0 0 0 .413.164h3.941a.503.503 0 0 0 .413-.164.666.666 0 0 0 .174-.458v-.852a.666.666 0 0 0-.174-.458.503.503 0 0 0-.413-.164h-3.94zM11.456 14.71l5.01-4.603c.232-.213.963-.736 1.573-.108.372.456.449.976 0 1.42l-5.78 5.16c-.238.22-.558.34-.888.33a1.253 1.253 0 0 1-.868-.375 1.021 1.021 0 0 1-.156-.201l-.09-.08-3.252-3.348c-.452-.464-.485-1.053 0-1.485.485-.432 1.078-.2 1.53.264l2.92 3.026z",fill:"#8590A6"}),i.default.createElement("path",{d:"M19.005 4.625c1.5 0 2.727 1.191 2.727 2.648v12.542c0 1.456-1.227 2.648-2.727 2.648H5.727c-1.5 0-2.727-1.192-2.727-2.648V7.273c0-1.457 1.227-2.648 2.727-2.648",stroke:"#8590A6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))},t.MenuIcon=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 12 10"}),i.default.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-2 -3)"},i.default.createElement("rect",{width:"16",height:"16"}),i.default.createElement("rect",{width:"12",height:"2",x:"2",y:"3",fill:"#9FADC7",fillRule:"nonzero",rx:"1"}),i.default.createElement("rect",{width:"12",height:"2",x:"2",y:"7",fill:"#9FADC7",fillRule:"nonzero",rx:"1"}),i.default.createElement("rect",{width:"7",height:"2",x:"2",y:"11",fill:"#9FADC7",fillRule:"nonzero",rx:"1"})))},t.ShareIcon=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 12 12"}),i.default.createElement("path",{fill:"#9FADC7",d:"M3,2.66666667 L13,2.66666667 C13.5522847,2.66666667 14,3.11438192 14,3.66666667 L14,12.6600825 C14,13.2123673 13.5522847,13.6600825 13,13.6600825 C12.7827311,13.6600825 12.5713728,13.5893212 12.3979007,13.4585037 L8.60209931,10.596043 C8.24569125,10.3272712 7.75430875,10.3272712 7.39790069,10.596043 L3.60209931,13.4585037 C3.16114346,13.791034 2.53410906,13.7031377 2.2015788,13.2621819 C2.07076131,13.0887097 2,12.8773515 2,12.6600825 L2,3.66666667 C2,3.11438192 2.44771525,2.66666667 3,2.66666667 Z",transform:"translate(-2 -2)"}))},t.CloseIconOpacity=function(e){return i.default.createElement("svg",(0,o.default)({},e,{viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}),i.default.createElement("g",{id:"回答页卡片测试",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.default.createElement("g",{id:"突出功能区1-安装",transform:"translate(-645.000000, -380.000000)"},i.default.createElement("g",{id:"关闭",transform:"translate(645.000000, 380.000000)"},i.default.createElement("circle",{id:"Oval-2",fill:"#000000",opacity:"0.399999976",cx:"18",cy:"18",r:"18"}),i.default.createElement("path",{d:"M18,19.3076607 L10.5784861,26.7291746 C10.2173856,27.0902751 9.63192593,27.0902751 9.2708254,26.7291746 C8.90972487,26.3680741 8.90972487,25.7826144 9.2708254,25.4215139 L16.6923393,18 L9.2708254,10.5784861 C8.90972487,10.2173856 8.90972487,9.63192593 9.2708254,9.2708254 C9.63192593,8.90972487 10.2173856,8.90972487 10.5784861,9.2708254 L18,16.6923393 L25.4215139,9.2708254 C25.7826144,8.90972487 26.3680741,8.90972487 26.7291746,9.2708254 C27.0902751,9.63192593 27.0902751,10.2173856 26.7291746,10.5784861 L19.3076607,18 L26.7291746,25.4215139 C27.0902751,25.7826144 27.0902751,26.3680741 26.7291746,26.7291746 C26.3680741,27.0902751 25.7826144,27.0902751 25.4215139,26.7291746 L18,19.3076607 Z",id:"Combined-Shape",stroke:"#FFFFFF",fill:"#FFFFFF",strokeLinecap:"round"})))))},t.TopicScoreAgreeActive=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 64 64"}),i.default.createElement("g",{fill:"none","fill-rule":"evenodd"},i.default.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"#0084FF","fill-rule":"nonzero"}),i.default.createElement("path",{fill:"#FFF",d:"M5,15.3372905 C5,14.1128928 5.99666999,13.1203224 7.22868621,13.1203224 L9.93924408,13.1203224 C11.1701135,13.1203224 12.1679303,14.1166814 12.1679303,15.3372905 L12.1679303,32.7694245 C12.1679303,33.9938222 11.1712603,34.9863926 9.93924408,34.9863926 L7.22868622,34.9863926 C5.99781682,34.9863926 5.00000002,33.9900336 5.00000002,32.7694245 L5,15.3372905 Z M14.2159104,13.7035356 C18.3118705,9.01794911 20.3598506,4.85298355 20.3598506,1.72925912 C22.9198257,1.20863841 27.0157859,3.81174188 23.4318207,14.2241563 L32.2045447,14.2241563 C35.2769802,14.2241563 37.1728491,16.6435704 36.4391756,19.6277055 L33.7085881,30.734066 C33.122693,33.1171292 30.6495048,35.0338316 28.2009046,34.9919016 C28.2009046,34.9919016 19.8478556,35.0489837 14.2159104,34.0077436 L14.2159104,13.7035356 Z",transform:"translate(12 12)"})))},t.TopicScoreAgree=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 66 66"}),i.default.createElement("g",{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"},i.default.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"#FFF","fill-rule":"nonzero",stroke:"#EDEDED"}),i.default.createElement("path",{fill:"#8590A6",d:"M17,27.3372905 C17,26.1128928 17.99667,25.1203224 19.2286862,25.1203224 L21.9392441,25.1203224 C23.1701135,25.1203224 24.1679303,26.1166814 24.1679303,27.3372905 L24.1679303,44.7694245 C24.1679303,45.9938222 23.1712603,46.9863926 21.9392441,46.9863926 L19.2286862,46.9863926 C17.9978168,46.9863926 17,45.9900336 17,44.7694245 L17,27.3372905 Z M26.2159104,25.7035356 C30.3118705,21.0179491 32.3598506,16.8529835 32.3598506,13.7292591 C34.9198257,13.2086384 39.0157859,15.8117419 35.4318207,26.2241563 L44.2045447,26.2241563 C47.2769802,26.2241563 49.1728491,28.6435704 48.4391756,31.6277055 L45.7085881,42.734066 C45.122693,45.1171292 42.6495048,47.0338316 40.2009046,46.9919016 C40.2009046,46.9919016 31.8478556,47.0489837 26.2159104,46.0077436 L26.2159104,25.7035356 Z"})))},t.TopicScoreAgainst=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 66 66"}),i.default.createElement("g",{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"},i.default.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"#FFF","fill-rule":"nonzero",stroke:"#EDEDED"}),i.default.createElement("path",{fill:"#8590A6",d:"M3.33333333,18.6706238 C3.33333333,17.4462262 4.33000333,16.4536558 5.56201954,16.4536558 L8.27257741,16.4536558 C9.50344682,16.4536558 10.5012636,17.4500147 10.5012636,18.6706238 L10.5012636,36.1027579 C10.5012636,37.3271555 9.50459363,38.3197259 8.27257742,38.3197259 L5.56201956,38.3197259 C4.33115015,38.3197259 3.33333335,37.3233669 3.33333335,36.1027579 L3.33333333,18.6706238 Z M12.5492437,17.0368689 C16.6452039,12.3512824 18.693184,8.18631688 18.693184,5.06259246 C21.2531591,4.54197174 25.3491192,7.14507522 21.7651541,17.5574897 L30.537878,17.5574897 C33.6103135,17.5574897 35.5061824,19.9769037 34.7725089,22.9610388 L32.0419214,34.0673993 C31.4560263,36.4504626 28.9828382,38.367165 26.5342379,38.3252349 C26.5342379,38.3252349 18.1811889,38.382317 12.5492437,37.3410769 L12.5492437,17.0368689 Z",transform:"rotate(180 25.167 27.667)"})))},t.TopicScoreAgainstActive=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 64 64"}),i.default.createElement("g",{fill:"none","fill-rule":"evenodd"},i.default.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"#646464","fill-rule":"nonzero"}),i.default.createElement("path",{fill:"#FFF",d:"M3.33333333,18.6706238 C3.33333333,17.4462262 4.33000333,16.4536558 5.56201954,16.4536558 L8.27257741,16.4536558 C9.50344682,16.4536558 10.5012636,17.4500147 10.5012636,18.6706238 L10.5012636,36.1027579 C10.5012636,37.3271555 9.50459363,38.3197259 8.27257742,38.3197259 L5.56201956,38.3197259 C4.33115015,38.3197259 3.33333335,37.3233669 3.33333335,36.1027579 L3.33333333,18.6706238 Z M12.5492437,17.0368689 C16.6452039,12.3512824 18.693184,8.18631688 18.693184,5.06259246 C21.2531591,4.54197174 25.3491192,7.14507522 21.7651541,17.5574897 L30.537878,17.5574897 C33.6103135,17.5574897 35.5061824,19.9769037 34.7725089,22.9610388 L32.0419214,34.0673993 C31.4560263,36.4504626 28.9828382,38.367165 26.5342379,38.3252349 C26.5342379,38.3252349 18.1811889,38.382317 12.5492437,37.3410769 L12.5492437,17.0368689 Z",transform:"rotate(180 25.167 27.667)"})))},t.default=function(e){var t=e.className,n=e.name,r=(0,a.default)(e,["className","name"]),c=d[n];return c?i.default.createElement(c,(0,o.default)({className:(0,s.default)("Icon Icon--".concat(n),t)},r)):null};var a=r(n(471)),o=r(n(464)),i=r(n(1)),s=r(n(1660));function c(e){return i.default.createElement("svg",(0,o.default)({},e,{viewBox:"0 0 24 24"}),i.default.createElement("path",{d:"M9.218 16.78a.737.737 0 0 0 1.052 0l4.512-4.249a.758.758 0 0 0 0-1.063L10.27 7.22a.737.737 0 0 0-1.052 0 .759.759 0 0 0-.001 1.063L13 12l-3.782 3.716a.758.758 0 0 0 0 1.063z",fillRule:"evenodd"}))}function l(e){return i.default.createElement("svg",(0,o.default)({viewBox:"0 0 12 12"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M3 2L2 3l3 3-3 3 1 1 3-3 3 3 1-1-3-3 3-3-1-1-3 3"}))}function u(e){return i.default.createElement("svg",(0,o.default)({viewBox:"0 0 24 24"},e),i.default.createElement("path",{d:"M13.491 10.488s-.012-5.387 0-5.998c-.037-1.987-3.035-1.987-2.997 0-.038 1.912 0 5.998 0 5.998H4.499c-1.999.01-1.999 3.009 0 3.009s5.995-.01 5.995-.01v5.999c0 2.019 3.006 2.019 2.997 0-.01-2.019 0-5.998 0-5.998s3.996.009 6.004.009c2.008 0 2.008-3-.01-3.009h-5.994z",fillRule:"evenodd"}))}var d={close:l,triangle:c,add:u}},1631:function(e,t,n){var r=n(1673),a=n(1633),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},1632:function(e,t,n){var r=n(1593).Symbol;e.exports=r},1633:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},1634:function(e,t){var n=Array.isArray;e.exports=n},1635:function(e,t){e.exports=function(e){return function(t){return e(t)}}},1636:function(e,t,n){(function(e){var r=n(1676),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(this,n(74)(e))},1637:function(e,t,n){var r=n(1598)(n(1593),"Map");e.exports=r},1638:function(e,t,n){var r=n(1817),a=n(1686),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return o.call(e,t)}))}:a;e.exports=s},1639:function(e,t,n){var r=n(1821),a=n(1637),o=n(1822),i=n(1823),s=n(1824),c=n(1608),l=n(1677),u=l(r),d=l(a),p=l(o),m=l(i),f=l(s),h=c;(r&&"[object DataView]"!=h(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=h(new a)||o&&"[object Promise]"!=h(o.resolve())||i&&"[object Set]"!=h(new i)||s&&"[object WeakMap]"!=h(new s))&&(h=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case m:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=h},1640:function(e,t,n){var r=n(1827);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1641:function(e,t,n){var r=n(796),a=n(1642);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(a.prototype),o.prototype.constructor=o,e.exports=o},1642:function(e,t){e.exports=function(){}},1643:function(e,t,n){var r=n(796),a=n(1642),o=4294967295;function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}i.prototype=r(a.prototype),i.prototype.constructor=i,e.exports=i},1644:function(e,t,n){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,Object.assign({credentials:"include",headers:{"X-Requested-With":"Fetch"}},t)).then(function(e){return e.json()})}},1645:function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}},1653:function(e,t,n){"use strict";var r=n(1654),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var a=m(n);a&&a!==f&&e(t,a,r)}var i=u(n);d&&(i=i.concat(d(n)));for(var s=c(t),h=c(n),b=0;b<i.length;++b){var v=i[b];if(!(o[v]||r&&r[v]||h&&h[v]||s&&s[v])){var g=p(n,v);try{l(t,v,g)}catch(e){}}}}return t}},1654:function(e,t,n){e.exports=n(56)(54)},1656:function(e,t,n){"use strict";var r=n(1),a=function(e){var t=Object(r.useRef)();return t.current=Object(r.useCallback)(e,[e]),Object(r.useState)(function(){return function(){return t.current.apply(t,arguments)}})[0]};t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.rootMargin,i=n.threshold,s=n.once,c=void 0===s||s;e=Array.isArray(e)?e:e?[e]:[];var l=Object(r.useRef)(null),u=a(t);Object(r.useEffect)(function(){if(e.length)return l.current&&e.forEach(function(e){return l.current.unobserve(e)}),l.current=new IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>0&&(u(e),c&&l.current.unobserve(e.target))})},{rootMargin:o,threshold:i}),e.forEach(function(e){return l.current.observe(e)}),function(){e.forEach(function(e){return l.current.unobserve(e)})}},[e,o,JSON.stringify(i),c])}},1658:function(e,t,n){"use strict";var r,a=n(9),o=n(25),i=n(17),s=n(28),c=n(0),l=n(1),u=n.n(l),d=n(24),p=n(20),m=n(1735),f=n(29),h=n.n(f),b=n(35),v=n.n(b),g=n(39),y=n(62),C=n(21),O=n(1702),j=n(1656),_=n(1701),w=n(4),k=n(8),x=n(7),S=n(5),N=n(6),A=n(18),E=n.n(A),L=n(2),I=n(1721),T=n.n(I),P=n(57),R=n.n(P),M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.a;return function(n){return T()(function(r){function a(){var e,n;Object(w.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(x.a)(this,(e=Object(S.a)(a)).call.apply(e,[this].concat(o)))).key=t(),n}return Object(N.a)(a,r),Object(k.a)(a,[{key:"render",value:function(){return Object(c.b)(n,h()({},this.props,Object(L.a)({},e,this.key)))}}]),a}(u.a.Component),n)}},D=n(1907),F=n(482),B=n.n(F),z=function(e,t){return function(n){var r,a=(r=[],{value:{},listen:function(e){r.push(e)},unlisten:function(e){r=r.filter(function(t){return t!==e})},emit:function(e){this.value=e,r.forEach(function(t){return t(e)})}}),o=Object(D.createSubscription)({getCurrentValue:function(e){return e.value},subscribe:function(e,t){return e.listen(t),function(){return e.unlisten(t)}}}),i=function(e,t){return e?B()(e,function(e){return function(){return t(e.apply(void 0,arguments))}}):{dispatch:t}}(t,function(e){return a.emit(e(a.value))}),s=Object.assign(function(t){return Object(c.b)(o,{source:a},function(r){return Object(c.b)(n,h()({},t,e({value:r,source:a},t),i))})},{source:a});return T()(s,n)}};!function(e){e[e.Initial=0]="Initial",e[e.Loading=1]="Loading",e[e.Ok=2]="Ok",e[e.Failed=3]="Failed"}(r||(r={}));var q=function(e){return Object(c.b)("svg",h()({width:60,height:60,viewBox:"0 0 60 60"},e),Object(c.b)("g",{fill:"none",fillRule:"evenodd"},Object(c.b)("ellipse",{fill:"#000",opacity:.45,cx:30,cy:30,rx:30,ry:30}),Object(c.b)("ellipse",{stroke:"#FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4,1,4",cx:30,cy:30,rx:26,ry:26}),Object(c.b)("svg",h()({x:16,y:18.5},e),Object(c.b)("path",{d:"M12.842 12.981V11.4H7.64v1.653h3.27v.272c-.018 1.881-1.442 3.147-3.516 3.147-2.382 0-3.876-1.846-3.876-4.834 0-2.936 1.485-4.79 3.832-4.79 1.732 0 2.936.835 3.428 2.364h1.977c-.43-2.566-2.522-4.201-5.405-4.201-3.55 0-5.845 2.601-5.845 6.644 0 4.096 2.268 6.654 5.863 6.654 3.322 0 5.475-2.083 5.475-5.327zM17.518 18V5.317H15.55V18h1.97zm5.142 0v-5.256h5.449v-1.74h-5.45V7.11h5.95V5.317h-7.918V18h1.969z",fill:"#fff"}))))},V=function(e){return Object(c.b)("svg",h()({width:"60px",height:"60px",viewBox:"0 0 60 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e),Object(c.b)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Object(c.b)("ellipse",{fill:"#000000",opacity:"0.45",cx:"30",cy:"30",rx:"30",ry:"30"}),Object(c.b)("ellipse",{stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.5",cx:"30",cy:"30",rx:"26",ry:"26"}),Object(c.b)("ellipse",{stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4,1,4",cx:"30",cy:"30",rx:"26",ry:"26"},Object(c.b)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 30 30",to:"90 30 30",dur:"0.3s"}),Object(c.b)("animate",{attributeName:"opacity",from:"1",to:"0",dur:"0.3",fill:"freeze"}))),Object(c.b)("svg",{x:"16",y:"18.5"},Object(c.b)("g",{fill:"#ffffff"},Object(c.b)("path",{x:"100",y:"100",d:"M12.8422852,12.9814453 L12.8422852,11.3994141 L7.63916016,11.3994141 L7.63916016,13.0517578 L10.9086914,13.0517578 L10.9086914,13.3242188 C10.8911133,15.2050781 9.46728516,16.4707031 7.39306641,16.4707031 C5.01123047,16.4707031 3.51708984,14.625 3.51708984,11.6367188 C3.51708984,8.70117188 5.00244141,6.84667969 7.34912109,6.84667969 C9.08056641,6.84667969 10.284668,7.68164062 10.7768555,9.2109375 L12.7543945,9.2109375 C12.3237305,6.64453125 10.2319336,5.00976562 7.34912109,5.00976562 C3.79833984,5.00976562 1.50439453,7.61132812 1.50439453,11.6542969 C1.50439453,15.75 3.77197266,18.3076172 7.36669922,18.3076172 C10.6889648,18.3076172 12.8422852,16.2246094 12.8422852,12.9814453 Z M17.5180664,18 L17.5180664,5.31738281 L15.5493164,5.31738281 L15.5493164,18 L17.5180664,18 Z M22.659668,18 L22.659668,12.7441406 L28.1088867,12.7441406 L28.1088867,11.0039062 L22.659668,11.0039062 L22.659668,7.11035156 L28.6098633,7.11035156 L28.6098633,5.31738281 L20.690918,5.31738281 L20.690918,18 L22.659668,18 Z"}))),Object(c.b)("path",{d:"M56,30 C56,15.6405965 44.3594035,4 30,4",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",fill:"none"},Object(c.b)("animate",{attributeName:"opacity",from:"0",to:"1",dur:".6",fill:"freeze"}),Object(c.b)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 30 30",to:"360 30 30",dur:"1.625s",repeatCount:"indefinite"})))},U=function(e){return Object(c.b)("svg",h()({width:60,height:60,viewBox:"0 0 60 60"},e),Object(c.b)("g",{fill:"none",fillRule:"evenodd"},Object(c.b)("ellipse",{fill:"#282828",opacity:.45,cx:30,cy:30,rx:30,ry:30}),Object(c.b)("path",{d:"M41.552 18.93A15.954 15.954 0 0 0 30 14c-8.837 0-16 7.163-16 16s7.163 16 16 16c7.811 0 14.315-5.597 15.72-13",stroke:"#FFF",strokeWidth:2,strokeLinecap:"round"}),Object(c.b)("path",{d:"M45.108 16.236c.44-.33.797-.151.797.4v7.005c0 .55-.358.73-.797.4L40.7 20.736c-.44-.33-.439-.866 0-1.195l4.407-3.305z",fill:"#FFF"})))},H=(n(1929),function(){return new Promise(requestAnimationFrame)}),W=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(x.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(e){var t=n.props,a=t.gifKey,o=t.src,i=t.onLoadStart,s=t.onSuccess,c=t.onFailed,l=t.onClick,u=t.onPlayChange,d=t.loadState,p=t.isPlaying;l&&l(e),u&&u(p),n.canPlay?n.props.updateGif({gifKey:a,isPlaying:!p}):d!==r.Loading&&(n.props.updateGif({gifKey:a,loadState:r.Loading}),i&&i(),Promise.all([Object(y.loadImage)(o),H().then(H)]).then(function(){s&&s(),n.props.updateGif({gifKey:a,isPlaying:!0,loadState:r.Ok})}).catch(function(e){c&&c(e),n.props.updateGif({gifKey:a,loadState:r.Failed})}))},n}return Object(N.a)(t,e),Object(k.a)(t,[{key:"componentWillUnmount",value:function(){this.props.removeGif({gifKey:this.props.gifKey})}},{key:"render",value:function(){var e,t=this.props,n=t.poster,a=t.src,o=t.size,i=t.loadState,s=t.isPlaying,l=t.onRef,u=this.canPlay&&s,d=i===r.Loading,p=i===r.Failed;return d?e=Object(c.b)(V,{className:"GifPlayer-icon"}):p?e=Object(c.b)(U,{className:"GifPlayer-icon"}):s||(e=Object(c.b)(q,{className:"GifPlayer-icon"})),e&&(this.lastIcon=e),Object(c.b)("div",{className:E()("GifPlayer",{isPlaying:s}),"data-size":o,onClick:this.handleClick,ref:l},Object(c.b)("img",{className:"ztext-gif",role:"presentation",src:u?a:n,"data-thumbnail":n,"data-size":o}),e||this.lastIcon)}},{key:"canPlay",get:function(){return this.props.loadState===r.Ok}}]),t}(u.a.Component);W.defaultProps={isPlaying:!1,loadState:r.Initial};var G=M("gifKey")(z(function(e,t){return e.value[t.gifKey]},{updateGif:function(e){return function(t){var n=e.gifKey,r=e.isPlaying,a=v()(e,["gifKey","isPlaying"]),o=Object.assign({},t);if(r)for(var i=0,s=Object.keys(o);i<s.length;i++){var c=s[i],l=o[c];c!==n&&l.isPlaying&&(o[c]=Object.assign({},l,{isPlaying:!1}))}return Object.assign({},o,Object(L.a)({},n,Object.assign({},t[n],{isPlaying:r},a)))}},removeGif:function(e){return function(t){var n=Object.assign({},t);return delete n[e.gifKey],n}}})(W)),K=function(e,t){C.default.trackEvent(e,{action:"StatusReport",element:"Card"},{status:{result:t}})},Y=function(e){var t=e.src,n=e.useWebP,r=void 0===n?"auto":n,a=e.onRef,o=e.onLoadStateChange,i=v()(e,["src","useWebP","onRef","onLoadStateChange"]),u=Object(l.useState)(null),d=Object(s.a)(u,2),p=d[0],m=d[1],f=Object(_.a)("animation");Object(l.useEffect)(function(){p&&C.default.setModule(p,{module:"GifItem"})},[p]),Object(j.a)(p,function(){C.default.trackCardShow(p,{element:"Card"})});var b=Object(y.imgUrl)(t,{extension:("auto"===r?f:r)?"webp":"gif"});return Object(c.b)(G,h()({src:b,onRef:Object(l.useCallback)(Object(O.a)(a,m),[]),onPlayChange:function(e){e||C.default.trackEvent(p,{action:"Click",element:"Image"})},onLoadStart:function(){o&&o("loadstart",b)},onSuccess:function(){K(p,"Success"),o&&o("load",b)},onFailed:function(){K(p,"Fail"),o&&o("error",b)}},i))},Z=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).Component,n=void 0===t?Y:t,r=Object(l.useState)(null),a=Object(s.a)(r,2),o=a[0],i=a[1];return Object(l.useEffect)(function(){if(e){var t=Array.from(e.querySelectorAll("img.origin_image[data-thumbnail],img.content_image[data-thumbnail]"));if(t.length){var r=t.map(function(e){return function(e){var t=e.dataset,n=t.thumbnail,r={src:n,poster:n,size:t.size},a=document.createElement("div");return a.className="RichText-gifPlaceholder",e.parentNode.replaceChild(a,e),{data:r,target:a}}(e)}).map(function(e,t){var r=e.data,a=e.target;return Object(g.createPortal)(Object(c.b)(n,h()({key:t},r)),a)});i(r)}}},[e]),o},X=n(476),$=n(1930),Q=n.n($),J=n(59),ee=n.n(J),te=n(50),ne=n(1753),re=n(192),ae=function(e){var t=e.getAttribute("data-hash"),n=e.textContent.replace(/^@/,""),r=document.createElement("span");return e.parentNode.replaceChild(r,e),{target:r,data:{id:t,name:n}}},oe=function(e){var t=Object(l.useState)(null),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(l.useEffect)(function(){if(e){var t=Array.from(e.querySelectorAll(".member_mention"));if(t.length){var n=t.map(ae).map(function(e,t){var n=e.data,r=e.target;return Object(g.createPortal)(Object(c.b)(re.a,{key:t,user:n},"@",n.name),r)});a(n)}}},[e]),r},ie=n(1694),se=function(e){var t=e.getAttribute("data-poster"),n="data:,"===t?"":t,r={title:e.getAttribute("data-name"),thumbnail:n,url:e.getAttribute("href"),src:e.getAttribute("data-src")};r=e.getAttribute("data-lens-id")?Object.assign({},r,{isLens:!0,id:e.getAttribute("data-lens-id"),isPlayable:!0}):Object.assign({},r,{isLens:!1,id:e.getAttribute("data-video-id"),isPlayable:"true"===e.getAttribute("data-video-playable")}),e.hasAttribute("data-lens-status")&&(r=Object.assign({},r,{error:{status:e.getAttribute("data-lens-status"),message:e.getAttribute("data-description")}}));var a=document.createElement("div");return e.parentNode.replaceChild(a,e),{target:a,data:r}},ce=function(e){var t=Object(l.useState)(null),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(l.useEffect)(function(){if(e){var t=Array.from(e.querySelectorAll(".video-box, .video-link, .unprocessable_video"));if(t.length){var n=t.map(se).map(function(e,t){var n=e.data,r=e.target;return Object(g.createPortal)(Object(c.b)(ie.a,{key:t,data:n}),r)});a(n)}}},[e]),r},le=n(1909),ue=function(e){var t=Object(le.a)(e.children),n=t[0],r=t.slice(1);return n.apply(void 0,Object(a.a)(r))},de=n(80),pe=n.n(de),me=n(22),fe=n.n(me),he=n(1937),be=n(1612),ve=n(109),ge=/<ul[\w\W]+class="slideshow"[\w\W]+ul>/,ye=function(e){var t,n=[],r=null===(t=e.match(ge))||void 0===t?void 0:t[0];if(r){var a=new he.Parser({onopentag:function(e,t){("img"===e&&Object(ve.isAbsoluteUrl)(t.src)||"a"===e&&t["data-lens-id"])&&n.push({name:e,attr:t})}},{decodeEntities:!0});a.write(r),a.end()}var o=n[0];if(o){var s=o.attr,l=s["data-rawwidth"],u=s["data-rawheight"]/l||1;u>1.33?u=1.33:u<.75&&(u=.75);var d=parseInt((490/u).toString()),p=n[0]&&Object(be.renderToStaticMarkup)(Object(c.b)("div",{"data-slideshowinfo":JSON.stringify(n),"data-slideshow-width":d,className:"Slideshow-Wrapper"},Object(c.b)("div",{className:"Slideshow-content",style:{width:d}},Object(c.b)("img",Object(i.default)({className:fe()("Slideshow-image",n[0].attr.class)},pe()(n[0].attr,["class"]),{"data-ignore-static-image":!0,style:{width:d,height:490}})))));return e.replace(ge,p)}return e},Ce=n(1920),Oe=n(499),je=n.n(Oe),_e=n(461),we=n(1994),ke=n(1588),xe=function(e){var t=e.slideshowData,n=void 0===t?[]:t,r=e.swiperWidth,a=e.parentNode,o=Object(l.useState)(0),i=Object(s.a)(o,2),d=i[0],p=i[1],m=Object(l.useState)(null),f=Object(s.a)(m,2),h=f[0],b=f[1],v=Object(l.useState)(Object(_e.isViewed)(a)),g=Object(s.a)(v,2),C=g[0],O=g[1],_=Object(l.useState)(!1),w=Object(s.a)(_,2),k=w[0],x=w[1],S=Object(l.useRef)(null);Object(j.a)(a,function(){O(!0)},{rootMargin:"200px"}),Object(l.useEffect)(function(){if(S.current){var e=function(){k||x(!0)};return C&&S.current.addEventListener("mousemove",e),function(){S.current.removeEventListener("mousemove",e)}}},[C,k]),Object(l.useEffect)(function(){null!==h&&(h.on("slideChange",function(){p(h.activeIndex)}),h.on("reachEnd",function(){p(n[n.length-1].index)}),h.on("fromEdge",function(){p(h.activeIndex)}))},[h,n]);var N=function(e){h.slideTo(e)},A=function(e){return function(){N(d+e)}};return Object(c.b)(u.a.Fragment,null,Object(c.b)("div",{style:{width:r},className:"Slideshow-swiper",onMouseEnter:function(){x(!0)},onMouseLeave:function(){return x(!1)}},Object(c.b)("div",{className:"Slideshow-swiperDirectionButtonActiveArea",ref:S}),C?Object(c.b)(u.a.Fragment,null,Object(c.b)(je.a,{getSwiper:b,resistanceRatio:0},n.map(function(e,t){var n=e.name,a=e.attr;if("img"===n){var o=a.src;return Object(c.b)("img",{src:o,alt:"",className:"Slideshow-swiperImage",style:{maxWidth:r,minWidth:r},key:t})}})),k&&0!==d&&Object(c.b)("div",{className:"Slideshow-swiperArrowButton Slideshow-swiperArrowButton--left"},Object(c.b)(we.a,{onClick:A(-1)})),k&&d!==n.length-1&&Object(c.b)("div",{className:"Slideshow-swiperArrowButton Slideshow-swiperArrowButton--right"},Object(c.b)(ke.a,{onClick:A(1)}))):Object(c.b)("div",{className:"Slideshow-swiperPlaceholder"})),n.length>1&&Object(c.b)(u.a.Fragment,null,Object(c.b)("div",{className:"Slideshow-swiperThumbs--placeholder"}),Object(c.b)("div",{className:"Slideshow-swiperThumbs"},Object(c.b)("div",{className:"Slideshow-swiperThumbsContent"},n.map(function(e,t){var n=e.name,r=e.attr;if("img"===n){var a=r.src;return Object(c.b)("div",{key:t,className:"Slideshow-swiperImageThumbWrapper",onClick:function(){return N(t)}},Object(c.b)("div",{className:fe()("Slideshow-swiperImageThumbMask",{"Slideshow-swiperImageThumbMask--active":t===d})}),Object(c.b)("img",{src:Object(y.imgUrl)(a,"m"),alt:"",className:"Slideshow-swiperImageThumb",key:t}))}})))))},Se=function(e){var t=Object(l.useState)(null),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(l.useEffect)(function(){var t;if(e){var n=e.querySelector("div[data-slideshowinfo]");if(n){var r=Object(Ce.a)(n.getAttribute("data-slideshowinfo"));if(r&&!r.find(function(e){return e.attr["data-lens-id"]})){var o=Number(n.getAttribute("data-slideshow-width")),i=null===(t=n.getElementsByClassName("Slideshow-content"))||void 0===t?void 0:t[0];if(i){i.childNodes[0].remove();var s=Object(g.createPortal)(Object(c.b)(xe,{slideshowData:r,swiperWidth:o,parentNode:i}),i);a(s),n.removeAttribute("data-slideshowinfo")}}}}},[e]),r},Ne=(n(1951),n(1952),{}),Ae=function(e,t){var n=function(e){return e.split("/").reverse()[0]}(t),r=n.split("."),a=Object(s.a)(r,2),o=a[0],i=a[1],c=o.split("_"),l=Object(s.a)(c,2)[1],u="webp"===i||"gif"===i?i:"image",d=Object(J.statGenerator)({appName:"heifetz"})("".concat(u,".").concat(l,".unknown.RichText"));switch(e){case"loadstart":Ne[n]=Date.now();break;case"load":if(Ne[n]){var p="".concat(d,".success");ee.a.increment({raw:"".concat(p,".cnt")}),ee.a.timing(p,Date.now()-Ne[n]),delete Ne[n]}break;case"timeout":if(Ne[n]){var m="".concat(d,".timeout.cnt");ee.a.increment({raw:m}),delete Ne[n]}break;case"error":if(Ne[n]){var f="".concat(d,".failure.cnt");ee.a.increment({raw:f}),delete Ne[n]}}},Ee=function(e){return Object(c.b)(Y,Object(i.default)({onLoadStateChange:Ae},e))};t.a=function(e){var t=e.ecommerce,n=e.html,r=e.isSlideshowContent,f=Object(o.a)(e,["ecommerce","html","isSlideshowContent"]),h=Object(l.useState)(null),b=Object(s.a)(h,2),v=b[0],g=b[1],y=Object(p.useSelector)(function(e){return Object(te.a)(e,"gue_card_test")}),C=Object(ne.a)(y),O=C,j=d.compose.apply(void 0,Object(a.a)([r&&ye].filter(Boolean)))(n);return Object(c.b)(u.a.Fragment,null,Object(c.b)(m.a,Object(i.default)({},f,{html:j,onRef:g,lazyLoadImageProps:{onLoadStateChange:Ae,useWebP:!1},mcnLinkCardProps:C,mkSkuLinkCardProps:O,zvideoLinkCardProps:{enableInlinePlay:!0}})),Object(c.b)(ue,null,[Se,v]),Z(v,{Component:Ee}),ce(v),oe(v),Object(X.d)(v,{ecommerce:t,Component:Q.a}))}},1659:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.errorWrapper=t.default=void 0;var a=r(n(464)),o=r(n(121)),i=r(n(161)),s=r(n(160)),c=r(n(261)),l=r(n(262)),u=r(n(1)),d=n(11),p=n(1600),m=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,s.default)(this,(0,c.default)(t).call(this,e))).state={hasError:!1},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidCatch",value:function(e,t){this.handleError(e,t)}},{key:"unstable_handleError",value:function(e,t){this.handleError(e,t)}},{key:"handleError",value:function(e,t){this.setState({hasError:!0}),console.error(e),t&&console.error(t),void 0!==(0,p.get)(window,"Raven.captureException")&&window.Raven.captureException(new Error("Error in ad data."),{extra:{adjson:(0,p.get)(this.props,"children.props"),error:e,info:t}})}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}]),t}(u.default.Component);t.default=m;t.errorWrapper=function(e){return function(t){return t.data?u.default.createElement(m,null,u.default.createElement(e,(0,a.default)({},t,{data:(0,d.camelizeKeys)(t.data)}))):null}}},1660:function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(a.apply(null,r));else if("object"===o)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},1661:function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},1662:function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},1663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTag=function(e){return"tag"===e.type||"script"===e.type||"style"===e.type},t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"},1664:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HYBRID_ETU=t.HYBRID_ET=t.PLAT_FORM=t.CLICK_TRACK_TYPE=t.HotFeedBaiduHtml=t.HotFeedGoogleHtml=t.BannerBaiduHtml=t.BannerGoogleHtml=t.MBANNER_AD_NEW_STYLE_MAP=t.MFEED_AD_NEW_STYLE_MAP=t.AdTypeValues=t.AdType=t.SUBJECT_AD_NEW_STYLE_MAP=t.RECOMMEND_AD_NEW_STYLE_MAP=t.RECOMMEND_AD_STYLE_MAP=t.SEARCH_AD_NEW_STYLE_MAP=t.SEARCH_AD_STYLE_MAP=t.LARGE_AD_NEW_STYLE_MAP=t.LARGE_AD_STYLE_MAP=t.TX_DEFAULT_BRAND_NAME=t.DEEP_LINK_CTA=t.DOWNLOAD_STATUS_B=t.DOWNLOAD_STATUS_A=t.DOWNLOAD_STATUS=void 0;var a=r(n(1607)),o={ready:"立即下载",downloading:"下载中...",pause:"继续下载",completed:"立即安装",error:"立即下载"};t.DOWNLOAD_STATUS=o;var i={ready:"下载",downloading:"下载中",pause:"继续",completed:"安装",error:"下载"};t.DOWNLOAD_STATUS_A=i;var s={ready:"下载",downloading:"下载中...",pause:"继续下载",completed:"立即安装",error:"下载"};t.DOWNLOAD_STATUS_B=s;t.DEEP_LINK_CTA="立即打开";t.TX_DEFAULT_BRAND_NAME="腾讯广告联盟提供";var c={brand_card_image:"normal",plutus_card_image:"normal",plutus_card_image_download:"largeDownloadAd",plutus_card_video:"video",plutus_card_video_download:"videoDownload",plutus_card_window:"windowAd",sdk_card_image:"sdkAd",plutus_card_slide_image:"normal",plutus_card_slide_image_download:"normalDownload",plutus_card_word_105:"word",plutus_card_word_105_download:"wordDownload",plutus_card_small_image_105:"smallImage",plutus_card_small_image_105_download:"smallImageDownload",plutus_card_multi_images_105:"multiple",plutus_card_multi_images_105_download:"multipleDownload"};t.LARGE_AD_STYLE_MAP=c;t.LARGE_AD_NEW_STYLE_MAP={bbi_105:"normal",pbi_105:"normal",pii_105:"normal",pii_105_d:"normalDownload",pbi_105_d:"largeDownloadAd",pv_105:"video",bv_105_o:"videoWithDeeplink",bv_105_i:"videoFullscreen",pv_105_d:"videoDownload",ps_105:"windowAd",sbi_105:"sdkAd",pw_105_d:"wordDownload",pw_105:"word",psi_105:"smallImage",psi_105_d:"smallImageDownload",pmi_105:"multiple",pmi_105_d:"multipleDownload",pw_417_d:"wordDownload",pw_417:"word",psi_417:"smallImage",psi_417_d:"smallImageDownload",pw_419_d:"wordDownload",pw_419:"word",psi_419:"smallImage",psi_419_d:"smallImageDownload"};t.SEARCH_AD_STYLE_MAP={plutus_card_word:"word",plutus_card_word_download:"wordDownload",brand_card_search_image:"searchImage",app_hot_search:"hotSearch",brand_card_search_recommend:"searchRecommend",brand_card_search_window:"searchWindow",plutus_card_small_image_33:"small",plutus_card_small_image_33_download:"smallDown"};t.SEARCH_AD_NEW_STYLE_MAP={pw_33:"word",pw_33_d:"wordDownload",bsei_33:"searchImage",bhs_250:"hotSearch",bsr_33:"searchRecommend",bsw_33:"searchWindow",bst_33:"searchSuperTopic",bbt_33:"searchSuperTopicImage",bwt_33:"searchSuperTopicWindow",psi_33:"small",bsi_33:"small",psi_33_d:"smallDown"};var l={sdk_card:"sdk"};t.RECOMMEND_AD_STYLE_MAP=l;var u={bsi_20:"single",bmi_20:"multiple",pw_20:"word",bw_20:"word",pw_20_d:"wordDownload",psi_20:"single",psi_20_d:"singleDownload",bsi_20_pu:"singlePu",pmi_20:"multiple",pmi_20_d:"multipleDownload",sci_20:"single",bsi_118:"single",bmi_118:"multiple"};t.RECOMMEND_AD_NEW_STYLE_MAP=u;var d={bsi_208:"small",bmi_208:"multiple"};t.SUBJECT_AD_NEW_STYLE_MAP=d;var p={smallCard:"PROMOTE_SMALL_IMAGE_CARD",multiple:"PROMOTE_MULTI_IMAGES_CARD",word:"PROMOTE_WORD",bigCard:"PROMOTE_URL_CARD",origin:"PROMOTE_CARD"};t.AdType=p;var m=["PROMOTE_SMALL_IMAGE_CARD","PROMOTE_MULTI_IMAGES_CARD","PROMOTE_WORD","PROMOTE_URL_CARD","PROMOTE_CARD"];t.AdTypeValues=m;var f=(0,a.default)({psi_19:"single",psi_19_d:"singleDownload",bsi_19:"single",psi_219:"small",psi_219_d:"small",pmi_219:"multiple",pmi_219_d:"multiple",pbi_m:"large",pbi_m_d:"large",psi_m:"small",psi_m_d:"small",pw_m:"word",pw_m_d:"word"},u);t.MFEED_AD_NEW_STYLE_MAP=f;t.MBANNER_AD_NEW_STYLE_MAP={pbi_218:"large",pii_218:"gif",pbi_218_d:"large",pii_218_d:"gif",pbi_14:"large",pii_14:"gif",pbi_14_d:"large",pii_14_d:"gif"};var h="https://www.zhihu.com",b={banner1:"".concat(h,"/m_banner.html"),banner2:"".concat(h,"/m_banner2.html")};t.BannerGoogleHtml=b;t.BannerBaiduHtml="u4227765";var v="".concat(h,"/m_hot_feed.html");t.HotFeedGoogleHtml=v;t.HotFeedBaiduHtml="u4178572";t.CLICK_TRACK_TYPE={ExtendClick:"ExtendClick",TopicClick:"TopicClick"};var g={android:0,ios:1,other:"other"};t.PLAT_FORM=g;var y=new Set(["click_con","click_win","click_upvote","click_downvote"]);t.HYBRID_ET=y;var C=new Set(["click_topic","click_hot1","click_hot2","click_hot3"]);t.HYBRID_ETU=C;var O={DOWNLOAD_STATUS:o,DOWNLOAD_STATUS_A:i,DOWNLOAD_STATUS_B:s,DEEP_LINK_CTA:"立即打开",LARGE_AD_STYLE_MAP:c,RECOMMEND_AD_STYLE_MAP:l,SUBJECT_AD_NEW_STYLE_MAP:d,AdType:p,AdTypeValues:m,BannerGoogleHtml:b,PLAT_FORM:g,HYBRID_ET:y,HYBRID_ETU:C};t.default=O},1665:function(e,t,n){"use strict";var r=n(29),a=n.n(r),o=(n(1),n(0));t.a=function(e){return Object(o.b)("svg",a()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 12",fill:"currentColor"},e),Object(o.b)("path",{d:"M5,0 C7.7615,0 10,2.074 10,4.632 C10,8 8.681,9.6805 6.043,11.657 C5.463,12.0915 4.6455,12.1135 4.041,11.722 L3.952,11.66 L3.766,11.5195 C1.2555,9.5815 0,8 0,4.632 C0,2.074 2.2385,0 5,0 Z M5,1.5 C3.0425,1.5 1.5,2.929 1.5,4.632 C1.5,7.1075 2.159,8.3245 4.368,10.0855 L4.672,10.3235 L4.8565,10.463 C4.926,10.508 5.033,10.5115 5.109,10.4765 L5.144,10.4565 C7.708,8.535 8.5,7.2275 8.5,4.631 C8.5,2.9295 6.9575,1.5 5,1.5 Z M5,3 C5.82842712,3 6.5,3.67157288 6.5,4.5 C6.5,5.32842712 5.82842712,6 5,6 C4.17157288,6 3.5,5.32842712 3.5,4.5 C3.5,3.67157288 4.17157288,3 5,3 Z"}))}},1671:function(e,t,n){"use strict";var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(3),l=n.n(c),u=n(1),d=n(1603),p=n(0),m=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={shown:!1},n.handleObserve=function(e){(e[0].isIntersecting||e[0].intersectionRatio>0)&&n.setState({shown:!0})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.rootMargin,r=e.children;return this.state.shown?r:Object(p.b)(d.a,{rootMargin:n,onObserve:this.handleObserve,threshold:[0,.1]},t||Object(p.b)("div",{style:{height:"1px"}}))}}]),t}(u.Component);m.propTypes={placeholder:l.a.element,rootMargin:l.a.string},m.defaultProps={rootMargin:"200px"};var f=m;n.d(t,"a",function(){return f})},1672:function(e,t,n){"use strict";var r=n(1756),a=n(1610),o={capture:!1,passive:!1};e.exports=function(e,t,n,i){var s="addEventListener",c="removeEventListener",l=!!a.supportPassiveEvent&&r({},o,i);return!e.addEventListener&&e.attachEvent&&(s="attachEvent",c="detachEvent",t="on"+t),e[s](t,n,l),{remove:function(){e[c](t,n)}}}},1673:function(e,t,n){var r=n(1674);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1674:function(e,t,n){var r=n(1598),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},1675:function(e,t,n){var r=n(1608),a=n(1594),o="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!a(e))return!1;var t=r(e);return t==i||t==s||t==o||t==c}},1676:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(47))},1677:function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1678:function(e,t){e.exports=function(e){return e}},1679:function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},1680:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var a=typeof e;return!!(t=null==t?n:t)&&("number"==a||"symbol"!=a&&r.test(e))&&e>-1&&e%1==0&&e<t}},1681:function(e,t,n){var r=n(1772),a=n(1773),o=n(1634),i=n(1682),s=n(1680),c=n(1776),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&a(e),d=!n&&!u&&i(e),p=!n&&!u&&!d&&c(e),m=n||u||d||p,f=m?r(e.length,String):[],h=f.length;for(var b in e)!t&&!l.call(e,b)||m&&("length"==b||d&&("offset"==b||"parent"==b)||p&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||s(b,h))||f.push(b);return f}},1682:function(e,t,n){(function(e){var r=n(1593),a=n(1775),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c}).call(this,n(74)(e))},1683:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},1684:function(e,t,n){"use strict";var r=!1;if("undefined"!=typeof navigator){var a=navigator.userAgent.match(/MSIE (\d+\.\d+)/);a&&(r=parseFloat(a[1],10)<9)}e.exports=r},1685:function(e,t,n){var r=n(1681),a=n(1812),o=n(1615);e.exports=function(e){return o(e)?r(e,!0):a(e)}},1686:function(e,t){e.exports=function(){return[]}},1687:function(e,t,n){var r=n(1688),a=n(1689),o=n(1638),i=n(1686),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=s},1688:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},1689:function(e,t,n){var r=n(1683)(Object.getPrototypeOf,Object);e.exports=r},1690:function(e,t,n){var r=n(1688),a=n(1634);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},1691:function(e,t,n){"use strict";e.exports={EVENT_END_DELAY:100,DEFAULT_THROTTLE_RATE:50}},1692:function(e,t,n){var r=n(1850),a=n(463),o=r?function(e){return r.get(e)}:a;e.exports=o},1693:function(e,t,n){var r=n(1851),a=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=a.call(r,t)?n.length:0;o--;){var i=n[o],s=i.func;if(null==s||s==e)return i.name}return t}},1694:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"DOM",function(){return y}),n.d(r,"PLAYER",function(){return C});var a={};n.r(a),n.d(a,"PLAYER",function(){return O});var o=n(17),i=n(4),s=n(8),c=n(7),l=n(5),u=n(33),d=n(6),p=n(0),m=n(1),f=n(20),h=n(1603),b=n(1622),v=n(1754),g=n(21),y={PLAY:"event/dom/play",PLAYING:"event/dom/playing",PAUSE:"event/dom/pause",ENDED:"event/dom/ended",TIMEUPDATE:"event/dom/timeupdate",ERROR:"event/dom/error",WAITING:"event/dom/waiting"},C={QUALITY_CHANGE:"event/player/quality-change",REQUEST_PLAY:"event/player/request-play",REQUEST_PAUSE:"event/player/request-pause",PLAY_COUNT:"event/player/play-count",PLAY_FAILED:"event/player/play-failed",ENTER_FULLSCREEN:"event/player/enter-fullscreen",EXIT_FULLSCREEN:"event/player/exit-fullscreen"},O={PLAY:"action/player/play",PAUSE:"action/player/pause",SET_VOLUME:"action/player/set-volume",ENTER_FULLSCREEN:"action/player/enter-fullscreen",EXIT_FULLSCREEN:"action/player/exit-fullscreen"},j="griffith";var _,w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments.length>2?arguments[2]:void 0;return{subscribeMessage:function(r){function a(a){var o=a.origin||a.originalEvent.origin,i="*"===t||t===o,s=a.data||{},c=s.from,l=s.id,u=s.payload;if(i&&c===j&&(!n||e===l)&&u){var d=u.messageName,p=u.data;d&&r(d,p,a.source)}}return window.addEventListener("message",a),{unsubscribe:function(){return window.removeEventListener("message",a)}}},dispatchMessage:function(n,r,a){n&&n.postMessage&&n.postMessage({from:j,id:e,payload:{messageName:r,data:a}},t||"*")}}},k=n(50),x=n(23),S=n(230),N=n(1590),A=n(1697),E=n.n(A),L=function(e,t){return e+(t?Date.now()-t:0)},I=function(e,t){return Math.abs(e-t)<.01},T={auto:"Auto",ld:"LD",sd:"SD",hd:"HD"},P={auto:"自动",ld:"低清",sd:"标清",hd:"超清"},R=[1,2,3,5,8,13];function M(e){var t,n="sd",r=0,a=null,o=0,i=null,s=!1,c=0,l=0;function u(t,s){e(t,Object.assign({play_event_identifier:a,duration:1e3*r,elapsed:L(o,i),video_quality:T[n]},s))}function d(){(++l<15?R.includes(l):l%15==0)&&u({action:"Playing"})}function p(){clearInterval(t)}return{handlePlayEvent:function(e){var n=e.currentTime,s=e.duration;r=s,I(n,0)&&(a=E()(),o=0),i=Date.now(),I(n,0)?u({action:"Play"}):u({action:"ResumePlay"}),l=0,p(),t=setInterval(d,1e3)},handlePauseEvent:function(e){var t=e.currentTime,n=e.duration;i&&(o+=Date.now()-i,i=null),I(t,n)?u({action:"EndPlay"}):u({action:"Pause"}),p()},handleQualityChangeEvent:function(e){var t=e.quality;u({action:"Switch",name:P[t]}),n=t},handleFragmentLoading:function(){s||(c=Date.now())},handleFragmentLoaded:function(){s||(s=!0,u({action:"Load"},{video_load_time:Date.now()-c}))},clearTick:p}}var D=Object(f.connect)(function(e,t){var n=t.data,r=n.isLens,a=n.id;if(r){var o=!1;return"undefined"!=typeof window&&!Object(k.e)(e,{includeTablet:!0})&&/Chrome/.test(navigator.userAgent)&&(o="1"===Object(k.a)(e,"ls_fmp4")),{data:Object.assign({},t.data,{source:"lens",playerUrl:"https://www.zhihu.com/video/".concat(a)}),useMSE:o}}return{data:e.video.data[a]||t.data}},{showNotification:x.h,loadVideo:S.c})(_=Object(N.b)(function(e){var t=e.data,n=t.isLens,r=t.id,a=t.isPlayable;return{module:"VideoItem",content:{type:"Video",sub_type:n?"SelfHosted":"Embedded",video_id:r,is_playable:Boolean(a)},trackCardShow:!0,view:{id:174}}})(_=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).pauseVideoInIframe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.messageHelper.dispatchMessage(e.contentWindow,a.PLAYER.PAUSE,{dontApplyOnFullScreen:t})},n.pauseAllOtherVideos=function(){Array.from(document.querySelectorAll("iframe")).filter(function(e){return e!==n.iframe}).forEach(function(e){return n.pauseVideoInIframe(e)})},n.handleMessage=function(e,t){var a=n.videoTracker,o=a.handlePlayEvent,i=a.handlePauseEvent,s=a.handleQualityChangeEvent,c=a.handleFragmentLoading,l=a.handleFragmentLoaded;switch(e){case r.DOM.PLAY:n.pauseAllOtherVideos(),o(t);break;case r.DOM.PAUSE:i(t);break;case r.PLAYER.QUALITY_CHANGE:s(t);break;case"fragment-loading":c(t);break;case"fragment-loaded":l(t)}},n.handleObserve=function(e){e[0].intersectionRatio<=0&&n.iframe&&n.pauseVideoInIframe(n.iframe,!0)},n.handlePlay=function(){n.props.trackEvent(Object(u.default)(n),{id:5500,action:"Play",element:"Video"})},n.handlePlayFailed=function(){(0,n.props.showNotification)("视频加载失败，请刷新页面重试","red")};var o=e.data;return n.messageHelper=w(o.id,"*",!0),n.videoTracker=M(function(e,t){g.default.trackEvent(Object(u.default)(n),e,{play:t})}),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=t.isLens,r=t.id,a=t.playerUrl,o=t.flvPlayerUrl,i=e.loadVideo;n||!r||a||o||i(r);var s=this.messageHelper.subscribeMessage;this.messageSubscription=s(this.handleMessage)}},{key:"componentWillUnmount",value:function(){this.messageSubscription.unsubscribe(),this.videoTracker.clearTick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.data.error,a=t.onBeforePlay,i=t.useMSE;return Object(p.b)("div",{className:"RichText-video"},r?Object(p.b)(v.a,n):Object(p.b)(h.a,{onObserve:this.handleObserve},Object(p.b)(b.b,Object(o.default)({},n,{onIframeRef:function(t){return e.iframe=t},onPlay:this.handlePlay,onPlayFailed:this.handlePlayFailed,onBeforePlay:a},i&&{useMSE:!0}))))}}]),t}(m.Component))||_)||_;t.a=D},1696:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(1),l=n.n(c),u=n(0),d=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"handleEvent",value:function(e){e.stopPropagation()}},{key:"render",value:function(){return Object(u.b)("div",{onBeforeInput:this.handleEvent,onBlur:this.handleEvent,onCompositionEnd:this.handleEvent,onCompositionStart:this.handleEvent,onCopy:this.handleEvent,onCut:this.handleEvent,onDragEnd:this.handleEvent,onDragEnter:this.handleEvent,onDragLeave:this.handleEvent,onDragOver:this.handleEvent,onDragStart:this.handleEvent,onDrop:this.handleEvent,onFocus:this.handleEvent,onInput:this.handleEvent,onKeyDown:this.handleEvent,onKeyPress:this.handleEvent,onKeyUp:this.handleEvent,onMouseUp:this.handleEvent,onPaste:this.handleEvent,onSelect:this.handleEvent,onClick:this.handleEvent},this.props.children)}}]),t}(l.a.Component)},1697:function(e,t,n){var r=n(1866),a=n(1867);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[o+s]=i[s];return t||a(i)}},1699:function(e,t,n){"use strict";var r=n(28),a=n(1),o=n.n(a),i=n(11),s=n(461),c=n(54),l=n.n(c),u=n(1588),d=n(21),p=n(463),m=n.n(p),f=n(18),h=n.n(f),b=n(1644),v=n(29),g=n.n(v),y=n(35),C=n.n(y),O=n(4),j=n(8),_=n(7),w=n(5),k=n(6),x=(n(1859),n(0)),S=function(e){function t(){return Object(O.a)(this,t),Object(_.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return Object(x.b)("svg",{width:"30",height:"30",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",className:"CircleLoadingBar","aria-hidden":"true"},Object(x.b)("g",null,Object(x.b)("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})))}}]),t}(a.Component),N=n(46);n(1860);var A=function(e){var t=e.className,n=e.url,r=e.source,a=C()(e,["className","url","source"]);return Object(x.b)(N.b,g()({className:h()("MCNQRCodeModal",t)},a),Object(x.b)("div",{className:"MCNQRCodeModal-title"},"用知乎 App 扫码查看"),Object(x.b)("div",{className:"MCNQRCodeModal-tip"},"目前",r,"暂不支持在电脑购买商品"),Object(x.b)("div",{className:"MCNQRCodeModal-qrcode"},Object(x.b)(S,null),Object(x.b)("img",{src:"https://www.zhihu.com/qrcode?url=".concat(encodeURIComponent(n))})))},E=n(103),L=n(144),I=n(1665);var T={hotel:"酒店",ticket:"门票"},P=Object.keys(T);var R={name:"1rguia",styles:"display:flex;padding:14px;"},M={name:"1c8iba8",styles:"flex:1;margin-left:12px;overflow:hidden;"},D={name:"zjqrkl",styles:"font-size:12px;line-height:1;vertical-align:1px;"},F={name:"1q27zj9",styles:"flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"};function B(e){var t,n,r,a=e.onRef,o=e.data,i=o.imgToken,s=o.title,c=o.priceText,l=o.areaName,d=Object(L.d)();return Object(x.b)("div",{css:R,ref:a},Object(x.b)("img",{src:i,css:Object(E.a)([{width:75,height:100,borderRadius:6,flexShrink:0,objectFit:"cover"},d],"","")}),Object(x.b)("div",{css:M},Object(x.b)("div",{css:function(e){return Object.assign({color:e.colors.GBK02A,fontSize:15,fontWeight:e.fontWeights.bold,lineHeight:1.2,height:36},Object(L.c)(2))}},s),Object(x.b)("div",{css:function(e){return{color:e.colors.GBK05A,fontSize:12,marginTop:4,fontWeight:e.fontWeights.bold,height:16,lineHeight:"16px"}}},(n=(t=o).source,r=t.productTypeName,[n,T[r]].filter(Boolean).join(" · "))),Object(x.b)("div",{css:function(e){return{display:"flex",alignItems:"center",color:e.colors.GRD08A,marginTop:8,height:18,lineHeight:"18px"}}},Object(x.b)("div",{css:function(e){return{fontSize:15,fontWeight:e.fontWeights.bold}}},c," ",Object(x.b)("span",{css:D},"起")),Object(x.b)("div",{role:"button",css:function(e){return{marginLeft:"auto",cursor:"pointer",fontSize:13,fontWeight:e.fontWeights.bold}}},"去购买 ",Object(x.b)(u.a,{size:16,center:!0}))),Object(x.b)("div",{css:function(e){return{display:"flex",alignItems:"center",marginTop:2,height:18,lineHeight:1,fontSize:12,color:e.colors.GBK06A,fontWeight:e.fontWeights.bold,overflow:"hidden",transform:"scale(0.92)",transformOrigin:"left"}}},Object(x.b)(I.a,{width:"12",height:"12",css:Object(E.a)({flexShrink:0,marginTop:-1,marginRight:2},"","")}),Object(x.b)("span",{css:F},l))))}var z=Object(a.forwardRef)(function(e,t){return Object(x.b)(B,g()({onRef:t},e))});n(1861);n.d(t,"a",function(){return q});var q={CONTENT:0,MENTION_IN_CONTENT:1,SHOWCASE:2,LIVING_THEATER:3};function V(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).trimZero,n=void 0!==t&&t,r=String(e).padStart(2,"0").slice(-2);return n&&"00"===r?"".concat(Math.floor(e/100)):"".concat(Math.floor(e/100),".").concat(r)}function U(e){var t=e.source,n=e.producer,r=e.price,a=e.zhihuVipText;if(null===r)return null;var o="¥ ".concat(V(r)).concat("网络文学"===n?"/千字":"");return a?Object(x.b)("div",{className:"MCNLinkCard-VIPPrice"},Object(x.b)("span",{className:"MCNLinkCard-VIPPriceHint"},a),Object(x.b)("span",{className:"MCNLinkCard-originalPrice"},o)):Object(x.b)("div",{className:"MCNLinkCard-price"},"拼多多"===t&&Object(x.b)("span",{className:"MCNLinkCard-pricePrefix"},"拼团价"),Object(x.b)("span",null,o))}function H(e){var t=e.className,n=e.source,r=e.tagList;return Object(x.b)("div",{className:h()("MCNLinkCard-tagList",t)},Object(x.b)("div",{className:h()("MCNLinkCard-tag","MCNLinkCard-tag--source")},n),r.map(function(e){return Object(x.b)("div",{key:e,className:h()("MCNLinkCard-tag","MCNLinkCard-tag--plain")},e)}))}t.b=o.a.forwardRef(function(e,t){var n=Object(a.useState)(null),c=Object(r.a)(n,2),p=c[0],f=c[1],v=Object(a.useState)(!1),g=Object(r.a)(v,2),y=g[0],C=g[1],O=e.component,j=void 0===O?"a":O,_=e.id,w=e.scenes,k=void 0===w?q.CONTENT:w,S=e.className,N=e.onClick,E=e.onMouseDown,L=e.refetchKey,I=e.onData,T=void 0===I?m.a:I,R=e.sourceConvert,M=void 0!==R&&R,D=e.enableMetaTag,F=void 0!==D&&D,B=e.processResponse,W=e.getUrl,G=e.buttonText,K=e.fetchLinkDataOptions,Y=e.cardShowHandler,Z=e.disableZa,X=Object(a.useRef)(null);if(Object(a.useEffect)(function(){if(null!==L){var e=W?W(_):"https://www.zhihu.com/api/v4/mcn/linkcard/".concat(_,"?scenes=").concat(k);Object(b.a)(e,K).then(function(e){var t=B?B(e):Object(i.camelizeKeys)(e.data);f(t),T(t)}).catch(function(){})}},[_,k,f,T,L,W,B,K]),Object(a.useEffect)(function(){X.current&&!Z&&Object(s.onViewedOnce)(X.current.parentNode,function(){d.default.trackCardShow(X.current.parentNode,{id:6108},{button:{text:X.current.parentNode.dataset.zaExtraButtonText}})})},[Y,p,Z]),!p)return Object(x.b)(j,{ref:t,className:h()("MCNLinkCard","MCNLinkCard-placeholder",S),"data-draft-node":"block","data-draft-type":"mcn-link-card"});var $,Q=p.url,J=p.title,ee=p.imgToken,te=p.price,ne=p.source,re=p.isJdSale,ae=p.isTmall,oe=p.couponAmount,ie=p.freeShipment,se=p.producer,ce=p.authorText,le=p.zhihuButtonText,ue=p.zhihuVipText,de=p.productTypeName,pe=p.appSchemaAndroid,me=p.appSchemaIos,fe=null,he="square",be=G||"去购买";"知乎"===ne&&(fe=se,he="rectangle",be=le||"去查看",$=ce);var ve=ne;M&&("淘宝"===ne&&(ve=ae?"天猫":"淘宝"),"京东"===ne&&(ve=re?"京东自营":"京东")),$&&(ve=$);var ge=[F&&"券 ".concat(oe?" "+V(oe,{trimZero:!0}):""),ie&&("拼多多"===ne?"顺丰包邮":"包邮")].filter(Boolean),ye=["天猫","京东自营"].includes(ve)||ge.length>0?"1":void 0,Ce=P.includes(de)?Object(x.b)(z,{data:p,ref:X}):Object(x.b)("div",{className:"MCNLinkCard-card",ref:X},Object(x.b)("div",{className:"MCNLinkCard-cardContainer"},Object(x.b)("div",{className:h()("MCNLinkCard-imageContainer","MCNLinkCard-imageContainer--".concat(he))},Object(x.b)("img",{className:"MCNLinkCard-image",src:ee,alt:""}),fe&&Object(x.b)("div",{className:"MCNLinkCard-tagInImage"},fe)),Object(x.b)("div",{className:"MCNLinkCard-info"},Object(x.b)("div",{className:"MCNLinkCard-title"},Object(x.b)("div",{className:"MCNLinkCard-titleText"},J),Object(x.b)(H,{source:ve,tagList:ge})),Object(x.b)("div",{className:"MCNLinkCard-tool"},Object(x.b)("div",{className:"MCNLinkCard-toolLeft"},Object(x.b)(U,{source:ne,producer:se,price:te,zhihuVipText:ue})),Object(x.b)("div",{className:"MCNLinkCard-button",role:"button"},be,Object(x.b)(u.a,{size:17,center:!0}))))));return Object(x.b)(o.a.Fragment,null,y&&Object(x.b)(A,{url:Q,source:ne,onClose:function(){return C(!1)}}),Object(x.b)(j,{ref:t,className:h()("MCNLinkCard",S),"data-draft-node":"block","data-draft-type":"mcn-link-card","data-mcn-id":p.id,"data-mcn-skuid":p.skuid,"data-mcn-source":p.source,"data-mcn-app-schema-android":pe,"data-mcn-app-schema-ios":me,"data-za-detail-view-name":p.id,"data-za-extra-button-text":ye,"data-za-not-track-link":!0,href:Q,target:"_blank",rel:"noopener noreferrer",onClick:function(e){if(!Z&&d.default.trackEvent(e.currentTarget,{id:6208,action:"Click"},{button:{text:e.currentTarget.dataset.zaExtraButtonText}}),N&&N(e),!e.defaultPrevented){var t=l()(navigator.userAgent),n=t.Tablet,r=t.Mobile;"拼多多"!==ne||n||r||(e.preventDefault(),C(!0))}},onMouseDown:E},Ce))})},1701:function(e,t,n){"use strict";var r=n(28),a=n(1),o=n(86);var i="function"==typeof Image,s={},c=i?o(function(e){return new Promise(function(t){return n=e,r=function(e,n){s[e]=n,t(n)},(a=new Image).onload=function(){var e=a.width>0&&a.height>0;r(n,e)},a.onerror=function(){r(n,!1)},void(a.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[n]);var n,r,a})}):function(){return Promise.resolve(!1)};t.a=function(e){var t=s[e],n=Object(a.useState)(t),o=Object(r.a)(n,2),l=o[0],u=o[1];return i&&void 0===t&&c(e).then(u),l}},1702:function(e,t,n){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach(function(t){return function(e,t){"object"==typeof t?t.current=e:"function"==typeof t&&t(e)}(e,t)})}}},1706:function(e,t,n){var r=n(1931),a=n(1932),o=a;o.v1=r,o.v4=a,e.exports=o},1707:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.isGdtAd=d,t.getGdtLandingUrl=p,t.dispatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.commonAd;return new Promise(function(n){i.default.ready().then(function(){i.default.supportsAction(t).then(function(r){r?i.default.dispatch(t,e).then(function(e){return n({status:!0,type:2,data:e})},function(e){return n({status:!1,type:2,data:e})}):n({status:!1,type:1})})}).catch(function(e){return n({status:!1,type:0,data:e})})})},t.openHybridNewAd=function(e,t,n){return v({ad:e,node:t,clickPoint:n,type:"open"})},t.preloadHybridNewAd=function(e,t){return v({ad:e,node:t,type:"preload"})},t.openWithoutDeepLinkNewAd=function(e,t,n){return v({ad:e,node:t,clickPoint:n,type:"openWithoutDeepLink"})},t.openFormNewAd=function(e){return v({ad:e,type:"adOpenForm"})},t.getHybridAd=m,t.getHostName=y,t.openECommerceDeeplinkAd=function(e){var t=e.url,n=e.isCanvas,r=e.cardType,a=e.wechat,o=e.hashId,s=e.conversion,u=e.parentType,d=e.urlToken,p=e,m=t,f="ad/eCommerceOpen";n&&(f="ad/openForm");n||"wechat"!==r||(f="ad/openWechat",p={deeplink:"weixin://",wechatId:a,conversion:s});"message"===r&&(f="base/openInbox",m=(0,l.addUrlParam)(t,{source_type:u,source_id:d}),p={inbox_id:o,initial_message:"",auto_focus:!0,title:"",source_type:u,source_id:d});return new Promise(function(e){i.default.ready().then(function(){i.default.supportsAction(f).then(function(t){var n=y(p.url).indexOf("youzan.com")>0;if(n)return(0,c.openHybrid)("base/openURL",{url:p.url});t?i.default.dispatch(f,p).then(function(t){t.status?e(!0):g(m)},function(){g(m)}):g(m)})}).catch(function(){g(m)})})},t.getHybridEvent=void 0;var a=r(n(1607)),o=r(n(123)),i=r(n(63)),s=n(11),c=n(1627),l=n(1600),u={commonAd:"ad/open",preloadAd:"ad/preload",answerAd:"answer/openAd",adOpenForm:"ad/openForm",openWithoutDeepLink:"ad/openWithoutDeepLink"};function d(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").indexOf("c.gdt.qq.com")>-1}function p(e,t,n){if(!d(e)||!t||!n)return e;var r=t.getBoundingClientRect(),a=r.left,o=r.top,i=n.clientX-a,s=n.clientY-o,c={__DOWN_X__:Math.abs(i),__DOWN_Y__:Math.abs(s),__UP_X__:Math.abs(i),__UP_Y__:Math.abs(s)};return Object.keys(c).reduce(function(e,t){return e.replace(t,c[t])},e)}function m(e,t,n,r){console.log("We are sending a ".concat(t," request to Hybrid"));var a=e.conversionTracks,i=(0,o.default)(e.creatives,1)[0],c=e.videoProgress,l=e.sdk,d=e.conversionTrackJs,m=e.experimentInfo,f=e.extraConversionTracks,h=e.canvas,b=e.expand,v=void 0===b?{}:b,g=i.asset,y=i.videoInfo,C=v.downloadSilent,O=void 0!==C&&C,j=v.isNewWebview,_=void 0!==j&&j,w=v.isCdnSpeeding,k=v.cdnMap,x=g.landingUrl,S=g.appPromotionUrl,N=g.deepUrl,A=g.packageName,E=g.brandName,L=g.brandLogo,I=g.nativeUrl,T=void 0===I?"":I,P={name:E,logo:L};return[u.commonAd,u.preloadAd,u.adOpenForm].includes(t)?{is_speeding:w,cdn_map:k,download_silent:O,conversion_tracks:a,sdk:(0,s.decamelizeKeys)(l),conversion_track_js:d,extra_conversion_tracks:(0,s.decamelizeKeys)(f),experiment_info:m,creative:{package_name:A,shouldUseNewWebView:_,landing_url:p(x,n,r),app_promotion_url:S,deep_url:N,thumbnail_extra_info:(0,s.decamelizeKeys)(y),video_progress:c,brand:P,native_url:T,canvas:(0,s.decamelizeKeys)(h)}}:{ad:{downloadSilent:O,conversionTracks:a,sdk:l,creatives:[{shouldUseNewWebView:_,landingUrl:p(x,n,r),conversionTracks:a,appPromotionUrl:S,deepUrl:N,brand:P,nativeUrl:T}]}}}function f(e){var t=e.sdk,n=e.adjsonStr,r=e.videoProgress,a=(0,o.default)(e.creatives,1)[0],i=e.fullscreenVideo,c=e.landingWithoutVideo,l=a.videoInfo;return{adjson:n,sdk:(0,s.decamelizeKeys)(t),video_progress:r,extra_thumbnail_info:(0,s.decamelizeKeys)(l),fullscreen_video:!!i,landing_withoutVideo:!!c}}function h(e,t,n,r){return console.log("getHybridParams(ad, ".concat(t,", node, clickPoint) :"),(0,a.default)({},f(e),{ad:m(e,t,n,r)})),(0,a.default)({},f(e),{ad:m(e,t,n,r)})}var b=function(e){switch(e){case"preload":return u.preloadAd;case"adOpenForm":return u.adOpenForm;case"openWithoutDeepLink":return u.openWithoutDeepLink;default:return u.commonAd}};function v(e){var t=e.ad,n=e.node,r=e.clickPoint,a=e.type,o=b(a);return new Promise(function(e){i.default.ready().then(function(){return i.default.supportsAction(o).then(function(a){a?i.default.dispatch(o,h(t,o,n,r)).then(function(){return e(!0)},function(){return e(!1)}):o===u.commonAd?i.default.dispatch(u.answerAd,h(t,u.answerAd,n,r)).then(function(){return e(!0)},function(){return e(!1)}):o===u.openWithoutDeepLink&&i.default.dispatch(u.commonAd,h(t,u.commonAd,n,r)).then(function(){return e(!0)},function(){return e(!1)})})}).catch(function(){var e=(0,l.get)(t,"creatives[0].asset.landingUrl","");if(e&&["ad/open","ad/openWithoutDeepLink"].includes(o)){var n=document.createElement("a");n.href=e,n.click()}})})}function g(e){if(e){var t=document.createElement("a");t.href=e,t.click()}}function y(e){var t=document.createElement("a");return t.href=e,t.hostname}t.getHybridEvent=b},1720:function(e,t,n){var r=n(1641),a=n(486),o=n(1692),i=n(1693),s=n(96),c=n(1852),l="Expected a function",u=8,d=32,p=128,m=256;e.exports=function(e){return a(function(t){var n=t.length,a=n,f=r.prototype.thru;for(e&&t.reverse();a--;){var h=t[a];if("function"!=typeof h)throw new TypeError(l);if(f&&!b&&"wrapper"==i(h))var b=new r([],!0)}for(a=b?a:n;++a<n;){h=t[a];var v=i(h),g="wrapper"==v?o(h):void 0;b=g&&c(g[0])&&g[1]==(p|u|d|m)&&!g[4].length&&1==g[9]?b[i(g[0])].apply(b,g[3]):1==h.length&&c(h)?b[v]():b.thru(h)}return function(){var e=arguments,r=e[0];if(b&&1==e.length&&s(r))return b.plant(r).value();for(var a=0,o=n?t[a].apply(this,e):r;++a<n;)o=t[a].call(this,o);return o}})}},1721:function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=l(n);p&&p!==u&&e(t,p,d)}var m=i(n);s&&(m=m.concat(s(n)));for(var f=0;f<m.length;++f){var h=m[f];if(!(r[h]||a[h]||d&&d[h])){var b=c(n,h);try{o(t,h,b)}catch(e){}}}return t}return t}},1722:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},1723:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,a=n;return[a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]]].join("")}},1724:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1725)),s=n(166),c=new Set(["input","option","optgroup","select","button","datalist","textarea"]),l=new Set(["p"]),u={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:l,h1:l,h2:l,h3:l,h4:l,h5:l,h6:l,select:c,input:c,output:c,button:c,datalist:c,textarea:c,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:l,article:l,aside:l,blockquote:l,details:l,div:l,dl:l,fieldset:l,figcaption:l,figure:l,footer:l,form:l,header:l,hr:l,main:l,nav:l,ol:l,pre:l,section:l,table:l,ul:l,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),p=new Set(["math","svg"]),m=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),f=/\s|\//,h=function(e){function t(n,r){var a=e.call(this)||this;return a._tagname="",a._attribname="",a._attribvalue="",a._attribs=null,a._stack=[],a._foreignContext=[],a.startIndex=0,a.endIndex=null,a.parseChunk=t.prototype.write,a.done=t.prototype.end,a._options=r||{},a._cbs=n||{},a._tagname="",a._attribname="",a._attribvalue="",a._attribs=null,a._stack=[],a._foreignContext=[],a.startIndex=0,a.endIndex=null,a._lowerCaseTagNames="lowerCaseTags"in a._options?!!a._options.lowerCaseTags:!a._options.xmlMode,a._lowerCaseAttributeNames="lowerCaseAttributeNames"in a._options?!!a._options.lowerCaseAttributeNames:!a._options.xmlMode,a._tokenizer=new(a._options.Tokenizer||i.default)(a._options,a),a._cbs.onparserinit&&a._cbs.onparserinit(a),a}return a(t,e),t.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},t.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},t.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in u)for(var t=void 0;u[e].has(t=this._stack[this._stack.length-1]);this.onclosetag(t));!this._options.xmlMode&&d.has(e)||(this._stack.push(e),p.has(e)?this._foreignContext.push(!0):m.has(e)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},t.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&d.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},t.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(p.has(e)||m.has(e))&&this._foreignContext.pop(),!this._stack.length||!this._options.xmlMode&&d.has(e))this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},t.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},t.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},t.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},t.prototype.onattribdata=function(e){this._attribvalue+=e},t.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},t.prototype._getInstructionName=function(e){var t=e.search(f),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},t.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},t.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},t.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},t.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},t.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},t.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.write=function(e){this._tokenizer.write(e)},t.prototype.end=function(e){this._tokenizer.end(e)},t.prototype.pause=function(){this._tokenizer.pause()},t.prototype.resume=function(){this._tokenizer.resume()},t}(s.EventEmitter);t.Parser=h},1725:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1726)),o=r(n(1661)),i=r(n(1727)),s=r(n(1662));function c(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function l(e,t,n){var r=e.toLowerCase();return e===r?function(e,a){a===r?e._state=t:(e._state=n,e._index--)}:function(a,o){o===r||o===e?a._state=t:(a._state=n,a._index--)}}function u(e,t){var n=e.toLowerCase();return function(r,a){a===n||a===e?r._state=t:(r._state=3,r._index--)}}var d=l("C",23,16),p=l("D",24,16),m=l("A",25,16),f=l("T",26,16),h=l("A",27,16),b=u("R",34),v=u("I",35),g=u("P",36),y=u("T",37),C=l("R",39,1),O=l("I",40,1),j=l("P",41,1),_=l("T",42,1),w=u("Y",44),k=u("L",45),x=u("E",46),S=l("Y",48,1),N=l("L",49,1),A=l("E",50,1),E=l("#",52,53),L=l("X",55,54),I=function(){function e(e,t){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=t,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}return e.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},e.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&1===this._special&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||1!==this._special||c(e)?this._state=1:"!"===e?(this._state=15,this._sectionStart=this._index+1):"?"===e?(this._state=17,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?3:31,this._sectionStart=this._index)},e.prototype._stateInTagName=function(e){("/"===e||">"===e||c(e))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},e.prototype._stateBeforeCloseingTagName=function(e){c(e)||(">"===e?this._state=1:1!==this._special?"s"===e||"S"===e?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},e.prototype._stateInCloseingTagName=function(e){(">"===e||c(e))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},e.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):"/"===e?this._state=4:c(e)||(this._state=9,this._sectionStart=this._index)},e.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):c(e)||(this._state=8,this._index--)},e.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||c(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},e.prototype._stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this._cbs.onattribend(),this._state=8,this._index--):c(e)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},e.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this._sectionStart=this._index+1):"'"===e?(this._state=13,this._sectionStart=this._index+1):c(e)||(this._state=14,this._sectionStart=this._index,this._index--)},e.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueNoQuotes=function(e){c(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeDeclaration=function(e){this._state="["===e?22:"-"===e?18:16},e.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeComment=function(e){"-"===e?(this._state=19,this._sectionStart=this._index+1):this._state=16},e.prototype._stateInComment=function(e){"-"===e&&(this._state=20)},e.prototype._stateAfterComment1=function(e){this._state="-"===e?21:19},e.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype._stateInCdata=function(e){"]"===e&&(this._state=29)},e.prototype._stateAfterCdata1=function(e){this._state="]"===e?30:28},e.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"]"!==e&&(this._state=28)},e.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=33:"t"===e||"T"===e?this._state=43:(this._state=3,this._index--)},e.prototype._stateBeforeSpecialEnd=function(e){2!==this._special||"c"!==e&&"C"!==e?3!==this._special||"t"!==e&&"T"!==e?this._state=1:this._state=47:this._state=38},e.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||c(e))&&(this._special=2),this._state=3,this._index--},e.prototype._stateAfterScript5=function(e){">"===e||c(e)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},e.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||c(e))&&(this._special=3),this._state=3,this._index--},e.prototype._stateAfterStyle4=function(e){">"===e||c(e)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},e.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?s.default:o.default;Object.prototype.hasOwnProperty.call(t,e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},e.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(i.default,n))return this._emitPartial(i.default[n]),void(this._sectionStart+=t+1);t--}},e.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(1!==this._baseState?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},e.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),o=parseInt(r,t);this._emitPartial(a.default(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},e.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},e.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},e.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(1===this._state?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},e.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},e.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);1===this._state?this._stateText(e):12===this._state?this._stateInAttributeValueDoubleQuotes(e):9===this._state?this._stateInAttributeName(e):19===this._state?this._stateInComment(e):8===this._state?this._stateBeforeAttributeName(e):3===this._state?this._stateInTagName(e):6===this._state?this._stateInCloseingTagName(e):2===this._state?this._stateBeforeTagName(e):10===this._state?this._stateAfterAttributeName(e):13===this._state?this._stateInAttributeValueSingleQuotes(e):11===this._state?this._stateBeforeAttributeValue(e):5===this._state?this._stateBeforeCloseingTagName(e):7===this._state?this._stateAfterCloseingTagName(e):31===this._state?this._stateBeforeSpecial(e):20===this._state?this._stateAfterComment1(e):14===this._state?this._stateInAttributeValueNoQuotes(e):4===this._state?this._stateInSelfClosingTag(e):16===this._state?this._stateInDeclaration(e):15===this._state?this._stateBeforeDeclaration(e):21===this._state?this._stateAfterComment2(e):18===this._state?this._stateBeforeComment(e):32===this._state?this._stateBeforeSpecialEnd(e):38===this._state?C(this,e):39===this._state?O(this,e):40===this._state?j(this,e):33===this._state?b(this,e):34===this._state?v(this,e):35===this._state?g(this,e):36===this._state?y(this,e):37===this._state?this._stateBeforeScript5(e):41===this._state?_(this,e):42===this._state?this._stateAfterScript5(e):43===this._state?w(this,e):28===this._state?this._stateInCdata(e):44===this._state?k(this,e):45===this._state?x(this,e):46===this._state?this._stateBeforeStyle4(e):47===this._state?S(this,e):48===this._state?N(this,e):49===this._state?A(this,e):50===this._state?this._stateAfterStyle4(e):17===this._state?this._stateInProcessingInstruction(e):53===this._state?this._stateInNamedEntity(e):22===this._state?d(this,e):51===this._state?E(this,e):23===this._state?p(this,e):24===this._state?m(this,e):29===this._state?this._stateAfterCdata1(e):30===this._state?this._stateAfterCdata2(e):25===this._state?f(this,e):26===this._state?h(this,e):27===this._state?this._stateBeforeCdata6(e):55===this._state?this._stateInHexEntity(e):54===this._state?this._stateInNumericEntity(e):52===this._state?L(this,e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},e.prototype.pause=function(){this._running=!1},e.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},e.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},e.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},e.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);28===this._state||29===this._state||30===this._state?this._cbs.oncdata(e):19===this._state||20===this._state||21===this._state?this._cbs.oncomment(e):53!==this._state||this._xmlMode?54!==this._state||this._xmlMode?55!==this._state||this._xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},e.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},e.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},e.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},e.prototype._emitPartial=function(e){1!==this._baseState?this._cbs.onattribdata(e):this._cbs.ontext(e)},e}();t.default=I},1726:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1938));t.default=function(e){if(e>=55296&&e<=57343||e>1114111)return"�";e in a.default&&(e=a.default[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}},1727:function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},1728:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1939);t.Node=r.Node,t.Element=r.Element,t.DataNode=r.DataNode,t.NodeWithChildren=r.NodeWithChildren;var a=/\s+/g,o={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},i=function(){function e(e,t,n){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,"function"==typeof t&&(n=t,t=o),"object"==typeof e&&(t=e,e=void 0),this._callback=e||null,this._options=t||o,this._elementCB=n||null}return e.prototype.onparserinit=function(e){this._parser=e},e.prototype.onreset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=this._parser||null},e.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this._lastNode=null;var e=this._tagStack.pop();e&&this._parser&&(this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e))},e.prototype.onopentag=function(e,t){var n=new r.Element(e,t);this.addNode(n),this._tagStack.push(n)},e.prototype.ontext=function(e){var t=this._options.normalizeWhitespace,n=this._lastNode;if(n&&"text"===n.type)t?n.data=(n.data+e).replace(a," "):n.data+=e;else{t&&(e=e.replace(a," "));var o=new r.DataNode("text",e);this.addNode(o),this._lastNode=o}},e.prototype.oncomment=function(e){if(this._lastNode&&"comment"===this._lastNode.type)this._lastNode.data+=e;else{var t=new r.DataNode("comment",e);this.addNode(t),this._lastNode=t}},e.prototype.oncommentend=function(){this._lastNode=null},e.prototype.oncdatastart=function(){var e=new r.DataNode("text",""),t=new r.NodeWithChildren("cdata",[e]);this.addNode(t),e.parent=t,this._lastNode=e},e.prototype.oncdataend=function(){this._lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new r.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];this._parser&&(this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex)),n.push(e),r&&(e.prev=r,r.next=e),t&&(e.parent=t),this._lastNode=null},e.prototype.addDataNode=function(e){this.addNode(e),this._lastNode=e},e}();t.DomHandler=i,t.default=i},1729:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(1728)),c=i(n(1730)),l=n(1724),u=function(e){function t(t,n){return"object"==typeof t&&null!==t&&(n=t=void 0),e.call(this,t,n)||this}return a(t,e),t.prototype.onend=function(){var e={},t=p(b,this.dom);if(t)if("feed"===t.name){var n=t.children;e.type="atom",h(e,"id","id",n),h(e,"title","title",n);var r=f("href",p("link",n));r&&(e.link=r),h(e,"description","subtitle",n),(a=m("updated",n))&&(e.updated=new Date(a)),h(e,"author","email",n,!0),e.items=d("entry",n).map(function(e){var t={},n=e.children;h(t,"id","id",n),h(t,"title","title",n);var r=f("href",p("link",n));r&&(t.link=r);var a=m("summary",n)||m("content",n);a&&(t.description=a);var o=m("updated",n);return o&&(t.pubDate=new Date(o)),t})}else{var a;n=p("channel",t.children).children;e.type=t.name.substr(0,3),e.id="",h(e,"title","title",n),h(e,"link","link",n),h(e,"description","description",n),(a=m("lastBuildDate",n))&&(e.updated=new Date(a)),h(e,"author","managingEditor",n,!0),e.items=d("item",t.children).map(function(e){var t={},n=e.children;h(t,"id","guid",n),h(t,"title","title",n),h(t,"link","link",n),h(t,"description","description",n);var r=m("pubDate",n);return r&&(t.pubDate=new Date(r)),t})}this.feed=e,this.handleCallback(t?null:Error("couldn't find root of feed"))},t}(s.default);function d(e,t){return c.getElementsByTagName(e,t,!0)}function p(e,t){return c.getElementsByTagName(e,t,!0,1)[0]}function m(e,t,n){return void 0===n&&(n=!1),c.getText(c.getElementsByTagName(e,t,n,1)).trim()}function f(e,t){return t?t.attribs[e]:null}function h(e,t,n,r,a){void 0===a&&(a=!1);var o=m(n,r,a);o&&(e[t]=o)}function b(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}t.FeedHandler=u;var v={xmlMode:!0};t.parseFeed=function(e,t){void 0===t&&(t=v);var n=new u(t);return new l.Parser(n,t).end(e),n.feed}},1730:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1940)),r(n(1944)),r(n(1945)),r(n(1733)),r(n(1946)),r(n(1947)),r(n(1623))},1731:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1661)),o=r(n(1727)),i=r(n(1662)),s=r(n(1726));function c(e){var t=Object.keys(e).join("|"),n=u(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}t.decodeXML=c(i.default),t.decodeHTMLStrict=c(a.default);var l=function(e,t){return e<t?1:-1};function u(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?s.default(parseInt(t.substr(3),16)):s.default(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}t.decodeHTML=function(){for(var e=Object.keys(o.default).sort(l),t=Object.keys(a.default).sort(l),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var i=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=u(a.default);function c(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(i,c)}}()},1732:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=c(r(n(1662)).default),o=l(a);t.encodeXML=f(a,o);var i=c(r(n(1661)).default),s=l(i);function c(e){return Object.keys(e).sort().reduce(function(t,n){return t[e[n]]="&"+n+";",t},{})}function l(e){var t=[],n=[];return Object.keys(e).forEach(function(e){return 1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.encodeHTML=f(i,s);var u=/[^\0-\x7F]/g,d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function p(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function m(e,t){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(e,t){return function(n){return n.replace(t,function(t){return e[t]}).replace(d,m).replace(u,p)}}var h=l(a);t.escape=function(e){return e.replace(h,p).replace(d,m).replace(u,p)}},1733:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1623);function a(e,t,n,o){for(var i=[],s=0;s<t.length;s++){var c=t[s];if(e(c)&&(i.push(c),--o<=0))break;if(n&&r.hasChildren(c)&&c.children.length>0){var l=a(e,c.children,n,o);if(i=i.concat(l),(o-=l.length)<=0)break}}return i}t.filter=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),Array.isArray(t)||(t=[t]),a(e,t,n,r)},t.find=a,t.findOneChild=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return null},t.findOne=function e(t,n,a){void 0===a&&(a=!0);for(var o=null,i=0;i<n.length&&!o;i++){var s=n[i];r.isTag(s)&&(t(s)?o=s:a&&s.children.length>0&&(o=e(t,s.children)))}return o},t.existsOne=function e(t,n){for(var a=0;a<n.length;a++){var o=n[a];if(r.isTag(o)&&(t(o)||o.children.length>0&&e(t,o.children)))return!0}return!1},t.findAll=function(e,t){for(var n=[],a=t.slice();a.length;){var o=a.shift();o&&r.isTag(o)&&(o.children&&o.children.length>0&&a.unshift.apply(a,o.children),e(o)&&n.push(o))}return n}},1734:function(e,t,n){"use strict";var r=n(103),a=n(25),o=n(0),i=(n(1),n(61)),s=n(1565);t.a=function(e){var t=e.checked,n=e.children,c=Object(a.a)(e,["checked","children"]);return Object(o.b)(i.b,c,Object(o.b)("span",{css:Object(r.a)({display:"inline-block",width:24,marginLeft:-24},"")},t&&Object(o.b)(s.a,{text:!0,center:!0})),n)}},1735:function(e,t,n){"use strict";var r=n(28),a=n(29),o=n.n(a),i=n(35),s=n.n(i),c=n(3),l=n.n(c),u=n(1),d=n.n(u),p=n(18),m=n.n(p),f=n(1904),h=n.n(f),b=n(1612),v=n(1740),g=/([-\w]+)(="([^"]+)"|='([^']+)')?/g,y=function(e){for(var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).decodeValue,r=void 0!==n&&n,a={};t=g.exec(e);){var o=t[1],i=t[3]||t[4];a[o]=(r?O(i):i)||""}return a},C=function(e){if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};function O(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/&amp;/g,"&").replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#34;/g,'"').replace(/&#13;/g,"\r")}var j=n(0),_=/<a\b([^>]*data-draft-type="link-card"[^>]*)>(.*?)<\/a>/g,w=function(e){return e?e.replace(_,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=y(t,{decodeValue:!0}),a=r.target,o=void 0===a?"_blank":a,i=r.href,s=void 0===i?"":i,c=r["data-image"],l=r["data-image-width"],u=r["data-image-height"],d=r["data-entity-type"],p=r["data-entity-data"],m=n.replace(/<[^>]*>/g,"");return m=O(m),s.match(/https:\/\/www.zhihu.com\/zvideo\/(\d+)$/)&&!m&&(m="知乎视频"),Object(b.renderToStaticMarkup)(Object(j.b)(v.a,{text:m,url:s,target:o,image:c,imageWidth:l,imageHeight:u,entityType:d,entityData:C(p)}))}):e},k=n(1872),x=/<a\b([^>]*data-draft-type="file-link-card"[^>]*)>(.*?)<\/a>/g,S=function(e){return e?e.replace(x,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=y(t,{decodeValue:!0}),a=r.href,o=void 0===a?"":a,i=r["data-file-type"],s=r["data-file-extension"],c=r["data-file-size"],l=r["data-file-source"],u=O(n);return Object(b.renderToStaticMarkup)(Object(j.b)(k.a,{href:o,name:u,type:i,extension:s,size:c,source:l}))}):e},N=/<p><br><\/p>/g,A=function(e){return e?e.replace(N,'<p class="ztext-empty-paragraph"><br /></p>'):e},E=n(1856),L=/<sup\b([^>]*data-draft-type="reference"[^>]*)>(.*?)<\/sup>/g,I=function(e){return function(t){return function(e,t){if(!e)return e;var n=e,r=[];return n=n.replace(L,function(e,n){var a=y(n,{decodeValue:!0}),o=a["data-text"],i=void 0===o?"":o,s=a["data-url"],c=void 0===s?"":s,l=a["data-numero"],u=t?"ref_".concat(t,"_").concat(l):"ref_".concat(l),d=r.filter(function(e){return e.refKey===u}),p="".concat(u,"_").concat(d.length);r.push({refKey:u,text:i,url:c,numero:l});var m=[i,c].filter(Boolean).join(" ");return Object(b.renderToStaticMarkup)(Object(j.b)("sup",{"data-text":i,"data-url":c,"data-numero":l,"data-draft-node":"inline","data-draft-type":"reference","data-tooltip":m,"data-tooltip-preset":"white","data-tooltip-classname":"ztext-referene-tooltip"},Object(j.b)("a",{id:p,href:"#".concat(u),"data-reference-link":!0,"aria-labelledby":u},"[",l,"]")))}),r.length?n=n.concat(Object(b.renderToStaticMarkup)(Object(j.b)(E.a,{referenceList:r}))):n}(t,e)}},T=function(e){Object(u.useEffect)(function(){e&&Array.from(e.querySelectorAll("img[eeimg]")).forEach(function(e){e.setAttribute("data-formula",e.alt),e.alt="[公式]"})},[e])},P=n(1858),R=n(39),M=function(e){return function(t,n){var a=Object(u.useState)(null),i=Object(r.a)(a,2),s=i[0],c=i[1],l=e.idAttr,d=e.selector,p=e.component,m=e.targetClassName,f=Object(u.useCallback)(function(e){var t=e.idAttr,n=e.targetClassName;return function(e){var r=e.getAttribute(t),a=document.createElement("div");return a.className=n,e.parentNode.replaceChild(a,e),{data:{id:r},target:a}}}({idAttr:l,targetClassName:m}),[l,m]);return Object(u.useEffect)(function(){if(t){var e=Array.from(t.querySelectorAll(d));if(e.length>0){var r=e.map(function(e){return f(e)}).map(function(e){var t=e.data,r=e.target;return Object(R.createPortal)(Object(j.b)(p,o()({key:t.id,id:t.id},n)),r)});c(r)}}},[t]),s}},D=n(21),F=n(463),B=n.n(F),z=n(11),q=n(461),V=n(260),U=n(105),H=n(1644),W=n(1671),G=n(1622);n(1905);function K(e){var t=String(e);return t.length<2&&(t="0"+t),t}function Y(e){var t=Object(u.useRef)(null),n=e.component,r=void 0===n?"a":n,a=e.zvideo,o=e.enableInlinePlay,i=void 0!==o&&o,s=e.onImageClick,c=void 0===s?B.a:s,l=e.onInfoClick,d=void 0===l?B.a:l,p=a.id,m=a.title,f=a.url,h=a.imageUrl,b=a.video,v=b.videoId,g=b.duration,y=a.author,C=a.playCount,O=!f,_=O?"inlinezvideo":"zvideo";Object(u.useEffect)(function(){Object(q.onViewedOnce)(t.current,function(){D.default.trackCardShow(t.current,{id:7844},{button:{text:_}})})},[_]);var w=Object(u.useCallback)(function(e){D.default.trackEvent(e.target,{id:7846,action:"OpenUrl"},{button:{text:_}}),c(e,a)},[c,a,_]),k=Object(u.useCallback)(function(e){D.default.trackEvent(e.target,{id:7847,action:"OpenUrl"},{button:{text:_}}),d(e,a)},[d,a,_]);return Object(j.b)(r,{className:"ZVideoLinkCard",ref:t,href:f,target:"_blank",rel:"noopener noreferrer","data-za-not-track-link":!0,"data-za-module":"Content","data-za-module-info":JSON.stringify({card:{content:{type:"Zvideo",token:p,video_id:v}}})},i?Object(j.b)(W.a,{placeholder:Object(j.b)("div",{className:"ZVideoLinkCard-playerContainer"})},Object(j.b)("div",{className:"ZVideoLinkCard-playerContainer"},Object(j.b)("iframe",{className:"ZVideoLinkCard-player",frameBorder:0,allowFullScreen:!0,src:"https://www.zhihu.com/video/".concat(v)}))):Object(j.b)("div",{className:"ZVideoLinkCard-image",style:{backgroundImage:"url(".concat(h,")")},onClick:w},Object(j.b)(G.a,{className:"ZVideoLinkCard-playIcon"}),Boolean(g)&&Object(j.b)("div",{className:"ZVideoLinkCard-duration"},function(e){if(!Number.isFinite(e))return"";var t=(e=Math.floor(e))%60,n=Math.floor(e/60);return"".concat(K(n),":").concat(K(t))}(g))),Object(j.b)("div",{className:"ZVideoLinkCard-info",onClick:k},Object(j.b)("div",{className:"ZVideoLinkCard-title"},m),!O&&Object(j.b)("div",{className:"ZVideoLinkCard-author"},Object(j.b)(U.a,{className:"ZVideoLinkCard-avatar",url:y.avatarUrl,alt:"",size:20,round:!0}),Object(j.b)("div",null,y.name,"的视频"),Boolean(C)&&Object(j.b)("div",null," · ",Object(V.cnNiceNumber)(C),"播放"))))}function Z(e){var t=e.error;return Object(j.b)("div",{className:"ZVideoLinkErrorCard"},Object(j.b)("div",{className:"ZVideoLinkErrorCard-message"},t.message||"视频加载错误"))}var X=M({idAttr:"data-zvideo-id",selector:"a[data-zvideo-id]",targetClassName:"RichText-ZVideoLinkCardContainer",component:function(e){var t=e.id,n=s()(e,["id"]),a=Object(u.useState)(null),i=Object(r.a)(a,2),c=i[0],l=i[1],d=Object(u.useState)(null),p=Object(r.a)(d,2),m=p[0],f=p[1];return Object(u.useEffect)(function(){var e="https://www.zhihu.com/api/v4/zvideos/".concat(t,"/card");Object(H.a)(e).then(function(e){return Object(z.camelizeKeys)(e)}).then(function(e){e.error?f(e.error):l(e)}).catch(function(e){f(e)})},[t]),m?Object(j.b)(Z,{error:m}):c?Object(j.b)(Y,o()({zvideo:c},n)):null}}),$=n(1699),Q=M({idAttr:"data-mcn-id",selector:"a[data-mcn-id]",targetClassName:"RichText-MCNLinkCardContainer",component:$.b}),J=M({idAttr:"data-metalink-id",selector:"a[data-metalink-id]",targetClassName:"RichText-MetaLinkCardContainer",component:n(1862).a}),ee=function(e){var t=Object(z.camelizeKeys)(e),n=t.resourceName,r=t.button,a=r.url,o=r.text,i=t.title,s=t.cover,c=t.price,l=t.source,u=void 0===l?"知乎":l;return{url:a,buttonText:o,title:i,imgToken:s,price:c,authorText:t.desc,heatText:t.footer,producer:n,source:u}},te=M({idAttr:"data-sku-id",selector:"a[data-sku-id]",targetClassName:"RichText-MkSkuLinkCardContainer",component:function(e){var t=e.onClick,n=Object(u.useRef)(!1);return Object(j.b)($.b,o()({processResponse:ee,getUrl:function(e){return"https://www.zhihu.com/api/v4/market/km_sku_card/".concat(e)},fetchLinkDataOptions:{credentials:"same-origin"},onClick:function(e){D.default.trackEvent(e.target,{id:7204,action:"OpenUrl"}),t&&t(e)},disableZa:!0,ref:function(t){t&&!t.classList.contains("MCNLinkCard-placeholder")&&!1===n.current&&(D.default.setModule(t,{module:"Content"},{card:{content:{id:e.id}}}),Object(q.onViewedOnce)(t,function(){D.default.trackCardShow(t,{id:7203})}),n.current=!0)}},e))}}),ne=n(108),re=n.n(ne),ae=n(62),oe=n(1656),ie=n(1701),se=re()(function(){return/Mobile/.test(navigator.userAgent)});function ce(e,t){var n={monitor:{type:"Event",imgResourceErrorInfo:{error_description:t,img_url:e,img_from:"web"}}};D.default.trackMonitor({name:t},n)}var le=function(e){var t=e.onLoadStateChange,n=e.enableWebP;return function(e){var r=e.target,a=function(e,t){var n=e.dataset,r=n.actualsrc,a=n.actualgif;if(t&&a&&a.match(/.gif$/i))return r;var o="720w";return!se()&&window.devicePixelRatio>=1.5&&(o="1440w"),se()&&window.devicePixelRatio*window.innerWidth>=1080&&(o="1440w"),Object(ae.imgUrl)(r,{quality:80,size:o})}(r,n);if(n&&(a=a.replace(/\.(jpg)|(png)|(jpeg)/,".webp")),r.src=a,r.complete)r.dataset.lazyStatus="ok";else{t&&r.addEventListener("loadstart",function(){t("loadstart",a)}),r.dataset.lazyStatus="loading";var o=setTimeout(function(){r.complete||ce(r.url,"image_web_timeout_image"),t&&t("timeout",a)},15e3);r.addEventListener("load",function(){r.dataset.lazyStatus="ok",clearTimeout(o),ce(r.url,"image_web_success_image"),t&&t("load",a)}),r.addEventListener("error",function(){clearTimeout(o),ce(r.url,"image_web_fail_image"),t&&t("error",a)})}}},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useWebP,a=void 0===n||n,o=t.disabled,i=void 0!==o&&o,s=t.onLoadStateChange,c=Object(u.useState)([]),l=Object(r.a)(c,2),d=l[0],p=l[1],m=Object(ie.a)("lossless");Object(oe.a)(d,le({onLoadStateChange:s,enableWebP:m&&a}),{rootMargin:"300px"}),Object(u.useEffect)(function(){if(e&&!i){var t=Array.from(e.querySelectorAll("img.lazy:not([data-thumbnail])"));t.length&&p(t)}},[e,i])},de=(n(1625),function(e){var t=function(e){if(0!==e.intersectionRatio){var t=e.target;t.dataset.zaDetailViewId=t.cardShowViewId,D.default.trackCardShow(t,{},{link:{url:t.href}}),n.unobserve(t),t.clickViewId&&(t.dataset.zaDetailViewId=t.clickViewId)}},n=new IntersectionObserver(function(e){e.forEach(t)},{threshold:[.1]});return[{cardShowViewId:1042,clickViewId:1043,selector:"a.external, a.internal"},{cardShowViewId:1044,clickViewId:1045,selector:"a.member_mention, a.UserLink-link"},{cardShowViewId:174,clickViewId:175,selector:"a.video-box"},{cardShowViewId:171,clickViewId:172,selector:'a[data-draft-type="link-card"]'},{cardShowViewId:7692,selector:"a.FileLinkCard .FileLinkCard-info"}].forEach(function(t){var r=t.selector,a=t.cardShowViewId,o=t.clickViewId;Array.from(e.querySelectorAll(r)).forEach(function(e){e.cardShowViewId=a,e.clickViewId=o,n.observe(e)})}),function(){n.disconnect()}}),pe="function"==typeof queueMicrotask?queueMicrotask:function(e){return Promise.resolve().then(e)},me=function(e){var t=Object(u.useRef)(null);Object(u.useEffect)(function(){if(e)return pe(function(){e&&(t.current=de(e))}),function(){t.current&&t.current()}},[e])},fe=n(1702),he=(n(1864),n(802),n(1906),h()([A,I(),w,S])),be=function(e){var t=e.tag,n=void 0===t?"div":t,a=e.className,i=e.html,c=e.onRef,l=e.zvideoLinkCardProps,p=void 0===l?{}:l,f=e.mcnLinkCardProps,h=void 0===f?{}:f,b=e.metaLinkCardProps,v=void 0===b?{}:b,g=e.mkSkuLinkCardProps,y=void 0===g?{}:g,C=e.clearBoth,O=void 0!==C&&C,_=e.lazyLoadImageProps,w=s()(e,["tag","className","html","onRef","zvideoLinkCardProps","mcnLinkCardProps","metaLinkCardProps","mkSkuLinkCardProps","clearBoth","lazyLoadImageProps"]),k=Object(u.useState)(null),x=Object(r.a)(k,2),S=x[0],N=x[1];return T(S),Object(P.a)(S),me(S),ue(S,_),Object(j.b)(d.a.Fragment,null,X(S,p),Q(S,h),J(S,v),te(S,y),Object(j.b)(n,o()({key:i,ref:Object(u.useCallback)(Object(fe.a)(N,c),[]),className:m()("RichText","ztext",a,{"RichText--clearBoth":O}),dangerouslySetInnerHTML:{__html:he(i)}},w)))};be.propTypes={tag:l.a.string,html:l.a.string.isRequired,clearBoth:l.a.bool,onRef:l.a.oneOfType([l.a.func,l.a.object])};var ve=d.a.memo(be);n.d(t,"a",function(){return ve})},1736:function(e,t,n){"use strict";var r,a,o,i,s=n(2),c=n(4),l=n(8),u=n(7),d=n(5),p=n(6),m=n(0),f=n(1),h=n(3),b=n.n(h),v=n(20),g=n(1734),y=n(30),C=n(87),O=(n(2142),{all:"开放评论",censor:"预审评论",nobody:"关闭评论"}),j={all:"允许任何人评论",follower:"允许关注我的人评论",censor:"评论由我筛选后显示",followee:"允许我关注的人评论",paid:"付费用户可评论",nobody:"关闭评论"},_=Object(v.connect)(function(e){return{isOrg:Object(y.i)(e)}})((o=a=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleClickOption=function(e){var t=n.props,r=t.isOrg,a=t.target,o=t.onChange,i=t.current;if(e!==i)if(a){var s=a.id;a.adminClosedComment?Object(C.b)("此内容无法更改评论权限",{theme:"red-ghost"}):r||"censor"!==e&&"censor"!==i?o(s,e):Object(C.a)("你确定要更改评论权限吗？",{content:"censor"===e?"更改后，已有评论不变，新评论需要经过筛选才会公开显示":"更改后，所有待筛选评论都会被公开显示出来"}).then(function(){return o(s,e)}).catch(function(){return null})}else o(e)},n.getCommentPermission=function(){var e=n.props.target,t=e&&"answer"===e.type&&"paid"===e.answerType;return Object.keys(j).filter(function(n){if("paid"!==n||t)return"follower"!==n||e&&"article"===e.type}).reduce(function(e,t){return Object.assign({},e,Object(s.a)({},t,j[t]))},{})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isOrg,r=t.current,a=n?O:this.getCommentPermission();return Object(m.b)(f.Fragment,null,Object.keys(a).map(function(t){return Object(m.b)(g.a,{key:t,onClick:function(){return e.handleClickOption(t)},className:"CommentPermission-item",checked:t===r},a[t])}))}}]),t}(f.Component),a.propTypes={current:b.a.string.isRequired,target:b.a.object,onChange:b.a.func.isRequired},r=o))||r,w=n(46),k=n(2143),x=n.n(k),S=n(1590),N=Object(S.b)({view:{id:3038},trackCardShow:!0})(i=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return Object(m.b)("img",{src:x.a,style:{maxWidth:"200px",marginTop:"30px"},alt:"delete-comment-success"})}}]),t}(f.Component))||i;N.showModal=function(e){w.b.open(function(t){var n=(e||{}).reportText;return setTimeout(t,2e3),Object(m.b)(w.b,{title:"举报成功",onClose:t},Object(m.b)("div",{style:{textAlign:"center"}},Object(m.b)("div",null,n||"你的举报我们已经收到，处理完成后将会私信告知处理结果。"),Object(m.b)(N,null)))})};var A=N,E=n(16),L=n(164),I=(n(2144),function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={reportModalShown:!1},n.handleSubmit=function(){var e=n.props,t=e.id,r=e.onDelete,a=e.onClose;r(t),a()},n.handleReportModalOpen=function(){return n.setState({reportModalShown:!0})},n.handleReportModalClose=function(){n.setState({reportModalShown:!1}),n.handleSubmit()},n.handleSuccess=function(){n.handleSubmit()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.shown,r=e.onClose,a=e.reportAndDeleteExperiment;return Object(m.b)(f.Fragment,null,Object(m.b)(w.b,{title:"你确定要删除这条评论吗？",closeButton:null,maskClosable:!1,hotKeyClosable:!1,onClose:r,footer:a&&Object(m.b)("div",{className:"CommentDeleteAndReport-extra"},"评论若构成举报条件可以",Object(m.b)(E.c,{preset:"link",onClick:this.handleReportModalOpen},"删除并举报"))},n&&Object(m.b)(w.a,{direction:"horizontal"},Object(m.b)(E.c,{onClick:r},"取消"),Object(m.b)(E.c,{preset:"primary",color:"blue",onClick:this.handleSubmit},"确定"))),Object(m.b)(L.a,{title:"删除成功，请选择举报理由",subtitle:"",shown:this.state.reportModalShown,type:"comment",urlToken:t,zaEnabled:!0,onSuccess:this.handleSuccess,onClose:this.handleReportModalClose}))}}]),t}(f.Component));n.d(t,"c",function(){return _}),n.d(t,"a",function(){return I}),n.d(t,"b",function(){return A})},1737:function(e,t,n){"use strict";n(1);var r=n(18),a=n.n(r),o=(n(1927),n(0)),i=function(e){var t=e.avatar,n=e.bottom,r=e.button,i=e.className,s=e.height,c=e.icon,l=e.inline,u=e.right,d=e.style,p=void 0===d?{}:d,m=e.title,f=e.width,h=Object.assign({},p);return f&&(h.width="".concat(f,"px")),s&&(h.height="".concat(s,"px")),n&&(h.marginBottom="".concat(n,"px")),u&&(h.marginRight="".concat(u,"px")),Object(o.b)("div",{className:a()("Holder",i,{"Holder--inline":l,"Holder--title":m,"Holder--icon":c,"Holder--button":r,"Holder--avatar":t}),style:h})};n.d(t,"a",function(){return i})},1740:function(e,t,n){"use strict";var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(28),l=n(29),u=n.n(l),d=n(35),p=n.n(d),m=n(1),f=n.n(m),h=n(3),b=n.n(h),v=n(15),g=function(e){return f.a.createElement(v.a,e,f.a.createElement("path",{d:"M11.991 3C7.023 3 3 7.032 3 12s4.023 9 8.991 9C16.968 21 21 16.968 21 12s-4.032-9-9.009-9zm6.237 5.4h-2.655a14.084 14.084 0 0 0-1.242-3.204A7.227 7.227 0 0 1 18.228 8.4zM12 4.836A12.678 12.678 0 0 1 13.719 8.4h-3.438A12.678 12.678 0 0 1 12 4.836zM5.034 13.8A7.418 7.418 0 0 1 4.8 12c0-.621.09-1.224.234-1.8h3.042A14.864 14.864 0 0 0 7.95 12c0 .612.054 1.206.126 1.8H5.034zm.738 1.8h2.655a14.084 14.084 0 0 0 1.242 3.204A7.188 7.188 0 0 1 5.772 15.6zm2.655-7.2H5.772a7.188 7.188 0 0 1 3.897-3.204c-.54.999-.954 2.079-1.242 3.204zM12 19.164a12.678 12.678 0 0 1-1.719-3.564h3.438A12.678 12.678 0 0 1 12 19.164zm2.106-5.364H9.894A13.242 13.242 0 0 1 9.75 12c0-.612.063-1.215.144-1.8h4.212c.081.585.144 1.188.144 1.8 0 .612-.063 1.206-.144 1.8zm.225 5.004c.54-.999.954-2.079 1.242-3.204h2.655a7.227 7.227 0 0 1-3.897 3.204zm1.593-5.004c.072-.594.126-1.188.126-1.8 0-.612-.054-1.206-.126-1.8h3.042c.144.576.234 1.179.234 1.8s-.09 1.224-.234 1.8h-3.042z"}))};g.defaultProps={name:"Browser"};var y=g,C=n(1582),O=n(1588),j=n(18),_=n.n(j),w=n(80),k=n.n(w),x=n(62),S=n(1665),N=[{id:"4",url:"https://m.yaochufa.com/d_142935?payChannel=5df72913c00a7",banner:"https://pic4.zhimg.com/80/v2-ea9684815413107f1847bc1f198711c3.jpg",name:"融创雪世界，畅享冰雪狂欢",priceText:"¥180 起",province:"广东",city:"广州",source:"要出发",type:"门票"},{id:"7",url:"https://m.yaochufa.com/d_131732?payChannel=5df72913c00a7",banner:"https://pic3.zhimg.com/80/v2-9a8bbc609b0d170b888eede800041676.jpg",name:"长隆香江酒店（野生动物世界店）",priceText:"¥666 起",province:"广东",city:"广州",source:"要出发",type:"酒景套餐"},{id:"8",url:"https://m.yaochufa.com/d_179094?payChannel=5df72913c00a7",banner:"https://pic3.zhimg.com/80/v2-ed46b402a13c20e13ce50bace5b4fe1a.jpg",name:"北京欢乐谷",priceText:"¥66.6 起",province:"北京",city:"北京",source:"要出发",type:"门票"},{id:"11",url:"https://m.yaochufa.com/d_25830?payChannel=5df72913c00a7",banner:"https://pic2.zhimg.com/80/v2-3da17340263451c52311f12b252adb2c.png",name:"古北水镇－古北之光温泉度假酒店",priceText:"¥1190 起",province:"北京",city:"北京",source:"要出发",type:"酒景套餐"},{id:"13",url:"https://m.yaochufa.com/d_25600?payChannel=5df72913c00a7",banner:"https://pic1.zhimg.com/80/v2-7a2fbc319c89b875ad25fed75222f358.jpg",name:"北京 古北水镇-梨园客栈，京剧往事",priceText:"¥540 起",province:"北京",city:"北京",source:"要出发",type:"酒景套餐"},{id:"17",url:"https://m.yaochufa.com/d_177004?payChannel=5df72913c00a7",banner:"https://pic2.zhimg.com/80/v2-5a410355e749b9bee787883b4dd3d861.jpg",name:"上海野生动物园",priceText:"¥65 起",province:"上海",city:"上海",source:"要出发",type:"门票"},{id:"19",url:"https://m.yaochufa.com/d_23067?payChannel=5df72913c00a7",banner:"https://pic3.zhimg.com/80/v2-73fe1fe0945a3cde3fd62539f2a811b2.jpg",name:"上海迪士尼乐园酒店",priceText:"¥1505 起",province:"上海",city:"上海",source:"要出发",type:"酒景套餐"},{id:"23",url:"https://m.yaochufa.com/d_19258?payChannel=5df72913c00a7",banner:"https://pic4.zhimg.com/80/v2-9964b6bf9b1bb8c4c04e366b23532dc7.jpg",name:"横店圆明新园，重现百年辉煌历史",priceText:"¥160 起",province:"浙江",city:"金华",source:"要出发",type:"门票"},{id:"26",url:"https://m.yaochufa.com/d_12373?payChannel=5df72913c00a7",banner:"https://pic3.zhimg.com/80/v2-7bd5e8d2c164058627e4d703de7dd4fe.jpg",name:"宋城千古情景区，宋文化主题游",priceText:"¥290 起",province:"浙江",city:"杭州",source:"要出发",type:"门票"},{id:"34",url:"https://m.yaochufa.com/d_14155?payChannel=5df72913c00a7",banner:"https://pic3.zhimg.com/80/v2-5de0708096f517c04df8e25b73fae3a2.jpg",name:"环球恐龙城恐龙主题度假酒店",priceText:"¥519 起",province:"江苏",city:"常州",source:"要出发",type:"酒景套餐"}];n(1742);var A=n(0);n.d(t,"b",function(){return T});var E=function(){return Object(A.b)("div",{className:"LinkCard-image LinkCard-image--default"},Object(A.b)(y,{size:32}))},L=/^https?:\/\/link\.zhihu\.com/,I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e;if(L.test(e)){var n=e.match(/target=([^=]+)/)||[],r=Object(c.a)(n,2)[1];r&&(t=decodeURIComponent(r))}var a=t.split("/");return Object(c.a)(a,3)[2]||""},T=function(e){var t=I(e);return"zhihu.com"===t||t.endsWith(".zhihu.com")},P=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"renderLinkMeta",value:function(){var e=this.props,t=e.url,n=e.entityType,r=e.entityData,a=I(t);if(n&&r&&"job"===n){var o=r.salary,i=r.city,s=r.location,c=r.seniority,l=r.education;return Object(A.b)("span",{className:"LinkCard-meta"},Object(A.b)("span",{className:"LinkCard-textMeta"},c&&Object(A.b)("span",{className:"LinkCard-metaItem"},c),l&&Object(A.b)("span",{className:"LinkCard-metaItem"},l),(i||s)&&Object(A.b)("span",{className:"LinkCard-metaItem"},i,Object(A.b)("span",{className:"LinkCard-metaItem-jobLocation"},s))),o&&Object(A.b)("span",{className:"LinkCard-badge"},o))}return Object(A.b)("span",{className:"LinkCard-meta"},Object(A.b)(C.a,{size:17,center:!0}),a)}},{key:"render",value:function(){var e=k()(this.props,["entityType","entityData"]),t=e.text,n=e.target,r=e.url,a=e.image,o=e.imageWidth,i=e.imageHeight,s=e.component,c=e.className,l=p()(e,["text","target","url","image","imageWidth","imageHeight","component","className"]),d=function(e){try{return N.find(function(t){return decodeURIComponent(e).includes(t.url)})}catch(e){return null}}(r);if(d){var m=d.name,f=d.url,h=d.banner,b=d.source,v=d.type,g=d.priceText,y=d.province,C=d.city;return Object(A.b)(s,u()({target:n,href:f,"data-draft-node":"block","data-draft-type":"link-card","data-image":h,"data-image-width":"","data-image-height":"",className:_()("LinkCard","TravelMVPLinkCard",c)},l),Object(A.b)("div",{className:"TravelMVPLinkCard-main"},Object(A.b)("div",{className:"TravelMVPLinkCard-banner"},Object(A.b)("img",{src:Object(x.imgUrl)(h,"xll"),alt:"商品图片"})),Object(A.b)("div",{className:"TravelMVPLinkCard-core"},Object(A.b)("div",{className:"TravelMVPLinkCard-info"},Object(A.b)("div",{className:"TravelMVPLinkCard-name"},m),Object(A.b)("div",{className:"TravelMVPLinkCard-tags"},b," · ",v)),Object(A.b)("div",{className:"TravelMVPLinkCard-priceArea"},Object(A.b)("div",{className:"TravelMVPLinkCard-priceText"},g),Object(A.b)("div",{role:"button",className:"TravelMVPLinkCard-buyButton"},"去购买",Object(A.b)(O.a,{size:18,center:!0}))),Object(A.b)("div",{className:"TravelMVPLinkCard-location"},Object(A.b)(S.a,{width:"12",height:"12"}),!["北京","上海"].includes(y)&&Object(A.b)("span",{className:"TravelMVPLinkCard-locationTag"},y),Object(A.b)("span",{className:"TravelMVPLinkCard-locationTag"},C)))))}var j=function(e,t){if(e>0&&t>0){var n=e/t;if(n>1.2)return{modifier:"horizontal",size:"180x120"};if(n<=.8)return{modifier:"vertical",size:"120x160"}}return{modifier:"square",size:"ipico"}}(o,i),w=j.modifier,L=j.size,I=!a&&T(r)?"https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg":Object(x.imgUrl)(a,L),P=function(e){var t;return null===(t=e.match(/https:\/\/www.zhihu.com\/zvideo\/(\d+)$/))||void 0===t?void 0:t[1]}(r);return Object(A.b)(s,u()({target:n,href:r,"data-draft-node":"block","data-draft-type":"link-card"},I&&{"data-image":I},o&&{"data-image-width":o},i&&{"data-image-height":i},{className:_()("LinkCard",c,{"LinkCard--hasImage":Boolean(I),"LinkCard--noImage":!I})},P&&{"data-zvideo-id":P},l),I&&Object(A.b)("span",{className:"LinkCard-backdrop",style:{backgroundImage:"url(".concat(I,")")}}),Object(A.b)("span",{className:"LinkCard-content"},Object(A.b)("span",{className:"LinkCard-text"},Object(A.b)("span",{className:"LinkCard-title","data-text":!0},t),this.renderLinkMeta()),Object(A.b)("span",{className:"LinkCard-imageCell"},I?Object(A.b)("img",{className:_()("LinkCard-image","LinkCard-image--".concat(w)),alt:"图标",src:I}):Object(A.b)(E,null))))}}]),t}(f.a.Component);P.propTypes={component:b.a.oneOfType([b.a.string,b.a.func]),target:b.a.string,url:b.a.string.isRequired,text:b.a.string.isRequired,image:b.a.string,imageWidth:b.a.oneOfType([b.a.string,b.a.number]),imageHeight:b.a.oneOfType([b.a.string,b.a.number])},P.defaultProps={component:"a",target:"_blank"};t.a=P},1741:function(e,t,n){"use strict";
/** @license React v16.9.0
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(79),a=n(1);function o(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var i="function"==typeof Symbol&&Symbol.for,s=i?Symbol.for("react.portal"):60106,c=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,m=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,b=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.fundamental"):60117;function C(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case s:return"Portal";case u:return"Profiler";case l:return"StrictMode";case h:return"Suspense";case b:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return"Context.Consumer";case d:return"Context.Provider";case f:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case v:return C(e.type);case g:if(e=1===e._status?e._result:null)return C(e)}return null}var O=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;O.hasOwnProperty("ReactCurrentDispatcher")||(O.ReactCurrentDispatcher={current:null}),O.hasOwnProperty("ReactCurrentBatchConfig")||(O.ReactCurrentBatchConfig={suspense:null});var j={};function _(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var w=new Uint16Array(16),k=0;15>k;k++)w[k]=k+1;w[15]=0;var x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S=Object.prototype.hasOwnProperty,N={},A={};function E(e){return!!S.call(A,e)||!S.call(N,e)&&(x.test(e)?A[e]=!0:(N[e]=!0,!1))}function L(e,t,n,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){I[e]=new L(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];I[t]=new L(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){I[e]=new L(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){I[e]=new L(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){I[e]=new L(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){I[e]=new L(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){I[e]=new L(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){I[e]=new L(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){I[e]=new L(e,5,!1,e.toLowerCase(),null,!1)});var T=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T,P);I[t]=new L(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T,P);I[t]=new L(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T,P);I[t]=new L(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){I[e]=new L(e,1,!1,e.toLowerCase(),null,!1)}),I.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){I[e]=new L(e,1,!1,e.toLowerCase(),null,!0)});var R=/["'&<>]/;function M(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=R.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}function D(e,t){var n,r=I.hasOwnProperty(e)?I[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+M(t)+'"')):E(e)?e+'="'+M(t)+'"':""}var F=null,B=null,z=null,q=!1,V=!1,U=null,H=0;function W(){if(null===F)throw o(Error(321));return F}function G(){if(0<H)throw o(Error(312));return{memoizedState:null,queue:null,next:null}}function K(){return null===z?null===B?(q=!1,B=z=G()):(q=!0,z=B):null===z.next?(q=!1,z=z.next=G()):(q=!0,z=z.next),z}function Y(e,t,n,r){for(;V;)V=!1,H+=1,z=null,n=e(t,r);return B=F=null,H=0,z=U=null,n}function Z(e,t){return"function"==typeof t?t(e):t}function X(e,t,n){if(F=W(),z=K(),q){var r=z.queue;if(t=r.dispatch,null!==U&&void 0!==(n=U.get(r))){U.delete(r),r=z.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return z.memoizedState=r,[r,t]}return[z.memoizedState,t]}return e=e===Z?"function"==typeof t?t():t:void 0!==n?n(t):t,z.memoizedState=e,e=(e=z.queue={last:null,dispatch:null}).dispatch=function(e,t,n){if(!(25>H))throw o(Error(301));if(e===F)if(V=!0,e={action:n,next:null},null===U&&(U=new Map),void 0===(n=U.get(t)))U.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}.bind(null,F,e),[z.memoizedState,e]}function $(){}var Q=0,J={readContext:function(e){var t=Q;return _(e,t),e[t]},useContext:function(e){W();var t=Q;return _(e,t),e[t]},useMemo:function(e,t){if(F=W(),t=void 0===t?null:t,null!==(z=K())){var n=z.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++){var o=t[a],i=r[a];if((o!==i||0===o&&1/o!=1/i)&&(o==o||i==i)){r=!1;break e}}r=!0}}if(r)return n[0]}}return e=e(),z.memoizedState=[e,t],e},useReducer:X,useRef:function(e){F=W();var t=(z=K()).memoizedState;return null===t?(e={current:e},z.memoizedState=e):t},useState:function(e){return X(Z,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:$,useEffect:$,useDebugValue:$,useResponder:function(e,t){return{props:t,responder:e}}},ee={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function te(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ne={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},re=r({menuitem:!0},ne),ae={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oe=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(e){oe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ae[t]=ae[e]})});var ie=/([A-Z])/g,se=/^ms-/,ce=a.Children.toArray,le=O.ReactCurrentDispatcher,ue={listing:!0,pre:!0,textarea:!0},de=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,pe={},me={};var fe=Object.prototype.hasOwnProperty,he={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function be(e,t){if(void 0===e)throw o(Error(152),C(t)||"Component")}function ve(e,t,n){function i(a,i){var s=i.prototype&&i.prototype.isReactComponent,c=function(e,t,n,r){if(r&&"object"==typeof(r=e.contextType)&&null!==r)return _(r,n),r[n];if(e=e.contextTypes){for(var a in n={},e)n[a]=t[a];t=n}else t=j;return t}(i,t,n,s),l=[],u=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===l)return null},enqueueReplaceState:function(e,t){u=!0,l=[t]},enqueueSetState:function(e,t){if(null===l)return null;l.push(t)}},p=void 0;if(s)p=new i(a.props,c,d),"function"==typeof i.getDerivedStateFromProps&&(null!=(s=i.getDerivedStateFromProps.call(null,a.props,p.state))&&(p.state=r({},p.state,s)));else if(F={},p=i(a.props,c,d),null==(p=Y(i,a.props,p,c))||null==p.render)return void be(e=p,i);if(p.props=a.props,p.context=c,p.updater=d,void 0===(d=p.state)&&(p.state=d=null),"function"==typeof p.UNSAFE_componentWillMount||"function"==typeof p.componentWillMount)if("function"==typeof p.componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&p.componentWillMount(),"function"==typeof p.UNSAFE_componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&p.UNSAFE_componentWillMount(),l.length){d=l;var m=u;if(l=null,u=!1,m&&1===d.length)p.state=d[0];else{s=m?d[0]:p.state;var f=!0;for(m=m?1:0;m<d.length;m++){var h=d[m];null!=(h="function"==typeof h?h.call(p,s,a.props,c):h)&&(f?(f=!1,s=r({},s,h)):r(s,h))}p.state=s}}else l=null;if(be(e=p.render(),i),a=void 0,"function"==typeof p.getChildContext&&"object"==typeof(c=i.childContextTypes))for(var b in a=p.getChildContext())if(!(b in c))throw o(Error(108),C(i)||"Unknown",b);a&&(t=r({},t,a))}for(;a.isValidElement(e);){var s=e,c=s.type;if("function"!=typeof c)break;i(s,c)}return{child:e,context:t}}var ge=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");a.isValidElement(t)?t.type!==c?t=[t]:(t=t.props.children,t=a.isValidElement(t)?[t]:ce(t)):t=ce(t),t={type:null,domNamespace:ee.html,children:t,childIndex:0,context:j,footer:""};var r=w[0];if(0===r){var i=w,s=2*(r=i.length);if(!(65536>=s))throw o(Error(304));var l=new Uint16Array(s);for(l.set(i),(w=l)[0]=r+1,i=r;i<s-1;i++)w[i]=i+1;w[s-1]=0}else w[0]=w[r];this.threadID=r,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return e.prototype.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;w[e]=w[0],w[0]=e}},e.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;_(n,r);var a=n[r];this.contextStack[t]=n,this.contextValueStack[t]=a,n[r]=e.props.value},e.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},e.prototype.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},e.prototype.read=function(e){if(this.exhausted)return null;var t=Q;Q=this.threadID;var n=le.current;le.current=J;try{for(var r=[""],a=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var i=this.threadID;w[i]=w[0],w[0]=i;break}var s=this.stack[this.stack.length-1];if(a||s.childIndex>=s.children.length){var c=s.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===d)this.popProvider(s.type);else if(s.type===h){this.suspenseDepth--;var l=r.pop();if(a){a=!1;var u=s.fallbackFrame;if(!u)throw o(Error(303));this.stack.push(u),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=l}r[this.suspenseDepth]+=c}else{var p=s.children[s.childIndex++],m="";try{m+=this.render(p,s.context,s.domNamespace)}catch(e){throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=m}}return r[0]}finally{le.current=n,Q=t}},e.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?M(n):this.previousWasTextNode?"\x3c!-- --\x3e"+M(n):(this.previousWasTextNode=!0,M(n));if(e=(t=ve(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!a.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw o(Error(257));throw o(Error(258),n.toString())}return e=ce(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var i=e.type;if("string"==typeof i)return this.renderDOM(e,t,n);switch(i){case l:case m:case u:case b:case c:return e=ce(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case h:throw o(Error(294))}if("object"==typeof i&&null!==i)switch(i.$$typeof){case f:F={};var C=i.render(e.props,e.ref);return C=Y(i.render,e.props,C,e.ref),C=ce(C),this.stack.push({type:null,domNamespace:n,children:C,childIndex:0,context:t,footer:""}),"";case v:return e=[a.createElement(i.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return n={type:e,domNamespace:n,children:i=ce(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case p:i=e.type,C=e.props;var O=this.threadID;return _(i,O),i=ce(C.children(i[O])),this.stack.push({type:e,domNamespace:n,children:i,childIndex:0,context:t,footer:""}),"";case y:throw o(Error(338));case g:throw o(Error(295))}throw o(Error(130),null==i?i:typeof i,"")},e.prototype.renderDOM=function(e,t,n){var i=e.type.toLowerCase();if(n===ee.html&&te(i),!pe.hasOwnProperty(i)){if(!de.test(i))throw o(Error(65),i);pe[i]=!0}var s=e.props;if("input"===i)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===i){var c=s.value;if(null==c){c=s.defaultValue;var l=s.children;if(null!=l){if(null!=c)throw o(Error(92));if(Array.isArray(l)){if(!(1>=l.length))throw o(Error(93));l=l[0]}c=""+l}null==c&&(c="")}s=r({},s,{value:void 0,children:""+c})}else if("select"===i)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===i){l=this.currentSelectValue;var u=function(e){if(null==e)return e;var t="";return a.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(s.children);if(null!=l){var d=null!=s.value?s.value+"":u;if(c=!1,Array.isArray(l)){for(var p=0;p<l.length;p++)if(""+l[p]===d){c=!0;break}}else c=""+l===d;s=r({selected:void 0,children:void 0},s,{selected:c,children:u})}}if(c=s){if(re[i]&&(null!=c.children||null!=c.dangerouslySetInnerHTML))throw o(Error(137),i,"");if(null!=c.dangerouslySetInnerHTML){if(null!=c.children)throw o(Error(60));if(!("object"==typeof c.dangerouslySetInnerHTML&&"__html"in c.dangerouslySetInnerHTML))throw o(Error(61))}if(null!=c.style&&"object"!=typeof c.style)throw o(Error(62),"")}for(C in c=s,l=this.makeStaticMarkup,u=1===this.stack.length,d="<"+e.type,c)if(fe.call(c,C)){var m=c[C];if(null!=m){if("style"===C){p=void 0;var f="",h="";for(p in m)if(m.hasOwnProperty(p)){var b=0===p.indexOf("--"),v=m[p];if(null!=v){if(b)var g=p;else if(g=p,me.hasOwnProperty(g))g=me[g];else{var y=g.replace(ie,"-$1").toLowerCase().replace(se,"-ms-");g=me[g]=y}f+=h+g+":",h=p,f+=b=null==v||"boolean"==typeof v||""===v?"":b||"number"!=typeof v||0===v||ae.hasOwnProperty(h)&&ae[h]?(""+v).trim():v+"px",h=";"}}m=f||null}p=null;e:if(b=i,v=c,-1===b.indexOf("-"))b="string"==typeof v.is;else switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":b=!1;break e;default:b=!0}b?he.hasOwnProperty(C)||(p=E(p=C)&&null!=m?p+'="'+M(m)+'"':""):p=D(C,m),p&&(d+=" "+p)}}l||u&&(d+=' data-reactroot=""');var C=d;c="",ne.hasOwnProperty(i)?C+="/>":(C+=">",c="</"+e.type+">");e:{if(null!=(l=s.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"==typeof(l=s.children)||"number"==typeof l){l=M(l);break e}l=null}return null!=l?(s=[],ue[i]&&"\n"===l.charAt(0)&&(C+="\n"),C+=l):s=ce(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?te(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:i,children:s,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,C},e}(),ye={renderToString:function(e){e=new ge(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new ge(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw o(Error(207))},renderToStaticNodeStream:function(){throw o(Error(208))},version:"16.9.0"},Ce={default:ye},Oe=Ce&&ye||Ce;e.exports=Oe.default||Oe},1742:function(e,t,n){},1743:function(e,t,n){},1744:function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return c(e);if("number"==typeof e)return s(e,t);return null},e.exports.format=s,e.exports.parse=c;var r=/\B(?=(\d{3})+(?!\d))/g,a=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function s(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),i=t&&t.thousandsSeparator||"",s=t&&t.unitSeparator||"",c=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,l=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&o[u.toLowerCase()]||(u=n>=o.pb?"PB":n>=o.tb?"TB":n>=o.gb?"GB":n>=o.mb?"MB":n>=o.kb?"KB":"B");var d=(e/o[u.toLowerCase()]).toFixed(c);return l||(d=d.replace(a,"$1")),i&&(d=d.replace(r,i)),d+s+u}function c(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=i.exec(e),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e,10),r="b"),Math.floor(o[r]*t)}},1745:function(e,t,n){},1746:function(e,t,n){},1751:function(e,t,n){"use strict";function r(){0}"undefined"!=typeof window?e.exports={listen:n(1672),subscribe:n(1781),unsubscribe:n(1845)}:e.exports={listen:r,subscribe:r,unsubscribe:r}},1752:function(e,t,n){"use strict";t.a=function(e){return Array.isArray(e)?e.length:0}},1753:function(e,t,n){"use strict";function r(e){return"1"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!1,tagPreset:"plain",enableMetaTag:!1,enableButton:!0,buttonPreset:"plain",buttonColor:"orange",enableHint:!1}:"2"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!0,tagPreset:"plain",enableMetaTag:!0,enableButton:!0,buttonPreset:"plain",buttonColor:"orange",enableHint:!1}:"3"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!1,tagPreset:"plain",enableMetaTag:!1,enableButton:!0,buttonPreset:"plain",buttonColor:"orange",enableHint:!0}:"4"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!0,tagPreset:"plain",enableMetaTag:!0,enableButton:!1,buttonPreset:"plain",buttonColor:"orange",enableHint:!0}:"5"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!1,tagPreset:"color",enableMetaTag:!1,enableButton:!0,buttonPreset:"primary",buttonColor:"orange",enableHint:!1}:"6"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!0,tagPreset:"color",enableMetaTag:!0,enableButton:!0,buttonPreset:"primary",buttonColor:"orange",enableHint:!1}:"7"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!0,tagPreset:"plain",enableMetaTag:!0,enableButton:!0,buttonPreset:"plain",buttonColor:"orange",enableHint:!0}:{}}n.d(t,"a",function(){return r})},1754:function(e,t,n){"use strict";var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(29),l=n.n(c),u=n(3),d=n.n(u),p=n(1),m=n(1622),f=(n(1865),n(0)),h=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"renderThumbnail",value:function(){var e=this.props.error;return Object(f.b)("div",{className:"VideoErrorCard-thumbnail"},Object(f.b)("div",{className:"VideoErrorCard-error"},e.message||"错误"))}},{key:"render",value:function(){var e=this.props,t=e.isLens,n=e.id;return Object(f.b)("div",{className:"VideoErrorCard"},Object(f.b)(m.b,l()({},this.props,t&&{playerUrl:"https://www.zhihu.com/video/".concat(n)},{thumbnail:this.renderThumbnail(),showPlayButton:!1,onBeforePlay:function(){return!1}})))}}]),t}(p.Component);h.propTypes={error:d.a.object.isRequired},t.a=h},1755:function(e,t,n){var r=n(1923),a=n(1924),o=n(1925);e.exports=function(e){return r(e)||a(e)||o()}},1756:function(e,t,n){var r=n(1631),a=n(1609),o=n(1763),i=n(1615),s=n(1616),c=n(1617),l=Object.prototype.hasOwnProperty,u=o(function(e,t){if(s(t)||i(t))a(t,c(t),e);else for(var n in t)l.call(t,n)&&r(e,n,t[n])});e.exports=u},1757:function(e,t,n){var r=n(1675),a=n(1760),o=n(1594),i=n(1677),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?p:s).test(i(e))}},1758:function(e,t,n){var r=n(1632),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},1759:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},1760:function(e,t,n){var r,a=n(1761),o=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},1761:function(e,t,n){var r=n(1593)["__core-js_shared__"];e.exports=r},1762:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},1763:function(e,t,n){var r=n(1764),a=n(1771);e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&a(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t})}},1764:function(e,t,n){var r=n(1678),a=n(1765),o=n(1767);e.exports=function(e,t){return o(a(e,t,r),e+"")}},1765:function(e,t,n){var r=n(1766),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),c=Array(s);++i<s;)c[i]=o[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=o[i];return l[t]=n(c),r(e,this,l)}}},1766:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1767:function(e,t,n){var r=n(1768),a=n(1770)(r);e.exports=a},1768:function(e,t,n){var r=n(1769),a=n(1674),o=n(1678),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},1769:function(e,t){e.exports=function(e){return function(){return e}}},1770:function(e,t){var n=800,r=16,a=Date.now;e.exports=function(e){var t=0,o=0;return function(){var i=a(),s=r-(i-o);if(o=i,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},1771:function(e,t,n){var r=n(1633),a=n(1615),o=n(1680),i=n(1594);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},1772:function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1773:function(e,t,n){var r=n(1774),a=n(1601),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1774:function(e,t,n){var r=n(1608),a=n(1601),o="[object Arguments]";e.exports=function(e){return a(e)&&r(e)==o}},1775:function(e,t){e.exports=function(){return!1}},1776:function(e,t,n){var r=n(1777),a=n(1635),o=n(1636),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},1777:function(e,t,n){var r=n(1608),a=n(1679),o=n(1601),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},1778:function(e,t,n){var r=n(1616),a=n(1779),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},1779:function(e,t,n){var r=n(1683)(Object.keys,Object);e.exports=r},1780:function(e,t,n){"use strict";var r=!1;if("undefined"!=typeof window)try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,a)}catch(e){}e.exports=r},1781:function(e,t,n){"use strict";var r=n(1610),a=n(1684),o=n(1782),i=n(1691).DEFAULT_THROTTLE_RATE;e.exports=function(e,t,n){var s=(n=n||{}).useRAF||!1,c=parseInt(n.throttleRate,10),l=n.eventOptions;return isNaN(c)&&(c=i),s&&(c="raf"),a&&(c=0),r.enableScrollInfo=r.enableScrollInfo||n.enableScrollInfo||!1,r.enableResizeInfo=r.enableResizeInfo||n.enableResizeInfo||!1,r.enableTouchInfo=r.enableTouchInfo||n.enableTouchInfo||!1,o[e](c,t,n,l)}},1782:function(e,t,n){"use strict";var r,a,o,i=n(1783),s=n(1838),c=n(1843),l=n(1610),u=l.connections,d=l.EE,p=n(1684),m=n(1672),f=l.listeners,h=n(1844),b=l.removers,v=(l.subscriptions,n(1691).EVENT_END_DELAY),g=0;function y(e){return e.id||"target-id-"+g++}function C(e,t,n,r){return d.on(e,t,n),u[r=r||e]=(u[r]||0)+1,{_type:e,_cb:t,_ctx:n,unsubscribe:function(){if(this._type){d.removeListener(e,t,n),u[r]--,0===u[r]&&(f[r].remove(),f[r]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var a=b.length-1;a>=0;a--){if(b[a]===this){b.splice(a,1);break}}}}}}function O(e,t,n,r){return function(a,o,l){var u=l.context,g=l.target,O=g&&y(g),j=O?":"+O:"",_=t+"Start:"+a+j,w=t+"End:"+a+j,k=t+":"+a+j,x=C(n+":"+a+j,o,u,k);if(b.push(x),f[k])return x;var S,N={start:new c({mainType:t,subType:"start"}),main:new c({mainType:t}),end:new c({mainType:t,subType:"end"})};function A(e){N.end.update(e),d.emit(w,e,N.end),S=null}function E(e){S||(N.start.update(e),d.emit(_,e,N.start)),clearTimeout(S),N.main.update(e),d.emit(k,e,N.main),p?(e=i(e),S=setTimeout(function(){A(e)},a+v)):S=setTimeout(A.bind(null,e),a+v)}return"raf"===a?(a=16,E=h(E)):a>0&&(E=s(E,a)),f[k]=m(g||e,t,E,r),x}}function j(e,t){return function(n,r,a){var o=a.context,i=a.target,s=i&&y(i),l=t+":0"+(s?":"+s:""),u=C(l,r,o);if(b.push(u),f[l])return u;var p=new c({mainType:t});return f[l]=m(i||e,t,function(e){p.update(e),d.emit(l,e,p)}),u}}"undefined"!=typeof window&&(o=(r=(a=window).document||document).body),e.exports={scrollStart:O(a,"scroll","scrollStart"),scrollEnd:O(a,"scroll","scrollEnd"),scroll:O(a,"scroll","scroll"),resizeStart:O(a,"resize","resizeStart"),resizeEnd:O(a,"resize","resizeEnd"),resize:O(a,"resize","resize"),visibilitychange:j(r,"visibilitychange"),touchmoveStart:O(o,"touchmove","touchmoveStart"),touchmoveEnd:O(o,"touchmove","touchmoveEnd"),touchmove:O(o,"touchmove","touchmove"),touchstart:j(o,"touchstart"),touchend:j(o,"touchend")}},1783:function(e,t,n){var r=n(1784),a=4;e.exports=function(e){return r(e,a)}},1784:function(e,t,n){var r=n(1785),a=n(1809),o=n(1631),i=n(1810),s=n(1811),c=n(1814),l=n(1815),u=n(1816),d=n(1818),p=n(1819),m=n(1820),f=n(1639),h=n(1825),b=n(1826),v=n(1832),g=n(1634),y=n(1682),C=n(1834),O=n(1594),j=n(1836),_=n(1617),w=1,k=2,x=4,S="[object Arguments]",N="[object Function]",A="[object GeneratorFunction]",E="[object Object]",L={};L[S]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object DataView]"]=L["[object Boolean]"]=L["[object Date]"]=L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Map]"]=L["[object Number]"]=L[E]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object Symbol]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Error]"]=L[N]=L["[object WeakMap]"]=!1,e.exports=function e(t,n,I,T,P,R){var M,D=n&w,F=n&k,B=n&x;if(I&&(M=P?I(t,T,P,R):I(t)),void 0!==M)return M;if(!O(t))return t;var z=g(t);if(z){if(M=h(t),!D)return l(t,M)}else{var q=f(t),V=q==N||q==A;if(y(t))return c(t,D);if(q==E||q==S||V&&!P){if(M=F||V?{}:v(t),!D)return F?d(t,s(M,t)):u(t,i(M,t))}else{if(!L[q])return P?t:{};M=b(t,q,D)}}R||(R=new r);var U=R.get(t);if(U)return U;if(R.set(t,M),j(t))return t.forEach(function(r){M.add(e(r,n,I,r,t,R))}),M;if(C(t))return t.forEach(function(r,a){M.set(a,e(r,n,I,a,t,R))}),M;var H=B?F?m:p:F?keysIn:_,W=z?void 0:H(t);return a(W||t,function(r,a){W&&(r=t[a=r]),o(M,a,e(r,n,I,a,t,R))}),M}},1785:function(e,t,n){var r=n(1618),a=n(1791),o=n(1792),i=n(1793),s=n(1794),c=n(1795);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,e.exports=l},1786:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},1787:function(e,t,n){var r=n(1619),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},1788:function(e,t,n){var r=n(1619);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1789:function(e,t,n){var r=n(1619);e.exports=function(e){return r(this.__data__,e)>-1}},1790:function(e,t,n){var r=n(1619);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1791:function(e,t,n){var r=n(1618);e.exports=function(){this.__data__=new r,this.size=0}},1792:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1793:function(e,t){e.exports=function(e){return this.__data__.get(e)}},1794:function(e,t){e.exports=function(e){return this.__data__.has(e)}},1795:function(e,t,n){var r=n(1618),a=n(1637),o=n(1796),i=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!a||s.length<i-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},1796:function(e,t,n){var r=n(1797),a=n(1804),o=n(1806),i=n(1807),s=n(1808);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},1797:function(e,t,n){var r=n(1798),a=n(1618),o=n(1637);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},1798:function(e,t,n){var r=n(1799),a=n(1800),o=n(1801),i=n(1802),s=n(1803);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},1799:function(e,t,n){var r=n(1620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},1800:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},1801:function(e,t,n){var r=n(1620),a="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===a?void 0:n}return o.call(t,e)?t[e]:void 0}},1802:function(e,t,n){var r=n(1620),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},1803:function(e,t,n){var r=n(1620),a="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?a:t,this}},1804:function(e,t,n){var r=n(1621);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},1805:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},1806:function(e,t,n){var r=n(1621);e.exports=function(e){return r(this,e).get(e)}},1807:function(e,t,n){var r=n(1621);e.exports=function(e){return r(this,e).has(e)}},1808:function(e,t,n){var r=n(1621);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},1809:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},1810:function(e,t,n){var r=n(1609),a=n(1617);e.exports=function(e,t){return e&&r(t,a(t),e)}},1811:function(e,t,n){var r=n(1609),a=n(1685);e.exports=function(e,t){return e&&r(t,a(t),e)}},1812:function(e,t,n){var r=n(1594),a=n(1616),o=n(1813),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},1813:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1814:function(e,t,n){(function(e){var r=n(1593),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(74)(e))},1815:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1816:function(e,t,n){var r=n(1609),a=n(1638);e.exports=function(e,t){return r(e,a(e),t)}},1817:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},1818:function(e,t,n){var r=n(1609),a=n(1687);e.exports=function(e,t){return r(e,a(e),t)}},1819:function(e,t,n){var r=n(1690),a=n(1638),o=n(1617);e.exports=function(e){return r(e,o,a)}},1820:function(e,t,n){var r=n(1690),a=n(1687),o=n(1685);e.exports=function(e){return r(e,o,a)}},1821:function(e,t,n){var r=n(1598)(n(1593),"DataView");e.exports=r},1822:function(e,t,n){var r=n(1598)(n(1593),"Promise");e.exports=r},1823:function(e,t,n){var r=n(1598)(n(1593),"Set");e.exports=r},1824:function(e,t,n){var r=n(1598)(n(1593),"WeakMap");e.exports=r},1825:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},1826:function(e,t,n){var r=n(1640),a=n(1828),o=n(1829),i=n(1830),s=n(1831),c="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",m="[object Set]",f="[object String]",h="[object Symbol]",b="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",y="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",_="[object Uint8Array]",w="[object Uint8ClampedArray]",k="[object Uint16Array]",x="[object Uint32Array]";e.exports=function(e,t,n){var S=e.constructor;switch(t){case b:return r(e);case c:case l:return new S(+e);case v:return a(e,n);case g:case y:case C:case O:case j:case _:case w:case k:case x:return s(e,n);case u:return new S;case d:case f:return new S(e);case p:return o(e);case m:return new S;case h:return i(e)}}},1827:function(e,t,n){var r=n(1593).Uint8Array;e.exports=r},1828:function(e,t,n){var r=n(1640);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},1829:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},1830:function(e,t,n){var r=n(1632),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},1831:function(e,t,n){var r=n(1640);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1832:function(e,t,n){var r=n(1833),a=n(1689),o=n(1616);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},1833:function(e,t,n){var r=n(1594),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1834:function(e,t,n){var r=n(1835),a=n(1635),o=n(1636),i=o&&o.isMap,s=i?a(i):r;e.exports=s},1835:function(e,t,n){var r=n(1639),a=n(1601),o="[object Map]";e.exports=function(e){return a(e)&&r(e)==o}},1836:function(e,t,n){var r=n(1837),a=n(1635),o=n(1636),i=o&&o.isSet,s=i?a(i):r;e.exports=s},1837:function(e,t,n){var r=n(1639),a=n(1601),o="[object Set]";e.exports=function(e){return a(e)&&r(e)==o}},1838:function(e,t,n){var r=n(1839),a=n(1594),o="Expected a function";e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return a(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:i,maxWait:t,trailing:s})}},1839:function(e,t,n){var r=n(1594),a=n(1840),o=n(1841),i="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,n){var l,u,d,p,m,f,h=0,b=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError(i);function y(t){var n=l,r=u;return l=u=void 0,h=t,p=e.apply(r,n)}function C(e){var n=e-f;return void 0===f||n>=t||n<0||v&&e-h>=d}function O(){var e=a();if(C(e))return j(e);m=setTimeout(O,function(e){var n=t-(e-f);return v?c(n,d-(e-h)):n}(e))}function j(e){return m=void 0,g&&l?y(e):(l=u=void 0,p)}function _(){var e=a(),n=C(e);if(l=arguments,u=this,f=e,n){if(void 0===m)return function(e){return h=e,m=setTimeout(O,t),b?y(e):p}(f);if(v)return m=setTimeout(O,t),y(f)}return void 0===m&&(m=setTimeout(O,t)),p}return t=o(t)||0,r(n)&&(b=!!n.leading,d=(v="maxWait"in n)?s(o(n.maxWait)||0,t):d,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==m&&clearTimeout(m),h=0,l=f=u=m=void 0},_.flush=function(){return void 0===m?p:j(a())},_}},1840:function(e,t,n){var r=n(1593);e.exports=function(){return r.Date.now()}},1841:function(e,t,n){var r=n(1594),a=n(1842),o=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?o:+e}},1842:function(e,t,n){var r=n(1608),a=n(1601),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&r(e)==o}},1843:function(e,t,n){"use strict";var r=n(1610),a={width:0,height:0},o={delta:0,top:0},i={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0};function s(e){var t=((e=e||{}).mainType||"").toLowerCase(),n=(e.subType||"").toLowerCase();this.mainType=t,this.subType=n,this.type=t+n.charAt(0).toUpperCase()+n.slice(1)||"",this.scroll=o,this.resize=a,this.touch=i}s.prototype={getXY:function(e){var t={x:0,y:0},n=document.body,r=document.documentElement;return e.pageX||e.pageY?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX+n.scrollLeft+r.scrollLeft,t.y=e.clientY+n.scrollTop+r.scrollTop),t},update:function(e){var t,n,a,o=this.mainType,i=this.subType,s=document.documentElement;if(r.enableScrollInfo&&("scroll"===o||"touchmove"===o)){var c=s.scrollTop+document.body.scrollTop;c!==this.scroll.top&&(this.scroll.delta=c-this.scroll.top,this.scroll.top=c)}(r.enableResizeInfo&&"resize"===o&&(this.resize.width=window.innerWidth||s.clientWidth,this.resize.height=window.innerHeight||s.clientHeight),r.enableTouchInfo&&e.touches&&("touchstart"===o||"touchmove"===o||"touchend"===o))&&("touchstart"===o||"start"===i?(t=this.getXY(e.touches[0]),this.touch.axisIntention="",this.touch.startX=t.x,this.touch.startY=t.y,this.touch.deltaX=0,this.touch.deltaY=0):"touchmove"===o&&(t=this.getXY(e.touches[0]),this.touch.deltaX=t.x-this.touch.startX,this.touch.deltaY=t.y-this.touch.startY,""===this.touch.axisIntention&&(n=Math.abs(this.touch.deltaX),a=Math.abs(this.touch.deltaY),n>5&&n>=a?this.touch.axisIntention="x":a>5&&a>n&&(this.touch.axisIntention="y"))))}},e.exports=s},1844:function(e,t,n){"use strict";var r=n(797),a=Date.now||function(){return(new Date).getTime()};e.exports=function(e,t){var n,o,i=0,s=0;t=t||15;var c=function c(){var l=a();t-(l-i)<=0?(i=l,s=0,e.apply(n,o)):s=r(c)};return function(){n=this,o=arguments,s||(s=r(c))}}},1845:function(e,t,n){"use strict";var r=n(1610).removers;e.exports=function(e,t,n){for(var a,o=r.length-1;o>=0;o--)(a=r[o])._cb===t&&a._type.indexOf(e)>=0&&(a.unsubscribe(),r.splice(o,1))}},1846:function(e,t,n){"use strict";(function(t){var r=n(799),a=n(1847),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(s,"")}var l=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function d(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},a={},i=typeof(e=e||r);if("blob:"===e.protocol)a=new m(unescape(e.pathname),{});else if("string"===i)for(n in a=new m(e,{}),u)delete a[n];else if("object"===i){for(n in e)n in u||(a[n]=e[n]);void 0===a.slashes&&(a.slashes=o.test(e.href))}return a}function p(e){e=c(e);var t=i.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function m(e,t,n){if(e=c(e),!(this instanceof m))return new m(e,t,n);var o,i,s,u,f,h,b=l.slice(),v=typeof t,g=this,y=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=a.parse),t=d(t),o=!(i=p(e||"")).protocol&&!i.slashes,g.slashes=i.slashes||o&&t.slashes,g.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(b[3]=[/(.*)/,"pathname"]);y<b.length;y++)"function"!=typeof(u=b[y])?(s=u[0],h=u[1],s!=s?g[h]=e:"string"==typeof s?~(f=e.indexOf(s))&&("number"==typeof u[2]?(g[h]=e.slice(0,f),e=e.slice(f+u[2])):(g[h]=e.slice(f),e=e.slice(0,f))):(f=s.exec(e))&&(g[h]=f[1],e=e.slice(0,f.index)),g[h]=g[h]||o&&u[3]&&t[h]||"",u[4]&&(g[h]=g[h].toLowerCase())):e=u(e);n&&(g.query=n(g.query)),o&&t.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==t.pathname)&&(g.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,a=n[r-1],o=!1,i=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),i++):i&&(0===r&&(o=!0),n.splice(r,1),i--);return o&&n.unshift(""),"."!==a&&".."!==a||n.push(""),n.join("/")}(g.pathname,t.pathname)),r(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(u=g.auth.split(":"),g.username=u[0]||"",g.password=u[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}m.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||a.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";o[e]=t.charAt(0)!==i?i+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<l.length;s++){var c=l[s];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=a.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},m.extractProtocol=p,m.location=d,m.trimLeft=c,m.qs=a,e.exports=m}).call(this,n(47))},1847:function(e,t,n){"use strict";var r,a=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,i=[];for(o in"string"!=typeof t&&(t="?"),e)if(a.call(e,o)){if((n=e[o])||null!==n&&n!==r&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;i.push(o+"="+n)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var a=o(t[1]),i=o(t[2]);null===a||null===i||a in r||(r[a]=i)}return r}},1848:function(e,t,n){var r;!function(a){"use strict";function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,r,a,i){return o((s=o(o(t,e),o(r,i)))<<(c=a)|s>>>32-c,n);var s,c}function s(e,t,n,r,a,o,s){return i(t&n|~t&r,e,t,a,o,s)}function c(e,t,n,r,a,o,s){return i(t&r|n&~r,e,t,a,o,s)}function l(e,t,n,r,a,o,s){return i(t^n^r,e,t,a,o,s)}function u(e,t,n,r,a,o,s){return i(n^(t|~r),e,t,a,o,s)}function d(e,t){var n,r,a,i,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,m=-271733879,f=-1732584194,h=271733878;for(n=0;n<e.length;n+=16)r=p,a=m,i=f,d=h,p=s(p,m,f,h,e[n],7,-680876936),h=s(h,p,m,f,e[n+1],12,-389564586),f=s(f,h,p,m,e[n+2],17,606105819),m=s(m,f,h,p,e[n+3],22,-1044525330),p=s(p,m,f,h,e[n+4],7,-176418897),h=s(h,p,m,f,e[n+5],12,1200080426),f=s(f,h,p,m,e[n+6],17,-1473231341),m=s(m,f,h,p,e[n+7],22,-45705983),p=s(p,m,f,h,e[n+8],7,1770035416),h=s(h,p,m,f,e[n+9],12,-1958414417),f=s(f,h,p,m,e[n+10],17,-42063),m=s(m,f,h,p,e[n+11],22,-1990404162),p=s(p,m,f,h,e[n+12],7,1804603682),h=s(h,p,m,f,e[n+13],12,-40341101),f=s(f,h,p,m,e[n+14],17,-1502002290),p=c(p,m=s(m,f,h,p,e[n+15],22,1236535329),f,h,e[n+1],5,-165796510),h=c(h,p,m,f,e[n+6],9,-1069501632),f=c(f,h,p,m,e[n+11],14,643717713),m=c(m,f,h,p,e[n],20,-373897302),p=c(p,m,f,h,e[n+5],5,-701558691),h=c(h,p,m,f,e[n+10],9,38016083),f=c(f,h,p,m,e[n+15],14,-660478335),m=c(m,f,h,p,e[n+4],20,-405537848),p=c(p,m,f,h,e[n+9],5,568446438),h=c(h,p,m,f,e[n+14],9,-1019803690),f=c(f,h,p,m,e[n+3],14,-187363961),m=c(m,f,h,p,e[n+8],20,1163531501),p=c(p,m,f,h,e[n+13],5,-1444681467),h=c(h,p,m,f,e[n+2],9,-51403784),f=c(f,h,p,m,e[n+7],14,1735328473),p=l(p,m=c(m,f,h,p,e[n+12],20,-1926607734),f,h,e[n+5],4,-378558),h=l(h,p,m,f,e[n+8],11,-2022574463),f=l(f,h,p,m,e[n+11],16,1839030562),m=l(m,f,h,p,e[n+14],23,-35309556),p=l(p,m,f,h,e[n+1],4,-1530992060),h=l(h,p,m,f,e[n+4],11,1272893353),f=l(f,h,p,m,e[n+7],16,-155497632),m=l(m,f,h,p,e[n+10],23,-1094730640),p=l(p,m,f,h,e[n+13],4,681279174),h=l(h,p,m,f,e[n],11,-358537222),f=l(f,h,p,m,e[n+3],16,-722521979),m=l(m,f,h,p,e[n+6],23,76029189),p=l(p,m,f,h,e[n+9],4,-640364487),h=l(h,p,m,f,e[n+12],11,-421815835),f=l(f,h,p,m,e[n+15],16,530742520),p=u(p,m=l(m,f,h,p,e[n+2],23,-995338651),f,h,e[n],6,-198630844),h=u(h,p,m,f,e[n+7],10,1126891415),f=u(f,h,p,m,e[n+14],15,-1416354905),m=u(m,f,h,p,e[n+5],21,-57434055),p=u(p,m,f,h,e[n+12],6,1700485571),h=u(h,p,m,f,e[n+3],10,-1894986606),f=u(f,h,p,m,e[n+10],15,-1051523),m=u(m,f,h,p,e[n+1],21,-2054922799),p=u(p,m,f,h,e[n+8],6,1873313359),h=u(h,p,m,f,e[n+15],10,-30611744),f=u(f,h,p,m,e[n+6],15,-1560198380),m=u(m,f,h,p,e[n+13],21,1309151649),p=u(p,m,f,h,e[n+4],6,-145523070),h=u(h,p,m,f,e[n+11],10,-1120210379),f=u(f,h,p,m,e[n+2],15,718787259),m=u(m,f,h,p,e[n+9],21,-343485551),p=o(p,r),m=o(m,a),f=o(f,i),h=o(h,d);return[p,m,f,h]}function p(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function m(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function f(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function h(e){return unescape(encodeURIComponent(e))}function b(e){return function(e){return p(d(m(e),8*e.length))}(h(e))}function v(e,t){return function(e,t){var n,r,a=m(e),o=[],i=[];for(o[15]=i[15]=void 0,a.length>16&&(a=d(a,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^a[n],i[n]=1549556828^a[n];return r=d(o.concat(m(t)),512+8*t.length),p(d(i.concat(r),640))}(h(e),h(t))}function g(e,t,n){return t?n?v(t,e):f(v(t,e)):n?b(e):f(b(e))}void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}()},1849:function(e,t,n){"use strict";var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(29),l=n.n(c),u=n(35),d=n.n(u),p=n(3),m=n.n(p),f=n(1),h=n(0),b=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=t.content,r=t.attributes,a=e.title,o=d()(e,["src","title"]);return Object(h.b)("svg",l()({},r,o),Object(h.b)("title",null,a),Object(h.b)("g",{dangerouslySetInnerHTML:{__html:n}}))}}]),t}(f.Component);b.propTypes={src:m.a.object.isRequired},t.a=b},1850:function(e,t,n){var r=n(800),a=r&&new r;e.exports=a},1851:function(e,t){e.exports={}},1852:function(e,t,n){var r=n(1643),a=n(1692),o=n(1693),i=n(1853);e.exports=function(e){var t=o(e),n=i[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=a(n);return!!s&&e===s[0]}},1853:function(e,t,n){var r=n(1643),a=n(1641),o=n(1642),i=n(96),s=n(125),c=n(1854),l=Object.prototype.hasOwnProperty;function u(e){if(s(e)&&!i(e)&&!(e instanceof r)){if(e instanceof a)return e;if(l.call(e,"__wrapped__"))return c(e)}return new a(e)}u.prototype=o.prototype,u.prototype.constructor=u,e.exports=u},1854:function(e,t,n){var r=n(1643),a=n(1641),o=n(485);e.exports=function(e){if(e instanceof r)return e.clone();var t=new a(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},1855:function(e,t,n){},1856:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(229),i=n.n(o),s=(n(1857),n(0));t.a=function(e){var t=e.referenceList,n=e.onClick,r=e.listRef;return Object(s.b)(a.a.Fragment,null,Object(s.b)("h2",null,"参考"),Object(s.b)("ol",{className:"ReferenceList",onClick:n,ref:r},i()(t,"refKey").map(function(e){var n=t.filter(function(t){return t.refKey===e.refKey}),r=n.length>1?Object(s.b)(a.a.Fragment,null,Object(s.b)("span",{className:"ReferenceList-backHint","aria-label":"back"},"^"),n.map(function(e,t){var n="".concat(e.refKey,"_").concat(t);return Object(s.b)("sup",{key:n,className:"ReferenceList-backLink"},Object(s.b)("a",{href:"#".concat(n),"data-reference-link":!0},"abcdefghijklmnopqrstuvwxyz"[t%26]))})):Object(s.b)("a",{className:"ReferenceList-backLink",href:"#".concat(e.refKey,"_0"),"aria-label":"back","data-reference-link":!0},"^");return Object(s.b)("li",{id:e.refKey,key:e.refKey,tabIndex:0},r,e.text&&Object(s.b)("span",null,e.text),e.text&&e.url&&" ",e.url&&Object(s.b)("a",{href:e.url,className:"external",target:"_blank",rel:"noopener noreferrer"},e.url))})))}},1857:function(e,t,n){},1858:function(e,t,n){"use strict";var r=n(1);var a=function(e,t){var n;if(!e.defaultPrevented&&e.target.matches("a[data-reference-link]")){var r=e.target.getAttribute("href"),a=t.querySelector(r);a&&(e.preventDefault(),a.focus({preventScroll:!0}),n=a.getBoundingClientRect().top+window.pageYOffset-Math.max(window.innerHeight/10,100),window.scrollTo({top:n,behavior:"smooth"}),document.documentElement.setAttribute("data-focus-visible",""))}};t.a=function(e){var t=Object(r.useCallback)(function(t){return a(t,e)},[e]);Object(r.useEffect)(function(){if(e)return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}},[e,t])}},1859:function(e,t,n){},1860:function(e,t,n){},1861:function(e,t,n){},1862:function(e,t,n){"use strict";var r=n(28),a=n(1),o=n.n(a),i=n(11),s=n(461),c=n(260),l=n(21),u=n(463),d=n.n(u),p=n(18),m=n.n(p),f=n(1588),h=n(1556),b=n(54),v=n.n(b),g=n(1752),y=n(1644),C=(n(1863),n(0));function O(e){return!!Array.isArray(e)&&e.length>0}function j(e){var t=e.meta,n=e.isMobile;if(!t)return null;var r=t.token,a=t.vote,o=(a=void 0===a?{}:a).totalVotes,i=a.ratio,s="/topic/".concat(r),u=function(e){l.default.trackEvent(e.target,{id:6941,action:"OpenUrl"},{module:[{card:{content:[{token:r}]}}],link:{url:s}})};return n?Object(C.b)("a",{className:m()("MetaLinkCard-metaMobile",{"MetaLinkCard-metaMobile--noRatio":!i}),href:s,onClick:u},Object(C.b)("div",{className:m()("MetaLinkCard-metaInfoMobile",{"MetaLinkCard-metaInfoMobile--noRatio":!i})},Boolean(i)&&Object(C.b)("span",{className:"MetaLinkCard-score MetaLinkCard-score--mobile"},i),Object(C.b)("div",{className:"MetaLinkCard-miscInfo"},Boolean(i)&&Object(C.b)("div",{className:"MetaLinkCard-scoreText"},"知乎评分"),Object(C.b)("div",{className:m()("MetaLinkCard-mobileVoteCount",{"MetaLinkCard-mobileVoteCount--hasRatio":Boolean(i)})},o?"".concat(Object(c.cnNiceNumber)(o),"评价"):"评价数据积累中"))),Object(C.b)("span",{className:"MetaLinkCard-mobileMetaButton"},Object(C.b)("span",{className:"MetaLinkCard-metaLinkText"},"相关话题"),Object(C.b)(f.a,{center:!0}))):Object(C.b)("div",{className:"MetaLinkCard-meta"},Object(C.b)("div",{className:"MetaLinkCard-metaInfo"},Boolean(i)&&Object(C.b)("div",{className:"MetaLinkCard-metaScore"},"知乎评分 ",Object(C.b)("span",{className:"MetaLinkCard-score"},i)),Object(C.b)("div",{className:"MetaLinkCard-voteCount"},o?"".concat(Object(c.cnNiceNumber)(o),"位知乎用户评价过此商品"):"评价数据积累中")),Object(C.b)("a",{rel:"noopener noreferrer",target:"_blank",href:s,className:"MetaLinkCard-metaButton",onClick:u},"相关话题"))}var _=function(e){var t=e.id,n=e.source,r=e.url,a=e.isMobile,o=e.onClick;return r?Object(C.b)("span",{className:m()("MetaLinkCard-goToShopping",{" MetaLinkCard-goToShopping--mobile":a})},Object(C.b)("a",{rel:"noopener noreferrer",target:"_blank","data-meta-id":t,"data-meta-source":n,"data-za-not-track-link":!0,onClick:function(e){a&&o(e),l.default.trackEvent(e.target,{id:6726,action:"OpenUrl"},{link:{host:r}})},href:r},"去购买"),Object(C.b)(f.a,{center:!0})):null};t.a=o.a.forwardRef(function(e,t){var n=Object(a.useState)(null),o=Object(r.a)(n,2),c=o[0],u=o[1],p=e.id,f=e.className,b=e.onClick,w=e.onMouseDown,k=e.refetchKey,x=e.onData,S=void 0===x?d.a:x,N=Object(a.useRef)(null);if(Object(a.useEffect)(function(){if(null!==k){var e="https://www.zhihu.com/api/v4/mcn/metalinks/".concat(p);Object(y.a)(e).then(function(e){var t=Object(i.camelizeKeys)(e);u(t),S(t)})}},[p,u,S,k]),Object(a.useEffect)(function(){N.current&&Object(s.onViewedOnce)(N.current.parentNode,function(){var e=c.topicMeta,t=(e=void 0===e?{}:e).token,n=c.url;l.default.setModule(N.current.parentNode,{module:"Content"},{card:{content:{type:"Topic",token:t}}}),l.default.trackCardShow(N.current.parentNode,{id:6725},{button:{text:t?"1":"0"},link:{host:n}})})},[c]),!c)return Object(C.b)("div",{ref:t,className:m()("MetaLinkCard","MetaLinkCard-placeholder",f),"data-draft-node":"block","data-draft-type":"metalink"});var A=c.skuid,E=c.source,L=c.title,I=c.images,T=c.price,P=c.recommendReasons,R=c.ratings,M=c.url,D=c.topicMeta,F=Boolean(v()(navigator.userAgent).Mobile),B=O(P),z=O(R),q=O(I),V=Object(g.a)(I);return Object(C.b)("div",{ref:t,className:m()("MetaLinkCard",f),"data-draft-node":"block","data-draft-type":"metalink","data-meta-id":c.id,"data-meta-skuid":A,"data-meta-source":E,onMouseDown:w},Object(C.b)("div",{className:m()("MetaLinkCard-card",{"MetaLinkCard-card--isMobile":F}),ref:N},Object(C.b)("div",{className:"MetaLinkCard-cardContainer"},Object(C.b)("div",{className:"MetaLinkCard-titleLine"},Object(C.b)("div",{className:"MetaLinkCard-title"},L),!F&&Object(C.b)(_,{id:c.id,source:E,url:M,isMobile:F})),(Boolean(T)||F&&Boolean(M))&&Object(C.b)("div",{className:m()("MetaLinkCard-priceSource",{"MetaLinkCard-priceSource--hasBorderBottom":B||z})},Object(C.b)("span",{className:"MetaLinkCard-priceWrapper"},Object(C.b)("span",{className:"MetaLinkCard-price"},"￥".concat(T)),Object(C.b)("span",{className:"MetaLinkCard-priceText"},"参考价")),F&&Object(C.b)(_,{id:c.id,source:E,url:M,isMobile:F,onClick:b})),B&&Object(C.b)("div",{className:"MetaLinkCard-reasons"},P.map(function(e){return Object(C.b)("span",{key:e,className:"MetaLinkCard-reason"},e)})),z&&Object(C.b)("div",{className:m()("MetaLinkCard-ratings",{"MetaLinkCard-ratings--noReasons":!B})},R.map(function(e){return Object(C.b)("div",{key:e.name,className:"MetaLinkCard-rating"},Object(C.b)("span",{className:"MetaLinkCard-ratingName"},e.name),Object(C.b)("span",{className:"MetaLinkCard-ratingStars"},[1,2,3,4,5].map(function(t){return Object(C.b)("span",{key:t,className:m()("MetaLinkCard-ratingStar",{"MetaLinkCard-ratingStar--rated":t<=e.value})},Object(C.b)(h.a,{size:12}))})))})),q&&Object(C.b)("div",{className:m()("MetaLinkCard-images",{"MetaLinkCard-images--onlyNoRatings":!z&&B})},I.map(function(e){var t=e.token,n=e.url;return Object(C.b)("div",{className:m()("MetaLinkCard-imageWrapper","MetaLinkCard-imageWrapper--".concat(V)),key:t},Object(C.b)("img",{className:"ImageLoader-image origin_image zh-lightbox-thumb",src:n,"data-original":n,"data-actualsrc":n,alt:""}))})),Object(C.b)(j,{meta:D,isMobile:F}))))})},1863:function(e,t,n){},1864:function(e,t,n){},1865:function(e,t,n){},1866:function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var a=new Uint8Array(16);n=function(){return r.getRandomValues(a),a}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(47))},1867:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,a=n;return a[e[r++]]+a[e[r++]]+a[e[r++]]+a[e[r++]]+"-"+a[e[r++]]+a[e[r++]]+"-"+a[e[r++]]+a[e[r++]]+"-"+a[e[r++]]+a[e[r++]]+"-"+a[e[r++]]+a[e[r++]]+a[e[r++]]+a[e[r++]]+a[e[r++]]+a[e[r++]]}},1870:function(e,t,n){"use strict";var r=n(1755),a=n.n(r),o=n(160),i=n.n(o),s=n(261),c=n.n(s),l=n(366),u=n.n(l),d=n(262),p=n.n(d),m=n(121),f=n.n(m),h=n(161),b=n.n(h),v=n(107),g=n.n(v);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var O=n(1),j=n.n(O);n.d(t,"a",function(){return ze}),n.d(t,"b",function(){return ne}),n.d(t,"d",function(){return le}),n.d(t,"c",function(){return te});var _={arr:Array.isArray,obj:function(e){return"[object Object]"===Object.prototype.toString.call(e)},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},und:function(e){return void 0===e},nul:function(e){return null===e},set:function(e){return e instanceof Set},map:function(e){return e instanceof Map},equ:function(e,t){if(typeof e!=typeof t)return!1;if(_.str(e)||_.num(e))return e===t;if(_.obj(e)&&_.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!_.und(n)||e===t}};function w(){var e=Object(O.useState)(!1)[1];return Object(O.useCallback)(function(){return e(function(e){return!e})},[])}function k(e,t){return _.und(e)||_.nul(e)?t:e}function x(e){return _.und(e)?[]:_.arr(e)?e:[e]}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _.fun(e)?e.apply(void 0,n):e}function N(e){var t=function(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,C(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(e);if(_.und(t))return y({to:t},e);var n=Object.keys(e).reduce(function(n,r){return _.und(t[r])?y({},n,g()({},r,e[r])):n},{});return y({to:t},n)}var A,E,L=function(){function e(){f()(this,e),this.payload=void 0,this.children=[]}return b()(e,[{key:"getAnimatedValue",value:function(){return this.getValue()}},{key:"getPayload",value:function(){return this.payload||this}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"getChildren",value:function(){return this.children}},{key:"addChild",value:function(e){0===this.children.length&&this.attach(),this.children.push(e)}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}]),e}(),I=function(e){function t(){var e;return f()(this,t),(e=i()(this,c()(t).apply(this,arguments))).payload=[],e.attach=function(){return e.payload.forEach(function(t){return t instanceof L&&t.addChild(u()(e))})},e.detach=function(){return e.payload.forEach(function(t){return t instanceof L&&t.removeChild(u()(e))})},e}return p()(t,e),t}(L),T=function(e){function t(){var e;return f()(this,t),(e=i()(this,c()(t).apply(this,arguments))).payload={},e.attach=function(){return Object.values(e.payload).forEach(function(t){return t instanceof L&&t.addChild(u()(e))})},e.detach=function(){return Object.values(e.payload).forEach(function(t){return t instanceof L&&t.removeChild(u()(e))})},e}return p()(t,e),b()(t,[{key:"getValue",value:function(e){void 0===e&&(e=!1);var t={};for(var n in this.payload){var r=this.payload[n];(!e||r instanceof L)&&(t[n]=r instanceof L?r[e?"getAnimatedValue":"getValue"]():r)}return t}},{key:"getAnimatedValue",value:function(){return this.getValue(!0)}}]),t}(L);function P(e,t){A={fn:e,transform:t}}function R(e){E=e}var M,D=function(e){return"undefined"!=typeof window?window.requestAnimationFrame(e):-1};function F(e){M=e}var B=function(){return Date.now()};function z(e){e}var q,V,U=function(e){return e.current};function H(e){q=e}var W=function(e){function t(e,n){var r;return f()(this,t),(r=i()(this,c()(t).call(this))).update=void 0,r.payload=e.style?y({},e,{style:q(e.style)}):e,r.update=n,r.attach(),r}return p()(t,e),t}(T),G=!1,K=new Set,Y=function e(){if(!G)return!1;var t=B(),n=!0,r=!1,a=void 0;try{for(var o,i=K[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){for(var s=o.value,c=!1,l=0;l<s.configs.length;l++){for(var u=s.configs[l],d=void 0,p=void 0,m=0;m<u.animatedValues.length;m++){var f=u.animatedValues[m];if(!f.done){var h=u.fromValues[m],b=u.toValues[m],v=f.lastPosition,g=b instanceof L,y=Array.isArray(u.initialVelocity)?u.initialVelocity[m]:u.initialVelocity;if(g&&(b=b.getValue()),u.immediate)f.setValue(b),f.done=!0;else if("string"!=typeof h&&"string"!=typeof b){if(void 0!==u.duration)v=h+u.easing((t-f.startTime)/u.duration)*(b-h),d=t>=f.startTime+u.duration;else if(u.decay)v=h+y/(1-.998)*(1-Math.exp(-(1-.998)*(t-f.startTime))),(d=Math.abs(f.lastPosition-v)<.1)&&(b=v);else{p=void 0!==f.lastTime?f.lastTime:t,y=void 0!==f.lastVelocity?f.lastVelocity:u.initialVelocity,t>p+64&&(p=t);for(var C=Math.floor(t-p),O=0;O<C;++O){v+=1*(y+=1*((-u.tension*(v-b)+-u.friction*y)/u.mass)/1e3)/1e3}var j=!(!u.clamp||0===u.tension)&&(h<b?v>b:v<b),_=Math.abs(y)<=u.precision,w=0===u.tension||Math.abs(b-v)<=u.precision;d=j||_&&w,f.lastVelocity=y,f.lastTime=t}g&&!u.toValues[m].done&&(d=!1),d?(f.value!==b&&(v=b),f.done=!0):c=!0,f.setValue(v),f.lastPosition=v}else f.setValue(b),f.done=!0}}s.props.onFrame&&(s.values[u.name]=u.interpolation.getValue())}s.props.onFrame&&s.props.onFrame(s.values),c||(K.delete(s),s.stop(!0))}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return K.size?V?V():D(e):G=!1,G};function Z(e,t,n){if("function"==typeof e)return e;if(Array.isArray(e))return Z({range:e,output:t,extrapolate:n});if(M&&"string"==typeof e.output[0])return M(e);var r=e,a=r.output,o=r.range||[0,1],i=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,a,o,i,s,c){var l=c?c(e):e;if(l<t){if("identity"===i)return l;"clamp"===i&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===a)return r;if(t===n)return e<=t?r:a;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=o(l),r===-1/0?l=-l:a===1/0?l+=r:l=l*(a-r)+r;return l}(e,o[t],o[t+1],a[t],a[t+1],c,i,s,r.map)}}var X=function(e){function t(e,n,r){var a;return f()(this,t),(a=i()(this,c()(t).call(this))).calc=void 0,a.payload=e instanceof I&&!(e instanceof t)?e.getPayload():Array.isArray(e)?e:[e],a.calc=Z(n,r),a}return p()(t,e),b()(t,[{key:"getValue",value:function(){return this.calc.apply(this,a()(this.payload.map(function(e){return e.getValue()})))}},{key:"updateConfig",value:function(e,t){this.calc=Z(e,t)}},{key:"interpolate",value:function(e,n){return new t(this,e,n)}}]),t}(I);var $=function(e){function t(e){var n,r;return f()(this,t),n=i()(this,c()(t).call(this)),r=u()(n),n.animatedStyles=new Set,n.value=void 0,n.startPosition=void 0,n.lastPosition=void 0,n.lastVelocity=void 0,n.startTime=void 0,n.lastTime=void 0,n.done=!1,n.setValue=function(e,t){void 0===t&&(t=!0),r.value=e,t&&r.flush()},n.value=e,n.startPosition=e,n.lastPosition=e,n}return p()(t,e),b()(t,[{key:"flush",value:function(){0===this.animatedStyles.size&&function e(t,n){"update"in t?n.add(t):t.getChildren().forEach(function(t){return e(t,n)})}(this,this.animatedStyles),this.animatedStyles.forEach(function(e){return e.update()})}},{key:"clearStyles",value:function(){this.animatedStyles.clear()}},{key:"getValue",value:function(){return this.value}},{key:"interpolate",value:function(e,t){return new X(this,e,t)}}]),t}(L),Q=function(e){function t(e){var n;return f()(this,t),(n=i()(this,c()(t).call(this))).payload=e.map(function(e){return new $(e)}),n}return p()(t,e),b()(t,[{key:"setValue",value:function(e,t){var n=this;void 0===t&&(t=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach(function(e,r){return n.payload[r].setValue(e,t)}):this.payload.forEach(function(n){return n.setValue(e,t)})}},{key:"getValue",value:function(){return this.payload.map(function(e){return e.getValue()})}},{key:"interpolate",value:function(e,t){return new X(this,e,t)}}]),t}(I),J=0,ee=function(){function e(){var t=this;f()(this,e),this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=function(){return t.interpolations},this.id=J++}return b()(e,[{key:"update",value:function(e){if(!e)return this;var t=N(e),n=t.delay,r=void 0===n?0:n,a=t.to,o=C(t,["delay","to"]);if(_.arr(a)||_.fun(a))this.queue.push(y({},o,{delay:r,to:a}));else if(a){var i={};Object.entries(a).forEach(function(e){var t=e[0],n=e[1],a=y({to:g()({},t,n),delay:S(r,t)},o),s=i[a.delay]&&i[a.delay].to;i[a.delay]=y({},i[a.delay],a,{to:y({},s,a.to)})}),this.queue=Object.values(i)}return this.queue=this.queue.sort(function(e,t){return e.delay-t.delay}),this.diff(o),this}},{key:"start",value:function(e){var t,n=this;if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(function(e){var t=e.from,r=void 0===t?{}:t,a=e.to,o=void 0===a?{}:a;_.obj(r)&&(n.merged=y({},r,n.merged)),_.obj(o)&&(n.merged=y({},n.merged,o))});var r=this.local=++this.guid,a=this.localQueue=this.queue;this.queue=[],a.forEach(function(t,o){var i=t.delay,s=C(t,["delay"]),c=function(t){o===a.length-1&&r===n.guid&&t&&(n.idle=!0,n.props.onRest&&n.props.onRest(n.merged)),e&&e()},l=_.arr(s.to)||_.fun(s.to);i?setTimeout(function(){r===n.guid&&(l?n.runAsync(s,c):n.diff(s).start(c))},i):l?n.runAsync(s,c):n.diff(s).start(c)})}else _.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),t=this,K.has(t)||K.add(t),G||(G=!0,D(V||Y));return this}},{key:"stop",value:function(e){return this.listeners.forEach(function(t){return t(e)}),this.listeners=[],this}},{key:"pause",value:function(e){var t;return this.stop(!0),e&&(t=this,K.has(t)&&K.delete(t)),this}},{key:"runAsync",value:function(e,t){var n=this,r=this,a=(e.delay,C(e,["delay"])),o=this.local,i=Promise.resolve(void 0);if(_.arr(a.to))for(var s=function(e){var t=e,r=y({},a,N(a.to[t]));_.arr(r.config)&&(r.config=r.config[t]),i=i.then(function(){if(o===n.guid)return new Promise(function(e){return n.diff(r).start(e)})})},c=0;c<a.to.length;c++)s(c);else if(_.fun(a.to)){var l,u=0;i=i.then(function(){return a.to(function(e){var t=y({},a,N(e));if(_.arr(t.config)&&(t.config=t.config[u]),u++,o===n.guid)return l=new Promise(function(e){return n.diff(t).start(e)})},function(e){return void 0===e&&(e=!0),r.stop(e)}).then(function(){return l})})}i.then(t)}},{key:"diff",value:function(e){var t=this;this.props=y({},this.props,e);var n=this.props,r=n.from,a=void 0===r?{}:r,o=n.to,i=void 0===o?{}:o,s=n.config,c=void 0===s?{}:s,l=n.reverse,u=n.attach,d=n.reset,p=n.immediate;if(l){var m=[i,a];a=m[0],i=m[1]}this.merged=y({},a,this.merged,i),this.hasChanged=!1;var f=u&&u(this);if(this.animations=Object.entries(this.merged).reduce(function(e,n){var r=n[0],o=n[1],i=e[r]||{},s=_.num(o),l=_.str(o)&&!o.startsWith("#")&&!/\d/.test(o)&&!E[o],u=_.arr(o),m=!s&&!u&&!l,h=_.und(a[r])?o:a[r],b=s||u?o:l?o:1,v=S(c,r);f&&(b=f.animations[r].parent);var C,O=i.parent,j=i.interpolation,w=x(f?b.getPayload():b),N=o;m&&(N=M({range:[0,1],output:[o,o]})(1));var A=j&&j.getValue(),L=!_.und(O)&&i.animatedValues.some(function(e){return!e.done}),I=!_.equ(N,A),T=!_.equ(N,i.previous),P=!_.equ(v,i.config);if(d||T&&I||P){if(s||l)O=j=i.parent||new $(h);else if(u)O=j=i.parent||new Q(h);else if(m){var R=i.interpolation&&i.interpolation.calc(i.parent.value);R=void 0===R||d?h:R,i.parent?(O=i.parent).setValue(0,!1):O=new $(0);var D={output:[R,o]};i.interpolation?(j=i.interpolation,i.interpolation.updateConfig(D)):j=O.interpolate(D)}return w=x(f?b.getPayload():b),C=x(O.getPayload()),d&&!m&&O.setValue(h,!1),t.hasChanged=!0,C.forEach(function(e){e.startPosition=e.value,e.lastPosition=e.value,e.lastVelocity=L?e.lastVelocity:void 0,e.lastTime=L?e.lastTime:void 0,e.startTime=B(),e.done=!1,e.animatedStyles.clear()}),S(p,r)&&O.setValue(m?b:o,!1),y({},e,g()({},r,y({},i,{name:r,parent:O,interpolation:j,animatedValues:C,toValues:w,previous:N,config:v,fromValues:x(O.getValue()),immediate:S(p,r),initialVelocity:k(v.velocity,0),clamp:k(v.clamp,!1),precision:k(v.precision,.01),tension:k(v.tension,170),friction:k(v.friction,26),mass:k(v.mass,1),duration:v.duration,easing:k(v.easing,function(e){return e}),decay:v.decay})))}return I?e:(m&&(O.setValue(1,!1),j.updateConfig({output:[N,N]})),O.done=!0,t.hasChanged=!0,y({},e,g()({},r,y({},e[r],{previous:N}))))},this.animations),this.hasChanged)for(var h in this.configs=Object.values(this.animations),this.values={},this.interpolations={},this.animations)this.interpolations[h]=this.animations[h].interpolation,this.values[h]=this.animations[h].interpolation.getValue();return this}},{key:"destroy",value:function(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}]),e}(),te=function(e,t){var n=Object(O.useRef)(!1),r=Object(O.useRef)(),a=_.fun(t),o=Object(O.useMemo)(function(){var n;return r.current&&(r.current.map(function(e){return e.destroy()}),r.current=void 0),[new Array(e).fill().map(function(e,r){var o=new ee,i=a?S(t,r,o):t[r];return 0===r&&(n=i.ref),o.update(i),n||o.start(),o}),n]},[e]),i=o[0],s=o[1];r.current=i;Object(O.useImperativeHandle)(s,function(){return{start:function(){return Promise.all(r.current.map(function(e){return new Promise(function(t){return e.start(t)})}))},stop:function(e){return r.current.forEach(function(t){return t.stop(e)})},get controllers(){return r.current}}});var c=Object(O.useMemo)(function(){return function(e){return r.current.map(function(t,n){t.update(a?S(e,n,t):e[n]),s||t.start()})}},[e]);Object(O.useEffect)(function(){n.current?a||c(t):s||r.current.forEach(function(e){return e.start()})}),Object(O.useEffect)(function(){return n.current=!0,function(){return r.current.forEach(function(e){return e.destroy()})}},[]);var l=r.current.map(function(e){return e.getValues()});return a?[l,c,function(e){return r.current.forEach(function(t){return t.pause(e)})}]:l},ne=function(e){var t=_.fun(e),n=te(1,t?e:[e]),r=n[0],a=n[1],o=n[2];return t?[r[0],a,o]:r},re=0,ae="enter",oe="leave",ie="update",se=function(e,t){return("function"==typeof t?e.map(t):x(t)).map(String)},ce=function(e){var t=e.items,n=e.keys,r=void 0===n?function(e){return e}:n,a=C(e,["items","keys"]);return y({items:t=x(void 0!==t?t:null),keys:se(t,r)},a)};function le(e,t,n){var r=y({items:e,keys:t||function(e){return e}},n),o=ce(r),i=o.lazy,s=void 0!==i&&i,c=(o.unique,o.reset),l=void 0!==c&&c,u=(o.enter,o.leave,o.update,o.onDestroyed),d=(o.keys,o.items,o.onFrame),p=o.onRest,m=o.onStart,f=o.ref,h=C(o,["lazy","unique","reset","enter","leave","update","onDestroyed","keys","items","onFrame","onRest","onStart","ref"]),b=w(),v=Object(O.useRef)(!1),g=Object(O.useRef)({mounted:!1,first:!0,deleted:[],current:{},transitions:[],prevProps:{},paused:!!r.ref,instances:!v.current&&new Map,forceUpdate:b});return Object(O.useImperativeHandle)(r.ref,function(){return{start:function(){return Promise.all(Array.from(g.current.instances).map(function(e){var t=e[1];return new Promise(function(e){return t.start(e)})}))},stop:function(e){return Array.from(g.current.instances).forEach(function(t){return t[1].stop(e)})},get controllers(){return Array.from(g.current.instances).map(function(e){return e[1]})}}}),g.current=function(e,t){var n=e.first,r=e.prevProps,o=C(e,["first","prevProps"]),i=ce(t),s=i.items,c=i.keys,l=i.initial,u=i.from,d=i.enter,p=i.leave,m=i.update,f=i.trail,h=void 0===f?0:f,b=i.unique,v=i.config,g=i.order,O=void 0===g?[ae,oe,ie]:g,j=ce(r),_=j.keys,w=j.items,k=y({},o.current),x=a()(o.deleted),N=Object.keys(k),A=new Set(N),E=new Set(c),L=c.filter(function(e){return!A.has(e)}),I=o.transitions.filter(function(e){return!e.destroyed&&!E.has(e.originalKey)}).map(function(e){return e.originalKey}),T=c.filter(function(e){return A.has(e)}),P=-h;for(;O.length;){var R=O.shift();switch(R){case ae:L.forEach(function(e,t){b&&x.find(function(t){return t.originalKey===e})&&(x=x.filter(function(t){return t.originalKey!==e}));var r=c.indexOf(e),a=s[r],o=n&&void 0!==l?"initial":ae;k[e]={slot:o,originalKey:e,key:b?String(e):re++,item:a,trail:P+=h,config:S(v,a,o),from:S(n&&void 0!==l?l||{}:u,a),to:S(d,a)}});break;case oe:I.forEach(function(e){var t=_.indexOf(e),n=w[t],r=oe;x.unshift(y({},k[e],{slot:r,destroyed:!0,left:_[Math.max(0,t-1)],right:_[Math.min(_.length,t+1)],trail:P+=h,config:S(v,n,r),to:S(p,n)})),delete k[e]});break;case ie:T.forEach(function(e){var t=c.indexOf(e),n=s[t],r=ie;k[e]=y({},k[e],{item:n,slot:r,trail:P+=h,config:S(v,n,r),to:S(m,n)})})}}var M=c.map(function(e){return k[e]});return x.forEach(function(e){var t,n=e.left,r=(e.right,C(e,["left","right"]));-1!==(t=M.findIndex(function(e){return e.originalKey===n}))&&(t+=1),t=Math.max(0,t),M=[].concat(a()(M.slice(0,t)),[r],a()(M.slice(t)))}),y({},o,{changed:L.length||I.length||T.length,first:n&&0===L.length,transitions:M,current:k,deleted:x,prevProps:t})}(g.current,r),g.current.changed&&g.current.transitions.forEach(function(e){var t=e.slot,n=e.from,r=e.to,a=e.config,o=e.trail,i=e.key,c=e.item;g.current.instances.has(i)||g.current.instances.set(i,new ee);var b=g.current.instances.get(i),v=y({},h,{to:r,from:n,config:a,ref:f,onRest:function(n){g.current.mounted&&(e.destroyed&&(f||s||ue(g,i),u&&u(c)),!Array.from(g.current.instances).some(function(e){return!e[1].idle})&&(f||s)&&g.current.deleted.length>0&&ue(g),p&&p(c,t,n))},onStart:m&&function(){return m(c,t)},onFrame:d&&function(e){return d(c,t,e)},delay:o,reset:l&&t===ae});b.update(v),g.current.paused||b.start()}),Object(O.useEffect)(function(){return g.current.mounted=v.current=!0,function(){g.current.mounted=v.current=!1,Array.from(g.current.instances).map(function(e){return e[1].destroy()}),g.current.instances.clear()}},[]),g.current.transitions.map(function(e){var t=e.item,n=e.slot,r=e.key;return{item:t,key:r,state:n,props:g.current.instances.get(r).getValues()}})}function ue(e,t){var n=e.current.deleted,r=!0,a=!1,o=void 0;try{for(var i,s=function(){var n=i.value.key,r=function(e){return e.key!==n};(_.und(t)||t===n)&&(e.current.instances.delete(n),e.current.transitions=e.current.transitions.filter(r),e.current.deleted=e.current.deleted.filter(r))},c=n[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)s()}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}e.current.forceUpdate()}var de=function(e){function t(e){var n;return f()(this,t),void 0===e&&(e={}),n=i()(this,c()(t).call(this)),!e.transform||e.transform instanceof L||(e=A.transform(e)),n.payload=e,n}return p()(t,e),t}(T),pe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},me="[-+]?\\d*\\.?\\d+",fe=me+"%";function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var be=new RegExp("rgb"+he(me,me,me)),ve=new RegExp("rgba"+he(me,me,me,me)),ge=new RegExp("hsl"+he(me,fe,fe)),ye=new RegExp("hsla"+he(me,fe,fe,me)),Ce=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Oe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,je=/^#([0-9a-fA-F]{6})$/,_e=/^#([0-9a-fA-F]{8})$/;function we(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ke(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,o=we(a,r,e+1/3),i=we(a,r,e),s=we(a,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*i)<<16|Math.round(255*s)<<8}function xe(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function Se(e){return(parseFloat(e)%360+360)%360/360}function Ne(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Ae(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function Ee(e){var t,n,r="number"==typeof(t=e)?t>>>0===t&&t>=0&&t<=4294967295?t:null:(n=je.exec(t))?parseInt(n[1]+"ff",16)>>>0:pe.hasOwnProperty(t)?pe[t]:(n=be.exec(t))?(xe(n[1])<<24|xe(n[2])<<16|xe(n[3])<<8|255)>>>0:(n=ve.exec(t))?(xe(n[1])<<24|xe(n[2])<<16|xe(n[3])<<8|Ne(n[4]))>>>0:(n=Ce.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=_e.exec(t))?parseInt(n[1],16)>>>0:(n=Oe.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=ge.exec(t))?(255|ke(Se(n[1]),Ae(n[2]),Ae(n[3])))>>>0:(n=ye.exec(t))?(ke(Se(n[1]),Ae(n[2]),Ae(n[3]))|Ne(n[4]))>>>0:null;if(null===r)return e;var a=(16711680&(r=r||0))>>>16,o=(65280&r)>>>8,i=(255&r)/255;return"rgba(".concat((4278190080&r)>>>24,", ").concat(a,", ").concat(o,", ").concat(i,")")}var Le=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ie=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Te=new RegExp("(".concat(Object.keys(pe).join("|"),")"),"g"),Pe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Re=["Webkit","Ms","Moz","O"];function Me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Pe.hasOwnProperty(e)&&Pe[e]?(""+t).trim():t+"px"}Pe=Object.keys(Pe).reduce(function(e,t){return Re.forEach(function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]}),e},Pe);var De={};H(function(e){return new de(e)}),z("div"),F(function(e){var t=e.output.map(function(e){return e.replace(Ie,Ee)}).map(function(e){return e.replace(Te,Ee)}),n=t[0].match(Le).map(function(){return[]});t.forEach(function(e){e.match(Le).forEach(function(e,t){return n[t].push(+e)})});var r=t[0].match(Le).map(function(t,r){return Z(y({},e,{output:n[r]}))});return function(e){var n=0;return t[0].replace(Le,function(){return r[n++](e)}).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,function(e,t,n,r,a){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(a,")")})}}),R(pe),P(function(e,t){if(!e.nodeType||void 0===e.setAttribute)return!1;var n=t.style,r=t.children,a=t.scrollTop,o=t.scrollLeft,i=C(t,["style","children","scrollTop","scrollLeft"]),s="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;for(var c in void 0!==a&&(e.scrollTop=a),void 0!==o&&(e.scrollLeft=o),void 0!==r&&(e.textContent=r),n)if(n.hasOwnProperty(c)){var l=0===c.indexOf("--"),u=Me(c,n[c],l);"float"===c&&(c="cssFloat"),l?e.style.setProperty(c,u):e.style[c]=u}for(var d in i){var p=s?d:De[d]||(De[d]=d.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}));void 0!==e.getAttribute(p)&&e.setAttribute(p,i[d])}},function(e){return e});var Fe,Be,ze=(Fe=function(e){return Object(O.forwardRef)(function(t,n){var r=w(),a=Object(O.useRef)(!0),o=Object(O.useRef)(null),i=Object(O.useRef)(null),s=Object(O.useCallback)(function(e){var t=o.current;o.current=new W(e,function(){i.current&&!1===A.fn(i.current,o.current.getAnimatedValue())&&r()}),t&&t.detach()},[]);Object(O.useEffect)(function(){return function(){a.current=!1,o.current&&o.current.detach()}},[]),Object(O.useImperativeHandle)(n,function(){return U(i,a,r)}),s(t);var c=o.current.getValue(),l=(c.scrollTop,c.scrollLeft,C(c,["scrollTop","scrollLeft"]));return j.a.createElement(e,y({},l,{ref:function(e){return i.current=function(e,t){return t&&(_.fun(t)?t(e):_.obj(t)&&(t.current=e)),e}(e,n)}}))})},void 0===(Be=!1)&&(Be=!0),function(e){return(_.arr(e)?e:Object.keys(e)).reduce(function(e,t){var n=Be?t[0].toLowerCase()+t.substring(1):t;return e[n]=Fe(n),e},Fe)})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"])},1872:function(e,t,n){"use strict";n(1);var r=n(18),a=n.n(r),o=n(260),i=n(0),s=[{extensionList:["doc","docx","txt"],type:"doc"},{extensionList:["jpg","jpeg","png","bmp"],type:"image"},{extensionList:["mp3","aac"],type:"music"},{extensionList:["pdf"],type:"pdf"},{extensionList:["xls","xlsx","csv"],type:"table"},{extensionList:["torrent"],type:"torrent"},{extensionList:["mp4","flv"],type:"video"},{extensionList:["zip","rar","7z"],type:"zip"}];var c=function(e){var t=e.className,n=e.isDirectory,r=void 0!==n&&n,o=e.extension,c=function(e){return"https://zhstatic.zhihu.com/assets/zhihu-components/file-icon/zhimg_answer_editor_file_".concat(e,".svg")}(r?"folder":function(e){var t=s.find(function(t){return t.extensionList.includes(e)});return t?t.type:"other"}(o));return Object(i.b)("img",{className:a()("FileExtensionIcon",t),src:c})},l=(n(1855),{baidu:"百度网盘"});var u=function(e){var t=e.component,n=void 0===t?"a":t,r=e.className,s=e.href,u=e.type,d=void 0===u?"file":u,p=e.name,m=e.extension,f=e.size,h=e.source,b=e.onRef,v=e.onClick,g=e.onMouseDown,y=Number(f);return Object(i.b)(n,{className:a()("FileLinkCard",r),href:s,target:"_blank",rel:"noopener noreferrer","data-za-detail-view-id":7693,ref:b,onClick:v,onMouseDown:g},Object(i.b)(c,{className:"FileLinkCard-icon",isDirectory:"directory"===d,extension:m}),Object(i.b)("div",{className:"FileLinkCard-info"},Object(i.b)("div",{className:"FileLinkCard-name"},p),Object(i.b)("div",{className:"FileLinkCard-meta"},Boolean(y)&&Object(i.b)("div",{className:"FileLinkCard-size"},Object(o.unitPrefix)(y)),h&&Object(i.b)("div",{className:"FileLinkCard-source"}," ","· ",function(e){return l[e]||e}(h)))))};n.d(t,"a",function(){return u})},1904:function(e,t,n){var r=n(1720)(!0);e.exports=r},1905:function(e,t,n){},1906:function(e,t,n){},1907:function(e,t,n){"use strict";e.exports=n(1908)},1908:function(e,t,n){"use strict";
/** @license React v16.4.1
 * create-subscription.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=n(792),a=n(1);function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.createSubscription=function(e){var t=e.getCurrentValue,n=e.subscribe;return function(e){function a(){var n,r;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(s))),r.state={source:r.props.source,value:null!=r.props.source?t(r.props.source):void 0},r._hasUnmounted=!1,r._unsubscribe=null,o(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e),a.getDerivedStateFromProps=function(e,n){return e.source!==n.source?{source:e.source,value:null!=e.source?t(e.source):void 0}:null},a.prototype.componentDidMount=function(){this.subscribe()},a.prototype.componentDidUpdate=function(e,t){this.state.source!==t.source&&(this.unsubscribe(t),this.subscribe())},a.prototype.componentWillUnmount=function(){this.unsubscribe(this.state),this._hasUnmounted=!0},a.prototype.render=function(){return this.props.children(this.state.value)},a.prototype.subscribe=function(){var e=this,a=this.state.source;if(null!=a){var o=n(a,function(t){e._hasUnmounted||e.setState(function(e){return t===e.value||a!==e.source?null:{value:t}})});"function"!=typeof o&&function(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=0;a<t;a++)n+="&args[]="+encodeURIComponent(arguments[a+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}("266"),this._unsubscribe=o,(o=t(this.props.source))!==this.state.value&&this.setState({value:o})}},a.prototype.unsubscribe=function(){"function"==typeof this._unsubscribe&&this._unsubscribe(),this._unsubscribe=null},a}(a.Component)}},1909:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(490),a=n(489),o=n(491);function i(e){return Object(r.a)(e)||Object(a.a)(e)||Object(o.a)()}},1919:function(e,t,n){"use strict";var r=n(1645),a=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(121)),i=a(n(161)),s=a(n(160)),c=a(n(261)),l=a(n(262)),u=r(n(1)),d=a(n(1660)),p=a(n(3)),m=n(1630);n(1934);var f=function(e){function t(){var e,n;(0,o.default)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(a)))).state={isLoaded:!1},n.onLoad=function(){var e=n.props.onLoad;n.setState({isLoaded:!0}),e&&e()},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.img&&this.img.complete&&this.onLoad()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.src,a=t.alt,o=t.onClick,i=t.onRef,s=t.preview,c=this.state.isLoaded;return u.default.createElement("div",{className:(0,d.default)("AdvertImg",{"AdvertImg--isLoaded":c},n)},s&&!r?u.default.createElement("div",{className:"AdvertImg-DefaultImageIcon"},u.default.createElement(m.DefaultImageIcon,null)):u.default.createElement("img",{ref:function(t){e.img=t,i&&i(t)},src:r,alt:a,onLoad:this.onLoad,onClick:o}))}}]),t}(u.Component);t.default=f,f.propTypes={className:p.default.string,alt:p.default.string,onLoad:p.default.func,onClick:p.default.func,onRef:p.default.func}},1920:function(e,t,n){"use strict";function r(e){try{return JSON.parse(e)}catch(e){return null}}n.d(t,"a",function(){return r})},1923:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},1924:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},1925:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},1927:function(e,t,n){},1929:function(e,t,n){},1930:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=r(n(1607)),i=r(n(121)),s=r(n(161)),c=r(n(160)),l=r(n(261)),u=r(n(262)),d=r(n(1)),p=r(n(1706)),m=n(11),f=n(1627),h=n(1659),b=n(1630),v=n(1600),g=n(1707),y=r(n(1933));n(1936);var C="ecommerce-ad";function O(){var e=window.location.pathname.match(/\/(\d+)/g);return e?e.pop().replace("/",""):""}var j=(0,h.errorWrapper)(a=function(e){function t(){var e,n;(0,i.default)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=(0,c.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(a)))).onClick=function(e){e.stopPropagation(),e.preventDefault();var t=n.props,r=t.data,a=t.parentType,i=t.urlToken;r.creativeId=(0,v.getCreativeId)();try{(0,v.track)(n.getTrackUrl({at:"click"})),(0,f.zaTrack)("trackEvent",n.node,{id:5641,action:"Click"}),(0,g.openECommerceDeeplinkAd)((0,o.default)({},(0,m.camelizeKeys)(r),{token:O(),pagetype:a,urlToken:i,parentType:a}))}catch(e){console.error(e.message)}},n.getET=function(){var e=window.navigator.appVersion;return e.toLowerCase().includes("iphone")?"ios_commodity":e.toLowerCase().includes("android")?"android_commodity":"pc_commodity"},n.si=(0,p.default)(),n.ti=O(),n.isHiddenEcommerceAd=function(e){return!(!e.isCanvas||e.adjson)},n.setNode=function(e){n.node=e},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,v.onShowedOnce)(this.node,function(){try{(0,v.track)(e.getTrackUrl({at:"view",_dk:"".concat(Date.now()*Math.random())})),(0,f.zaTrack)("cardShow",e.node,{id:5642})}catch(e){console.error(e.message)}});var t=(0,m.camelizeKeys)(this.props.data),n=t.isCanvas,r=t.adjson;n&&(0,g.dispatch)({adjson:r},"ad/preload")}},{key:"getTrackUrl",value:function(e){var t=e.at,n=e._dk,r=this.props,a=r.data,o=r.parentType,i=r.urlToken,s="".concat("https://sugar.zhihu.com/plutus_adreaper/page_monitor_log","?at=").concat(t,"&pt=").concat(o,"&et=").concat(this.getET(),"&ti=").concat(i,"&si=").concat(this.si,"&ev=").concat((0,m.camelizeKeys)(a).cardType);return n&&(s="".concat(s,"&_dk=").concat(n)),(0,v.patchURLTrackCI)(s)}},{key:"render",value:function(){var e=(0,m.camelizeKeys)(this.props.data);if(this.isHiddenEcommerceAd(e))return null;var t=!!e.price,n=e.webExperiment,r=(void 0===n?{}:n).awAdPluginStyle;return"1"===r?d.default.createElement(y.default,{data:e,onClick:this.onClick,setNode:this.setNode,className:"ecommerce-ad-container_shadow"}):"2"===r?d.default.createElement(y.default,{data:e,onClick:this.onClick,setNode:this.setNode,className:"ecommerce-ad-container_bg"}):d.default.createElement("div",{className:"".concat(C,"-container")},d.default.createElement("div",{className:C,style:{height:"81px"},ref:this.setNode,onClick:this.onClick},d.default.createElement("div",{className:"".concat(C,"-img"),style:{height:"81px",backgroundImage:"url(".concat(e.picUrl,")")}}),d.default.createElement("div",{className:"".concat(C,"-main"),style:{padding:t?"8px 10px":"10px"}},d.default.createElement("div",{className:"".concat(C,"-main-content")},d.default.createElement("header",{className:"".concat(C,"-main-content-title"),style:{fontSize:"12px",lineHeight:t?"13px":"18px"}},d.default.createElement("img",{alt:"",className:"".concat(C,"-main-content-title-logo"),src:e.logo,align:"middle"}),e.productName," 的推荐"),d.default.createElement("div",{className:"".concat(C,"-main-content-des"),style:{marginTop:t?"3.5px":"7px",lineHeight:t?"16px":"18px",height:t?"32px":"36px",fontSize:t?"12px":"13px"}},e.description),t?d.default.createElement("div",{className:"".concat(C,"-main-content-price")},"¥",e.price/100):null)),d.default.createElement("div",{className:"".concat(C,"-icon")},(!e.interactionLaunch||"去购买"===e.interactionLaunch)&&d.default.createElement(b.Cart,{style:{width:"14px",height:"12px",marginRight:"4px",verticalAlign:"-1px"}}),e.interactionLaunch||"去购买")))}}]),t}(d.default.PureComponent))||a;t.default=j},1931:function(e,t,n){var r,a,o=n(1722),i=n(1723),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==p){var m=o();null==d&&(d=r=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=a=16383&(m[6]<<8|m[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:c+1,b=f-s+(h-c)/1e4;if(b<0&&void 0===e.clockseq&&(p=p+1&16383),(b<0||f>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,c=h,a=p;var v=(1e4*(268435455&(f+=122192928e5))+h)%4294967296;u[l++]=v>>>24&255,u[l++]=v>>>16&255,u[l++]=v>>>8&255,u[l++]=255&v;var g=f/4294967296*1e4&268435455;u[l++]=g>>>8&255,u[l++]=255&g,u[l++]=g>>>24&15|16,u[l++]=g>>>16&255,u[l++]=p>>>8|128,u[l++]=255&p;for(var y=0;y<6;++y)u[l+y]=d[y];return t||i(u)}},1932:function(e,t,n){var r=n(1722),a=n(1723);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[o+s]=i[s];return t||a(i)}},1933:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=r(n(1919)),i=n(1630);n(1935);var s="ecommerce-ad";var c=function(e){var t=e.data,n=e.onClick,r=e.setNode,c=e.className,l=!t.interactionLaunch||"去购买"===t.interactionLaunch;return a.default.createElement("div",{className:"ecommerce-ad-style ".concat(c)},a.default.createElement("div",{className:s,ref:r,onClick:n},a.default.createElement(o.default,{className:"".concat(s,"-img"),src:t.picUrl}),a.default.createElement("div",{className:"".concat(s,"-main")},a.default.createElement("div",{className:"".concat(s,"-main-content")},a.default.createElement("div",{className:"".concat(s,"-main-content-des")},t.description),a.default.createElement("div",{className:"".concat(s,"-main-content-title")},a.default.createElement("div",{className:"".concat(s,"-main-content-trans")},t.productName," 的推荐")),!!t.price&&a.default.createElement("div",{className:"".concat(s,"-main-content-price")},"¥",t.price/100))),a.default.createElement("div",{className:"".concat(s,"-icon")},l&&a.default.createElement(i.CartRed,{style:{width:"11px",height:"10px",marginRight:"4px",position:"relative",top:"1px"}}),t.interactionLaunch||"去购买",!l&&a.default.createElement(i.ArrowRightRed,{style:{width:"5px",height:"8px",marginLeft:"3px"}}))))};t.default=c},1934:function(e,t,n){},1935:function(e,t,n){},1936:function(e,t,n){},1937:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1724);t.Parser=o.Parser;var i=n(1728);t.DomHandler=i.DomHandler,t.DefaultHandler=i.DomHandler,t.parseDOM=function(e,t){var n=new i.DomHandler(void 0,t);return new o.Parser(n,t).end(e),n.dom},t.createDomStream=function(e,t,n){var r=new i.DomHandler(e,t,n);return new o.Parser(r,t)};var s=n(1725);t.Tokenizer=s.default;var c=a(n(1663));t.ElementType=c,t.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},r(n(1729)),r(n(1948)),r(n(1949));var l=a(n(1730));t.DomUtils=l;var u=n(1729);t.RssHandler=u.FeedHandler},1938:function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},1939:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),i=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return o.get(this.type)||1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent||null},set:function(e){this.parent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev||null},set:function(e){this.prev=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next||null},set:function(e){this.next=e},enumerable:!0,configurable:!0}),e}();t.Node=i;var s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.data=n,r}return a(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!0,configurable:!0}),t}(i);t.DataNode=s;var c=function(e){function t(t,n){var r=e.call(this,"directive",n)||this;return r.name=t,r}return a(t,e),t}(s);t.ProcessingInstruction=c;var l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.children=n,r}return a(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!0,configurable:!0}),t}(i);t.NodeWithChildren=l;var u=function(e){function t(t,n){var r=e.call(this,"script"===t?"script":"style"===t?"style":"tag",[])||this;return r.name=t,r.attribs=n,r.attribs=n,r}return a(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!0,configurable:!0}),t}(l);t.Element=u},1940:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1623),o=r(n(1941));t.getOuterHTML=o.default,t.getInnerHTML=function(e,n){return a.hasChildren(e)?e.children.map(function(e){return t.getOuterHTML(e,n)}).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):a.isTag(t)?"br"===t.name?"\n":e(t.children):a.isCDATA(t)?e(t.children):a.isText(t)?t.data:""}},1941:function(e,t,n){var r=n(1663),a=n(1942),o=n(1943);o.elementNames.__proto__=null,o.attributeNames.__proto__=null;var i={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",a=0;a<e.length;a++){var o=e[a];"root"===o.type?n+=c(o.children,t):r.isTag(o)?n+=u(o,t):o.type===r.Directive?n+=d(o):o.type===r.Comment?n+=f(o):o.type===r.CDATA?n+=m(o):n+=p(o,t)}return n},l=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function u(e,t){"foreign"===t.xmlMode&&(e.name=o.elementNames[e.name]||e.name,e.parent&&l.indexOf(e.parent.name)>=0&&(t=Object.assign({},t,{xmlMode:!1}))),!t.xmlMode&&["svg","math"].indexOf(e.name)>=0&&(t=Object.assign({},t,{xmlMode:"foreign"}));var n="<"+e.name,r=function(e,t){if(e){var n,r="";for(var i in e)n=e[i],r&&(r+=" "),"foreign"===t.xmlMode&&(i=o.attributeNames[i]||i),r+=i,(null!==n&&""!==n||t.xmlMode)&&(r+='="'+(t.decodeEntities?a.encodeXML(n):n.replace(/\"/g,"&quot;"))+'"');return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=c(e.children,t)),s[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function d(e){return"<"+e.data+">"}function p(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in i||(n=a.encodeXML(n)),n}function m(e){return"<![CDATA["+e.children[0].data+"]]>"}function f(e){return"\x3c!--"+e.data+"--\x3e"}},1942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1731),a=n(1732);t.decode=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?a.encodeXML:a.encodeHTML)(e)};var o=n(1732);t.encodeXML=o.encodeXML,t.encodeHTML=o.encodeHTML,t.escape=o.escape,t.encodeHTML4=o.encodeHTML,t.encodeHTML5=o.encodeHTML;var i=n(1731);t.decodeXML=i.decodeXML,t.decodeHTML=i.decodeHTML,t.decodeHTMLStrict=i.decodeHTMLStrict,t.decodeHTML4=i.decodeHTML,t.decodeHTML5=i.decodeHTML,t.decodeHTML4Strict=i.decodeHTMLStrict,t.decodeHTML5Strict=i.decodeHTMLStrict,t.decodeXMLStrict=i.decodeXML},1943:function(e){e.exports=JSON.parse('{"elementNames":{"altglyph":"altGlyph","altglyphdef":"altGlyphDef","altglyphitem":"altGlyphItem","animatecolor":"animateColor","animatemotion":"animateMotion","animatetransform":"animateTransform","clippath":"clipPath","feblend":"feBlend","fecolormatrix":"feColorMatrix","fecomponenttransfer":"feComponentTransfer","fecomposite":"feComposite","feconvolvematrix":"feConvolveMatrix","fediffuselighting":"feDiffuseLighting","fedisplacementmap":"feDisplacementMap","fedistantlight":"feDistantLight","fedropshadow":"feDropShadow","feflood":"feFlood","fefunca":"feFuncA","fefuncb":"feFuncB","fefuncg":"feFuncG","fefuncr":"feFuncR","fegaussianblur":"feGaussianBlur","feimage":"feImage","femerge":"feMerge","femergenode":"feMergeNode","femorphology":"feMorphology","feoffset":"feOffset","fepointlight":"fePointLight","fespecularlighting":"feSpecularLighting","fespotlight":"feSpotLight","fetile":"feTile","feturbulence":"feTurbulence","foreignobject":"foreignObject","glyphref":"glyphRef","lineargradient":"linearGradient","radialgradient":"radialGradient","textpath":"textPath"},"attributeNames":{"definitionurl":"definitionURL","attributename":"attributeName","attributetype":"attributeType","basefrequency":"baseFrequency","baseprofile":"baseProfile","calcmode":"calcMode","clippathunits":"clipPathUnits","diffuseconstant":"diffuseConstant","edgemode":"edgeMode","filterunits":"filterUnits","glyphref":"glyphRef","gradienttransform":"gradientTransform","gradientunits":"gradientUnits","kernelmatrix":"kernelMatrix","kernelunitlength":"kernelUnitLength","keypoints":"keyPoints","keysplines":"keySplines","keytimes":"keyTimes","lengthadjust":"lengthAdjust","limitingconeangle":"limitingConeAngle","markerheight":"markerHeight","markerunits":"markerUnits","markerwidth":"markerWidth","maskcontentunits":"maskContentUnits","maskunits":"maskUnits","numoctaves":"numOctaves","pathlength":"pathLength","patterncontentunits":"patternContentUnits","patterntransform":"patternTransform","patternunits":"patternUnits","pointsatx":"pointsAtX","pointsaty":"pointsAtY","pointsatz":"pointsAtZ","preservealpha":"preserveAlpha","preserveaspectratio":"preserveAspectRatio","primitiveunits":"primitiveUnits","refx":"refX","refy":"refY","repeatcount":"repeatCount","repeatdur":"repeatDur","requiredextensions":"requiredExtensions","requiredfeatures":"requiredFeatures","specularconstant":"specularConstant","specularexponent":"specularExponent","spreadmethod":"spreadMethod","startoffset":"startOffset","stddeviation":"stdDeviation","stitchtiles":"stitchTiles","surfacescale":"surfaceScale","systemlanguage":"systemLanguage","tablevalues":"tableValues","targetx":"targetX","targety":"targetY","textlength":"textLength","viewbox":"viewBox","viewtarget":"viewTarget","xchannelselector":"xChannelSelector","ychannelselector":"yChannelSelector","zoomandpan":"zoomAndPan"}}')},1944:function(e,t,n){"use strict";function r(e){return e.children||null}function a(e){return e.parent||null}function o(e,t){return e.attribs&&e.attribs[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.getChildren=r,t.getParent=a,t.getSiblings=function(e){var t=a(e);return t?r(t):[e]},t.getAttributeValue=o,t.hasAttrib=function(e,t){return!!o(e,t)},t.getName=function(e){return e.name}},1945:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var a=t.parent=e.parent;if(a){var o=a.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var a=n.children;a.splice(a.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},1946:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1733),a=n(1623);function o(e){return"text"===e.type}var i={tag_name:function(e){return"function"==typeof e?function(t){return a.isTag(t)&&e(t.name)}:"*"===e?a.isTag:function(t){return a.isTag(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return o(t)&&e(t.data)}:function(t){return o(t)&&t.data===e}}};function s(e,t){return"function"==typeof t?function(n){return a.isTag(n)&&t(n.attribs[e])}:function(n){return a.isTag(n)&&n.attribs[e]===t}}function c(e,t){return function(n){return e(n)||t(n)}}function l(e){var t=Object.keys(e).map(function(t){var n=e[t];return t in i?i[t](n):s(t,n)});return 0===t.length?null:t.reduce(c)}t.testElement=function(e,t){var n=l(e);return!n||n(t)},t.getElements=function(e,t,n,a){void 0===a&&(a=1/0);var o=l(e);return o?r.filter(o,t,n,a):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),r.findOne(s("id",e),t,n)},t.getElementsByTagName=function(e,t,n,a){return void 0===a&&(a=1/0),r.filter(i.tag_name(e),t,n,a)},t.getElementsByTagType=function(e,t,n,a){return void 0===n&&(n=!0),void 0===a&&(a=1/0),r.filter(i.tag_type(e),t,n,a)}},1947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1623);function a(e,t){var n=[],a=[];if(e===t)return 0;for(var o=r.hasChildren(e)?e:e.parent;o;)n.unshift(o),o=o.parent;for(o=r.hasChildren(t)?t:t.parent;o;)a.unshift(o),o=o.parent;for(var i=0;n[i]===a[i];)i++;if(0===i)return 1;var s=n[i-1],c=s.children,l=n[i],u=a[i];return c.indexOf(l)>c.indexOf(u)?s===t?20:4:s===e?10:2}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var r=n.parent;r;r=r.parent)if(e.indexOf(r)>-1){e.splice(t,1);break}}return e},t.compareDocumentPosition=a,t.uniqueSort=function(e){return(e=e.filter(function(e,t,n){return!n.includes(e,t+1)})).sort(function(e,t){var n=a(e,t);return 2&n?-1:4&n?1:0}),e}},1948:function(e,t){},1949:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,function(e){for(var t,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];n.events.push([e].concat(r)),n._cbs[e]&&(t=n._cbs)[e].apply(t,r)})||this;return n._cbs=t,n.events=[],n}return a(t,e),t.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},t.prototype.restart=function(){var e;this._cbs.onreset&&this._cbs.onreset();for(var t=0;t<this.events.length;t++){var n=this.events[t],r=n[0],a=n.slice(1);this._cbs[r]&&(e=this._cbs)[r].apply(e,a)}},t}(o(n(1950)).default);t.CollectingHandler=i},1950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._func=e}return e.prototype.onattribute=function(e,t){this._func("onattribute",e,t)},e.prototype.oncdatastart=function(){this._func("oncdatastart")},e.prototype.oncdataend=function(){this._func("oncdataend")},e.prototype.ontext=function(e){this._func("ontext",e)},e.prototype.onprocessinginstruction=function(e,t){this._func("onprocessinginstruction",e,t)},e.prototype.oncomment=function(e){this._func("oncomment",e)},e.prototype.oncommentend=function(){this._func("oncommentend")},e.prototype.onclosetag=function(e){this._func("onclosetag",e)},e.prototype.onopentag=function(e,t){this._func("onopentag",e,t)},e.prototype.onopentagname=function(e){this._func("onopentagname",e)},e.prototype.onerror=function(e){this._func("onerror",e)},e.prototype.onend=function(){this._func("onend")},e.prototype.onparserinit=function(e){this._func("onparserinit",e)},e.prototype.onreset=function(){this._func("onreset")},e}();t.default=r},1951:function(e,t,n){},1952:function(e,t,n){},1966:function(e,t,n){"use strict";var r=n(0),a=(n(1),n(22)),o=n.n(a);n(1998);t.a=function(e){var t=e.header,n=e.options,a=e.className,i=e.onRef,s=e.showOptions,c=void 0===s||s;return Object(r.b)("div",{className:o()("Topbar",a,!1),ref:i},Object(r.b)("div",{className:"Topbar-title"},t),c&&Object(r.b)("div",{className:"Topbar-options"},n))}},1972:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(0),l=n(3),u=n.n(l),d=n(1),p=n(54),m=n.n(p),f=n(1590),h=n(141),b=n(264),v=(n(2141),{zhihu:"注册或登录",wechat:"使用微信快速登录",weibo:"使用微博快速登录",qq:"使用 QQ 快速登录"}),g={qq:"qqconn",weibo:"sina",wechat:"wechat_mp"},y=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).jumpToOAuthUrl=function(e){var t=n.props.redirectUrl,r=void 0===t?location.href:t,a=Object(b.c)(r),o=a.utm_source,i=a.utm_medium,s=m()(navigator.userAgent).isZhihu;location.href="zhihu"!==e?"https://www.zhihu.com/oauth/redirect/login/".concat(g[e],"?next=/oauth/account_callback&from=").concat(encodeURIComponent(r),"&utm_source=").concat(o,"&ref_source=").concat(i):s?"zhihu://signin?next=".concat(r):"https://www.zhihu.com/signin?next=".concat(r).concat(o?"?utm_source=".concat(o):"")},n.renderSignButtons=function(){var e=n.props.buttons;return"string"==typeof e?n.renderSingleSignButton({name:e}):e.map(function(e){return"string"==typeof e?n.renderSingleSignButton({name:e}):"object"==typeof e?n.renderSingleSignButton(e):null})},n.renderSingleSignButton=function(e){var t=e.name,r=e.text,a=e.fill,o=e.color,i="#fff"===a||"#ffffff"===a;return-1===Object.keys(v).indexOf(t)?null:Object(c.b)("button",{className:"SignInModal-button-".concat(t),key:t,style:{backgroundColor:a,borderColor:i?"#0f88eb":a,color:i?"#0f88eb":o},onClick:function(){n.jumpToOAuthUrl(t)}},r||v[t])},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.urlScheme,r=this.props.title||"".concat(n?"打开 App 或":"","登录后继续操作");return Object(c.b)(h.b,{size:"small",className:"SignInModal",title:r,onClose:t},Object(c.b)(f.a,{module:"SignForm",moduleName:r,trackCardShow:!0},Object(c.b)("div",{className:"SignInModal-content"},n&&Object(c.b)(b.a,{className:"SignInModal-openInAppButton",href:n},"立即打开 App"),this.renderSignButtons())))}}]),t}(d.Component);y.propTypes={onClose:u.a.func.isRequired,urlScheme:u.a.string,redirectUrl:u.a.string,buttons:u.a.oneOfType([u.a.array,u.a.string])},y.defaultProps={buttons:["zhihu"]}},1994:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M14.782 16.78a.737.737 0 0 1-1.052 0L9.218 12.53a.758.758 0 0 1 0-1.063L13.73 7.22a.737.737 0 0 1 1.052 0c.29.294.29.77.001 1.063L11 12l3.782 3.716c.29.294.29.77 0 1.063z",fillRule:"evenodd"}))};i.defaultProps={name:"ArrowLeft"},t.a=i},1998:function(e,t,n){},2123:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M18.453 7.992l-1.833-1.65.964-.978a1.223 1.223 0 0 1 1.73-.012l.005.006a1.24 1.24 0 0 1 .007 1.748l-.873.886zm-1.178 1.194l-5.578 5.66-1.935.697a.393.393 0 0 1-.504-.504l.697-1.935 5.488-5.567 1.832 1.65zM7.58 5.848l5.654.006-1.539 1.991-3.666.012A1.02 1.02 0 0 0 7 8.868v7.993c0 .558.46 1.01 1.029 1.01l7.941-.01c.568 0 1.03-.453 1.03-1.012v-4.061l2-1.442v6.002c0 1.397-1.2 2.501-2.62 2.501H7.574C6.153 19.85 5 18.717 5 17.32V8.35c0-1.397 1.16-2.502 2.58-2.502z"}))};i.defaultProps={name:"EditSurround"},t.a=i},2131:function(e,t,n){"use strict";var r,a,o,i=n(17),s=n(1624),c=n(9),l=n(4),u=n(8),d=n(7),p=n(5),m=n(33),f=n(6),h=n(0),b=n(1),v=n.n(b),g=n(3),y=n.n(g),C=n(39),O=n(26),j=n(20),_=n(22),w=n.n(_),k=n(21),x=n(794),S=n.n(x),N=n(31),A=n.n(N),E=n(16),L=n(475),I=n(50),T=n(227),P=n(483),R=n(106),M=n(266),D=n(487),F=n(1570),B=n(460),z=n(146),q=n(23),V=n(19),U="zhihu::comment_local_key",H=5,W=(V.N,1e3),G=980,K=function(){return""},Y={error:"上传失败",success:"上传成功",uploadIng:"上传中",default:""},Z=(n(2147),Object(j.connect)(null,{showNotification:q.h,uploadImage:z.b})((o=a=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={uploadStatus:Y.default},n.triggerClick=function(e){var t=n.props.handleInputActive;n.uploadInput.click(),t(!0),e.preventDefault()},n.onError=function(){var e=n.props,t=e.showNotification,r=e.resetUploadImg;t("图片上传失败","red"),r()},n.onSuccess=function(){n.setState({uploadStatus:Y.default})},n.resetFileInput=function(){n.uploadInput.value=null},n.beforeUpload=function(e){var t=n.props.showNotification;return e?e.size>1024*V.N*1024?(t("请上传小于 ".concat(V.N,"M 的图片。"),"red"),n.resetFileInput(),!1):(n.reactPopoverNode.open(),void n.setState({uploadStatus:Y.uploadIng})):(n.resetFileInput(),!1)},n.uploadImage=function(e){var t=e.file,r=n.props,a=r.uploadImage,o=r.handleImages,i=r.updatePublishStatus;return a(t).then(function(e){o([Object.assign({},e.payload,{url:e.payload.src})]),i(!1),n.resetFileInput()}).catch(function(){n.setState({uploadStatus:Y.error}),o([])})},n.handleOnRef=function(e){var t=n.props.onRef;t&&t(e),n.reactPopoverNode=e},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.images,r=t.disableButton,a=t.resetUploadImg,o=this.state.uploadStatus,i=Boolean(n.length);return Object(h.b)(b.Fragment,null,Object(h.b)(R.a,{className:"ImagePopover",arrowed:!0,ref:this.handleOnRef,placement:"bottom",globalClose:!n.length,onClick:this.triggerClick,toggler:Object(h.b)(M.a,{label:"插入图片",icon:F.a,disabled:r})},Object(h.b)("div",{className:"ImagePopover-thumbnail"},i&&Object(h.b)(b.Fragment,null,Object(h.b)("img",{src:n[0].src}),Object(h.b)("div",{className:"closeButton",onClick:a},Object(h.b)(B.a,null))),o&&!i&&Object(h.b)("p",{className:"ImagePopover-uplodaStatus"},o))),Object(h.b)(D.a,{accept:"image/png,image/jpeg",onRef:function(t){e.uploadInput=t},beforeUpload:this.beforeUpload,customUpload:this.uploadImage,onSuccess:this.onSuccess,onError:this.onError}))}}]),t}(b.Component),a.propTypes={className:y.a.string,disableButton:y.a.bool},a.defaultProps={disableButton:!0},r=o))||r),X=n(62),$=n(1571),Q=n(15),J=function(e){return v.a.createElement(Q.a,e,v.a.createElement("path",{d:"M16.375 3.018C19.701 4.643 22 8.047 22 12a9.944 9.944 0 0 1-1.349 5c-1.73 2.986-4.952 5-8.651 5-3.7 0-6.921-2.014-8.651-5A9.944 9.944 0 0 1 2 12c0-3.951 2.298-7.357 5.625-8.982A9.95 9.95 0 0 1 12 2c1.571 0 3.051.373 4.375 1.018zm-4.322 11.17c1.5 0 2.911.662 3.871 1.817a.6.6 0 0 1-.514.978.599.599 0 0 1-.406-.214 3.823 3.823 0 0 0-2.951-1.385c-.605 0-1.185.136-1.723.407a3.85 3.85 0 0 0-1.321 1.093c-.039.05-.091.081-.141.116H8.19c-.006-.004-.013-.003-.018-.006a.6.6 0 0 1-.11-.839 5.074 5.074 0 0 1 1.73-1.433 4.988 4.988 0 0 1 2.26-.534zM8.875 10.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5zm6.25-2.5a1.25 1.25 0 1 1-.001 2.5 1.25 1.25 0 0 1 0-2.5zM19.17 17a8.695 8.695 0 0 0 1.58-5c0-3.23-1.764-6.05-4.375-7.566A8.698 8.698 0 0 0 12 3.25a8.69 8.69 0 0 0-4.375 1.184C5.014 5.95 3.25 8.77 3.25 12c0 1.859.586 3.581 1.579 5 1.583 2.264 4.205 3.75 7.171 3.75 2.965 0 5.586-1.486 7.17-3.75z",fillRule:"evenodd"}))};J.defaultProps={name:"Sad"};var ee=J,te=(n(2148),function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={isGifReady:!1,isGifError:!1},n.renderLoadStatus=function(){var e=n.state.isGifError;return Object(h.b)("div",{className:"CommentSticker-load"},e?Object(h.b)(v.a.Fragment,null,Object(h.b)(ee,{className:"CommentSticker-load-Icons"}),"加载失败"):Object(h.b)(v.a.Fragment,null,Object(h.b)($.a,{className:"CommentSticker-load-Icons"}),"加载中"))};var r=n.props.src;return Object(X.loadImage)(Object(X.imgUrl)(r)).then(function(){n.setState({isGifReady:!0})}).catch(function(){n.setState({isGifError:!0})}),n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.isGifReady,t=this.props,n=t.src,r=t.handleStickerClick;return Object(h.b)("div",{className:"CommentSticker"},e?Object(h.b)("img",{src:n,className:"CommentSticker-img",onClick:r}):this.renderLoadStatus())}}]),t}(v.a.Component));te.propsTypes={handleStickerClick:y.a.func};var ne=te,re=(n(2149),function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).handleOnRef=function(e){var t=n.props.onRef;t&&t(e)},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.sticker,r=e.stickers,a=e.disableButton,o=e.handleStickerPopoverOpen,i=e.handleStickerPopoverClose,s=e.resetStickers,c=e.addSticker,l=e.handleEmotionClick;return Object(h.b)(R.a,{className:t,arrowed:!0,ref:this.handleOnRef,globalClose:!n.length,preventCloseOnTarget:!0,onClick:l,onOpen:o,onClose:i,toggler:Object(h.b)(M.a,{label:"插入表情",icon:$.a,disabled:a}),placement:"bottom"},Boolean(n.length)&&Object(h.b)("li",{className:"StickerPopover-stickers-item StickerPopover-stickers-item-single"},Object(h.b)("img",{src:Object(X.imgUrl)(n[0].url),alt:n[0].title}),Object(h.b)("div",{className:"closeButton",onClick:s},Object(h.b)(B.a,null))),!n.length&&Object(h.b)("div",{className:"StickerPopover-stickers-wrap"},Object(h.b)("ul",{className:"StickerPopover-stickers-list"},r.map(function(e){var t=e.url,n=e.title,r=e.id;return Object(h.b)("li",{className:"StickerPopover-stickers-item",key:r},Object(h.b)(ne,{width:48,height:48,src:t,handleStickerClick:function(){return c(e)}}),Object(h.b)("p",null,n))}))))}}]),t}(b.Component));re.propTypes={className:y.a.string,disableButton:y.a.bool},re.defaultProps={disableButton:!0};var ae=n(141);n(2150);function oe(e){var t=e.onClose,n=e.onSubmit,r=e.noBanner;return Object(h.b)(ae.b,{className:w()("CommentCheckModal-wrapper",r&&"CommentCheckModal--noBanner"),onClose:t},!r&&Object(h.b)("div",{className:"CommentCheckModal-image"}),Object(h.b)("div",{className:"CommentCheckModal-title"},"评论可能包含不友善内容"),Object(h.b)("div",{className:"CommentCheckModal-content"},"友善的交流是沟通的起点，请遵守知乎社区规范，认真友善发言"),Object(h.b)("div",{className:"CommentCheckModal-button"},Object(h.b)(E.c,{className:"CommentCheckModal-submit",onClick:n,preset:"primary"},"继续发布"),Object(h.b)(E.c,{className:"CommentCheckModal-modify",onClick:t,preset:"primary",color:"blue"},"返回修改")))}var ie,se,ce,le;n(2151);function ue(){var e=Object(s.a)(["回复","",""]);return ue=function(){return e},e}n.d(t,"a",function(){return de});var de=(ie=Object(j.connect)(function(e){return{stickers:e.commentsV2.stickers||[],commentWithPicPermission:e.commentsV2.commentWithPicPermission||{},autoCheckAb:Object(I.a)(e,"web_unfriendly_comm")}},{showNotification:q.h}),Object(O.withRouter)(se=ie((le=ce=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={active:!1,hasNoContent:!0,shown:!1,submitting:!1,value:{toHTML:K},images:[],uploadIsFetchingNum:0,sticker:[],stickerIconActive:!1,toggleInputStyle:!1,commentTextLength:0,showCommentCheckModal:!1},n.handleCheckClosed=function(){n.setState({showCommentCheckModal:!1}),n.trackCommentCheckClick("返回修改"),n.input.focus()},n.handleCommentCheck=function(){n.setState({showCommentCheckModal:!1}),n.handleSubmit(!1),n.trackCommentCheckClick("继续发布")},n.handleButtonSubmit=function(){n.handleSubmit(!0,"0"!==n.props.autoCheckAb)},n.handleSubmit=n.context.authRequired(function(e,t){return n.context.realNameRequired(function(){var r=n.props,a=r.replyTo,o=r.onSubmit,i=r.onCancel,s=r.rootCommentId,c=r.isConversation,l=r.zaInfo.zaSubmitCommentId;if(!n.state.submitting){n.setState({submitting:!0});var u=n.state,d=u.images,p=u.sticker,f=n.input.toHTML();if(f||d.length||p.length){f&&n.saveLocalComment();var h=f;if(d.length||p.length){var b=d[0]||p[0],v=d[0]?d[0].url.includes(".gif")?"comment_gif":"comment_img":"comment_sticker";h+='<a class="'.concat(v,"\" href='").concat(b.url,"' data-width='").concat(b.dataRawwidth||"","' data-height='").concat(b.dataRawheight||"","'>[").concat(b.title||"图片","]</a>")}var g=o(h,a,{rootCommentId:s,isConversation:c},e,t);g.then?g.then(function(){i&&i(),n.input?(n.input.reset(),n.resetImage(),n.setState({value:{toHTML:K}},function(){return n.saveLocalComment()})):n.saveLocalComment({toHTML:K})}).catch(function(e){40313===e.payload.code&&n.setState({showCommentCheckModal:!0})}).finally(function(){n.setState({submitting:!1})}):(n.setState({submitting:!1}),i&&i(),n.input.reset()),k.default.trackEvent(Object(m.default)(n),Object.assign({action:"Comment",element:"Button"},l&&{id:l}))}}})()},void 0,q.b),n.handleCommentShow=n.context.authRequired(function(){n.setState({shown:!0}),n.hiddenInput.focus()}),n.handleCommentHide=function(){n.setState({shown:!1})},n.initLocalComment=function(){var e=n.props,t=e.type,r=e.id;if(t&&r){var a=A.a.get(U)||[],o="".concat(t,"_").concat(r),i=a.find(function(e){return e.key===o}),s=i&&i.value;s&&n.setState({value:{toHTML:function(){return s}},hasNoContent:!1})}},n.saveLocalComment=function(e){var t=n.props,r=t.type,a=t.id;if(r&&a){var o=e?e.toHTML():n.state.value.toHTML(),i="".concat(r,"_").concat(a),s=(A.a.get(U)||[]).filter(function(e){return e.key!==i}),l=o?[].concat(Object(c.a)(s.slice(0,H-1)),[{key:i,value:o}]):s;A.a.set(U,l)}},n.handleChange=function(e){var t=n.state,r=t.sticker,a=t.images;r.length||a.length?n.setState({value:e}):n.setState({value:e,hasNoContent:e.isEmpty}),n.handleInputChange()},n.handleFocus=function(){n.setState({active:!0},n.handleInputChange)},n.handleBlur=function(){var e=n.state,t=e.sticker,r=e.images;t.length||r.length||(n.setState({active:!1}),n.handleInputChange())},n.handleMobileComment=function(){n.handleSubmit(),n.handleCommentHide()},n.handleEmotionClick=function(){var e=n.state.stickerIconActive;e&&n.setState({stickerIconActive:e},n.stickerPopover.close)},n.handleInputChange=function(){var e,t=Object(C.findDOMNode)(n.input);t&&(t.getBoundingClientRect().height>40?n.setState({toggleInputStyle:!0}):n.setState({toggleInputStyle:!1}),e="innerText"in document?t.innerText.length:t.textContent.length,n.setState({commentTextLength:e}),n.imgUploadPopover&&n.imgUploadPopover.position(),n.stickerPopover&&n.stickerPopover.position())},n.handleStickerPopoverOpen=function(){n.setState({active:!0,stickerIconActive:!0},n.stickerPopover.position),setTimeout(n.stickerPopover.position,400)},n.handleStickerPopoverClose=function(){n.setState({stickerIconActive:!1})},n.handleImages=function(e){n.setState({images:e},n.imgUploadPopover.position)},n.handleInputActive=function(e){n.setState({active:e})},n.updatePublishStatus=function(e){n.setState({hasNoContent:e})},n.resetStickers=function(){var e=n.state.value,t=void 0===e.isEmpty||e.isEmpty;n.stickerPopover&&n.stickerPopover.close(),n.setState({sticker:[],hasNoContent:t})},n.resetImage=function(){n.resetStickers(),n.resetUploadImg()},n.resetUploadImg=function(){var e=n.state.value,t=void 0===e.isEmpty||e.isEmpty;n.imgUploadPopover&&n.imgUploadPopover.close(),n.setState({images:[],hasNoContent:t})},n.addSticker=function(e){n.setState({sticker:[e],hasNoContent:!1},n.stickerPopover.position)},n.focusInput=function(e){e.preventDefault(),n.input.focus()},n.createImageOnRef=function(e){n.imgUploadPopover=e},n.createStickerOnRef=function(e){n.stickerPopover=e},n.renderInput=function(e){var t=e.placeholder,r=e.className,a=n.props,o=a.autoFocus,i=a.stickers,s=a.commentWithPicPermission.commentWithPic,c=n.state,l=c.images,u=c.sticker,d=c.stickerIconActive,p=c.toggleInputStyle,m=c.active,f=c.hasNoContent,b=c.commentTextLength,v=Boolean(u.length)||Boolean(l.length);return Object(h.b)("div",{className:w()("CommentEditorV2-inputWrap",{"CommentEditorV2-inputWrap--change":p,"CommentEditorV2-inputWrap--active":m||!f}),onClick:function(e){e.nativeEvent.stopImmediatePropagation()}},Object(h.b)(T.c,{keyMap:{FOCUS_COMMENT_INPUT:"shift+c"},handlers:{FOCUS_COMMENT_INPUT:n.focusInput}}),Object(h.b)(P.a,{className:w()("CommentEditorV2-input",r),defaultValue:n.state.value.toHTML(),allowMention:!0,allowPasteRichText:!1,autoFocus:o,outputBlockType:"div",ref:function(e){n.input=e},placeholder:t,onFocus:n.handleFocus,onChange:n.handleChange,onSubmit:n.handleButtonSubmit,minRows:5}),Object(h.b)("div",{className:w()("CommentEditorV2-inputUpload",{"CommentEditorV2-inputUpload--FlexEnd":p,"CommentEditorV2-inputUpload--SpaceBetween":p&&b>G})},p&&b>G&&Object(h.b)(L.a,{className:"CommentEditorV2-MaxLength",current:b,max:W}),Object(h.b)("div",{className:"CommentEditorV2-popoverWrap"},s&&Object(h.b)(Z,{onRef:n.createImageOnRef,images:l,disableButton:v,resetUploadImg:n.resetUploadImg,handleInputActive:n.handleInputActive,updatePublishStatus:n.updatePublishStatus,handleImages:n.handleImages}),Object(h.b)(re,{className:w()("CommentEditorV2-inputUpLoad-Icon",{"CommentEditorV2-inputUpLoad-Icon--active":d&&!u.length}),onRef:n.createStickerOnRef,disableButton:v,handleEmotionClick:n.handleEmotionClick,handleStickerPopoverOpen:n.handleStickerPopoverOpen,handleStickerPopoverClose:n.handleStickerPopoverClose,stickerIconActive:d,sticker:u,stickers:i,resetStickers:n.resetStickers,addSticker:n.addSticker}))))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"trackCommentCheckClick",value:function(e){var t=this.props.autoCheckAb;k.default.trackEvent(null,{id:7497,action:"Click",path:[{module_name:"1"===t?"图文弹窗":"文字弹窗"}]},{button:{text:e}})}},{key:"componentDidMount",value:function(){this.initLocalComment(),document.addEventListener("click",this.handleBlur)}},{key:"componentWillUnmount",value:function(){this.saveLocalComment(),document.removeEventListener("click",this.handleBlur)}},{key:"render",value:function(){var e=this.props,t=e.replyTo,n=e.commentNeedsReview,r=e.className,a=e.ownerAuthorIsOrg,o=e.ownerAuthorIsBrand,s=e.autoCheckAb,c=this.state,l=c.active,u=c.hasNoContent,d=c.submitting,p=c.showCommentCheckModal,m=a?"机构":"作者",f={preset:"primary",color:"blue",children:"发布",disabled:u||d};if(t&&t.author){var b=S()(ue(),t.author.member.name,n?"，评论由".concat(m,"筛选后公开"):"");return Object(h.b)("div",{className:w()(r,"CommentEditorV2--normal",{"CommentEditorV2--active":l||!u})},this.renderInput({placeholder:b}),Object(h.b)(E.c,Object(i.default)({},f,{className:"CommentEditorV2-singleButton",onClick:this.handleButtonSubmit})))}var v="写下你的评论...";return n&&(v=o?"已开启预审评论，评论由品牌筛选后公开":a?"已开启预审评论，评论由机构筛选后公开":"评论由作者筛选后显示"),Object(h.b)("div",null,Object(h.b)("div",{className:w()(r,"CommentEditorV2--normal",{"CommentEditorV2--active":l||!u})},this.renderInput({placeholder:v}),Object(h.b)(E.c,Object(i.default)({},f,{className:"CommentEditorV2-singleButton",onClick:this.handleButtonSubmit}))),p&&Object(h.b)(oe,{noBanner:"1"!==s,onClose:this.handleCheckClosed,onSubmit:this.handleCommentCheck}))}}]),t}(b.Component),ce.propTypes={className:y.a.string,defaultActive:y.a.bool,replyTo:y.a.object,inCommentItem:y.a.bool,commentNeedsReview:y.a.bool,canComment:y.a.object,onCancel:y.a.func,onSubmit:y.a.func.isRequired,zaInfo:y.a.object},ce.defaultProps={defaultActive:!1,replyTo:null,inCommentItem:!1,autoFocus:!0,ownerAuthorIsOrg:!1,ownerAuthorIsBrand:!1,zaInfo:{}},ce.contextTypes={authRequired:y.a.func,realNameRequired:y.a.func},se=le))||se)||se)},2132:function(e,t,n){"use strict";var r,a,o,i,s=n(17),c=n(4),l=n(8),u=n(7),d=n(5),p=n(6),m=n(0),f=n(1),h=n.n(f),b=n(3),v=n.n(b),g=n(20),y=n(26),C=n(22),O=n.n(C),j=n(228),_=n(16),w=n(2331),k=n(1569),x=n(1572),S=n(2397),N=n(2398),A=n(2198),E=n(1566),L=n(2210),I=n(2297),T=n(23),P=n(94),R=n(519),M=n(87),D=n(1736),F=n(164),B=n(192),z=n(2131),q=n(9),V=n(39),U=n(467),H=n(62),W=n(1658),G=(n(2152),function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={previewImg:null},n.handlePreview=function(e){var t=e.target,r=n.props.onPreviewImage;"function"==typeof r?r(e).catch(function(){n.setState({previewImg:t})}):n.setState({previewImg:t})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"mount",value:function(){var e=this;this.imagesGifNode=this.root.getElementsByClassName("comment_gif"),this.imagesNode=this.root.getElementsByClassName("comment_img"),this.imagesStickerNode=this.root.getElementsByClassName("comment_sticker"),this.imgNode=this.root.getElementsByClassName("origin_image zh-lightbox-thumb"),this.imagesNodes=Array.from([].concat(Object(q.a)(this.imagesGifNode),Object(q.a)(this.imagesNode),Object(q.a)(this.imagesStickerNode),Object(q.a)(this.imgNode))).map(function(t){var n=t.dataset||{},r=n.width,a=n.height,o=n.rawwidth,i=n.rawheight,s=Number(r||o),c=Number(a||i),l=document.createElement("div");l.className="Richtext-content_img",t.parentNode.replaceChild(l,t);var u=t.getAttribute("href")||t.getAttribute("src"),d=new Image,p=t.getAttribute("class");return"comment_sticker"!==p&&l.addEventListener("click",e.handlePreview),d.className=p,d.src=u,d.dataset.original=Object(H.imgUrl)(u,"r"),d.dataset.rawwidth=s,d.onload=function(){s===c||"comment_sticker"===p?l.classList.add("Richtext-content_img-square"):s>c?l.classList.add("Richtext-content_img-square--wideShape"):l.classList.add("Richtext-content_img-square--highShape"),l.appendChild(d)},l})}},{key:"unmount",value:function(){this.imagesNodes&&this.imagesNodes.forEach(function(e){Object(V.unmountComponentAtNode)(e)})}},{key:"componentDidMount",value:function(){this.mount()}},{key:"componentWillUpdate",value:function(e){this.props.html!==e.html&&this.unmount()}},{key:"componentDidUpdate",value:function(e){e.html!==this.props.html&&this.mount()}},{key:"componentWillUnmount",value:function(){this.unmount()}},{key:"render",value:function(){var e=this,t=this.state.previewImg,n=this.props,r=n.html,a=n.className;return Object(m.b)("div",{className:O()("CommentRichText",a),ref:function(t){return e.root=t}},Object(m.b)(W.a,{html:r}),t&&Object(m.b)(U.a,{className:"CommentRichText-ImageView",img:t,onClose:function(){return e.setState({previewImg:null})}}))}}]),t}(f.Component)),K=n(19);n(2153);n.d(t,"a",function(){return Y});var Y=(r=Object(g.connect)(function(e){return{isWechat:e.env.userAgent.Wechat,permission:Object(P.U)(e)}}),Object(y.withRouter)(a=r((i=o=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={reportModalShown:!1,isReplying:!1,guideShown:!1,deleteModal:!1},n.toggleReply=n.context.authRequired(function(){n.setState({isReplying:!n.state.isReplying})},void 0,T.b),n.openReportModal=n.context.authRequired(function(){n.setState({reportModalShown:!0})}),n.like=n.context.authRequired(function(e){var t=n.props;(0,t.onLike)(t.comment.id,e)},K.R.like,T.b),n.dislike=n.context.authRequired(function(){var e=n.props;(0,e.onDislike)(e.comment.id)},K.R.like,T.b),n.delete=function(){var e=n.props;return(0,e.onDelete)(e.comment.id)},n.feature=function(e){var t=n.props,r=t.onFeature,a=t.comment.id;r(e?"".concat(a,"_featured"):a)},n.collapse=function(){var e=n.props;(0,e.onCollapse)(e.comment.id)},n.approve=function(){var e=n.props;(0,e.onApprove)(e.comment.id)},n.reject=function(){var e=n.props;(0,e.onReject)(e.comment.id)},n.showConversation=function(e){var t=n.props;(0,t.onShowConversation)({commentId:t.comment.id,isAnchorComments:e})},n.stopReply=function(){n.setState({isReplying:!1})},n.closeReportModal=function(e){if(e){var t=e.result.payload,r=t&&t.message||t&&t.code&&"举报失败";e.commentDeleteResult&&!(e.commentDeleteResult.payload||{}).code?D.b.showModal({reportText:r}):Object(M.b)(r||"举报成功")}n.setState({reportModalShown:!1})},n.handleToggleGuide=function(){n.setState({guideShown:!n.state.guideShown})},n.handleCloseDelete=function(){return n.setState({deleteModal:!1})},n.handleDelete=function(){return n.setState({deleteModal:!0})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderRoleInfo",value:function(e,t){return"normal"===e?null:Object(m.b)("span",{className:"CommentItemV2-roleInfo"},"ancestor"===e||"author"===e&&"question"===t?" (提问者) ":" (作者) ")}},{key:"renderReplyTo",value:function(){var e=this.props.comment,t=e.replyToAuthor,n=e.resourceType;if(!t)return null;var r=t.member,a=void 0===r?{}:r,o=t.role;return Object(m.b)(h.a.Fragment,null,Object(m.b)("span",{className:"CommentItemV2-reply"},"回复"),Object(m.b)(B.a,{noBadge:!0,noHoverCard:!0,user:a}),this.renderRoleInfo(o,n))}},{key:"renderItem",value:function(){var e,t=this,n=this.props,r=n.isConversation,a=n.ownerAuthorIsOrg,o=n.parent,i=o.canComment,c=(i=void 0===i?{status:!0}:i).status,l=o.questionType,u=n.commentNeedsReview,d=n.comment,p=n.onReply,f=n.status,b=n.type,v=n.canOperate,g=n.commentPattern,y=n.rootCommentId,C=n.byComment,T=n.isReverseAndStatusOpen,P=n.hasRecommend,M=n.permission.canBrandAdminEdit,q=n.showCollapsed,V=this.state,U=V.reportModalShown,H=V.isReplying,W=d.id,K=d.author,Y=d.content,Z=d.voteCount,X=d.replyToAuthor,$=d.isAuthor,Q=d.createdTime,J=d.featured,ee=d.voting,te=d.reviewing,ne=d.disliked,re=d.resourceType,ae=d.childCommentCount,oe=d.allowDelete,ie=d.allowVote,se=d.canRecommend,ce=d.canCollapse,le=d.collapsedReason,ue=void 0===le?"":le,de=d.isDelete,pe=d.collapsed,me=pe&&!q,fe=me?"该评论已被折叠":de?function(e){var t=e.content,n=e.deleteReason;if(n){var r=JSON.stringify({button:{text:String(n.reasonId)}}).replace(/"/g,"&quot;");return'<a href="'.concat(n.url,'" target="_blank" data-za-detail-view-id="7641" data-za-extra="').concat(r,'">').concat(n.tip,"</a>")}return t}(d):Y,he=de||me,be=K||{},ve=be.member,ge=be.role,ye=Boolean(X),Ce=J&&(ae>0||ye)&&!r||C&&ye||T&&ye,Oe=$||oe&&("question"!==b||"commercial"===l),je=Object(m.b)("div",{className:"CommentItemV2-footer"},Object(m.b)(_.c,{className:O()("CommentItemV2-likeBtn",ee&&"is-liked"),preset:"plain",onClick:this.like,disabled:$||!c},Object(m.b)(w.a,{style:{marginRight:5},center:!0,size:16}),Z>0?Z:"赞"),pe&&ue&&Object(m.b)("div",{className:"CommentItemV2-walleTag"},"阴阳怪气自动折叠"===ue&&Object(m.b)(k.a,{size:16,className:"CommentItemV2-walleIcon"}),ue),Ce&&Object(m.b)(_.c,{preset:"plain",className:"CommentItemV2-talkBtn",onClick:function(){return t.showConversation(ye)}},Object(m.b)(x.a,{style:{marginRight:5},center:!0,size:16}),"查看回复"),!$&&c&&!pe&&Object(m.b)(_.c,{preset:"plain",className:O()({"CommentItemV2-hoverBtn":!H}),onClick:this.toggleReply},Object(m.b)(S.a,{style:{marginRight:5},center:!0,size:16}),H?"取消回复":"回复"),se&&!P&&v&&Object(m.b)(_.c,{className:O()({"CommentItemV2-hoverBtn":!$&&!H}),preset:"plain",onClick:function(){return t.feature(J)}},Object(m.b)(N.a,{style:{marginRight:5},center:!0,size:16}),J?"取消推荐":"推荐"),ce&&!$&&Object(m.b)(_.c,{className:O()({"CommentItemV2-hoverBtn":!$&&!H}),preset:"plain",onClick:this.collapse},Object(m.b)(A.a,{style:{marginRight:5},center:!0,size:14}),pe?"取消折叠":"折叠"),ie&&!$&&v&&Object(m.b)(_.c,{className:O()({"CommentItemV2-hoverBtn":!H}),preset:"plain",onClick:this.dislike,disabled:!c},Object(m.b)(w.a,{style:{transform:"rotate(180deg)",marginRight:5},size:16,center:!0}),ne?"取消踩":"踩"),$||Object(m.b)(h.a.Fragment,null,Object(m.b)(_.c,{className:"CommentItemV2-hoverBtn",preset:"plain",onClick:this.openReportModal},Object(m.b)(E.a,{style:{marginRight:5},center:!0,size:16}),"举报"),"question"===b&&"commercial"===l&&M&&Object(m.b)(_.c,{className:"CommentItemV2-hoverBtn",preset:"plain",onClick:this.reject},Object(m.b)(A.a,{style:{marginRight:5},center:!0,size:16}),"隐藏")),Oe&&Object(m.b)(_.c,{className:O()({"CommentItemV2-hoverBtn":!$&&!H&&!H}),preset:"plain",onClick:this.handleDelete},Object(m.b)(L.a,{style:{marginRight:5},center:!0,size:16}),"删除"),Object(m.b)(D.a,{shown:this.state.deleteModal,id:W,onDelete:this.delete,onClose:this.handleCloseDelete}),Object(m.b)(F.a,Object(s.default)({type:"comment",urlToken:W,shown:U,onClose:this.closeReportModal},Oe&&{onDeleteComment:this.delete},{notification:{failure:R.a},zaEnabled:!0})));return e=H?Object(m.b)("div",null,je,Object(m.b)(z.a,{type:"comment",id:W,commentNeedsReview:u,className:"CommentItemV2-editor",defaultActive:!0,replyTo:d,onCancel:this.stopReply,onSubmit:p,rootCommentId:y,isConversation:r})):"reviewing"===f?Object(m.b)("div",{className:"CommentItemV2-footer"},Object(m.b)(_.c,{preset:"plain",onClick:this.approve},Object(m.b)(I.a,{style:{marginRight:5},center:!0,size:14}),"公开"),Object(m.b)(_.c,{className:"CommentItemV2-hoverBtn",preset:"plain",onClick:this.handleDelete},Object(m.b)(L.a,{style:{marginRight:5},center:!0,size:16}),"删除"),Object(m.b)(D.a,{shown:this.state.deleteModal,id:W,onDelete:this.delete,onClose:this.handleCloseDelete})):je,Object(m.b)("div",null,Object(m.b)("div",{className:"CommentItemV2-meta"},ve&&Object(m.b)(B.a,{className:"CommentItemV2-avatar",avatar:!0,noHoverCard:"fixed"===g,user:ve}),ve&&Object(m.b)(B.a,{noBadge:!0,noHoverCard:!0,user:ve}),this.renderRoleInfo(ge,re),this.renderReplyTo(),te&&Object(m.b)(A.a,{className:"CommentItemV2-reviewing","data-tooltip":"".concat(!1===a?"评论未公开，由作者筛选后显示":"已开启预审评论，评论由机构筛选后公开"),center:!0,size:14}),Object(m.b)("span",{className:"CommentItemV2-time"},Object(j.toRelativeString)(Q))),Object(m.b)("div",{className:"CommentItemV2-metaSibling"},Object(m.b)(G,{className:O()("CommentItemV2-content",{"CommentItemV2-shield":he}),html:fe}),!he&&e))}},{key:"render",value:function(){return this.renderItem()&&Object(m.b)("div",{className:"CommentItemV2",ref:this.props.onRef},this.renderItem())}}]),t}(f.Component),o.propTypes={comment:v.a.object.isRequired,parent:v.a.object.isRequired,commentNeedsReview:v.a.bool,type:v.a.string,isConversation:v.a.bool,onLike:v.a.func.isRequired,onShowConversation:v.a.func,onReply:v.a.func,onFeature:v.a.func,onDelete:v.a.func.isRequired,onCollapse:v.a.func,commentPattern:v.a.string,showCollapsed:v.a.bool},o.contextTypes={currentUser:v.a.object,authRequired:v.a.func},a=i))||a)||a)},2137:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M6 3.956v16.088C6 21.124 6.517 22 7.9 22c.326 0 .533-.087.896-.236L22 13.784c.571-.355 1.143-.87 1.143-1.784S22.57 10.571 22 10.216L8.796 2.236C8.433 2.087 8.226 2 7.9 2 6.514 2 6 2.876 6 3.956z"}))};i.defaultProps={name:"Play"},t.a=i},2141:function(e,t,n){},2142:function(e,t,n){},2143:function(e,t,n){e.exports=n.p+"assets/deleteComment.97d8abc0.gif"},2144:function(e,t,n){},2147:function(e,t,n){},2148:function(e,t,n){},2149:function(e,t,n){},2150:function(e,t,n){},2151:function(e,t,n){},2152:function(e,t,n){},2153:function(e,t,n){},2194:function(e,t,n){"use strict";var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(9),l=n(1),u=n(18),d=n.n(u),p=n(16),m=n(0),f=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).handleClick=function(){var e=n.props;(0,e.onSelect)(e.page)},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.isCurrent,r=e.className;return Object(m.b)(p.c,{preset:p.b.Plain,className:d()("PaginationButton",{"PaginationButton--current":n},r),onClick:this.handleClick,disabled:n},t)}}]),t}(l.Component),h=(n(2209),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from({length:t},function(t,n){return n+e})}),b=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.onSelect,r=t.className,a=t.clickCallback,o=this.props.current,i=this.props.total,s=a&&(e=a,function(){e.apply(void 0,arguments)})||n,l=function(e,t){var n="...";return t<=5?h(1,t):e>t-3?[1,n].concat(Object(c.a)(h(t-3,3)),[t]):e<=3?[1].concat(Object(c.a)(h(2,3)),[n,t]):[1,n].concat(Object(c.a)(h(e-Math.floor(1.5),3)),[n,t])}(o,i);return Object(m.b)("div",{className:d()("Pagination",r)},o>1&&o<=i&&Object(m.b)(f,{className:"PaginationButton-prev",onSelect:s,text:"上一页",page:o-1}),l.map(function(e,t){return"number"==typeof e?Object(m.b)(f,{onSelect:s,text:e,page:e,key:t,isCurrent:o===e}):Object(m.b)("button",{disabled:!0,key:t,className:"PaginationButton PaginationButton--ellipsis"},e)}),o>0&&o<i&&Object(m.b)(f,{className:"PaginationButton-next",onSelect:s,text:"下一页",page:o+1}))}}]),t}(l.Component);b.defaultProps={current:1,total:1,onSelect:function(){}},n.d(t,"a",function(){return b})},2198:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M17.007 11.504c0 .65-.13 1.26-.36 1.83l3 3.073S23 14.136 23 11.504C23 8.008 17.255 4 11.995 4c-1.4 0-2.741.25-3.982.701l2.161 2.16c.57-.23 1.18-.36 1.831-.36a5.004 5.004 0 0 1 5.002 5.003zM2.57 4.342l2.067 2.075C3.499 7.258 1 9.119 1 11.504c0 3.336 5.79 7.503 11.005 7.503 1.55 0 3.031-.3 4.382-.84l.42.42 2.125 2.118s.782.571 1.314 0-.074-1.305-.074-1.305L3.955 3.183s-.76-.742-1.385-.19c-.626.554 0 1.35 0 1.35zm4.963 4.96l1.55 1.552c-.05.21-.08.43-.08.65 0 1.66 1.341 3.001 3.002 3.001.22 0 .44-.03.65-.08l1.551 1.551c-.67.33-1.41.53-2.2.53a5.004 5.004 0 0 1-5.003-5.002c0-.79.2-1.53.53-2.201zm4.312-.78l3.151 3.152.02-.16c0-1.66-1.34-3.001-3.001-3.001l-.17.01z",opacity:".9",fillRule:"evenodd"}))};i.defaultProps={name:"EyeSlash"},t.a=i},2207:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M12 13L8.285 9.218a.758.758 0 0 0-1.064 0 .738.738 0 0 0 0 1.052l4.249 4.512a.758.758 0 0 0 1.064 0l4.246-4.512a.738.738 0 0 0 0-1.052.757.757 0 0 0-1.063 0L12.002 13z",fillRule:"evenodd"}))};i.defaultProps={name:"ArrowDown"},t.a=i},2209:function(e,t,n){},2210:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M16.464 4s.051-2-1.479-2H9C7.194 2 7.465 4 7.465 4H4.752c-2.57 0-2.09 3.5 0 3.5l1.213 13.027S5.965 22 7.475 22h8.987c1.502 0 1.502-1.473 1.502-1.473l1.2-13.027c2.34 0 2.563-3.5 0-3.5h-2.7zM8.936 18.5l-.581-9h1.802v9H8.936zm4.824 0v-9h1.801l-.61 9H13.76z",fillRule:"evenodd"}))};i.defaultProps={name:"Trash"},t.a=i},2297:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M1 11.5C1 15 7 19 12 19s11-4 11-7.5S17 4 12 4 1 8 1 11.5zm11 5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm-3-5c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z",fillRule:"evenodd"}))};i.defaultProps={name:"Eye"},t.a=i},2302:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.selectedKey,o=void 0===a?"selectedProps":a,i=n.dropedKey,s=void 0===i?"dropedProps":i;return Object.keys(e).reduce(function(n,a){var i=t.includes(a)?o:s;return Object.assign({},n,Object(r.a)({},i,Object.assign({},n[i],Object(r.a)({},a,e[a]))))},{})}},2328:function(e,t){e.exports={attributes:{width:"72px",height:"58px",viewBox:"0 0 72 58"},content:'<defs>         <path d="M0.00434937116,11.7604183 C0.0014585125,11.8367351 0,11.9134174 0,11.9904392 L0,52.0095608 C0,55.3137533 2.68603825,58 5.99943435,58 L66.0005656,58 C69.3089213,58 72,55.317989 72,52.0095608 L72,11.9904392 C72,8.68624675 69.3139617,6 66.0005656,6 L31.1520961,6 L30.2346555,3.7077864 C29.4154984,1.66113281 26.9585394,0 24.7478675,0 L6.18638069,0 C2.86742525,0 0.139552484,2.68348852 0.0902454792,5.99373937 L0.00434937116,11.7604183 Z" id="path-1"></path>         <mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="72" height="58" fill="white">             <use xlink:href="#path-1"></use>         </mask>     </defs>     <g id="空状态" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">         <g id="collection" transform="translate(-39.000000, -30.000000)" stroke="#E7EAF1">             <g transform="translate(39.000000, 30.000000)" id="Group-7">                 <g>                     <use id="Combined-Shape" mask="url(#mask-2)" stroke-width="6" xlink:href="#path-1"></use>                     <path d="M36.4126782,38.4800003 L30.2669271,41.2927815 C29.7656337,41.522213 29.4096881,41.2718295 29.4738593,40.716584 L30.2498317,34.0024302 L25.6755762,29.0266708 C25.3024658,28.6208107 25.4306014,28.2049135 25.9785012,28.0943637 L32.6038296,26.7575697 L35.9225353,20.8696 C36.1932338,20.3893332 36.6283715,20.3826781 36.9028211,20.8696 L40.2215268,26.7575697 L46.8468552,28.0943637 C47.3872665,28.2034026 47.5280608,28.6151866 47.1497802,29.0266708 L42.5755247,34.0024302 L43.3514971,40.716584 C43.4147912,41.2642406 43.0666691,41.5253922 42.5584293,41.2927815 L36.4126782,38.4800003 Z" id="Star" stroke-width="3"></path>                 </g>             </g>         </g>     </g>'}},2329:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M18 8c.1-3.308-2.592-6-5.9-6-3.308 0-6 2.692-6 6v2H5.002C4 10 4 11 4 11v9s0 2 2 2h12c2 0 2-1.97 2-1.97V11s0-1-1-1h-1V8zm-6-4c2.143.018 4.005 1.597 4 4v2H8V7.996C8.013 5.562 9.857 3.982 12 4z",fillRule:"evenodd"}))};i.defaultProps={name:"Lock"},t.a=i},2330:function(e,t,n){},2331:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z",fillRule:"evenodd"}))};i.defaultProps={name:"Like"},t.a=i},2372:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n(28),o=n(0),i=n(3),s=n.n(i),c=n(1),l=n(141),u=n(2302),d=function(e,t,n){return n&&void 0!==t&&(e||!t)},p=(n(1849),n(16)),m=n(46),f=n(65),h=n.n(f),b=n(102),v=n(475),g=function(e){var t,n=e.onBack,r=e.onSubmit,i=e.authRequired,s=e.isActive,l=e.editItem,u=void 0===l?{}:l,f=e.isDefaultPage,g="edit"===e.currentPage,y=Object(c.useState)(null===(t=u.isPublic)||void 0===t||t),C=Object(a.a)(y,2),O=C[0],j=C[1],_=Object(c.useState)(u.title||""),w=Object(a.a)(_,2),k=w[0],x=w[1],S=Object(c.useState)(u.description||""),N=Object(a.a)(S,2),A=N[0],E=N[1],L=!k||k.length>20||A.length>60,I=g&&!0===u.isPublic&&u.followerCount>0;return Object(o.b)("form",{className:"Favlists-content",onSubmit:function(e){if(e.preventDefault(),k){var t={title:k,description:A,isPublic:O};d(O,s,i)?i(r)(t):(r(t),n())}}},Object(o.b)("div",{className:"Favlists-addItems"},Object(o.b)("div",{className:"Favlists-addItem"},Object(o.b)(b.a,{className:"Favlists-titleInput",placeholder:"收藏标题",onChange:function(e){x(e.target.value)},value:k}),Object(o.b)("div",{className:"Favlists-inputTips"},Object(o.b)(v.a,{name:"收藏标题",current:k?k.length:0,max:20}))),Object(o.b)("div",{className:"Favlists-addItem"},Object(o.b)(b.a,{multiline:!0,className:"Favlists-descritionInput",placeholder:"收藏描述（可选）",onChange:function(e){E(e.target.value)},rows:5,value:A}),Object(o.b)("div",{className:"Favlists-inputTips"},Object(o.b)(v.a,{name:"收藏描述",current:A?A.length:0,max:60}))),Object(o.b)("div",{className:"Favlists-addItem"},Object(o.b)("label",{className:"Favlists-privacyOption"},Object(o.b)("input",{className:"Favlists-privacyOptionRadio",name:"isPublic",type:"radio",value:"true",checked:O,onChange:function(){return j(!0)}}),Object(o.b)("span",null,"公开"),Object(o.b)("span",{className:"Favlists-privacyOptionTips"},"有其他人关注此收藏夹时不可设置为私密")),Object(o.b)("label",{className:h()("Favlists-privacyOption",{"Favlists-privacyOption--privacyDisable":I})},Object(o.b)("input",{className:"Favlists-privacyOptionRadio",name:"isPublic",type:"radio",value:"false",checked:!O,onChange:function(){return j(!1)},disabled:I}),Object(o.b)("span",null,"私密"),Object(o.b)("span",{className:"Favlists-privacyOptionTips"},I?"当前有人在关注此收藏夹，无法设为隐私":"只有你自己可以查看这个收藏夹")))),Object(o.b)(m.a,{direction:"horizontal",className:""},n&&Object(o.b)(p.c,{onClick:n},f?"取消":"返回"),Object(o.b)(p.c,{color:"blue",preset:"primary",type:"submit",disabled:L},f?"确认":"确认创建")))};g.propTypes={onSubmit:s.a.func.isRequired,onBack:s.a.func,authRequired:s.a.func,isActive:s.a.bool,editItem:s.a.shape({type:s.a.oneOf(["collection"])}),currentPage:s.a.oneOf(["edit","add"]),isDefaultPage:s.a.bool};var y=g,C=(n(2328),n(4)),O=n(8),j=n(7),_=n(5),w=n(6),k=n(143),x=n(1737),S=n(21),N=n(2329),A=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(a)))).handleChange=function(){var e=n.props;(0,e.onChange)(e.id,n.props.checked)},n}return Object(w.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.zaEnabled,n=e.id;t&&S.default.setModule(this,{module:"CollectionItem"},{card:{card_type:"Content",content:{type:"Collection",token:String(n)}}})}},{key:"render",value:function(){var e=this.props,t=e.answerCount,n=e.title,a=e.isPublic,i=e.checked,s=void 0!==i&&i?{preset:"primary",color:"grey",children:"已收藏"}:{color:"blue",children:"收藏"};return Object(o.b)("div",{className:"Favlists-item"},Object(o.b)("div",{className:"Favlists-itemInner"},Object(o.b)("div",{className:"Favlists-itemName"},Object(o.b)("span",{className:"Favlists-itemNameText"},n),!1===a&&Object(o.b)("span",{className:"Favlists-itemIcon"},Object(o.b)(N.a,{size:16}))),Object(o.b)("div",{className:"Favlists-itemContent"},t," 条内容")),Object(o.b)(p.c,Object(r.default)({},s,{className:"Favlists-updateButton",onClick:this.handleChange})))}}]),t}(c.Component),E=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(j.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(a)))).items={},n.handleFavlistItemChange=function(e,t){S.default.trackEvent(n.items[e],{action:t?"UnCollect":"Collect",element:"Button",is_intent:!1}),n.props.onUpdate(e,t)},n}return Object(w.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.relations,a=t.items,i=t.isFetching,s=t.isDrained,c=t.onAdd,l=t.onLoad;return Object(o.b)("div",{className:"Favlists-content"},Object(o.b)(k.b,{isLocal:!0,isLoading:i,isDrained:s,onLoad:l,placeholder:Object(o.b)(x.a,{title:!0}),getContainer:function(e){return e},className:"Favlists-items"},a.map(function(t){return Object(o.b)(A,Object(r.default)({key:t.id,onChange:e.handleFavlistItemChange,checked:n[t.id]},t,{ref:function(n){e.items[t.id]=n}}))})),!a.length&&i||Object(o.b)("div",{className:"Favlists-actions"},Object(o.b)(p.c,{className:"Favlists-addButton",onClick:c,preset:"primary",color:"blue"},"创建收藏夹")))}}]),t}(c.Component);E.propTypes={isFetching:s.a.bool,relations:s.a.object,onUpdate:s.a.func.isRequired,onAdd:s.a.func.isRequired,onLoad:s.a.func.isRequired,items:s.a.array.isRequired,isDrained:s.a.bool,authRequired:s.a.func};var L=E,I=Object(c.forwardRef)(function(e,t){var n=e.currentPage,r=e.items,a=e.isFetching,i=e.isDrained,s=e.relations,c=e.handleUpdateFavList,l=e.onLoad,u=e.zaEnabled,d=e.handleAdd,f=e.handleCloseModal,h=e.onFavlistAdd,b=e.authRequired,v=e.isUserActive,g=e.defaultStatus,C=e.handleBack,O=e.hasFavlists,j=e.editItem,_=void 0===j?{}:j,w=e.onUpdateFavContent;if("list"===n)return O?Object(o.b)(L,{ref:t,items:r,isFetching:a,isDrained:i,relations:s,onAdd:d,onUpdate:c,onLoad:l,zaEnabled:u}):Object(o.b)(m.a,null,Object(o.b)(p.c,{preset:"primary",color:"blue",onClick:d},"创建收藏夹"),Object(o.b)(p.c,{onClick:f},"取消"));if(["add","edit"].includes(n)){var k=g===n;return Object(o.b)(y,{onSubmit:"add"===n?h:w,isActive:v,onBack:k?f:C,authRequired:b,editItem:_,currentPage:n,isDefaultPage:k})}return null});I.propTypes={currentPage:s.a.oneOf(["list","add","edit"]).isRequired,items:s.a.arrayOf(s.a.shape({type:s.a.oneOf(["collection"])})),isFetching:s.a.bool,isDrained:s.a.bool,relations:s.a.object,handleUpdateFavList:s.a.func,onLoad:s.a.func,zaEnabled:s.a.bool,handleAdd:s.a.func,handleCloseModal:s.a.func.isRequired,onFavlistAdd:s.a.func,authRequired:s.a.func,isUserActive:s.a.bool,defaultStatus:s.a.oneOf(["list","add","edit"]),handleBack:s.a.func,hasFavlists:s.a.bool,editItem:s.a.shape({type:s.a.oneOf(["collection"])}),onUpdateFavContent:s.a.func};var T=I,P=(n(2330),{list:{title:"添加收藏",tips:function(e){return e?"请选择你想添加的收藏夹":"你可以创建多个收藏夹，将答案分类收藏"}},add:{title:"创建新收藏夹"},edit:{title:"编辑收藏夹"}}),R=function(e){var t=e.shown,n=e.items,i=e.id,s=e.type,p=e.onFetchRelations,m=e.relations,f=e.onClose,h=e.isUserActive,b=e.authRequired,v=e.defaultStatus,g=e.onUpdateFav,y=e.isDrained,C=e.isFetching,O=e.onLoad,j=e.zaEnabled,_=e.onFavlistAdd,w=e.editItem,k=e.onUpdateFavContent,x=Object(c.useState)(v),S=Object(a.a)(x,2),N=S[0],A=S[1],E=Object(c.useRef)([]);Object(c.useEffect)(function(){if(p&&t&&n.length!==E.current.length){E.current=n;var e=(m?n.filter(function(e){return!m[e.id]}):n).map(function(e){return e.id});e.length&&p(i,s,e)}},[i,n,p,m,t,s]),Object(c.useEffect)(function(){"add"===N&&"list"===v&&E.current.length<n.length&&A("list")},[N,v,w,n]);var L=function(){f(),"list"===v&&A("list")},I=!(y&&!n.length),R=Object(u.a)(e,Object.keys(l.b.propTypes)).selectedProps,M=P[N],D=M.tips,F=M.title;return Object(o.b)(l.b,Object(r.default)({},R,{onClose:L,title:F,subtitle:D&&D(I),buttonGroupOnly:!I,className:"FavlistsModal",size:"large"}),t&&Object(o.b)(T,{currentPage:N,items:n,isFetching:C,isDrained:y,relations:m,handleUpdateFavList:function(e,t){var r=n.find(function(t){return t.id===e})||{},a=[e,i,s,r.isPublic];return!t&&d(r.isPublic,h,b)?b(g).apply(void 0,a):g.apply(void 0,a)},onLoad:O,zaEnabled:j,handleAdd:function(){return A("add")},handleCloseModal:L,onFavlistAdd:_,authRequired:b,isUserActive:h,defaultStatus:v,handleBack:function(){return A("list")},hasFavlists:I,editItem:w,onUpdateFavContent:k}))};R.propTypes={id:s.a.oneOfType([s.a.string,s.a.number]),type:s.a.oneOf(["answer","article","pin","zvideo"]),relations:s.a.object,onUpdateFav:s.a.func,onFavlistAdd:s.a.func,onFetchRelations:s.a.func,onClose:s.a.func.isRequired,shown:s.a.bool,zaEnabled:s.a.bool,authRequired:s.a.func,isUserActive:s.a.bool,defaultStatus:s.a.oneOf(["list","add","edit"]),onLoad:s.a.func,editItem:s.a.shape({type:s.a.oneOf(["collection"])}),onUpdateFavContent:s.a.func},R.defaultProps={defaultStatus:"list",relations:{},authRequired:function(e){return e}};var M=R;n.d(t,"FavlistsModal",function(){return M})},2396:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M12 11l-3.716 3.782a.758.758 0 0 1-1.064 0 .738.738 0 0 1 0-1.052l4.249-4.512a.758.758 0 0 1 1.064 0l4.246 4.512a.738.738 0 0 1 0 1.052.757.757 0 0 1-1.063 0L12.002 11z",fillRule:"evenodd"}))};i.defaultProps={name:"ArrowUp"},t.a=i},2397:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M22.959 17.22c-1.686-3.552-5.128-8.062-11.636-8.65-.539-.053-1.376-.436-1.376-1.561V4.678c0-.521-.635-.915-1.116-.521L1.469 10.67a1.506 1.506 0 0 0-.1 2.08s6.99 6.818 7.443 7.114c.453.295 1.136.124 1.135-.501V17a1.525 1.525 0 0 1 1.532-1.466c1.186-.139 7.597-.077 10.33 2.396 0 0 .396.257.536.257.892 0 .614-.967.614-.967z",fillRule:"evenodd"}))};i.defaultProps={name:"Reply"},t.a=i},2398:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M6.433 14.285l-.918 5.355c-.219 1.274.532 1.82 1.676 1.218l4.81-2.528 4.807 2.528c1.145.601 1.896.056 1.677-1.218l-.918-5.355 3.89-3.792c.925-.903.64-1.785-.64-1.97l-2.843-.414c-.538.583-4.195 4.547-5.757 6.12-.865.822-1.572.015-1.572.015l-1.92-1.906s-.405-.623.213-1.204c.62-.58 1.174-.193 1.174-.193l1.32 1.14 4.008-4.34-2.404-4.872c-.572-1.159-1.5-1.159-2.072 0L8.56 7.741l-5.376.781c-1.279.186-1.566 1.068-.64 1.971l3.89 3.792z",fillRule:"evenodd"}))};i.defaultProps={name:"Recommend"},t.a=i},2463:function(e,t,n){"use strict";var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(0),l=n(1),u=n(3),d=n.n(u),p=n(22),m=n.n(p),f=n(197),h=n(16),b=n(260),v=n(1966),g=n(3233),y={normal:{text:"默认排序",value:"reverse"},reverse:{text:"时间排序",value:"normal"}},C=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={text:"时间排序",value:"normal"},n.switchType=function(e){var t=n.state.value,r=n.props.onOrderChange,a=y[t],o=a.text,i=a.value;n.setState({text:o,value:i}),r&&r(i,e)},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.state.text,t=this.props,n=t.isConversation,r=t.commentClosed;return t.shouldReverse?!n&&!r&&Object(c.b)(h.c,{preset:"plain",onClick:this.switchType,icon:g.a,label:"切换为".concat(e)}):null}}]),t}(l.Component);C.propTypes={isConversation:d.a.bool,commentClosed:d.a.bool,onOrderChange:d.a.func,shouldReverse:d.a.bool};var O=n(1994),j=(n(3552),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.commentPattern,n=e.onNavBack;return Object(c.b)("h2",{className:"CommentTopbar-title"},"bottom"!==t?Object(c.b)(h.c,{className:"CommentTopbar-back",preset:"plain",onClick:n},Object(c.b)(O.a,{text:!0,center:!0})," 返回评论"):Object(c.b)("div",null,"查看对话"))}}]),t}(l.Component));j.propTypes={commentPattern:d.a.string,onNavBack:d.a.func};n(3553);n.d(t,"a",function(){return _});var _=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).renderTopBarSwitch=function(){var e=n.props,t=e.isMobile,r=e.status,a=e.isConversation,o=e.commentCount,i=e.onOrderChange,s=e.commentClosed,l=e.shouldReverse;return!t&&Boolean(o&&!s)&&"reviewing"!==r&&Object(c.b)(C,{isConversation:a,onOrderChange:i,commentClosed:s,shouldReverse:l})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"renderTitle",value:function(){var e=this.props,t=e.commentCount,n=e.commentClosed,r=e.isConversation,a=e.onNavBack,o=e.targetLink,i=e.isCommentReviewer,s=e.reviewingCounts,u=e.onStatusChange,d=e.status,p=e.commentPattern,v=e.isOrg,g=e.isMobile;return r?Object(c.b)(j,{commentPattern:p,onNavBack:a}):i&&!n?Object(c.b)("div",{className:"CommentTopbar-tabsWrapper"},Object(c.b)(f.b,{className:"CommentTopbar-tabs"},Object(c.b)(f.a,{className:"CommentTopbar-tab","aria-controls":"CommentTopbar-open",meta:Object(b.formatNumber)(t)},Object(c.b)(h.c,{className:m()("CommentTopbar-tabButton",{"is-active":"open"===d}),onClick:function(){return u("open")}},"公开评论")),!g&&Object(c.b)(f.a,{className:"CommentTopbar-tab","aria-controls":"CommentTopbar-reviewing",meta:void 0===s?null:Object(b.formatNumber)(s)},Object(c.b)(h.c,{className:m()("CommentTopbar-tabButton",{"is-active":"reviewing"===d}),onClick:function(){return u("reviewing")}},"待".concat(v?"审核":"筛选","评论")))),o):Object(c.b)(l.Fragment,null,Object(c.b)("h2",{className:"CommentTopbar-title"},t&&!n?"".concat(Object(b.formatNumber)(t)," 条评论"):"还没有评论",o))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.onRef,r=e.isMobile;return Object(c.b)(v.a,{className:m()("CommentTopbar",t),onRef:n,header:this.renderTitle(),options:this.renderTopBarSwitch(),showOptions:!r})}}]),t}(l.Component);_.propTypes={commentCount:d.a.oneOfType([d.a.number,d.a.string]),isConversation:d.a.bool,onNavBack:d.a.func,isCommentReviewer:d.a.bool,onStatusChange:d.a.func,onOrderChange:d.a.func,status:d.a.string,reviewingCounts:d.a.oneOfType([d.a.number,d.a.string]),targetLink:d.a.node,commentClosed:d.a.bool,commentPattern:d.a.string,isOrg:d.a.bool,isMobile:d.a.bool,options:d.a.element,shouldReverse:d.a.bool},_.defaultProps={shouldReverse:!0}},2618:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-2.762-5.37c.243.246.452.37.78.37.33 0 .576-.203.827-.443.25-.24 7.052-7.054 7.052-7.054a.988.988 0 0 0-.311-1.354.973.973 0 0 0-1.345.315l-6.222 6.077-2.31-2.418a.971.971 0 0 0-1.368-.19.988.988 0 0 0-.188 1.377s2.841 3.074 3.085 3.32z",fillRule:"evenodd"}))};i.defaultProps={name:"CheckCircle"},t.a=i},2689:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(0),l=n(1),u=n(163),d=(n(3551),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.onRef;return Object(c.b)("div",{className:"Comments-pattern-loading",ref:e},Object(c.b)(u.a,null))}}]),t}(l.PureComponent))},2690:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(28),a=n(0),o=n(1),i=n.n(o),s=n(1870),c=n(2396),l=n(162),u=n.n(l);n(3554);function d(e){var t=e.onClick,n=e.commentsElRef,o=i.a.useState(!1),l=Object(r.a)(o,2),d=l[0],p=l[1],m=i.a.useState(0),f=Object(r.a)(m,2),h=f[0],b=f[1];return i.a.useEffect(function(){var e=n.current;if(e){var t=e.getBoundingClientRect().right;b(t-16)}},[n]),i.a.useEffect(function(){var e=u()(function(){var e=n.current;if(e){var t=window.innerHeight,r=e.getBoundingClientRect(),a=r.top,o=r.bottom,i=r.height;p(i>500&&o>t&&a<0)}},100);return window.addEventListener("scroll",e),function(){e.cancel(),window.removeEventListener("scroll",e)}},[n]),Object(s.d)(d,null,{from:{opacity:0,left:h},enter:{opacity:1,left:h},leave:{opacity:0,left:h}}).map(function(e){var n=e.item,r=e.key,o=e.props;return n&&Object(a.b)(s.a.button,{key:r,style:o,onClick:t,className:"CommentCollapseButton"},"收起评论",Object(a.b)(c.a,{center:!0}))})}},3233:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(15),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M13.004 7V4.232c0-.405.35-.733.781-.733.183 0 .36.06.501.17l6.437 5.033c.331.26.376.722.1 1.033a.803.803 0 0 1-.601.264H2.75a.75.75 0 0 1-.75-.75V7.75A.75.75 0 0 1 2.75 7h10.254zm-1.997 9.999v2.768c0 .405-.35.733-.782.733a.814.814 0 0 1-.5-.17l-6.437-5.034a.702.702 0 0 1-.1-1.032.803.803 0 0 1 .6-.264H21.25a.75.75 0 0 1 .75.75v1.499a.75.75 0 0 1-.75.75H11.007z",fillRule:"evenodd"}))};i.defaultProps={name:"Switch"},t.a=i},3549:function(e,t,n){},3550:function(e,t,n){},3551:function(e,t,n){},3552:function(e,t,n){},3553:function(e,t,n){},3554:function(e,t,n){},3555:function(e,t,n){},3556:function(e,t,n){var r=n(808),a=n(273),o=n(503),i=Math.max,s=Math.min;e.exports=function(e,t,n){var c=null==e?0:e.length;if(!c)return-1;var l=c-1;return void 0!==n&&(l=o(n),l=n<0?i(c+l,0):s(l,c-1)),r(e,a(t,3),l,!0)}},3557:function(e,t,n){},3558:function(e,t,n){},3559:function(e,t,n){},3560:function(e,t,n){},3561:function(e,t,n){},3562:function(e,t,n){},3563:function(e,t,n){},3564:function(e,t,n){},3565:function(e,t,n){},3566:function(e,t,n){},3567:function(e,t,n){},3610:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=r(n(101)),i=function(e){return a.default.createElement(o.default,Object.assign({width:"14",height:"16",viewBox:"0 0 18 18"},e),a.default.createElement("path",{fill:"#9FADC7",d:"M18 9h-5.5c-1.37 0-2.5 1.12-2.5 2.5 0 1.39 1.12 2.5 2.5 2.5H18v1.997A1.999 1.999 0 0 1 16.005 18H1.995A1.997 1.997 0 0 1 0 15.997V7.003C0 5.897.893 5 1.995 5h14.01C17.107 5 18 5.894 18 7.003V9zM4 4c.872-.374 1.696-.735 2.472-1.083.678-.294 1.35-.588 2.01-.882.663-.294 1.18-.52 1.55-.682.567-.254 1.072-.37 1.516-.35.444.02.765.03 1.126.19.36.16.703.633.857.793L15 4H4zm8.5 9a1.5 1.5 0 1 1 .001-3.001A1.5 1.5 0 0 1 12.5 13z",fillRule:"evenodd"}))};t.default=i},3611:function(e,t,n){"use strict";var r=n(100);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=r(n(101)),i=function(e){return a.default.createElement(o.default,Object.assign({width:"14",height:"16",viewBox:"0 0 18 18"},e),a.default.createElement("path",{fill:"#0C2",d:"M6.276 12.186a.6.6 0 0 1-.523-.31l-.04-.086-1.638-3.622a.301.301 0 0 1 .452-.369L6.46 9.185a.887.887 0 0 0 .8.092L16.35 5.2C14.722 3.265 12.038 2 9 2 4.03 2 0 5.383 0 9.556c0 2.277 1.212 4.326 3.11 5.712a.608.608 0 0 1 .22.685l-.406 1.524c-.02.07-.048.146-.048.22a.3.3 0 0 0 .3.303.335.335 0 0 0 .173-.056l1.97-1.146a.888.888 0 0 1 .742-.1c.92.266 1.91.414 2.938.414 4.97 0 9-3.383 9-7.556a6.573 6.573 0 0 0-1.025-3.5L6.612 12.08l-.066.04a.604.604 0 0 1-.27.064z",fillRule:"evenodd"}))};t.default=i},3612:function(e,t,n){},3613:function(e,t,n){},3614:function(e,t,n){},3615:function(e,t,n){},3625:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(0),l=n(1),u=n.n(l),d=n(22),p=n.n(d),m=n(463),f=n.n(m),h=n(21);n(557);var b=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).rootRef=u.a.createRef(),n.unobserve=f.a,n.renderTarget=function(){var e=n.props.item,t=e.content.target,r=t.text,a=t.link,o=e.id,i=e.target,s=e.target,l=(s=void 0===s?{}:s).id,u=s.target,d=void 0===u?{}:u,p=d.type;return i&&"comment"===i.type?n.renderCommentButton(r,{type:p,href:a,byComment:l,target:d,notificationId:o}):Object(c.b)("span",null,a?Object(c.b)("a",{href:a,"data-za-detail-view-id":5109},r):Object(c.b)("span",null,r))},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.addObserve,n=e.item.attachInfo,r=this.rootRef.current;h.default.setModule(r,{module:"Content"},{attached_info_bytes:n}),this.unobserve=t(r)}},{key:"componentWillUnmount",value:function(){this.unobserve()}},{key:"renderCommentButton",value:function(e,t){var n=this,r=t.href,a=t.byComment,o=t.notificationId;return Object(c.b)("a",{href:"".concat(r).concat(a?"#comment-".concat(a,"?notificationId=").concat(o):""),"data-za-detail-view-id":5109,onClick:function(e){e.preventDefault(),n.props.onCommentsModalOpen(t)}},e)}},{key:"render",value:function(){var e,t=this.props.item,n=t.content,r=n.verb,a=n.actors,o=t.isRead;return Object(c.b)("div",{ref:this.rootRef,className:p()("PushNotifications-item",{"PushNotifications-newItem":!o})},Object(c.b)("span",null,(e=a,Array.isArray(e)||(e=[e]),e.map(function(e,t){return Object(c.b)("span",{className:"PushNotifications-actor",key:t},e.link?Object(c.b)("a",{href:e.link,"data-za-detail-view-id":5109},e.name):Object(c.b)("span",null,e.name))})))," ",r," ",this.renderTarget())}}]),t}(l.Component);t.default=b},3638:function(e,t,n){"use strict";n.r(t);var r,a,o=n(17),i=n(25),s=n(2),c=n(4),l=n(8),u=n(7),d=n(5),p=n(6),m=n(0),f=n(3),h=n.n(f),b=n(1),v=n.n(b),g=n(21),y=n(141),C=n(65),O=n.n(C),j=n(1588),_=n(16),w=n(46),k=(n(3560),"oneself"),x="enterprise",S={declare:{title:"发表澄清声明",image:"https://zhstatic.zhihu.com/assets/report/Statement@3x.png",description:(r={},Object(s.a)(r,k,"个人可以对站内关于自身的不实描述内容发表澄清声明，声明通过审核后，将会以标记的形式显示在投诉内容的上方，点击可跳转至您的声明全文页面"),Object(s.a)(r,x,"企业可以对站内关于自身的不实描述内容发表澄清声明，声明通过审核后，将会以标记的形式显示在投诉内容的上方，点击可跳转至您的声明全文页面"),r)},trespass:{title:"提交侵权举报",image:"https://zhstatic.zhihu.com/assets/report/Infringement@3x.png",description:Object(m.b)("span",null,"您提交的侵权举报将会根据知乎侵权举报规范进行受理")}},N=(a={},Object(s.a)(a,x,"当您发现知乎上存在涉嫌侵犯您企业合法权益的内容时，您可以先尝试与作者沟通解决，如沟通无效，也可以通过以下方式向知乎提出诉求。"),Object(s.a)(a,k,"当您发现知乎上存在涉嫌侵犯您个人合法权益的内容时，您可以通过以下方式向知乎提出诉求。"),a),A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){g.default.trackEvent(e,{id:3467,aciton:"Click"})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){g.default.trackCardShow(null,{id:3466})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onSubMenuEnter,r=t.onBackClick,a=t.isMobile,o=t.childNodes,i=t.activeNode.reason,s=o.map(function(e){return Object.assign({},S[e.reason],{id:e.id})});return Object(m.b)("section",{className:O()("ReportInfringement",{"ReportInfringement--mobile":a})},Object(m.b)("p",{className:"ReportInfringement-subtitle"},N[i]),Object(m.b)("ul",{className:"ReportInfringement-list"},s.map(function(t){var r=t.image,a=t.title,o=t.description,s=t.id,c=o[i]||o;return Object(m.b)("li",{className:"ReportInfringement-item",key:a,"data-za-module":"Content","data-za-detail-view-path-module_name":a,onClick:function(t){e.handleClick(t.currentTarget),n(s)}},Object(m.b)("img",{className:"ReportInfringement-image",src:r}),Object(m.b)("div",{className:"ReportInfringement-content"},Object(m.b)("h1",{className:"ReportInfringement-itemTitle"},a),Object(m.b)("p",{className:"ReportInfringement-itemDescription"},c)),Object(m.b)(j.a,{className:"ReportInfringement-arrow"}))})),Object(m.b)(w.a,{direction:"horizontal"},Object(m.b)(_.c,{"data-za-module":"Content","data-za-detail-path-view-module_name":"返回",onClick:function(t){e.handleClick(t.currentTarget),r()}},"返回")))}}]),t}(v.a.Component),E=n(36),L=function(e){return"https://www.zhihu.com/account/infringement?".concat(Object(E.stringify)(e))};n(3561);function I(e){var t=e.infringementType;return Object(m.b)("p",{className:"ReportOrgContent"},"若您已注册机构号，可使用",Object(m.b)("span",{className:"ReportOrgContent-highlight"},"机构号"),"declare"===t?"发表澄清声明":"提交侵权举报","，",Object(m.b)("span",{className:"ReportOrgContent-highlight"},"免提交资质材料"),"。")}var T=n(63),P=function(e){return"".concat(window.location.origin,"/appview/account/infringement?").concat(Object(E.stringify)(e))};n(3562);function R(e){var t=e.isIndividualReason,n=e.onBackClick,r=e.urlToken,a=e.type;return Object(m.b)("div",{className:"InfringementReport-wrapper"},Object(m.b)("div",{className:"InfringementReport-title"},"提交侵权举报"),Object(m.b)("div",{className:"InfringementReport-subTitle"},"".concat(t?"个人侵权":"企业侵权")),Object(m.b)("div",{className:"InfringementReport-text"},Object(m.b)("ul",null,Object(m.b)("li",null,"根据"," ",Object(m.b)("a",{href:"https://www.zhihu.com/terms#sec-report",rel:"noopener noreferrer",target:"_blank",className:"InfringementReport-rules"},"知乎侵权举报规范"),"，您需按照提示提供完整、有效的证明材料，并规范填写投诉说明。若您已确认完毕，请继续提交举报信息。"),!t&&Object(m.b)("li",null,Object(m.b)("br",null),"若您已注册机构号，可使用",Object(m.b)("span",null,"机构号"),"提交侵权举报，",Object(m.b)("span",null,"免提交资质材料"),"。"))),Object(m.b)("div",{className:"InfringementReport-buttonGroup"},Object(m.b)(_.c,{className:"InfringementReport-back",onClick:n},"返回"),Object(m.b)(_.c,{className:"InfringementReport-submit",onClick:function(){T.default.dispatch("base/openURL",{url:P({resourceId:r,type:a,reasonType:t?"inflictIndividual":"enterprise",route_simi_to_full:!0,zh_nav_right:"empty"})})}},"继续提交举报")))}n(3563);function M(e){var t=e.infringementType,n=e.isIndividualReason,r=e.onBackClick,a=e.urlToken,o=e.type,i=e.isUseInfringementReport,s="declare"===t;return Object(m.b)("div",null,s?Object(m.b)("div",{className:"ReportInfringementMobile"},Object(m.b)("p",{className:"ReportInfringementMobile-text"},"1."," ","".concat(n?"个人":"企业","可以对站内关于自身的不实描述内容发表澄清声明，声明通过审核后，将会以标记的方式形式显示在投诉内容的上方，点击可跳转至您的声明全文。")),Object(m.b)("p",{className:"ReportInfringementMobile-text"},"2. 根据",Object(m.b)("a",{className:"ReportInfringementMobile-link",href:"https://www.zhihu.com/terms#sec-report",target:"_blank",rel:"noopener noreferrer"},"知乎侵权举报规范"),"，您需按照提示提供完整、有效的证明材料， 以发表澄清声明。 若您已确认完毕，",Object(m.b)("span",{className:"ReportInfringementMobile-bold"},"请到桌面版网页进行诉求提交。")),!n&&Object(m.b)("p",{className:"ReportInfringementMobile-text"},"若您已注册机构号，可使用机构号\n              '发表澄清声明' ，免提交资质材料。"),Object(m.b)("img",{className:"ReportInfringementMobile-img",src:"https://zhstatic.zhihu.com/report/app_report.png"}),Object(m.b)(_.c,{color:_.a.Blue,preset:_.b.Primary,onClick:r,className:"ReportInfringementMobile-button"},"我知道了")):i?Object(m.b)(R,{infringementType:t,isIndividualReason:n,onBackClick:r,urlToken:a,type:o}):Object(m.b)("div",{className:"ReportInfringementMobile"},Object(m.b)("p",{className:"ReportInfringementMobile-text"},"1. 您提交的侵权举报将会根据知乎侵权举报规范进行受理。"),Object(m.b)("p",{className:"ReportInfringementMobile-text"},"2. 根据",Object(m.b)("a",{className:"ReportInfringementMobile-link",href:"https://www.zhihu.com/terms#sec-report",target:"_blank",rel:"noopener noreferrer"},"知乎侵权举报规范"),"，您需按照提示提供完整、有效的证明材料， 并规范填写投诉说明。 若您已确认完毕，",Object(m.b)("span",{className:"ReportInfringementMobile-bold"},"请到桌面版网页进行诉求提交。")),!n&&Object(m.b)("p",{className:"ReportInfringementMobile-text"},"若您已注册机构号，可使用机构号".concat(s?"发表澄清声明":"提交侵权举报","，免提交资质材料。")),Object(m.b)("img",{className:"ReportInfringementMobile-img",src:"https://zhstatic.zhihu.com/report/app_report.png"}),Object(m.b)(_.c,{color:_.a.Blue,preset:_.b.Primary,onClick:r,className:"ReportInfringementMobile-button"},"我知道了")))}n(3564);var D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){g.default.trackEvent(null,{id:3469,action:"Click"},{button:{text:e}})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){g.default.trackCardShow(null,{id:3468})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onBackClick,r=t.urlToken,a=t.type,o=t.isMobile,i=t.parentNode,s=t.isUseInfringementReport,c=!("enterprise"===i.reason);return o?Object(m.b)(M,{isIndividualReason:c,infringementType:"declare",onBackClick:n,type:a,urlToken:r,isUseInfringementReport:s}):Object(m.b)("section",{className:"ReportDeclare"},Object(m.b)("div",{className:"ReportDeclare-description"},"当您发现知乎上有关于您",c?"个人":"企业","的侵权内容时，您可通过此方式发表澄清声明。",Object(m.b)("br",null),Object(m.b)("br",null),"申请发表澄清声明的流程如下：",Object(m.b)("ul",null,Object(m.b)("li",null,"1. 在站内写一篇",Object(m.b)("a",{href:"https://zhuanlan.zhihu.com/write",target:"_blank",rel:"noopener noreferrer",onClick:function(){return e.handleClick("澄清声明文章")}},"澄清声明文章"),"并发布。",Object(m.b)("a",{href:"https://zhstatic.zhihu.com/assets/report/template-v2.png",target:"_blank",rel:"noopener noreferrer",onClick:function(){return e.handleClick("查看模版")}},"查看模版"),Object(m.b)("br",null)),Object(m.b)("li",null,"2.返回此页面继续发表声明，您需按照提示提供完整、有效的证明材料。",Object(m.b)("br",null)),Object(m.b)("li",null,"3.审核通过后，侵权纠纷内容上会关联展示您的澄清声明，点击可跳转至您的声明全文。")),!c&&Object(m.b)(I,{infringementType:"declare"})),Object(m.b)(w.a,{direction:"horizontal"},Object(m.b)(_.c,{onClick:n},"返回"),Object(m.b)(_.c,{onClick:function(){return e.handleClick("继续发表声明")},component:"a",href:L({infringementType:"declare",resourceId:r,type:a,reasonType:c?"inflictIndividual":"enterprise"}),className:"ReportDeclare-continue",color:_.a.Blue,preset:_.b.Primary},"继续发表声明")))}}]),t}(v.a.Component),F=(n(3565),function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){g.default.trackEvent(null,{id:3510,aciton:"Click"},{button:{text:e}})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){g.default.trackCardShow(null,{id:3509})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onBackClick,r=t.urlToken,a=t.type,o=t.isMobile,i=t.parentNode,s=t.isUseInfringementReport,c=!("enterprise"===i.reason);return o?Object(m.b)(M,{isIndividualReason:c,infringementType:"trespass",onBackClick:n,urlToken:r,type:a,isUseInfringementReport:s}):Object(m.b)("section",{className:"ReportTrespass"},Object(m.b)("p",{className:"ReportTrespass-description"},"根据",Object(m.b)("a",{href:"https://www.zhihu.com/terms#sec-report",onClick:function(){e.handleClick("知乎侵权举报规范")}},"知乎侵权举报规范"),"，您需按照提示提供完整、有效的证明材料，并规范填写投诉说明。若您已确认完毕，请继续提交举报信息。"),!c&&Object(m.b)(I,{infringementType:"trespass"}),Object(m.b)(w.a,{direction:"horizontal"},Object(m.b)(_.c,{onClick:function(){e.handleClick("返回"),n()}},"返回"),Object(m.b)(_.c,{onClick:function(){e.handleClick("继续提交举报")},component:"a",href:L({resourceId:r,type:a,reasonType:c?"inflictIndividual":"enterprise"}),className:"ReportTrespass-continue",color:_.a.Blue,preset:_.b.Primary},"继续提交举报")))}}]),t}(v.a.Component)),B=[{id:0,text:"举报",childIds:[1,2,39,30001,4,5,21,7,8,9]},{id:1,text:"低质问题",types:["question","drama_statement"],childIds:[23,33,34,35,27,22]},{id:2,text:"垃圾广告信息",reason:"spam",copywriter:{title:"举报说明",placeholder:"举报详细说明",isRequired:!1},disabled:!0,des:"未经平台允许，知乎禁止使用帐号的任何功能，发布含有产品售卖信息、牟利性外链及违规推广等信息或引导用户至第三方平台进行交易。请在举报时简述理由，感谢你与我们共同维护社区的良好氛围。",url:"https://zhuanlan.zhihu.com/p/96916639"},{id:30001,reason:"abuse",text:"辱骂、人身攻击等不友善行为",types:["question","answer","article","pin","comment","zvideo","drama_bullet","favlist","book_review","discussion_review"],copywriter:{title:"举报说明",placeholder:"举报详细说明",isRequired:["zvideo","drama_bullet","book_review","discussion_review"]},disabled:!0,des:"知乎鼓励友善的讨论。请在举报时提供对人产生辱骂、人身攻击或冒犯的相关内容段落或其他信息。感谢你与我们共同维护知乎的讨论氛围。",url:"https://www.zhihu.com/question/20239684"},{id:4,text:"有害信息",childIds:[19,30,26,18,28]},{id:5,text:"涉嫌侵权",childIds:[20,29,12],types:["question","drama_statement","answer","comment","drama_bullet","article","pin","book_review"],reason:"infringement",disabled:!0},{id:7,text:"其他",reason:"old",copywriter:{title:"举报说明",placeholder:"举报详细说明"},disabled:!0,types:["message","book_review","discussion_review","drama_statement","drama_bullet"]},{id:8,reason:"direction",shouldShow:function(e){return e.isColumnArticle}},{id:9,reason:"tipjar",shouldShow:function(e){return e.isTipjarEnabled}},{id:12,reason:"enterprise",disabled:!0,customComponent:A,childIds:[48,49]},{id:17,reason:"spam"},{id:18,reason:"illegality",copywriter:{title:"举报说明",placeholder:"举报详细说明"},disabled:!0},{id:19,reason:"politics"},{id:20,reason:"repost",copywriter:{title:"不规范转载说明",placeholder:"原文链接或补充说明",maxLength:1e3},types:["answer","article","pin","book_review"],disabled:!0,des:"知乎鼓励对引用内容进行清晰的出处标注。请在举报时提供违规引用的内容链接或出处，感谢你与我们共同保护原创版权。",url:"https://www.zhihu.com/question/20258015/answer/72942383"},{id:21,reason:"temptation",copywriter:{title:"举报说明",placeholder:"举报详细说明"},disabled:!0,types:["answer","comment","drama_bullet","article","column","zvideo"],des:"知乎禁止通过各种方式比如利益诱导（赞同、反对、分享行为后对用户有奖励）、威胁逼迫等形式干预用户在知乎站内的赞同、关注等，影响内容在站内正常流通。请在举报时简述理由，感谢你与我们共同维护社区氛围。",url:"https://zhuanlan.zhihu.com/p/96927876"},{id:22,reason:"personal"},{id:23,reason:"ambiguity"},{id:26,reason:"suicide",types:["question","drama_statement","answer","article","pin","book_review","comment","drama_bullet","zvideo"]},{id:27,reason:"medicine"},{id:28,reason:"superstition"},{id:29,reason:"oneself",disabled:!0,customComponent:A,childIds:[46,47]},{id:30,reason:"porn"},{id:33,reason:"subjective",copywriter:{title:"包含主观判断",placeholder:"举报详细说明",isRequired:["drama_statement"]},des:"问题中包含提问者无根据或非常主观甚至包含争议的见解、结论或推测。请在举报时简述理由，感谢你与我们共同维护社区的良好氛围。",url:"https://www.zhihu.com/question/19806261"},{id:34,reason:"rumour",copywriter:{title:"缺乏可信来源",placeholder:"举报详细说明",isRequired:["drama_statement"]},des:"未提供可靠的信息来源，或提问前提属于谣言 / 存在事实错误。请在举报时简述理由或补充来源，感谢你与我们共同维护社区的良好氛围。",url:"https://www.zhihu.com/question/19806261"},{id:35,reason:"provoke",copywriter:{title:"引战争议等非真实问题",placeholder:"举报详细说明",isRequired:["drama_statement"]},des:"刻意引起群体或个人之间的对立、冲突、激化矛盾的问题。请在举报时简述理由，感谢你与我们共同维护社区的良好氛围。",url:"https://www.zhihu.com/question/19806261"},{id:39,text:"不实信息",types:["answer","comment","drama_bullet","article","pin","book_review","zvideo"],childIds:[42,43,44,45]},{id:40,reason:"abuse"},{id:41,reason:"unfriendly",copywriter:{title:"不规范转载说明",placeholder:"原文链接或补充说明",maxLength:1e3},disabled:!0,des:"知乎鼓励对引用内容进行清晰的出处标注。请在举报时提供违规引用的内容链接或出处，感谢你与我们共同保护原创版权。",url:"https://www.zhihu.com/question/20258015/answer/72942383"},{id:42,reason:"untruth_science",text:"科学类不实信息",copywriter:{title:"举报说明",placeholder:"举报详细说明"},disabled:!0,des:"知乎鼓励专业的回答，请在举报时提供内容中与当前学术共识或权威研究结论相左的错误或不准确部分，或通过权威资讯指出其中错误，感谢你的支持。",url:"https://zhuanlan.zhihu.com/p/96929600"},{id:43,reason:"untruth_rumor",text:"社会谣言类不实信息",copywriter:{title:"举报说明",placeholder:"举报详细说明"},disabled:!0,des:"为保证站内信息传播的客观真实，知乎会持续对社会谣言类不实信息进行处理。请在举报时提供政府机构、有关机构、权威媒体发布的辟谣信息或其他佐证，知乎将会核实处理，感谢你的支持。"},{id:44,reason:"untruth_fake_profile",text:"编造经历类不实信息",copywriter:{title:"举报说明",placeholder:"举报详细说明"},disabled:!0,types:["answer","drama_bullet","pin","book_review"],des:"知乎禁止对标榜真实经历的内容进行恶意夸大或过分虚构的行为。请在举报时提供被举报内容中编造经历的佐证，如事实错误、前后矛盾等相关内容段落或其他详细信息。感谢你与我们共同维护知乎真实的内容环境。"},{id:45,text:"诽谤等侵权信息",childIds:[20,29,12],types:["answer","comment","drama_bullet","article","pin","book_review"]},{id:46,customComponent:D,text:"发表澄清声明",reason:"declare",types:["answer","article","pin"],subtitle:"个人侵权"},{id:47,customComponent:F,text:"提交侵权举报",reason:"trespass",subtitle:"个人侵权"},{id:48,customComponent:D,text:"发表澄清声明",reason:"declare",types:["answer","article","pin"],subtitle:"企业侵权"},{id:49,customComponent:F,text:"提交侵权举报",reason:"trespass",subtitle:"企业侵权"}],z=[{id:0,text:"举报",childIds:[1,2,3,4]},{id:1,text:"垃圾广告信息",reason:"spam",copywriter:{title:"垃圾广告信息",placeholder:"举报详细说明",isRequired:!1},disabled:!0,des:"未经平台允许，知乎禁止使用帐号的任何功能发布含有产品售卖信息、牟利性外链及违规推广等信息或引导用户至第三方平台进行交易。请在举报时简述理由，感谢你与我们共同维护社区的良好氛围。"},{id:2,text:"辱骂、人身攻击等不友善行为",reason:"unkind",copywriter:{title:"辱骂、人身攻击等不友善行为",placeholder:"举报详细说明",isRequired:!1},disabled:!0,des:"知乎鼓励友善的讨论。请在举报时提供对人产生辱骂、人身攻击或冒犯的相关内容段落或其他信息。感谢你与我们共同维护知乎的讨论氛围。"},{id:3,text:"有害信息",reason:"imitation",disabled:!0,childIds:[19,30,26,18,28]},{id:19,reason:"politics"},{id:28,reason:"superstition"},{id:30,reason:"porn"},{id:26,reason:"suicide",types:["question","drama_statement","answer","article","pin","book_review","comment","drama_bullet","zvideo"]},{id:18,reason:"illegality",copywriter:{title:"举报说明",placeholder:"举报详细说明"},disabled:!0}],q=[{id:0,text:"举报",childIds:[1,2,3]},{id:1,reason:"abuse",copywriter:{title:"举报说明",placeholder:"举报详细说明",isRequired:!1},disabled:!0,des:"知乎鼓励友善的讨论。请在举报时提供对人产生辱骂、人身攻击或冒犯的相关内容段落或其他信息。感谢你与我们共同维护知乎的讨论氛围。",url:"https://www.zhihu.com/question/20239684"},{id:2,reason:"harassment",copywriter:{title:"举报说明",placeholder:"举报详细说明",isRequired:!1},disabled:!0,des:"存在冒犯、威胁、性骚扰等骚扰行为。"},{id:3,reason:"spam",copywriter:{title:"举报说明",placeholder:"举报详细说明",isRequired:!1},disabled:!0,des:"未经平台允许，知乎禁止使用帐号的任何功能发布含有产品售卖信息、牟利性外链及违规推广等信息或引导用户至第三方平台进行交易。请在举报时简述理由，感谢你与我们共同维护社区的良好氛围。",url:"https://zhuanlan.zhihu.com/p/96916639"}],V=[{id:0,text:"举报",childIds:[1,4,6,7]},{id:1,text:"冒充我或他人",childIds:[8,9],reason:"fake",disabled:!0},{id:4,reason:"spam",text:"垃圾广告帐号",copywriter:{title:"垃圾广告帐号",placeholder:"举报详细说明",isRequired:!1},disabled:!0,des:"未经平台允许，知乎禁止使用帐号的任何功能发布含有产品售卖信息、牟利性外链及违规推广等信息或引导用户至第三方平台进行交易。请在举报时简述理由，感谢你与我们共同维护社区的良好氛围。",url:"https://zhuanlan.zhihu.com/p/96916639"},{id:6,reason:"profile",copywriter:{title:"举报说明",placeholder:"举报详细说明"},disabled:!0,des:"用户名、头像、封面图、个人形象词包含联系方式；或高风险行业帐号的用户信息中包含联系方式；或用户名易与帐号使用状态、使用者身份产生混淆和误解。请在举报时简述原因，感谢你的支持。",url:"https://www.zhihu.com/question/19551824"},{id:8,text:"冒充我",subtitle:"请选择举报理由",reason:"oneself",disabled:!0,childIds:[10,11]},{id:9,reason:"impersonate",copywriter:{title:"举报说明",placeholder:"举报详细说明"},text:"冒充他人",disabled:!0},{id:10,reason:"oneself",disabled:!0,isRequired:!0,customComponent:A,childIds:[12]},{id:11,reason:"enterprise",disabled:!0,isRequired:!0,customComponent:A,childIds:[13]},{id:12,isRequired:!0,customComponent:F,text:"提交侵权举报",reason:"trespass",subtitle:"个人侵权"},{id:13,isRequired:!0,customComponent:F,text:"提交侵权举报",reason:"trespass",subtitle:"企业侵权"}],U=[{id:0,text:"举报",childIds:[2,3,4,5,14,15,16,17,18,700]},{id:2,reason:"abuse",text:"骚扰/辱骂/歧视等不友善行为"},{id:3,reason:"illegality",text:"发过违反法律法规的内容"},{id:4,reason:"spam",text:"垃圾广告帐号"},{id:5,reason:"politics",text:"发过政治敏感内容"},{id:14,reason:"minor"},{id:15,reason:"porn"},{id:16,reason:"uncivilized_behavior"},{id:17,reason:"suicide",text:"疑似自杀或自残"},{id:18,reason:"superstition"},{id:700,reason:"old",text:"其他",copywriter:{title:"举报说明",placeholder:"举报详细说明"},disabled:!0}],H=[{id:0,text:"举报",childIds:[1]},{id:1,reason:"profile"}],W=n(28),G=n(33),K=n(54),Y=n.n(K),Z=n(40),X=n(73),$=function(e,t){if(!t)return e;var n=e.split("#"),r=Object(W.a)(n,2),a=r[0],o=r[1],i=a+(a.includes("?")?"&":"?")+t;return o?i+"#"+o:i},Q=function(e,t){var n=Object(Z.isBrowser)()?Y()(window.navigator.userAgent):{};return function(r){var a=e.href,o=e.onClick;if(o&&o(r),!r.defaultPrevented&&n.ZhihuHybrid){r.preventDefault();var i=/^\w+:\/\//.test(a)?a:location.origin+a;T.default.dispatch("base/openURL",{url:$(i,t)})}}},J=Object(b.forwardRef)(function(e,t){var n=e.params,r=Object(i.a)(e,["params"]);return Object(m.b)(X.g,Object(o.default)({ref:t},r,{onClick:Q(r,n)}))}),ee=n(252),te=n(2618),ne=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleClick=e.handleClick.bind(Object(G.default)(e)),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.id,n=e.reason,r=e.disabled,a=e.onSubMenuEnter,o=e.onItemSelect,i=e.copywriter;n&&void 0===(null==i?void 0:i.isRequired)&&!r?o(t):a(t)}},{key:"render",value:function(){var e=this.props,t=e.reason,n=e.text,r=e.disabled,a=e.isSelected,o=e.id,i=e.copywriter,s=n||ee.b[t];return Boolean(t&&!i&&!r)?Object(m.b)("label",{className:"ReportMenu-item",htmlFor:t},Object(m.b)("div",{className:"ReportMenu-itemValue needsclick"},s),Object(m.b)("input",{className:"ReportMenu-itemCheck",type:"radio",name:"report",value:o,id:t,checked:a,onChange:this.handleClick}),Object(m.b)(te.a,{size:18,className:"ReportMenu-itemCheckIcon",name:"checkRound"})):Object(m.b)("button",{className:"ReportMenu-item",onClick:this.handleClick},Object(m.b)("span",{className:"ReportMenu-itemValue"},s),Object(m.b)(j.a,{size:18}))}}]),t}(b.Component);ne.propTypes={id:h.a.number.isRequired,reason:h.a.string,text:h.a.string,disabled:h.a.bool,isSelected:h.a.bool,onSubMenuEnter:h.a.func.isRequired,onItemSelect:h.a.func.isRequired};var re=n(102),ae=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.copywriter.placeholder,n=e.onDetailInput,r=e.errorText,a=e.checkCustomReasonContent,o=e.isCustomReasonRequired;return Object(m.b)("div",{className:"ReportMenu-inner"},Object(m.b)(re.a,{multiline:!0,grey:!0,rows:5,className:"ReportMenu-textarea",placeholder:"".concat(t,o?"（必填）":"（选填）"),onChange:function(e){return n(e.target.value)},onBlur:a}),Object(m.b)("div",{className:"ReportMenu-errorText"},r))}}]),t}(b.Component);ae.propTypes={onDetailInput:h.a.func.isRequired,copywriter:h.a.object,errorText:h.a.string};n(3566);var oe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.checked,n=e.onChange,r=e.name,a=e.text,o=e.desc,i=r||a;return Object(m.b)("div",null,Object(m.b)("label",{className:"ReportOption-check",htmlFor:i},Object(m.b)("input",{type:"checkbox",name:i,checked:t,onChange:n}),Object(m.b)("span",null,"同时",a)),o&&Object(m.b)("div",{className:"ReportOption-desc"},o))}}]),t}(b.Component),ie=function(e,t){var n=t&&t.maxLength;return e.length>(n||150)?{isLegal:!1,errorReason:n?"".concat(t.title||"举报说明","不能超过 ").concat(n," 字"):ee.a.contentTooLong}:/[\u4e00-\u9fa5a-zA-Z0-9]/.test(e)?{isLegal:!0,errorReason:""}:{isLegal:!1,errorReason:ee.a.contentIllegal}},se=(n(3567),function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={blockChecked:!1,commentChecked:!1,activeId:0,parentId:null,selectedId:null,errorText:"",isMobile:!1,isSubmiting:!1,isSubmited:!1,path:[]},n.menuItems={},n.getReportText=function(e){if(!e)return"";var t=n.props.nodes[e];return t&&(t.text||ee.b[t.reason])||""},n.getReportLevel=function(){return"第 ".concat(n.state.path.length+1," 级")},n.handleItemSelect=function(e){var t=n.selectedId===e?null:e;n.setState({selectedId:t});var r=n.props,a=r.zaEnabled,o=r.type;t&&a&&g.default.trackEvent(null,{action:"Select",element:"Menu",id:2883,name:n.getReportLevel()},{button:{text:n.getReportText(e)},report:{id:e,type:o}})},n.handleSubMenuEnter=function(e){n.setState(function(t){var n=t.activeId,r=t.path;return{activeId:e,parentId:n,selectedId:null,path:r.concat([e])}});var t=n.props,r=t.zaEnabled,a=t.type;r&&g.default.trackEvent(null,{action:"Expand",element:"Menu",id:2883,name:n.getReportLevel()},{button:{text:n.getReportText(e)},report:{id:e,type:a}})},n.hasEffectOfDeleteComment=function(){var e=n.props.nodes,t=n.state,r=t.parentId,a=t.activeId,o=e[r||a];return Boolean(o&&o.effects)&&o.effects.includes("delete_comment")},n.handleDetailInput=function(e){n.setState({customReason:e,errorText:""})},n.handleBackClick=function(){var e=n.props.nodes,t=n.state,r=t.parentId,a=t.path,o=Object.keys(e).find(function(t){var n=e[t].childIds;return n&&n.includes(r)});n.setState({activeId:r,parentId:o&&Number(o),selectedId:null,hasWarning:!1,customReason:"",errorText:"",path:a.slice(0,-1)});var i=n.props,s=i.zaEnabled,c=i.type;s&&g.default.trackEvent(null,{action:"Back",element:"Button",id:2884,name:n.getReportLevel()},{report:{id:n.state.activeId,type:c}})},n.handleSubmit=function(){var e=n.state,t=e.selectedId,r=e.customReason,a=e.activeId;if(n.isSubmitEnabled()&&n.checkCustomReasonContent()){var o=n.props,i=o.nodes,s=o.onSubmit,c=o.onDeleteComment,l=i[t||a],u=l.reason,d=l.id;n.setState({isSubmiting:!0});var p=s({reason:u,customReason:r});p&&p.then?p.then(n.submitEnd):n.submitEnd();var m=n.props,f=m.zaEnabled,h=m.type;if(f){var b=c&&n.hasEffectOfDeleteComment();g.default.trackEvent(null,{id:2885,name:n.getReportLevel(),action:"Click"},{report:{type:h},button:{text:n.getReportText(d)}}),g.default.trackEvent(Object(G.default)(n),Object.assign({action:"Report",element:"Button"},b&&{id:3039,name:u}),Object.assign({report:{id:d,type:h}},b&&{button:{text:n.state.commentChecked?"举报并删除":"仅举报"}}))}}},n.submitEnd=function(e){n.setState({isSubmiting:!1,isSubmited:!0});var t=n.state,r=t.blockChecked,a=t.commentChecked,o=n.props,i=o.onBlockUser,s=o.onDeleteComment,c=o.onEnd;Promise.all([r&&i&&i(),a&&s&&s()].map(function(e){return Promise.resolve(e).catch(function(e){return e})})).then(function(t){var n=Object(W.a)(t,2),r=n[0],a=n[1];c&&c({result:e,blockUserResult:r,commentDeleteResult:a})})},n.checkCustomReasonContent=function(){var e=n.state,t=e.activeId,r=e.customReason,a=n.props.nodes[t].copywriter;if(Boolean(a)&&r){var o=ie(r,a),i=o.isLegal,s=o.errorReason;if(!i)return n.setState({errorText:s}),!1}return!0},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.type,t=Y()(navigator.userAgent);this.setState({isMobile:t.Mobile}),g.default.trackCardShow(null,{id:2890},{button:{text:e}})}},{key:"componentWillUpdate",value:function(e,t){var n=this.state.activeId,r=t.activeId,a=this.props,o=a.nodes,i=a.onContentChange;if(r!==n){var s=o[r],c=s.reason,l=s.text,u=s.childIds,d=s.copywriter,p=s.subtitle;i(l||ee.b[c],p||d&&d.title||(u?void 0:""))}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.zaEnabled,n=e.type,r=this.state.isSubmited;t&&!r&&g.default.trackEvent(null,{id:4328,action:"Close",name:this.getReportLevel()},{report:{type:n}})}},{key:"isSubmitEnabled",value:function(){var e=this.state,t=e.selectedId,n=e.activeId,r=e.customReason;if(t)return!0;var a=this.props,o=a.nodes,i=a.type,s=o[n].copywriter;if(!s)return!1;var c=s.isRequired,l=void 0===c||c,u=Array.isArray(l)?l.includes(i):l;return Boolean(!u||r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.nodes,r=t.options,a=t.isUseInfringementReport,s=t.type,c=Object(i.a)(t,["nodes","options","isUseInfringementReport","type"]),l=this.state,u=l.activeId,d=l.parentId,p=l.selectedId,f=l.errorText,h=l.isMobile,b=n[u],g=b.childIds,y=b.copywriter,C=void 0!==y&&y,j=b.customComponent,k=b.des,x=b.url,S=C.isRequired,N=void 0===S||S,A=g&&g.map(function(e){return n[e]}).filter(function(e){return e&&(!e.shouldShow||e.shouldShow(c))}),E=!0===N||Array.isArray(N)&&N.includes(s);if(void 0!==j)return Object(m.b)(j,Object(o.default)({onBackClick:this.handleBackClick,onItemSelect:this.handleItemSelect,onSubMenuEnter:this.handleSubMenuEnter},this.props,this.state,{activeNode:b,parentNode:n[d],childNodes:A,isUseInfringementReport:a}));var L=Boolean(g),I=Boolean(C),T=L&&Object(m.b)("div",{className:"ReportMenu-inner ReportMenu-options"},A.map(function(t){return Object(m.b)(ne,Object(o.default)({ref:function(n){e.menuItems[t.id]=n},key:t.id},t,{isSelected:p===t.id,onSubMenuEnter:e.handleSubMenuEnter,onItemSelect:e.handleItemSelect,type:s}))})," ")||I&&Object(m.b)(ae,{onDetailInput:this.handleDetailInput,type:s,copywriter:C,errorText:f,checkCustomReasonContent:this.checkCustomReasonContent,isCustomReasonRequired:E}),P=L&&c.talkerToken&&Object(m.b)(oe,{checked:this.state.blockChecked,text:"将此人屏蔽",onChange:function(t){return e.setState({blockChecked:t.target.checked})}}),R=n[d||u],M=c.onDeleteComment&&this.hasEffectOfDeleteComment()&&Object(m.b)(oe,{checked:this.state.commentChecked,desc:R&&"社区鼓励举报".concat(R.text,"，同时可以直接删除该评论，删除操作并不影响对违规内容和违规用户的处理。"),onChange:function(t){return e.setState({commentChecked:t.target.checked})},text:"删除该评论"}),D=this.props.isSubmiting;return Object(m.b)("div",{className:O()("ReportMenu",{"ReportMenu-mobile":h})},T,(P||M)&&Object(m.b)("div",null,P,M,r),Object(m.b)(w.a,{direction:"horizontal"},"number"==typeof d&&Object(m.b)(_.c,{onClick:this.handleBackClick}," 返回 "),(L||I)&&Object(m.b)(_.c,{className:"ReportMenu-button",disabled:D||!this.isSubmitEnabled(),onClick:this.handleSubmit,color:"blue",preset:"primary"},"举报")),I&&k&&Object(m.b)("div",{className:"ReportMenu-des"},k,x&&Object(m.b)(v.a.Fragment,null,"点击",Object(m.b)(J,{className:"ReportMenu-deslink",href:x},"了解更多社区规范"),"。")))}}]),t}(b.Component));se.propTypes={nodes:h.a.object.isRequired,onContentChange:h.a.func.isRequired,onSubmit:h.a.func.isRequired,onEnd:h.a.func,onBlockUser:h.a.func,onDeleteComment:h.a.func,isColumnArticle:h.a.bool,isTipjarEnabled:h.a.bool,isUseInfringementReport:h.a.bool},se.defaultProps={isUseInfringementReport:!1};var ce=se,le=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).filterNodes=function(e,t,n){var r=e.filter(function(e){return!!e.isRequired||(-1!=["infringement","repost","oneself","enterprise","fake"].indexOf(e.reason)||0===e.id||("question"!==t||-1==["closed","suggested","evaluated","locked"].indexOf(n)||0===e.id)&&("member"!==t||-1==["ban","hang"].indexOf(n)||"profile"===e.reason))});return 1===r.length&&0===r[0].id&&(r=[]),r},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.type,r=t.status,a=Object(i.a)(t,["type","status"]);return e="message"===n?q:["member","club_mask"].includes(n)?V:["drama","drama_connect_member"].includes(n)?U:"theater"===n?H:"favlist"===n||"collection"===n?z:B.filter(function(e){return!e.types||e.types.includes(n)}),e=this.filterNodes(e,n,r),Object(m.b)(ce,Object(o.default)({nodes:e.reduce(function(e,t){return Object.assign({},e,Object(s.a)({},t.id,t))},{})},a,{type:n}))}}]),t}(b.Component);le.propTypes={type:h.a.string.isRequired};var ue=n(2302),de=function(e){return"article"===e?"Post":"book_review"===e?"BookReview":"".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))},pe=n(165),me="请选择举报理由",fe="举报",he=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={title:void 0!==n.props.title?n.props.title:fe,subtitle:void 0!==n.props.subtitle?n.props.subtitle:me},n.handleSubmit=function(e){var t=e.reason,r=e.customReason,a=n.props,o=a.urlToken,i=a.type;return n.props.doReport(o,i,t,r)},n.handleContentChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me;n.setState({title:e,subtitle:t})},n.handleClose=function(){n.props.zaEnabled&&g.default.trackEvent(n.container,{action:"Ok"},{button:{text:"知道了"}}),n.props.onClose()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){if(!e.shown&&this.props.shown){var t=this.props,n=t.type,r=t.id;g.default.setModule(this.container,{module:"ReportDialog"},{card:{card_type:"Content",content:Object(s.a)({type:de(n)},"comment"===n?"id":"token",String(r))}})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.shown,r=t.onClose,a=Object(i.a)(t,["shown","onClose"]),s=this.state,c=s.title,l=s.subtitle,u=Object(ue.a)(a,Object.keys(y.b.propTypes)),d=u.selectedProps,p=u.dropedProps;return Object(m.b)(y.b,Object(o.default)({title:c,subtitle:l,onClose:this.handleClose,className:"ReportModal"},d),n&&Object(m.b)(le,Object(o.default)({ref:function(t){e.container=t},onSubmit:this.handleSubmit,onEnd:r,onContentChange:this.handleContentChange},p)))}}]),t}(b.Component);he.propTypes={onClose:h.a.func.isRequired,type:h.a.oneOf(pe.a).isRequired,shown:h.a.bool.isRequired,isColumnArticle:h.a.bool,isTipjarEnabled:h.a.bool,onBlockUser:h.a.func,onDeleteComment:h.a.func,doReport:h.a.func.isRequired,zaEnabled:h.a.bool},he.defaultTypes={zaEnabled:!1},n.d(t,"ReportModal",function(){return he})},3648:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n(25),o=n(4),i=n(8),s=n(7),c=n(5),l=n(6),u=n(0),d=n(1),p=n.n(d),m=n(3),f=n.n(m),h=n(20),b=n(22),v=n.n(b),g=n(540),y=n(3556),C=n.n(y),O=n(143),j=n(2194),_=n(260),w=n(23),k=n(60),x=n(478),S=n(30),N=n(94),A=n(195),E=n(2131),L=n(2689),I=n(2463),T=n(2690),P=n(2132),R=n(2),M=n(16),D=(n(3557),5),F=2,B=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).state={},n.handleClick=function(){var e=n.props,t=e.loadRestComments,r=e.onShowConversation,a=e.comment,o=a.id,i=a.childCommentCount,s=i<=D&&i>F;(s?t:r)({commentId:o}),s&&n.setState(Object(R.a)({},"hide_".concat(o),!0))},n.handleRef=function(e){var t=n.props.onRef;"function"==typeof t&&t(e)},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comment,n=t.id,r=t.childCommentCount,a=e.isFetching,o=e.className,i=this.state["hide_".concat(n)],s=r<=D&&r>F?"展开其他 ".concat(r-F," 条回复"):"查看全部 ".concat(r," 条回复");return Object(u.b)("div",{className:o,ref:this.handleRef},!i&&Object(u.b)("div",{className:"CommentMoreReplyButton"},Object(u.b)(M.c,{preset:"plain",onClick:this.handleClick},s)),a&&Object(u.b)(O.a,{className:"CommentMoreReplyButton",small:!0}))}}]),t}(d.Component);B.propTypes={comment:f.a.object.isRequired,isFetching:f.a.bool,onShowConversation:f.a.func,loadRestComments:f.a.func};n(3558);var z,q=Object(h.connect)(null,{loadConversation:g.g})(z=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).loadRestComments=function(e){var t=e.commentId;(0,n.props.loadConversation)({id:t,isLoadRest:!0})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.parent,n=t.type,r=t.author,a=(r=void 0===r?{isOrg:!1}:r).isOrg,o=e.parent,i=e.commentNeedsReview,s=e.onShowConversation,c=e.status,l=e.onItemLike,p=e.onItemDelete,m=e.onItemCollapse,f=e.onItemDislike,h=e.onItemApprove,b=e.onItemReject,g=e.canOperateItem,y=e.commentPattern,C=e.conversation,O=void 0===C?{}:C,j=e.entities,_=e.byComment,w=e.isReverseAndStatusOpen,k=e.comment,x=e.onReply,S=e.onFeature,N=e.ids,A=e.showCollapsed,E=k.id,L=k.featured,I=k.childComments,T=void 0===I?[]:I,R=k.childCommentCount,M=void 0===R?0:R,D=L?"".concat(E,"_featured"):"".concat(E),F=!L&&N.includes("".concat(E,"_featured")),z=Boolean(T.length)&&!w,q=M<=5&&M>2,V=T.map(function(e){return j.comments[e]}),U=!L&&M>2&&!w,H=(q&&O[E]||{isFetching:!1}).isFetching;return Object(u.b)(d.Fragment,null,Object(u.b)("li",{className:v()({"NestComment--rootCommentNoChild":!z,"NestComment--rootComment":z}),key:D},Object(u.b)(P.a,{key:D,comment:k,status:c,type:n,parent:o,canOperate:g,commentNeedsReview:i,onShowConversation:s,ownerAuthorIsOrg:a,onLike:l,onReply:x,onFeature:S,onDelete:p,onCollapse:m,onDislike:f,onApprove:h,onReject:b,commentPattern:y,rootCommentId:E,byComment:_,isReverseAndStatusOpen:w,hasRecommend:F,showCollapsed:A})),z&&V.map(function(e){var t=e.id,r=e.featured,d=r?"".concat(t,"_featured"):"".concat(t),v=!r&&N.includes("".concat(t,"_featured"));return Object(u.b)("li",{className:"NestComment--child",key:d},Object(u.b)(P.a,{key:d,comment:e,status:c,type:n,parent:o,canOperate:g,commentNeedsReview:i,onShowConversation:s,ownerAuthorIsOrg:a,onLike:l,onReply:x,onFeature:S,onDelete:p,onCollapse:m,onDislike:f,onApprove:h,onReject:b,commentPattern:y,rootCommentId:E,hasRecommend:v,showCollapsed:A}))}),U&&Object(u.b)(B,{comment:k,isFetching:H,onShowConversation:s,loadRestComments:this.loadRestComments}))}}]),t}(d.Component))||z;function V(e){var t=e.id,n=e.replyTo,r=e.isConversation;if(e.isNotification)return{type:"notification"};if(r)return{type:"conversation"};if(!n)return{type:"comment"};var a=n.featured,o=n.replyToAuthor,i=n.id;return t===i&&a?o?{type:"replyToSubFeatured"}:{type:"replyToFeatured"}:t!==i||o?t!==i&&o?{type:"replyToSubCommon"}:{type:"comment"}:{type:"replyToCommon"}}n(3559);var U,H,W,G=Object(h.connect)(function(e,t){var n=t.parent,r=t.parent,a=r.type,o=r.id,i=t.status,s=t.order,c=t.byComment,l=t.commentPattern,u=t.notificationId,d=e.entities,p=e.commentsV2,m=e.commentsV2,f=m.conversation,h=m.stickers,b=void 0===h?[]:h,v=m.commentWithPicPermission,g=m.notificationsComments,y="".concat(a,"_").concat(o),O=p.parent,j=d.comments[c],_=p.pagination;"reviewing"===i&&(_=p.reviewing);var w="reverse"===s&&"open"===i;w&&(_=p.reverse);var k=[],x=p.collapsed[y]||{};x.ids&&x.ids.length>0&&(k=x.ids.map(function(e){return d.comments[e]}));u&&(_=g,y=u);var A=_[y]||{isPrevDrained:!1,isFetching:!1,isDrained:!1,ids:[]},E=A.isFetching,L=A.isPrevDrained,I=A.isDrained,T=A.ids,P=A.newIds,R=void 0===P?[]:P,M=A.totals,D="bottom"!==l?T:R,F=D.map(function(e){return d.comments[e]}),B=C()(D,function(e){return String(e).includes("_featured")});return{currentUser:Object(S.c)(e),isFetching:E,isPrevDrained:L,isDrained:I,totals:u?F.length:M,collapsedInfo:x,collapsedComments:k,targetComment:j,conversation:f,entities:d,stickers:b,lastFeaturedIndex:B,comments:F,isReverseAndStatusOpen:w,commentWithPicPermission:v,ids:D,parent:Object.assign({},n,{},O[y]),permission:Object(N.U)(e)}},{loadComments:g.f,loadConversation:g.g,addComment:g.a,loadStickers:g.j,clearNotification:w.e,getCommentWithPicPermission:g.e,loadNotificationComments:g.i,loadAnswerCommentPermission:k.n,loadArticleCommentPermission:x.b})((W=H=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={collapsed:!0,current:1},n.commentsWithPaginationElRef=p.a.createRef(),n.load=function(e,t,r){if(!n.props.isFetching&&!n.props.parent.adminClosedComment){var a=e||n.props,o=a.order,i=a.status,s=a.parent,c=s.id,l=s.type,u=a.commentPattern,d=a.needLoadCommentPermission,p=a.loadComments,m=a.notificationId,f=a.loadNotificationComments;if(m)return f(m);if(d&&n.loadCommentPermission(l,c),r){p(l,c,{order:o,isPrevious:t,status:"collapsed",commentPattern:u},!0)}else p(l,c,{order:o,isPrevious:t,status:i,commentPattern:u})}},n.addComment=function(e,t,r,a,o){var i=r.rootCommentId,s=r.isConversation,c=n.props,l=c.parent,u=l.id,d=l.type,p=c.commentId,m=c.addComment,f=c.notificationId;return m({parentType:d,parentId:u,content:e,replyTo:t,conversationId:p,rootCommentId:i,isConversation:s,notificationId:f,replyType:V({id:i,replyTo:t,isConversation:s,isNotification:Boolean(f)}).type,useStrictMode:a,enableUnfriendlyCheck:o})},n.featureItem=function(e){(0,n.props.onItemFeature)(e,n.lastFeaturedIndex)},n.handleOpenCollapsed=function(){n.setState({collapsed:!1}),n.load(n.props,!1,!0)},n.handlePageSelect=function(e){var t=n.props.onPaginationClick,r=n.state.current;t&&t(r,e),n.commentsElement.scrollIntoView(),n.setState({current:e}),n.loadByPagination(e)},n.loadByPagination=function(e,t){var r=t||n.props,a=r.order,o=r.status,i=r.parent,s=i.id,c=i.type,l=r.commentPattern,u=r.needLoadCommentPermission,d=r.loadComments;u&&n.loadCommentPermission(c,s),d(c,s,{order:a,isPrevious:!1,status:o,commentPattern:l,current:e})},n.renderComment=function(e){var t=e.id,a=e.featured?"".concat(t,"_featured"):t,o=!n.state.collapsed;return Object(u.b)("ul",{className:"NestComment",key:a},Object(u.b)(q,Object(r.default)({comment:e,onReply:n.addComment,onFeature:n.featureItem,showCollapsed:o},n.props)))},n.renderNormalComments=function(e){var t=n.state.collapsed,r=n.props,a=r.byComment,o=r.lastFeaturedIndex,i=r.parent,s=i.featuredCounts,c=i.commonCounts,l=[],d=s>0;return n.lastFeaturedIndex=0,e.length>0&&e.forEach(function(r,i){if(a||!r.collapsed){var p=e[i-1];r.collapsed&&(p&&p.collapsed||l.push(n.renderCollapsedDivider()),t)||(i===o&&l.push(Object(u.b)("div",{className:"NestComment-nextSiblings--noBorder",key:"NestComment-nextSiblings--noBorder"})),d&&0===i&&-1!==o&&l.push(Object(u.b)("div",{className:"CommentListV2-header-divider",key:"divider-featured"},"精选评论（",s,"）")),l.push(n.renderComment(r)),i===o&&(n.lastFeaturedIndex=i,l.push(Object(u.b)("div",{className:"CommentListV2-header-divider",key:"divider-comment"},"评论（",c,"）"))))}}),l},n.renderCollapsedComments=function(){var e=n.props,t=e.collapsedComments,r=e.isDrained,a=e.parent,o=(a=void 0===a?{}:a).collapsedCounts;return!r||o<=0?[]:t.map(function(e){return n.renderComment(e)})},n.renderComments=function(e){return e.map(n.renderComment)},n.renderCollapsedDivider=function(){var e=n.props,t=e.isDrained,r=e.parent.collapsedCounts;return!t||r<=0?[]:n.state.collapsed?Object(u.b)("div",{className:"CommentListV2-action",key:"collapsed"},Object(u.b)("div",{className:"CommentListV2-expendCollapseButton"},Object(u.b)("span",{onClick:n.handleOpenCollapsed},Object(_.formatNumber)(r)," 条评论被折叠"),"（",Object(u.b)("a",{href:"//www.zhihu.com/question/52029856/answer/128623557",target:"_blank",rel:"noopener noreferrer"},"为什么？"),"）")):Object(u.b)("div",{className:"CommentListV2-divider",key:"divider-collapsed"},Object(u.b)("div",{className:"CommentListV2-dividerLine"}),Object(u.b)("div",{className:"CommentListV2-dividerText"},Object(_.formatNumber)(r)," 条评论被折叠（",Object(u.b)("a",{href:"//www.zhihu.com/question/52029856/answer/128623557",target:"_blank",rel:"noopener noreferrer"},"为什么？"),"）"))},n.renderCollapsedInfiLoader=function(){var e=n.state.collapsed;if(e)return[];var t=n.props.collapsedInfo,r=(t=void 0===t?{}:t).isFetching,a=t.isPrevDrained,o=t.isDrained;return Object(u.b)(O.b,{className:"CommentListV2",onRef:function(e){n.listEl=e},isLocal:!0,isLoading:r,isPrevDrained:a,isDrained:o,onLoad:function(t){return n.load(n.props,t,!e)},placeholder:Object(u.b)(O.a,{className:"CommentItem",small:!0})},n.renderCollapsedComments())},n.renderPatternContent=function(e){var t=n.props,r=t.isFetching,a=t.parent.adminClosedComment,o=t.byComment,i=t.status,s=t.order,c=t.totals,l=t.showPackupButton,d=t.handlePackupButton,p=Math.ceil(c/20),m=n.state.current;return a?null:r?Object(u.b)(L.a,null):Object(u.b)("div",{ref:n.commentsWithPaginationElRef},Object(u.b)("div",{className:"CommentListV2"},"normal"===s&&"open"===i?n.renderNormalComments(e):n.renderComments(e)),p>1&&Object(u.b)(j.a,{className:"CommentsV2-pagination",current:m,total:p,onSelect:n.handlePageSelect}),!o&&n.renderCollapsedDivider(),!o&&n.renderCollapsedInfiLoader(),l&&Object(u.b)(T.a,{onClick:d,commentsElRef:n.commentsWithPaginationElRef}))},n.renderModalContent=function(e){var t=n.props,a=t.collapsedInfo,o=t.parent.adminClosedComment,i=t.status,s=t.order,c=t.byComment,l=n.state.collapsed,d=l?n.props:a,p=d.isFetching,m=d.isDrained,f=d.isPrevDrained;if(m&&e.length<=0||o)return Object(u.b)("div",{className:"CommentsV2-empty"},Object(u.b)(A.k,null,Object(u.b)(A.e,null),Object(u.b)("div",null,"还没有评论")));return Object(u.b)(O.b,Object(r.default)({className:"CommentListV2",onRef:function(e){n.listEl=e},isLocal:!0,isLoading:p,isPrevDrained:f,isDrained:m,onLoad:function(e){return n.load(n.props,e,!l)},placeholder:Object(u.b)(O.a,{className:"CommentItemV2",small:!0})},{getContainer:function(e){return e}}),"normal"===s&&"open"===i?n.renderNormalComments(e):n.renderComments(e),!c&&n.renderCollapsedDivider(),!c&&n.renderCollapsedComments())},n.renderCommentEdit=function(){var e=n.props,t=e.parent,r=t.canComment,a=(r=void 0===r?{status:!0}:r).status,o=r.reason,i=t.author,s=(i=void 0===i?{isOrg:!1}:i).isOrg,c=t.type,l=t.id,d=t.adminClosedComment,p=t.questionType,m=e.byComment,f=e.autoFocus,h=e.commentNeedsReview,b=e.zaInfo,g=d?"当前内容暂时无法评论":o,y=f&&!m;return a&&!d?Object(u.b)(E.a,{className:"CommentsV2-footer",type:c,id:l,commentNeedsReview:h,onSubmit:n.addComment,autoFocus:y,ownerAuthorIsOrg:s,ownerAuthorIsBrand:"commercial"===p,zaInfo:b}):Object(u.b)("div",{className:v()("CommentsV2-disabledText")},Object(u.b)("div",{className:"CommentsV2-disabledReason"},g))},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"loadCommentPermission",value:function(e,t){var n=this.props,r=n.loadAnswerCommentPermission,a=n.loadArticleCommentPermission;switch(e){case"answer":return r(t);case"article":return a(t);default:return null}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.commentPattern,n=e.parent.adminClosedComment,r=e.stickers,a=e.loadStickers,o=e.getCommentWithPicPermission,i=e.commentWithPicPermission,s=e.currentUser,c=this.state.current;"bottom"!==t||n||this.loadByPagination(c),!r.length&&a(),void 0===i.commentWithPic&&s&&o()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.order,r=t.status,a=t.targetComment,o=t.commentPattern;n===e.order&&r===e.status||("bottom"===o?(this.setState({current:1}),this.loadByPagination(1,e)):this.load(e),this.setState({collapsed:!0}));var i=e.targetComment;i!==a&&i&&this.setState({collapsed:i.collapsed})}},{key:"componentWillUnmount",value:function(){Object(w.e)(w.b)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.comments,o=t.commentPattern,i=t.commentInputPosition,s=t.isAuthor,c=t.parent,l=c.author,d=(l=void 0===l?{isOrg:!1}:l).isOrg,p=c.commentPermission,m=c.reviewingCounts,f=c.commentCount,h=c.adminClosedComment,b=t.totals,g=t.status,y=t.order,C=t.onStatusChange,O=t.onOrderChange,j=t.targetLink,_=t.shouldReverse,w=t.permission.canBrandAdminEdit,k="censor"===p&&(s||w),x=k?{isCommentReviewer:k,onStatusChange:C,status:g,reviewingCounts:m}:{status:g};return Object(u.b)("div",{className:v()("CommentsV2 CommentsV2--withEditor",{"CommentsV2-withPagination":"bottom"===o},n),ref:function(t){e.commentsElement=t}},Object(u.b)(I.a,Object(r.default)({commentCount:void 0!==f?f:b,shouldReverse:_,commentClosed:h,targetLink:j,order:y,onOrderChange:O,commentPattern:o,isOrg:d},x)),"top"===i&&this.renderCommentEdit(),"bottom"===o?this.renderPatternContent(a):this.renderModalContent(a),"bottom"===i&&this.renderCommentEdit())}}]),t}(d.Component),H.propTypes={type:f.a.string,parent:f.a.object.isRequired,targetLink:f.a.node,commentNeedsReview:f.a.bool,byComment:f.a.oneOfType([f.a.number,f.a.string]),commentPattern:f.a.string,commentInputPosition:f.a.oneOf(["top","bottom"]),showPackupButton:f.a.bool,handlePackupButton:f.a.func,onPaginationClick:f.a.func,autoFocus:f.a.bool,shouldReverse:f.a.bool},H.contextTypes={authRequired:f.a.func.isRequired},H.defaultProps={commentInputPosition:"bottom",showPackupButton:!0,autoFocus:!0,shouldReverse:!0},U=W))||U;var K,Y,Z,X=n(33),$=n(9),Q=n(86),J=n.n(Q),ee=n(229),te=n.n(ee),ne=n(141),re=n(2207),ae=Object(h.connect)(function(e,t){var n=t.conversationId,r=t.isAnchorComments,a=e.entities.comments,o=e.commentsV2,i=o.conversation,s=o.conversationMore,c=i[n]||{isFetching:!1,isDrained:!1,isPrevDrained:!1,ids:[]},l=c.isFetching,u=c.isDrained,d=c.isPrevDrained,p=c.ids,m=c.totals,f=c.topComments,h=(f=void 0===f?{}:f).paging,b=(h||{}).isEnd,v=s[n]||{isFetching:!1,isDrained:!1,ids:[]},g=v.isFetching,y=v.isDrained,C=v.ids,O=C.map(function(e){return a[e]}),j=p.map(function(e){return a[e]}),_=a["".concat(n,"_featured")]||a[n]||{},w=r?te()(C.length?[].concat(Object($.a)(j.slice(0,4)),Object($.a)(O),Object($.a)(j.slice(4))):j,"id"):[_].concat(Object($.a)(j)),k=h?[].concat(Object($.a)(j.slice(0,3)),Object($.a)(O)).length:-1;return{isFetching:l,isDrained:u,isPrevDrained:d,totals:m,comments:w,openComment:_,topCommentsPaging:h,isConversationMoreFetching:g,isConversationMoreDrained:b||y,offsetIndex:k}},{loadConversation:g.g,addComment:g.a,loadMoreAnchorComments:g.h})((Z=Y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).load=function(){var e=n.props,t=e.isAnchorComments,r=e.conversationId;(0,e.loadConversation)({id:r,isAnchorComments:t})},n.addComment=function(e,t,r){var a=r.rootCommentId,o=r.isConversation,i=n.props,s=i.parent,c=s.type,l=s.id,u=i.conversationId,d=i.addComment,p=i.isAnchorComments;return d({parentType:c,parentId:l,content:e,replyTo:t,conversationId:u,rootCommentId:a,isConversation:o,replyType:V({id:a,replyTo:t,isConversation:o}).type,isAnchorComments:p})},n.loadMoreAnchorComments=function(){var e=n.props,t=e.conversationId,r=e.topCommentsPaging,a=void 0===r?{}:r;(0,e.loadMoreAnchorComments)({conversationId:t,nextUrl:a.next})},n.createOnRef=J()(function(e){return function(t){var r=n.props.byComment;parseInt(e)===Number(r)&&(n.targetCommentEl=t)}}),n.scrollToTarget=function(){var e=Object(X.default)(n),t=e.targetCommentEl,r=e.listEl;if(r&&t){var a=t.getBoundingClientRect(),o=a.top,i=a.height,s=r.getBoundingClientRect(),c=s.top,l=s.height;n.listEl.scrollTop+=o-c-(l-i)/2,t.classList.add("CommentItemV2--highlighted"),setTimeout(function(){return t.classList.remove("CommentItemV2--highlighted")},2e3),t.tabIndex=-1,t.focus()}},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.byComment&&this.scrollToTarget()}},{key:"componentDidUpdate",value:function(e){!e.comments.length&&this.props.comments.length&&this.props.byComment&&this.scrollToTarget()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onItemLike,r=t.onItemDelete,a=t.onItemFeature,o=t.onItemApprove,i=t.onItemCollapse,s=t.onItemDislike,c=t.onNavBack,l=t.canOperateItem,p=t.isFetching,m=t.comments,f=void 0===m?[]:m,h=t.commentNeedsReview,b=t.openComment.collapsed,v=t.parent,g=t.commentPattern,y=t.totals,C=t.isDrained,j=t.isPrevDrained,_=t.isConversationMoreFetching,w=t.isConversationMoreDrained,k=t.offsetIndex,x=null;return p&&!f.length?x=Object(u.b)(d.Fragment,null,Object(u.b)(O.a,{className:"CommentItemV2",small:!0}),Object(u.b)("div",{className:"CommentsV2-openComment-divider"}),Object(u.b)("div",{className:"CommentsV2-replyNum"},"".concat(y," 条回复"))):f.length&&(x=f.map(function(t,c){return c?w||c!==k||_?_&&c===k?Object(u.b)(d.Fragment,{key:t.id},Object(u.b)(P.a,{key:t.id,onRef:e.createOnRef(t.id),isConversation:!0,commentNeedsReview:h,canOperate:l,parent:v,comment:t,onLike:n,onDelete:r,onFeature:a,onApprove:o,onCollapse:i,onDislike:s,collapsedShown:b,onReply:e.addComment}),Object(u.b)(O.a,{key:"NestCoomment-moreCommentButton-PlaceHolder",className:"NestCoomment-moreCommentButton ",small:!0})):Object(u.b)(P.a,{key:t.id,onRef:e.createOnRef(t.id),isConversation:!0,commentNeedsReview:h,canOperate:l,parent:v,comment:t,onLike:n,onDelete:r,onFeature:a,onApprove:o,onCollapse:i,onDislike:s,collapsedShown:b,onReply:e.addComment}):Object(u.b)(d.Fragment,{key:t.id},Object(u.b)(P.a,{key:t.id,onRef:e.createOnRef(t.id),isConversation:!0,commentNeedsReview:h,canOperate:l,parent:v,comment:t,onLike:n,onDelete:r,onFeature:a,onApprove:o,onCollapse:i,onDislike:s,collapsedShown:b,onReply:e.addComment}),Object(u.b)("div",{key:"NestCoomment-moreCommentButton",preset:"plain",className:"NestCoomment-moreCommentButton",onClick:e.loadMoreAnchorComments},Object(u.b)(re.a,null),Object(u.b)("p",null,"点击查看更多回复"))):Object(u.b)(d.Fragment,{key:t.id},Object(u.b)("div",{className:"CommentsV2-openComment"},Object(u.b)(P.a,{key:t.id,onRef:e.createOnRef(t.id),isConversation:!0,commentNeedsReview:h,canOperate:l,parent:v,comment:t,onLike:n,onDelete:r,onFeature:a,onApprove:o,onCollapse:i,onDislike:s,collapsedShown:b,onReply:e.addComment})),Object(u.b)("div",{className:"CommentsV2-openComment-divider"}),Object(u.b)("div",{key:"".concat(t.id,"-title")},Object(u.b)("div",{className:"CommentsV2-replyNum"},"".concat(y," 条回复"))))})),"bottom"===g?Object(u.b)(ne.b,{size:"fullPage",onClose:c},Object(u.b)("div",{className:"CommentsV2"},Object(u.b)(I.a,{isConversation:!0,commentPattern:g}),Object(u.b)(O.b,{className:"CommentListV2",onRef:function(t){e.listEl=t},isLocal:!0,isLoading:p,isDrained:C,isPrevDrained:j,onLoad:this.load,placeholder:Object(u.b)(O.a,{className:"CommentItemV2",small:!0}),getContainer:function(e){return e}},x))):Object(u.b)("div",{className:"CommentsV2"},Object(u.b)(I.a,{isConversation:!0,onNavBack:c}),Object(u.b)(O.b,{className:"CommentListV2",onRef:function(t){e.listEl=t},isLocal:!0,isLoading:p,isDrained:C,isPrevDrained:j,onLoad:this.load,placeholder:Object(u.b)(O.a,{className:"CommentItemV2",small:!0}),getContainer:function(e){return e}},x))}}]),t}(d.Component),Y.propTypes={conversationId:f.a.number.isRequired,type:f.a.string,parent:f.a.object.isRequired,commentNeedsReview:f.a.bool},Y.contextTypes={currentUser:f.a.object,authRequired:f.a.func.isRequired},K=Z))||K;var oe,ie,se,ce=n(142);n.d(t,"default",function(){return le});var le=Object(h.connect)(null,{updateCommentLikeStatus:g.o,updateCommentFeatureStatus:g.n,deleteComment:g.d,updateCommentCollapsed:g.l,updateCommentDisliked:g.m,approveComment:g.b,rejectComment:g.k})(oe=Object(ce.a)(null)((se=ie=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).state={openedCommentId:null,isAnchorComments:!1,status:"open",order:"normal"},n.showConversation=function(e){var t=e.commentId,r=e.isAnchorComments;n.setState({openedCommentId:t,isAnchorComments:r})},n.showComments=function(){n.setState({openedCommentId:null,isAnchorComments:!1})},n.delete=function(e){var t=n.props,r=t.parent;return(0,t.deleteComment)(e,r.type,r.id)},n.feature=function(e){var t=n.props,r=t.parent,a=t.updateCommentFeatureStatus,o=t.notificationId;a({id:n.state.openedCommentId,commentId:e,parentId:r.id,parentType:r.type,notificationId:o})},n.like=function(e,t){var r=n.props,a=r.onItemLike,o=r.updateCommentLikeStatus;a&&a(e,t),o(e)},n.collapse=function(e){var t=n.props,r=t.parent;(0,t.updateCommentCollapsed)(e,r.type,r.id)},n.dislike=function(e){(0,n.props.updateCommentDisliked)(e)},n.approve=function(e){var t=n.props,r=t.parent,a=t.type;(0,t.approveComment)(e,r.type||a,r.id)},n.reject=function(e){var t=n.props,r=t.parent,a=t.type;(0,t.rejectComment)(e,r.type||a,r.id)},n.handleStatusChange=function(e){n.setState({status:e})},n.handleOrderChange=function(e,t){var r=n.props.onOrderChange;r&&r(e,t),n.setState({order:e})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e(this.commentsContainerNode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.containerClassName,i=t.parent,s=t.commentPattern,c=t.type,l=t.parent,d=(l=void 0===l?{}:l).commentPermission,p=l.relationship,m=void 0===p?{}:p,f=l.author,h=void 0===f?{}:f,b=t.needLoadCommentPermission,g=t.byComment,y=Object(a.a)(t,["className","containerClassName","parent","commentPattern","type","parent","needLoadCommentPermission","byComment"]),C=this.context.currentUser,O=void 0===m.isAuthor?C&&h.urlToken&&C.urlToken===h.urlToken:m.isAuthor,j="censor"===d&&!O,_="answer"===c||"article"===c,w=this.state,k=w.openedCommentId,x=w.status,S=w.order,N=w.isAnchorComments,A=N&&(k||g)||g;return Object(u.b)("div",{className:v()("Comments-container",o),ref:function(t){return e.commentsContainerNode=t}},Object(u.b)(G,Object(r.default)({className:v()(n,{"CommentsV2--hidden":k&&"bottom"!==s})},y,{type:c,order:S,status:x,parent:i,commentPattern:s,commentNeedsReview:j,canOperateItem:_,onShowConversation:this.showConversation,onItemLike:this.like,onItemFeature:this.feature,onItemDelete:this.delete,onItemCollapse:this.collapse,onItemDislike:this.dislike,onItemApprove:this.approve,onItemReject:this.reject,byComment:A,onStatusChange:this.handleStatusChange,onOrderChange:this.handleOrderChange,needLoadCommentPermission:b,isAuthor:O})),k&&Object(u.b)(ae,Object(r.default)({},y,{parent:i,type:c,canOperateItem:_,onItemLike:this.like,onItemFeature:this.feature,onItemDelete:this.delete,onItemCollapse:this.collapse,onItemDislike:this.dislike,onItemApprove:this.approve,onItemReject:this.reject,commentPattern:s,conversationId:k,onNavBack:this.showComments,byComment:A,isAnchorComments:N,commentNeedsReview:j,onShowConversation:this.showConversation})))}}]),t}(d.Component),ie.propTypes={type:f.a.string.isRequired,parent:f.a.object.isRequired,onOrderChange:f.a.func,onItemLike:f.a.func,isAuthor:f.a.bool,onMount:f.a.func},ie.defaultProps={type:"answer"},ie.contextTypes={currentUser:f.a.object,authRequired:f.a.func.isRequired},oe=se))||oe)||oe},3650:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(8),o=n(7),i=n(5),s=n(6),c=n(0),l=n(1),u=n.n(l),d=n(3),p=n.n(d),m=n(22),f=n.n(m),h=n(16),b=n(46),v=n(753),g=n(193),y=n(1560),C=n(3610),O=n.n(C),j=n(3611),_=n.n(j),w=n(33),k=(n(3612),8),x=9,S=13,N=48,A=57;function E(e,t){return e?t?!0===t?"":t:e:""}var L=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onInputFocus=n.onInputFocus.bind(Object(w.default)(n)),n.onInputChange=n.onInputChange.bind(Object(w.default)(n)),n.onKeyDown=n.onKeyDown.bind(Object(w.default)(n)),n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"onInputFocus",value:function(){this.props.onFocus()}},{key:"onInputChange",value:function(e){var t=String(e.target.value);if(t){t=t[t.length-1];var n=this.props.chars,r=this.props.length;n.length===r?n=n.replace(/.$/,t):n+=t,this.props.onChange(n),n.length===r&&this.props.onFinish(n)}}},{key:"onKeyDown",value:function(e){var t=e.keyCode;if(!e.metaKey&&!e.ctrlKey&&t!==x&&t!==S){var n=this.props.chars;t===k?(n=n.slice(0,-1),this.props.onChange(n)):(t<N||t>A)&&(e.preventDefault(),this.props.onError(e))}}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,n=t.length,r=t.chars,a=t.maskChar,o=t.autoFocus,i=t.className,s=t.children,l=r.length===n?n-1:r.length,u=r[l]||"";return Object(c.b)("label",{className:f()("TPass",i)},Object(c.b)("span",{className:"TPass-wrapper"},Object(c.b)(I,{length:n,chars:r,maskChar:a}),Object(c.b)("input",{className:"TPass-input",value:u,style:{left:60*l},onFocus:this.onInputFocus,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onPaste:function(e){return e.preventDefault()},type:"number",min:"0",max:"9",pattern:"[0-9]*",autoFocus:o,ref:function(t){e.input=t}})),s)}}]),t}(u.a.Component);function I(e){for(var t,n=e.length,r=e.chars,a=e.maskChar,o=[],i=0;i<n;i+=1)t=r[i],o.push(Object(c.b)("span",{className:f()("TPassBox",{"TPassBox-mask":t&&Boolean(a)}),key:i},E(t,a)));return Object(c.b)("span",{className:"TPassBoxes"},o)}L.defaultProps={length:6,chars:"",maskChar:!1,autoFocus:!1,onFocus:function(){},onChange:function(){},onError:function(){},onFinish:function(){}},L.propTypes={length:p.a.number,chars:p.a.string,maskChar:p.a.oneOfType([p.a.bool,p.a.string]),autoFocus:p.a.bool,onFocus:p.a.func,onChange:p.a.func,onError:p.a.func,onFinish:p.a.func,className:p.a.string,children:p.a.node};var T=L,P=(n(3613),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props;return Object(c.b)("div",{className:f()("Spinner",e)},Object(c.b)("i",{className:"Spinner-loading"}))}}]),t}(l.Component));P.propTypes={className:p.a.string};var R=n(124),M=(n(3614),11);function D(){this.payments={},this.chosePaymentName=null,this.codeUrl="",this.qrLoaded=!1,this.need=null,this.passcode="",this.needSMS=!1,this.smsTimer=0,this.isInProgress=!1,this.error=null}var F={name:"1qc85lp",styles:"padding:0;border:none;"},B=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onPasscodeFocus=function(){n.state.error&&(n.setState({error:null}),6===n.state.passcode.length&&n.setState({passcode:""}))},n.onPasscodeInput=function(e){"object"==typeof e&&(e=e.target.value),n.setState({passcode:e})},n.onPasscodeFinish=function(e){n.tpass.blur(),n.payWithBalance(e)},n.onSendSMSCode=function(){n.props.trade.resendSMSCode(function(){n.startSMSTimer(),n.smsInput.focus()},function(e){n.setState({error:e})})},n.onQrLoad=function(){n.setState({qrLoaded:!0})},n.onBalanceFormSubmit=function(e){e.preventDefault(),n.payWithBalance(n.state.passcode)},n.setPayments=function(e){n.setState({payments:e})},n.confirmPayment=function(){var e=n.state,t=e.choseName,r=e.payments,a=n.props.onConfirmPayment,o=t;if(t||(o=r.balance&&r.balance.enable?"balance":"wechat"),a(!o),n.setState({chosePaymentName:o}),"wechat"===o&&n.isInWechat){var i=n.props.tradeNumber,s="".concat(location.protocol,"//").concat(location.host).concat(location.pathname),c="".concat("https://www.zhihu.com/pay/weixin/pay?service_id=".concat(M)+"&trade_number=".concat(i,"&redirect_uri=").concat(encodeURIComponent(s)));window.location.replace(c)}else n.props.trade["wechat"===o?"initWechatPay":"initBalancePay"]()},n.pid=0,n.smsTimer=null,n.state=new D,n.isInWechat=e.ua.Wechat,n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.trade;this.getPaymentsList(e),this.initListeners(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.trade!==this.props.trade&&(this.setState(new D),setTimeout(function(){t.getPaymentsList(e.trade)},300),this.initListeners(e.trade))}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.smsTimer),this.props.trade.dispose()}},{key:"getPaymentsList",value:function(e){var t=this;if(e){var n=this.pid+=1;e.getPaymentsList(function(e){t.pid===n&&t.setPayments(e)})}}},{key:"initListeners",value:function(e){var t=this;e&&e.on("payInited",function(e,n){t.setState(Object.assign({},n))}).on("paySuccess",function(){t.setState({isInProgress:!1,error:null}),t.props.onSuccess()}).on("payCancel",function(){t.setState({isInProgress:!1,chosePaymentName:null})}).on("payFail",function(e){var n=e;"object"!=typeof e||e instanceof Error||(n=e.message),t.setState({isInProgress:!1,error:n}),t.props.onFail(e)}).on("needSMS",function(e){t.setState({isInProgress:!1,error:null,needSMS:e.message,passcode:""})}).on("needWechatCode",function(){t.props.onError("needWechatCode")}).on("error",function(e,n){t.props.onError(e,n)})}},{key:"startSMSTimer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;window.clearInterval(this.smsTimer),this.setState({smsTimer:t}),this.smsTimer=window.setInterval(function(){(t-=1)<=0?(window.clearInterval(e.smsTimer),e.smsTimer=null,e.setState({smsTimer:0})):e.setState({smsTimer:t})},1e3)}},{key:"payWithBalance",value:function(e){return 6!==e.length?(this.setState({error:"请输入 6 位支付密码"}),!1):(this.setState({isInProgress:!0,error:null}),this.props.trade.payWithBalance(e))}},{key:"renderPaymentsList",value:function(){var e=this,t=this.state,n=t.payments,r=t.chosePaymentName,a=t.choseName,o=this.props.trade;if(r)return null;var i=n.balance&&n.balance.amount,s=o.info.total,l=n.wechat&&n.wechat.enable,u=this.props.balanceEnable,d=n.balance&&n.balance.enable,p=n.balance&&!n.balance.enable,m=u&&i>=s,f="使用余额（剩余 ".concat((i/100).toFixed(2),"）"),b=m?f:"微信支付",v=m?"wallet":"wechatPayment";a&&(b="wechat"===a?"微信支付":f,v="wechat"===a?"wechatPayment":"wallet");var C=Object(c.b)(h.c,{css:F},"wechatPayment"===v?Object(c.b)(_.a,{center:!0}):Object(c.b)(O.a,{center:!0})," ",b,Object(c.b)(y.a,{center:!0}));return Object(c.b)("div",{className:"PaymentsList"},Object(c.b)("span",{className:"Payment-Topline"}),Object(c.b)("span",{className:"PaymentWay"},"支付方式"),Object(c.b)(R.a,{placeholder:C},Object(c.b)(g.b,{plain:!0,className:"Payment-select",listClassName:"Payment-select-list",targetClassName:"Popover-targetContainer-verification",menuToggler:C,onChange:function(t){"disabled"!==t&&e.setState({choseName:t})}},u&&d&&Object(c.b)(g.a,{value:"balance",className:"PaymentItem"},Object(c.b)(O.a,{center:!0}),f),u&&p&&Object(c.b)(g.a,{value:"disabled",className:"PaymentItem PaymentItem--disabled"},Object(c.b)(O.a,{center:!0}),f),l&&Object(c.b)(g.a,{value:"wechat",className:"PaymentItem"},Object(c.b)(_.a,{center:!0}),"微信支付"))),Object(c.b)("span",{className:"Payment-Bottomline"}),Object(c.b)(h.c,{className:"Payment-CheckedButton",onClick:this.confirmPayment},"确认支付"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.trade,a=this.state,o=a.payments,i=a.chosePaymentName,s=a.codeUrl,l=a.needSMS,u=a.isInProgress;return r?Object(c.b)("div",{className:f()("Payment",n)},Object.keys(o).length?this.renderPaymentsList():Object(c.b)("div",{className:"Payment-placeholder"},Object(c.b)(P,null)),"wechat"===i&&Object(c.b)("div",{className:"Payment-wechatPay"},Object(c.b)("div",{className:"Payment-wechatPayTitle"},Object(c.b)("i",{className:"icon icon-ic_wechatpay PaymentIconWechat"}),"微信支付"),!this.isInWechat&&Object(c.b)("div",null,"使用微信扫描二维码完成支付"),this.state.qrLoaded?Object(c.b)("span",{className:"Payment-qrWrapper"},Object(c.b)("img",{role:"presentation",src:"//www.zhihu.com/qrcode?url=".concat(s),width:"150",height:"150"})):Object(c.b)("div",{className:"Payment-qrPlaceholder"},Object(c.b)(P,null),!this.isInWechat&&Object(c.b)("div",null,"正在生成二维码"),s&&Object(c.b)("img",{role:"presentation",src:"//www.zhihu.com/qrcode?url=".concat(s),width:"1",height:"1",onLoad:this.onQrLoad}))),"balance"===i&&Object(c.b)("form",{onSubmit:this.onBalanceFormSubmit,className:"Payment-balancePay"},Object(c.b)("div",{className:"Payment-balancePayTitle"},Object(c.b)("i",{className:"icon icon-wallet PaymentIconWallet"}),"余额支付"),!l&&Object(c.b)("div",null,Object(c.b)("div",{className:"Payment-description"},"请输入 6 位数知乎支付密码，用于支付验证。"),Object(c.b)(T,{chars:this.state.passcode,onFocus:this.onPasscodeFocus,onChange:this.onPasscodeInput,maskChar:!0,onFinish:this.onPasscodeFinish,className:f()("Payment-tpass",{"Payment-errorInput":this.state.error,"Payment-progressing":u}),autoFocus:!0,ref:function(t){e.tpass=t}},u&&Object(c.b)(P,{className:"Payment-balancePaySpinner"}))),Boolean(l)&&Object(c.b)("div",{className:"Payment-balancePaySms"},Object(c.b)("div",{className:"Payment-balancePaySmsText"},String(l)),Object(c.b)("input",{onChange:this.onPasscodeInput,value:this.state.passcode,className:f()("Payment-sms","SimpleInput",{"Payment-errorInput":this.state.error}),type:"text",pattern:"\\d{6}",minLength:"6",maxLength:"6",title:"验证码应为 6 位数字",placeholder:"输入 6 位数验证码",required:!0,autoFocus:!0,ref:function(t){e.smsInput=t}}),this.state.smsTimer?Object(c.b)("button",{className:"Payment-sendSms",type:"button",disabled:!0},this.state.smsTimer," 秒后可重发"):Object(c.b)("button",{onClick:this.onSendSMSCode,className:"Payment-sendSms",type:"button"},"发送验证码")),Object(c.b)("div",{className:"Payment-balancePayFooter"},Object(c.b)("p",{className:"Payment-errorTip",style:{visibility:this.state.error?"visible":"hidden"}},this.state.error),Boolean(l)&&Object(c.b)(h.c,{color:"blue",disabled:u,className:"Payment-balancePayConfirmBtn",type:"submit"},"确认")),!l&&Object(c.b)("div",{className:"Payment-balancePayForget"},"如果忘记密码请邮件联系"," ",Object(c.b)("email",{className:"Payment-email"},"i@zhihu.com")))):Object(c.b)("div",{className:f()("Payment",n)},Object(c.b)("div",{className:"Payment-placeholder Payment-placehoder--empty"},Object(c.b)(P,null)))}}]),t}(u.a.Component);B.propTypes={trade:p.a.object,autoChooseSinglePayment:p.a.bool,onSuccess:p.a.func.isRequired,onFail:p.a.func,onError:p.a.func,onConfirmPayment:p.a.func,balanceEnable:p.a.bool},B.defaultProps={trade:null,onSuccess:function(){},onFail:function(){},onError:function(){},autoChooseSinglePayment:!0,className:"",balanceEnable:!0};var z=B,q=n(203),V="",U=null;var H=n(19);n(3615);n.d(t,"TipjarDialog",function(){return K});var W=[200,500,1e3,5e3,1e4,2e4],G=100,K=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onConfirmPayment=function(e){n.setState({chosePaymentName:e})},n.onPaySuccess=function(){n.props.onPaySuccess(),n.setState({chosePaymentName:!0,colseTijarDialogStatus:!0,trade:void 0,currentAmount:"",customButton:!1})},n.handleCustomAmount=function(){n.state.trade&&n.state.trade.dispose(),n.setState({showCustom:!0})},n.handleCustomChange=function(e){var t=e.target.value;isNaN(t)?n.setState({customAmount:""}):n.setState({customAmount:parseInt(t)||""})},n.handleCustomKeyUp=function(e){13===e.keyCode&&n.handleSubmitCustom()},n.handleSubmitCustom=function(){var e=n.state.customAmount*G;e>0&&e<=5e4&&(n.setState({customButton:!0,showCustom:!1,colseTijarDialogStatus:!1}),n.createTrade(e))},n.closeModal=function(){n.state.trade&&n.state.trade.dispose(),n.setState(n.getDefaultState())},n.handleAmountButton=function(e){n.createTrade(e.currentTarget.dataset.amount),n.setState({colseTijarDialogStatus:!1,customButton:!1,showCustom:!1})},n.createTrade=function(e){n.setState({tradeLoading:!0,currentAmount:e});var t=n.props.ua;n.props.addReward(e,t.Wechat?"wechat":"normal"),n.setState({tradeLoading:!1})},n.colseTijarDialog=function(){n.setState({chosePaymentName:!0,colseTijarDialogStatus:!0,trade:void 0,currentAmount:""}),n.props.colseTijarDialog()},n.state=n.getDefaultState(),n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.showTip()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.tradeNumber,n=e.type,r=this.state,a=r.trade,o=r.colseTijarDialogStatus,i="article"===n?11:17;if(t&&(!a||t!==a.tradeNo)&&!o){var s=new window.zhihu.pay.Trade(t,i);this.setState({trade:s})}}},{key:"componentWillUnmount",value:function(){this.props.TipjarRender&&this.props.removeTradeNumber()}},{key:"getDefaultState",value:function(){return{showCustom:!1,customAmount:"",currentAmount:"",showTipModal:!1,customButton:!1,chosePaymentName:!0,colseTijarDialogStatus:!1}}},{key:"showTip",value:function(){var e,t,n=this;e="https://pay.zhihu.com/api/js",t=function(){n.setState({showTipModal:!0})},V&&e&&e!==V&&t(new Error("A pay-sdk from different source has been load")),V=e,window.zhihu&&window.zhihu.pay?window.zhihu.pay.ready(t):(U||(U=Object(q.loadScript)(e)),U.then(function(){return window.zhihu.pay.ready(t)},function(e){t(e),U=null}))}},{key:"renderAmountCustom",value:function(){var e=this.state,t=e.showCustom,n=e.customAmount,r=e.currentAmount,a=e.customButton;return Object(c.b)("div",{className:"Reward-TipjarDialog-amountCustom"},t?Object(c.b)("div",{className:"Reward-TipjarDialog-amountInput"},Object(c.b)("input",{name:"",type:"text",className:"SimpleInput",placeholder:"你想赞赏的金额（不超过 500）",value:n,onChange:this.handleCustomChange,onKeyUp:this.handleCustomKeyUp,ref:function(e){e&&e.focus()}}),Object(c.b)(h.c,{disabled:n<=0||n>500,color:"blue",preset:"primary",onClick:this.handleSubmitCustom},"确定"),Object(c.b)("div",{className:"Reward-TipjarDialog-error",style:{display:n>500?"block":"none"}},"不能超过 500 元")):Object(c.b)(h.c,{preset:"plain",className:a?"TipjarDialog-customButton-cheked":"TipjarDialog-customButton",onClick:this.handleCustomAmount},a?"自定义金额： ￥ ".concat(r/G):"自定义金额"))}},{key:"renderTipjarDialog",value:function(){var e=this,t=this.props,n=t.author,r=n.name,a=n.avatarUrl,o=n.isOrg,i=n.urlToken,s=n.id,l=t.tagline,u=this.state.currentAmount;return Object(c.b)("div",{className:"Reward-TipjarDialog"},Object(c.b)("div",{className:"Reward-TipjarDialog-user"},Object(c.b)("a",{href:"/".concat(o?"org":"people","/").concat(i||s),className:"Reward-UserAvatar"},Object(c.b)("img",{src:a.replace("_is","_l"),className:"Reward-Avatar",alt:"当前用户"})),r),Object(c.b)("div",{className:"Reward-TipjarDialog-tagLine"},l),Object(c.b)("div",{className:"Reward-TipjarDialog-selectAmount"},Object(c.b)("div",{className:"Reward-TipjarDialog-amountList"},W.map(function(t){return Object(c.b)(h.c,{key:t,"data-amount":t,onClick:e.handleAmountButton,color:"red",className:f()({"Reward-Button-checked":Number(u)===t})},Object(c.b)("b",null,Number(u)===t?"".concat(t/G," 元"):"￥ ".concat(t/G)))})),this.renderAmountCustom()))}},{key:"render",value:function(){var e=this.props,t=e.ua,n=e.TipjarRender,r=e.isMobile,a=e.tradeNumber,o=e.balanceEnable,i=this.state,s=i.showCustom,l=i.tradeLoading,u=i.showTipModal,d=i.trade,p=i.chosePaymentName,m=r?v.a:b.b,f=r?"small":"default";return Object(c.b)(m,{overlay:!0,size:f,onClose:this.colseTijarDialog,className:"Reward-TipjarDialogModal"},n&&Object(c.b)("div",null,u&&p&&this.renderTipjarDialog(),(d||l)&&!s&&Object(c.b)(z,{trade:d,tradeNumber:a,ua:t,onSuccess:this.onPaySuccess,onConfirmPayment:this.onConfirmPayment,balanceEnable:o})))}}]),t}(l.Component);K.propTypes={author:p.a.object,tagline:p.a.string,colseTijarDialog:p.a.func,addReward:p.a.func,tradeNumber:p.a.number,removeTradeNumber:p.a.func,onPaySuccess:p.a.func,isMobile:p.a.bool,type:p.a.string,balanceEnable:p.a.bool},K.defaultProps={tagline:H.n,balanceEnable:!0}},3652:function(e,t,n){"use strict";n.r(t);var r,a,o,i,s=n(17),c=n(25),l=n(4),u=n(8),d=n(7),p=n(5),m=n(6),f=n(0),h=n(3),b=n.n(h),v=n(1),g=n.n(v),y=n(20),C=n(22),O=n.n(C),j=n(508),_=n(21),w=n(86),k=n.n(w),x=n(1587),S=n(264),N=n(143),A=n(2194),E=n(16),L=n(260),I=n(470),T=n(23),P=n(60),R=n(478),M=n(195),D=n(1624),F=n(9),B=n(33),z=n(26),q=n(794),V=n.n(q),U=n(31),H=n.n(U),W=n(141),G=n(227),K=n(483),Y=n(50);n(3549);function Z(){var e=Object(D.a)(["回复","",""]);return Z=function(){return e},e}var X="zhihu::comment_local_key",$=5,Q=function(){return""},J=(r=Object(y.connect)(function(e){return{shouldOia:Object(Y.i)(e)}}),Object(z.withRouter)(a=r((i=o=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this,e,n))).initLocalComment=function(){var e=r.props,t=e.type,n=e.id;if(t&&n){var a=H.a.get(X)||[],o="".concat(t,"_").concat(n),i=a.find(function(e){return e.key===o}),s=i&&i.value;s&&r.setState({value:{toHTML:function(){return s}},hasNoContent:!1})}},r.saveLocalComment=function(e){var t=r.props,n=t.type,a=t.id;if(n&&a){var o=e?e.toHTML():r.state.value.toHTML(),i="".concat(n,"_").concat(a),s=(H.a.get(X)||[]).filter(function(e){return e.key!==i}),c=o?[].concat(Object(F.a)(s.slice(0,$-1)),[{key:i,value:o}]):s;H.a.set(X,c)}},r.handleChange=function(e){r.setState({value:e,hasNoContent:e.isEmpty})},r.handleCommentShow=r.context.authRequired(function(){r.setState({shown:!0}),r.hiddenInput.focus()}),r.handleCommentHide=function(){r.setState({shown:!1})},r.handleMobileComment=function(){r.onSubmit(),r.handleCommentHide()},r.focusInput=function(e){e.preventDefault(),r.input.focus()},r.onChange=r.handleChange.bind(Object(B.default)(r)),r.onFocus=r.handleFocus.bind(Object(B.default)(r)),r.onBlur=r.handleBlur.bind(Object(B.default)(r)),r.onSubmit=r.context.authRequired(r.handleSubmit.bind(Object(B.default)(r)),void 0,T.b),r.state={active:e.defaultActive,hasNoContent:!0,submitting:!1,shown:!1,value:{toHTML:Q}},r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.initLocalComment()}},{key:"componentWillUnmount",value:function(){this.saveLocalComment()}},{key:"handleFocus",value:function(){this.setState({active:!0})}},{key:"handleBlur",value:function(){var e=this;setTimeout(function(){return e.setState({active:!1})},100)}},{key:"handleSubmit",value:function(){var e=this,t=this.props,n=t.replyTo,r=t.onSubmit,a=t.onCancel,o=this.state.submitting,i=this.input.toHTML();if(i&&r&&!o){this.setState({submitting:!0}),this.saveLocalComment();var s=r(i,n);s.then?s.then(function(){a&&a(),e.input?(e.input.reset(),e.setState({value:{toHTML:Q}},function(){return e.saveLocalComment()})):e.saveLocalComment({toHTML:Q})}).finally(function(){e.setState({submitting:!1})}):(this.setState({submitting:!1}),a&&a(),this.input.reset()),_.default.trackEvent(this,{action:"Comment",element:"Button"})}}},{key:"renderInput",value:function(e){var t=this,n=e.placeholder,r=e.className,a=this.props.autoFocus;return Object(f.b)(g.a.Fragment,null,Object(f.b)(G.c,{keyMap:{FOCUS_COMMENT_INPUT:"shift+c"},handlers:{FOCUS_COMMENT_INPUT:this.focusInput}}),Object(f.b)(K.a,{className:O()("CommentEditor-input",r),defaultValue:this.state.value.toHTML(),allowMention:!0,allowPasteRichText:!1,autoFocus:Boolean(!1)||a,outputBlockType:"div",ref:function(e){t.input=e},placeholder:n,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onSubmit:this.onSubmit,minRows:5}))}},{key:"render",value:function(){var e=this.props,t=e.replyTo,n=e.commentNeedsReview,r=e.className,a=(e.onClick,e.onCancel),o=e.ownerAuthorIsOrg,i=e.ownerAuthorIsBrand,c=(e.type,e.id,e.shouldOia,e.preset,this.state),l=c.active,u=c.hasNoContent,d=c.submitting,p=o?"机构":"作者",m={preset:"primary",color:"blue",children:"评论",disabled:u||d};if(t){var h=V()(Z(),t.author.member.name,n?"，评论由".concat(p,"筛选后公开"):"");return Object(f.b)("div",{className:O()(r,"CommentEditor--inCommentItem",{"CommentEditor--active":l||!u})},this.renderInput({placeholder:h}),Object(f.b)("div",{className:"CommentEditor-actions"},Object(f.b)(E.c,{preset:"plain",onClick:a},"取消"),Object(f.b)(E.c,Object(s.default)({},m,{onClick:this.onSubmit}))))}var b="写下你的评论...";n&&(b=i?"已开启预审评论，评论由品牌筛选后公开":o?"已开启预审评论，评论由机构筛选后公开":"评论由作者筛选后显示");O()(r,"CommentEditor--normal"),this.state.shown;return Object(f.b)("div",{className:O()(r,"CommentEditor--normal",{"CommentEditor--active":l||!u})},this.renderInput({placeholder:b}),Object(f.b)(E.c,Object(s.default)({},m,{className:"CommentEditor-singleButton",onClick:this.onSubmit})))}}]),t}(v.Component),o.contextTypes={authRequired:b.a.func},a=i))||a)||a);J.defaultProps={defaultActive:!1,replyTo:null,inCommentItem:!1,autoFocus:!0,ownerAuthorIsOrg:!1,ownerAuthorIsBrand:!1},J.propTypes={className:b.a.string,defaultActive:b.a.bool,replyTo:b.a.object,inCommentItem:b.a.bool,commentNeedsReview:b.a.bool,canComment:b.a.object,onCancel:b.a.func,onSubmit:b.a.func.isRequired};var ee,te,ne,re,ae=J,oe=n(2297),ie=n(2210),se=n(2331),ce=n(1569),le=n(1572),ue=n(2397),de=n(2398),pe=n(2198),me=n(1566),fe=(n(61),n(1972),n(228)),he=n(19),be=n(164),ve=n(1658),ge=n(192),ye=n(1736),Ce=n(87),Oe=n(519),je=(n(3550),ee=Object(y.connect)(function(e){return{isWechat:e.env.userAgent.Wechat,shouldSpecialOia:Object(Y.j)(e)}}),Object(z.withRouter)(te=ee((re=ne=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={reportModalShown:!1,isReplying:!1,collapsed:!0,guideShown:!1},n.getRedirectUrl=function(){var e=n.props.parent;switch(e.type){case"answer":return"/question/".concat(e.question.id,"/answer/").concat(e.id);case"article":return"https://zhuanlan.zhihu.com/p/".concat(e.id);default:return""}},n.like=n.context.authRequired(function(e){var t=n.props;(0,t.onLike)(t.comment.id,e)},he.R.like,T.b),n.dislike=n.context.authRequired(function(){var e=n.props;(0,e.onDislike)(e.comment.id)},he.R.like,T.b),n.delete=function(){var e=n.props;(0,e.onDelete)(e.comment.id)},n.feature=function(){var e=n.props;(0,e.onFeature)(e.comment.id)},n.collapse=function(){var e=n.props;(0,e.onCollapse)(e.comment.id)},n.approve=function(){var e=n.props;(0,e.onApprove)(e.comment.id)},n.showConversation=function(){var e=n.props;(0,e.onShowConversation)(e.comment.id)},n.startReply=n.context.authRequired(function(){n.setState({isReplying:!0})},void 0,T.b),n.stopReply=function(){n.setState({isReplying:!1})},n.openReportModal=n.context.authRequired(function(){n.setState({reportModalShown:!0})}),n.closeReportModal=function(e){if(e){var t=e.result.payload,r=t&&t.message||t&&t.code&&"举报失败";e.commentDeleteResult&&!(e.commentDeleteResult.payload||{}).code?ye.b.showModal({reportText:r}):Object(Ce.b)(r||"举报成功")}n.setState({reportModalShown:!1})},n.handleExpand=function(){n.setState({collapsed:!1})},n.handleToggleGuide=function(){n.setState({guideShown:!n.state.guideShown})},n.handleDelete=function(){return n.setState({deleteModal:!0})},n.handleCloseDelete=function(){return n.setState({deleteModal:!1})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"renderRoleInfo",value:function(e,t){return"normal"===e?null:Object(f.b)("span",{className:"CommentItem-roleInfo"},"ancestor"===e||"author"===e&&"question"===t?" (提问者) ":" (作者) ")}},{key:"renderReplyTo",value:function(){var e=this.props.comment,t=e.replyToAuthor,n=e.resourceType;if(!t)return null;var r=t.member,a=void 0===r?{}:r,o=t.role;return Object(f.b)("span",null,Object(f.b)("span",{className:"CommentItem-reply"},"回复"),Object(f.b)(ge.a,{className:O()({"CommentItem-userLink":!1}),noBadge:!0,noHoverCard:!0,user:a}),this.renderRoleInfo(o,n))}},{key:"renderInner",value:function(){var e=this,t=this.props,n=t.comment,r=n.isDelete,a=n.collapsed,o=t.isConversation,i=t.ownerAuthorIsOrg;if(r)return o?Object(f.b)("div",{className:"CommentItem-deletedContent"},"这里有一条已删除的评论"):null;if(a&&o&&this.state.collapsed)return Object(f.b)("div",{className:"CommentItem-deletedContent"},"这里有一条已折叠的评论，",Object(f.b)(E.c,{preset:"plain",onClick:this.handleExpand},"查看"));var c,l=this.state,u=l.reportModalShown,d=l.isReplying,p=this.props,m=p.parent,h=m.canComment,b=(h=void 0===h?{status:!0}:h).status,v=m.questionType,g=p.commentNeedsReview,y=p.comment,C=p.onReply,j=p.status,_=p.type,w=p.canOperate,k=p.commentPattern,x=p.isMobile,S=y.id,N=y.author,A=y.content,L=y.voteCount,I=y.replyToAuthor,T=y.isAuthor,P=y.isParentAuthor,R=y.createdTime,M=y.featured,D=y.voting,F=y.reviewing,B=y.disliked,z=y.resourceType,q=y.collapsedReason,V=void 0===q?"":q,U=N||{},H=U.member,W=U.role;if(d)c=Object(f.b)(ae,{type:"comment",id:S,commentNeedsReview:g,className:"CommentItem-editor",defaultActive:!0,replyTo:y,onCancel:this.stopReply,onSubmit:C});else if("reviewing"===j)c=Object(f.b)("div",{className:"CommentItem-footer"},Object(f.b)(E.c,{preset:"plain",onClick:this.approve},Object(f.b)(oe.a,{style:{marginRight:5},center:!0,size:14}),"公开"),Object(f.b)(E.c,{className:O()({"CommentItem-hoverBtn":!0}),preset:"plain",onClick:this.handleDelete},Object(f.b)(ie.a,{style:{marginRight:5},center:!0,size:16}),"删除"));else{var G=T||P&&("question"!==_||"commercial"===v);c=Object(f.b)("div",{className:O()("CommentItem-footer",{"CommentItem-mobileFooter":!1})},Object(f.b)(E.c,{className:O()("CommentItem-likeBtn",D&&"is-liked"),preset:"plain",onClick:this.like,disabled:T||!b},Object(f.b)(se.a,{style:{marginRight:5},center:!0,size:16}),L>0?L:"赞"),a&&V&&Object(f.b)("div",{className:"CommentItem-walleTag"},"阴阳怪气自动折叠"===V&&Object(f.b)(ce.a,{size:16,className:"CommentItem-walleIcon"}),V),!o&&I&&Object(f.b)(E.c,{preset:"plain",className:"CommentItem-talkBtn",onClick:this.showConversation},Object(f.b)(le.a,{style:{marginRight:5},center:!0,size:16}),"查看对话"),!o&&!T&&b&&!a&&Object(f.b)(E.c,{preset:"plain",className:O()({"CommentItem-hoverBtn":!0}),onClick:this.startReply},Object(f.b)(ue.a,{style:{marginRight:5},center:!0,size:16}),"回复"),P&&w&&!x&&Object(f.b)(E.c,{className:O()({"CommentItem-hoverBtn":!T}),preset:"plain",onClick:this.feature},Object(f.b)(de.a,{style:{marginRight:5},center:!0,size:16}),M?"取消推荐":"推荐"),P&&w&&!x&&Object(f.b)(E.c,{className:O()({"CommentItem-hoverBtn":!T}),preset:"plain",onClick:this.collapse},Object(f.b)(pe.a,{style:{marginRight:5},center:!0,size:14}),a?"取消折叠":"折叠"),!P&&!T&&w&&!x&&Object(f.b)(E.c,{className:O()({"CommentItem-hoverBtn":!0}),preset:"plain",onClick:this.dislike},Object(f.b)(se.a,{style:{transform:"rotate(180deg)",marginRight:5},size:16,center:!0}),B?"取消踩":"踩"),T||Object(f.b)(E.c,{className:O()({"CommentItem-hoverBtn":!0}),preset:"plain",onClick:this.openReportModal},Object(f.b)(me.a,{style:{marginRight:5},center:!0,size:16}),"举报"),G&&Object(f.b)(E.c,{className:O()({"CommentItem-hoverBtn":!T}),preset:"plain",onClick:this.handleDelete},Object(f.b)(ie.a,{style:{marginRight:5},center:!0,size:16}),"删除"),!1,!1,Object(f.b)(ye.a,{shown:this.state.deleteModal,id:S,onDelete:this.delete,onClose:this.handleCloseDelete}),Object(f.b)(be.a,Object(s.default)({type:"comment",urlToken:S,shown:u,onClose:this.closeReportModal},G&&{onDeleteComment:function(){return e.props.onDelete(S)}},{notification:{failure:Oe.a},zaEnabled:!0})))}return Object(f.b)("div",null,Object(f.b)("div",{className:"CommentItem-meta"},H&&Object(f.b)(ge.a,{className:"CommentItem-avatar",avatar:!0,noHoverCard:"fixed"===k,user:H}),H&&Object(f.b)(ge.a,{className:O()({"CommentItem-userLink":!1}),noBadge:!0,noHoverCard:!0,user:H}),this.renderRoleInfo(W,z),this.renderReplyTo(),F&&Object(f.b)(pe.a,{className:"CommentItem-reviewing","data-tooltip":"".concat(!1===i?"评论未公开，由作者筛选后显示":"已开启预审评论，评论由机构筛选后公开"),center:!0,size:14}),Object(f.b)("span",{className:"CommentItem-time"},Object(fe.toRelativeString)(R))),Object(f.b)(ve.a,{className:"CommentItem-content",html:A}),c)}},{key:"render",value:function(){var e=this.renderInner(),t=this.props,n=t.parent;n.type,n.id,t.isWechat;return e&&Object(f.b)("div",{className:"CommentItem",ref:this.props.onRef},e,!1)}}]),t}(v.PureComponent),ne.propTypes={comment:b.a.object.isRequired,parent:b.a.object.isRequired,commentNeedsReview:b.a.bool,type:b.a.string,isConversation:b.a.bool,onLike:b.a.func.isRequired,onShowConversation:b.a.func,onReply:b.a.func,onFeature:b.a.func,onDelete:b.a.func.isRequired,onCollapse:b.a.func,commentPattern:b.a.string,isMobile:b.a.bool},ne.contextTypes={currentUser:b.a.object,authRequired:b.a.func},te=re))||te)||te),_e=n(2689),we=n(2463),ke=n(2690);n(3555);function xe(e,t){switch(e){case"answer":return Object(P.n)(t);case"article":return Object(R.b)(t);default:return null}}var Se=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={collapsed:!0,current:1},n.commentsWithPaginationElRef=g.a.createRef(),n.load=function(e,t,r){if(!n.props.isFetching&&!n.props.parent.adminClosedComment){var a=e||n.props,o=a.order,i=a.byComment,s=a.status,c=a.parent,l=c.id,u=c.type,d=a.dispatch,p=a.commentPattern;if(a.needLoadCommentPermission&&xe(u,l)&&d(xe(u,l)),r){d(Object(j.e)(u,l,{order:o,isPrevious:t,byComment:i,status:"collapsed",commentPattern:p},!0))}else d(Object(j.e)(u,l,{order:o,isPrevious:t,byComment:i,status:s,commentPattern:p}))}},n.addComment=function(e,t){var r=n.props,a=r.parent,o=a.id,i=a.type,s=r.dispatch,c=[i,o,e];return t&&(c[3]=t.id),s(j.a.apply(void 0,c))},n.featureItem=function(e){n.props.onItemFeature(e,n.lastFeaturedIndex)},n.handleOpenCollapsed=function(){n.setState({collapsed:!1}),n.load(n.props,!1,!0)},n.createOnRef=k()(function(e){return function(t){var r=n.props.byComment;e===Number(r)&&(n.targetCommentEl=t)}}),n.handlePageSelect=function(e){var t=n.props.onPaginationClick,r=n.state.current;t&&t(r,e),n.commentsElement.scrollIntoView(),n.setState({current:e}),n.loadByPagination(e)},n.loadByPagination=function(e,t){var r=t||n.props,a=r.order,o=r.byComment,i=r.status,s=r.parent,c=s.id,l=s.type,u=r.dispatch,d=r.commentPattern;r.needLoadCommentPermission&&xe(l,c)&&u(xe(l,c)),u(Object(j.e)(l,c,{order:a,isPrevious:!1,byComment:o,status:i,commentPattern:d,current:e}))},n.renderComment=function(e){var t=n.props,r=t.parent,a=r.type,o=r.author,i=(o=void 0===o?{isOrg:!1}:o).isOrg,s=t.isMobile,c=t.parent,l=t.commentNeedsReview,u=t.onShowConversation,d=t.status,p=t.onItemLike,m=t.onItemDelete,h=t.onItemCollapse,b=t.onItemDislike,v=t.onItemApprove,g=t.canOperateItem,y=t.commentPattern;return Object(f.b)(je,{key:e.id,isMobile:s,comment:e,onRef:n.createOnRef(e.id),status:d,type:a,parent:c,canOperate:g,commentNeedsReview:l,onShowConversation:u,ownerAuthorIsOrg:i,onLike:p,onReply:n.addComment,onFeature:n.featureItem,onDelete:m,onCollapse:h,onDislike:b,onApprove:v,commentPattern:y})},n.renderNormalComments=function(e){var t=n.state.collapsed,r=n.props.byComment,a=[];if(n.lastFeaturedIndex=0,e.length>0){var o=e[0].featured,i=!1;e.forEach(function(s,c){if(r||!s.collapsed){var l=e[c-1];if(!s.collapsed||(l&&l.collapsed||a.push(n.renderCollapsedDivider()),!t)){a.push(n.renderComment(s));var u=e[c+1];o&&!i&&s.featured&&(!u||!u.featured)&&(i=!0,n.lastFeaturedIndex=c,a.push(Object(f.b)("div",{className:"CommentList-divider",key:"divider-featured"},Object(f.b)("div",{className:"CommentList-dividerLine"}),Object(f.b)("div",{className:"CommentList-dividerText"},"以上为精选评论",Object(f.b)(x.a,{className:"CommentList-questionMark","data-tooltip":"精选评论包含回答作者推荐的评论和部分高赞评论",center:!0,size:16})))))}}})}return a},n.renderCollapsedComments=function(){var e=[],t=n.props.collapsedComments;return n.state.collapsed||!t||t.length<=0?[]:(e.push(t.map(function(e){return n.renderComment(e)})),e)},n.renderComments=function(e){return e.map(n.renderComment)},n.renderCollapsedDivider=function(){var e=n.props,t=e.isDrained,r=e.parent.collapsedCounts;return!t||r<=0?[]:n.state.collapsed?Object(f.b)("div",{className:"CommentList-action",key:"collapsed"},Object(f.b)("div",{className:"CommentList-expendCollapseButton"},Object(f.b)("span",{onClick:n.handleOpenCollapsed},Object(L.formatNumber)(r)," 条评论被折叠"),"（",Object(f.b)("a",{href:"//www.zhihu.com/question/52029856/answer/128623557",target:"_blank",rel:"noopener noreferrer"},"为什么？"),"）")):Object(f.b)("div",{className:"CommentList-divider",key:"divider-collapsed"},Object(f.b)("div",{className:"CommentList-dividerLine"}),Object(f.b)("div",{className:"CommentList-dividerText"},Object(L.formatNumber)(r)," 条评论被折叠（",Object(f.b)("a",{href:"//www.zhihu.com/question/52029856/answer/128623557",target:"_blank",rel:"noopener noreferrer"},"为什么？"),"）"))},n.renderCollapsedInfiLoader=function(){var e=n.state.collapsed;if(e)return[];var t=n.props.collapsedInfo,r=(t=void 0===t?{}:t).isFetching,a=t.isPrevDrained,o=t.isDrained;return Object(f.b)(N.b,{className:"CommentList",onRef:function(e){n.listEl=e},isLocal:!0,isLoading:r,isPrevDrained:a,isDrained:o,onLoad:function(t){return n.load(n.props,t,!e)},placeholder:Object(f.b)(N.a,{className:"CommentItem",small:!0})},n.renderCollapsedComments())},n.renderPatternContent=function(e){var t=n.props,r=t.isFetching,a=t.parent.adminClosedComment,o=t.byComment,i=t.status,s=t.order,c=t.totals,l=t.showPackupButton,u=t.handlePackupButton,d=Math.ceil(c/20),p=n.state.current;return a?null:r?Object(f.b)(_e.a,null):Object(f.b)("div",{ref:n.commentsWithPaginationElRef},Object(f.b)("div",{className:"CommentList"},"normal"===s&&"open"===i?n.renderNormalComments(e):n.renderComments(e)),d>1&&Object(f.b)(A.a,{className:"comments-pagination",current:p,total:d,onSelect:n.handlePageSelect}),!o&&n.renderCollapsedDivider(),!o&&n.renderCollapsedInfiLoader(),l&&Object(f.b)(ke.a,{onClick:u,commentsElRef:n.commentsWithPaginationElRef}))},n.renderModalContent=function(e){var t=n.props,r=t.collapsedInfo,a=t.parent.adminClosedComment,o=t.status,i=t.order,c=t.byComment,l=n.state.collapsed,u=l?n.props:r,d=u.isFetching,p=u.isDrained,m=u.isPrevDrained;if(p&&e.length<=0||a)return Object(f.b)("div",{className:"Comments-empty"},Object(f.b)(M.k,null,Object(f.b)(M.e,null),Object(f.b)("div",null,"还没有评论")));var h={getContainer:function(e){return e}};return Object(f.b)(N.b,Object(s.default)({className:"CommentList",onRef:function(e){n.listEl=e},isLocal:!0,isLoading:d,isPrevDrained:m,isDrained:p,onLoad:function(e){return n.load(n.props,e,!l)},placeholder:Object(f.b)(N.a,{className:"CommentItem",small:!0})},h),"normal"===i&&"open"===o?n.renderNormalComments(e):n.renderComments(e),!c&&n.renderCollapsedDivider(),!c&&n.renderCollapsedComments())},n.renderCommentEdit=function(e){var t=n.props,r=t.parent,a=r.canComment,o=(a=void 0===a?{status:!0}:a).status,i=a.reason,c=r.author,l=(c=void 0===c?{isOrg:!1}:c).isOrg,u=r.type,d=r.id,p=r.adminClosedComment,m=r.questionType,h=t.byComment,b=t.autoFocus,v=t.commentNeedsReview,g=p?"当前内容暂时无法评论":i,y=b&&!h;return o&&!p?Object(f.b)(ae,Object(s.default)({className:"Comments-".concat("top"===e?"top":"footer"),type:u,id:d,commentNeedsReview:v,onSubmit:n.addComment,autoFocus:y,ownerAuthorIsOrg:l,ownerAuthorIsBrand:"commercial"===m},"top"===e&&{preset:"default",onClick:function(e){_.default.trackEvent(e.target,{id:3905})}})):"top"!==e&&Object(f.b)("div",{className:O()("Comments-disabledText",{"Comments-disabledText--fixed":!1})},Object(f.b)("div",{className:"Comments-disabledReason"},g))},n.renderBottomButton=function(){var e=n.props.params,t=e.id,r=e.answerId,a=Boolean(r);return Object(f.b)("div",{className:"Comments-footer CommentEditor--normal"},Object(f.b)(E.c,{className:"CommentEditor-startCommentButton",preset:"primary",color:"blue",onClick:function(){return Object(S.b)(Object(I.a)(a?{type:"answer",id:r}:{type:"question",id:t},{utm_content:"comment_area"}),{zaProps:{id:3906}})}},"打开 App 参与站内讨论"))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.byComment,n=e.commentPattern,r=e.parent.adminClosedComment,a=this.state.current;t&&this.scrollToTarget(),"bottom"!==n||r||this.loadByPagination(a)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.order,r=t.status,a=t.targetComment,o=t.commentPattern;n===e.order&&r===e.status||("bottom"===o?(this.setState({current:1}),this.loadByPagination(1,e)):this.load(e),this.setState({collapsed:!0}));var i=e.targetComment;!a&&i&&this.setState({collapsed:!i.collapsed})}},{key:"componentDidUpdate",value:function(e){!e.comments.length&&this.props.comments.length&&this.props.byComment&&this.scrollToTarget()}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(T.e)(T.b))}},{key:"scrollToTarget",value:function(){var e=this.targetCommentEl,t=this.listEl;if(t&&e){var n=e.getBoundingClientRect(),r=n.top,a=n.height,o=t.getBoundingClientRect(),i=o.top,s=o.height;this.listEl.scrollTop+=r-i-(s-a)/2,e.classList.add("CommentItem--highlighted"),setTimeout(function(){return e.classList.remove("CommentItem--highlighted")},2e3),e.tabIndex=-1,e.focus()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.isAuthor,a=t.comments,o=t.commentPattern,i=t.commentInputPosition,c=t.parent,l=c.author,u=(l=void 0===l?{isOrg:!1}:l).isOrg,d=c.commentPermission,p=c.reviewingCounts,m=c.commentCount,h=c.adminClosedComment,b=t.totals,v=t.status,g=t.order,y=t.onStatusChange,C=t.onOrderChange,j=t.targetLink,_=a.filter(function(e){return!e.isDelete}),w="censor"===d&&r,k=w?{isCommentReviewer:w,onStatusChange:y,status:v,reviewingCounts:p}:{status:v},x=O()({Comments:!0,"Comments--withEditor":!0,"Comments-withPagination":"bottom"===o},n);return Object(f.b)("div",{className:x,ref:function(t){e.commentsElement=t}},Object(f.b)(we.a,Object(s.default)({commentCount:void 0!==m?m:b,commentClosed:h,targetLink:j,order:g,onOrderChange:C,commentPattern:o,isOrg:u,options:this.renderCommentEdit("top")},k)),"top"===i&&this.renderCommentEdit(),"bottom"===o?this.renderPatternContent(_):this.renderModalContent(_),"bottom"===i&&this.renderCommentEdit())}}]),t}(v.Component);Se.propTypes={type:b.a.string,parent:b.a.object.isRequired,targetLink:b.a.node,commentNeedsReview:b.a.bool,byComment:b.a.oneOfType([b.a.number,b.a.string]),commentPattern:b.a.string,commentInputPosition:b.a.oneOf(["top","bottom"]),showPackupButton:b.a.bool,handlePackupButton:b.a.func,onPaginationClick:b.a.func,autoFocus:b.a.bool},Se.contextTypes={authRequired:b.a.func.isRequired},Se.defaultProps={commentInputPosition:"bottom",showPackupButton:!0,autoFocus:!0};var Ne=Object(y.connect)(function(e,t){var n=t.parent,r=t.parent,a=r.type,o=r.id,i=t.status,s=t.order,c=t.byComment,l=t.commentPattern,u=e.entities,d=e.comments,p="".concat(a,"_").concat(o),m=d.parent,f=d.pagination;"reviewing"===i&&(f=d.reviewing),"reverse"===s&&"open"===i&&(f=d.reverse);var h=[],b=d.collapsed[p]||{};b.ids&&b.ids.length>0&&(h=b.ids.map(function(e){return u.comments[e]}));var v=f[p]||{isPrevDrained:!1,isFetching:!1,isDrained:!1,ids:[]},g=v.isFetching,y=v.isPrevDrained,C=v.isDrained,O=v.ids,j=v.newIds,_=void 0===j?[]:j;return{isFetching:g,isPrevDrained:y,isDrained:C,totals:v.totals,comments:("bottom"!==l?O:_).map(function(e){return u.comments[e]}),collapsedInfo:b,collapsedComments:h,targetComment:u.comments[c],parent:Object.assign({},n,{},m[p])}})(Se);var Ae=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this,e,n))).load=r.load.bind(Object(B.default)(r)),r.addComment=n.authRequired(r.addComment.bind(Object(B.default)(r)),void 0,T.b),r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){this.props.dispatch(Object(j.f)(this.props.commentId))}},{key:"addComment",value:function(e,t){var n=this.props,r=n.parent,a=r.type,o=r.id,i=n.commentId,s=n.dispatch,c=[a,o,e,t.id,i];return s(j.a.apply(void 0,c))}},{key:"render",value:function(){var e,t,n,r=this.props,a=r.onItemLike,o=r.onItemDelete,i=r.onItemFeature,s=r.onItemApprove,c=r.onItemCollapse,l=r.onItemDislike,u=r.onNavBack,d=r.canOperateItem,p=r.isFetching,m=r.comments,h=r.commentNeedsReview,b=r.openComment.collapsed,v=r.parent,g=r.parent.canComment,y=(g=void 0===g?{status:!0}:g).status,C=g.reason,O=r.commentPattern,j=r.commentId,_=this.context.currentUser;return Boolean(_&&m.find(function(e){return e.author&&e.author.member.urlToken===_.urlToken}))&&(t=(e=m.filter(function(e){return e.author&&e.author.member.urlToken!==_.urlToken}))[e.length-1]),p&&!m.length?n=Object(f.b)(N.a,{className:"CommentItem",small:!0}):m.length&&(n=m.map(function(e,t){return Object(f.b)(je,{key:t,isConversation:!0,commentNeedsReview:h,canOperate:d,parent:v,comment:e,onLike:a,onDelete:o,onFeature:i,onApprove:s,onCollapse:c,onDislike:l,collapsedShown:b})})),"bottom"===O?Object(f.b)(W.b,{size:"fullPage",onClose:u},Object(f.b)("div",{className:"Comments"},Object(f.b)(we.a,{isConversation:!0,commentPattern:O}),Object(f.b)("div",{className:"CommentList"},n))):Object(f.b)("div",{className:"Comments"},Object(f.b)(we.a,{isConversation:!0,onNavBack:u}),Object(f.b)("div",{className:"CommentList"},n),t&&(y?Object(f.b)(ae,{id:j,type:"conversation",className:"Comments-footer",replyTo:t,commentNeedsReview:h,onSubmit:this.addComment}):Object(f.b)("div",{className:"Comments-disabledText"},C)))}}]),t}(v.Component);Ae.propTypes={commentId:b.a.number.isRequired,type:b.a.string,parent:b.a.object.isRequired,commentNeedsReview:b.a.bool},Ae.contextTypes={currentUser:b.a.object,authRequired:b.a.func.isRequired};var Ee,Le,Ie,Te=Object(y.connect)(function(e,t){var n=t.commentId,r=e.entities.comments,a=e.comments.conversation[n]||{isFetching:!1,isDrained:!1,ids:[]};return{isFetching:a.isFetching,isDrained:a.isDrained,comments:a.ids.map(function(e){return r[e]}),openComment:r[n]}})(Ae),Pe=n(142),Re=Object(Pe.a)(null)((Ie=Le=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={openedCommentId:null,status:"open",order:"normal"},n.like=function(e,t){var r=n.props,a=r.onItemLike,o=r.dispatch;a&&a(e,t),o(Object(j.j)(e))},n.collapse=function(e){var t=n.props,r=t.dispatch,a=t.parent;r(Object(j.g)(e,a.type,a.id))},n.dislike=function(e){return n.props.dispatch(Object(j.h)(e))},n.approve=function(e){var t=n.props,r=t.dispatch,a=t.parent,o=t.type;r(Object(j.b)(e,a.type||o,a.id))},n.handleStatusChange=function(e){n.setState({status:e})},n.handleOrderChange=function(e,t){n.props.onOrderChange&&n.props.onOrderChange(e,t),n.setState({order:e})};var r=e.parent,a=e.dispatch;return n.feature=function(e,t){return a(Object(j.i)(e,r.id,r.type,t))},n.delete=function(e){return a(Object(j.d)(e,r.type,r.id))},n.showConversation=function(e){return n.setState({openedCommentId:e})},n.showComments=function(){return n.setState({openedCommentId:null})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e(this.domNode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.containerClassName,a=t.parent,o=t.commentPattern,i=t.type,l=t.parent,u=(l=void 0===l?{}:l).commentPermission,d=l.relationship,p=void 0===d?{}:d,m=l.author,h=void 0===m?{}:m,b=t.needLoadCommentPermission,v=Object(c.a)(t,["className","containerClassName","parent","commentPattern","type","parent","needLoadCommentPermission"]),g=this.context.currentUser,y=void 0===p.isAuthor?g&&h.urlToken&&g.urlToken===h.urlToken:p.isAuthor,C="censor"===u&&!y,j="answer"===i||"article"===i,_=this.state,w=_.openedCommentId,k=_.status,x=_.order,S={commentNeedsReview:C,parent:a,type:i,canOperateItem:j,onShowConversation:this.showConversation,onItemLike:this.like,onItemFeature:this.feature,onItemDelete:this.delete,onItemCollapse:this.collapse,onItemDislike:this.dislike,onItemApprove:this.approve};return Object(f.b)("div",{className:O()("Comments-container",r),ref:function(t){return e.domNode=t}},Object(f.b)(Ne,Object(s.default)({},v,S,{commentPattern:o,className:O()(n,{"Comments--hidden":w&&"bottom"!==o}),order:x,status:k,onStatusChange:this.handleStatusChange,onOrderChange:this.handleOrderChange,needLoadCommentPermission:b,isAuthor:y})),w&&Object(f.b)(Te,Object(s.default)({},v,S,{commentPattern:o,commentId:w,onNavBack:this.showComments})))}}]),t}(v.Component),Le.propTypes={type:b.a.string.isRequired,parent:b.a.object.isRequired,onOrderChange:b.a.func,onItemLike:b.a.func,isAuthor:b.a.bool,onMount:b.a.func},Le.defaultProps={type:"answer"},Le.contextTypes={currentUser:b.a.object,authRequired:b.a.func.isRequired},Ee=Ie))||Ee;t.default=Object(y.connect)()(Re)}}]);
//# sourceMappingURL=main.modals.1cdb10e158b0bc35c8bc.js.map