<!DOCTYPE html>
<!-- saved from url=(0052)https://wiki.archlinux.org/index.php/Disk_encryption -->
<html class="client-js" lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Disk encryption - ArchWiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"Disk_encryption","wgTitle":"Disk encryption","wgCurRevisionId":603009,"wgRevisionId":603009,"wgArticleId":12828,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Pages or sections flagged with Template:Expansion","Pages with dead links","Disk encryption"],"wgBreakFrames":!1,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Disk_encryption","wgRelevantArticleId":12828,"wgRequestId":"b8bfe5cfd3c6f7992b8f8368","wgCSPNonce":
!1,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[]};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.toc.styles":"ready","zzz.ext.archLinux.styles":"ready","skins.vector.styles.responsive":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.tokens@tffin",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="./Disk encryption - ArchWiki_files/load.php">
<script async="" src="./Disk encryption - ArchWiki_files/load(1).php"></script>
<style>
.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:0;z-index:1099;padding:0;margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:#fff;cursor:pointer;border:1px solid #a2a9b1;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:#fff;cursor:pointer;border:1px solid #a2a9b1;padding:0;margin:0}.suggestions-result{color:#000;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left; overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.suggestions-result-current{background-color:#2a4b8d;color:#fff}.suggestions-special .special-label{color:#72777d;text-align:left}.suggestions-special .special-query{color:#000;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:#c8ccd1}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:#fff}.highlight{font-weight:bold}
@media screen {
	.tochidden,.toctoggle{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.toctoggle{font-size:94%}}
@media print {
	.toc.tochidden,.toctoggle{display:none}}</style><style>
.suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{color:#000;text-decoration:none}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:#fff}.suggestions a.mw-searchSuggest-link .special-query{ overflow:hidden;text-overflow:ellipsis;white-space:nowrap}</style><meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="./Disk encryption - ArchWiki_files/load(2).php">
<meta name="generator" content="MediaWiki 1.34.1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="https://wiki.archlinux.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.archlinux.org/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="https://wiki.archlinux.org/index.php?title=Special:RecentChanges&amp;feed=atom">
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Disk_encryption rootpage-Disk_encryption skin-vector action-view"><div id="archnavbar" class="noprint">
    <div id="archnavbarlogo">
        <p><a id="logo" href="https://www.archlinux.org/"></a></p>
    </div>
    <div id="archnavbarmenu">
        <ul id="archnavbarlist">
                        <li id="anb-home"><a href="https://www.archlinux.org/">Home</a></li>            <li id="anb-packages"><a href="https://www.archlinux.org/packages/">Packages</a></li>            <li id="anb-forums"><a href="https://bbs.archlinux.org/">Forums</a></li>            <li id="anb-wiki" class="anb-selected"><a href="https://wiki.archlinux.org/">Wiki</a></li>            <li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li>            <li id="anb-security"><a href="https://security.archlinux.org/">Security</a></li>            <li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li>            <li id="anb-download"><a href="https://www.archlinux.org/download/">Download</a></li>        </ul>
    </div>
</div>

<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	
	<div class="mw-indicators mw-body-content">
</div>

	<h1 id="firstHeading" class="firstHeading" lang="en">Disk encryption</h1>
	
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		
		
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="https://wiki.archlinux.org/index.php/Disk_encryption#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="https://wiki.archlinux.org/index.php/Disk_encryption#p-search">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div class="archwiki-template-meta-related-articles-start"><p>Related articles</p><ul>
<li><a href="https://wiki.archlinux.org/index.php/Dm-crypt" title="Dm-crypt">dm-crypt</a></li>
<li><a href="https://wiki.archlinux.org/index.php/TrueCrypt" title="TrueCrypt">TrueCrypt</a></li>
<li><a href="https://wiki.archlinux.org/index.php/ECryptfs" title="ECryptfs">eCryptfs</a></li>
<li><a href="https://wiki.archlinux.org/index.php/EncFS" title="EncFS">EncFS</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Gocryptfs" title="Gocryptfs">gocryptfs</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Fscrypt" title="Fscrypt">fscrypt</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Tomb" title="Tomb">Tomb</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Tcplay" title="Tcplay">tcplay</a></li>
<li><a href="https://wiki.archlinux.org/index.php/GnuPG" title="GnuPG">GnuPG</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Self-Encrypting_Drives" title="Self-Encrypting Drives">Self-Encrypting Drives</a></li>
</ul></div>
<p>This article discusses <a href="https://en.wikipedia.org/wiki/Disk_encryption" class="extiw" title="wikipedia:Disk encryption">disk encryption</a> software, which on-the-fly encrypts / decrypts data written to / read from a <a href="https://wiki.archlinux.org/index.php/Block_device" class="mw-redirect" title="Block device">block device</a>, <a href="https://wiki.archlinux.org/index.php/Disk_partition" class="mw-redirect" title="Disk partition">disk partition</a> or directory. Examples for block devices are hard drives, flash drives and DVDs.
</p><p>Disk encryption should only be viewed as an adjunct to the existing security mechanisms of the operating system - focused on securing physical access, while relying on <i>other</i> parts of the system to provide things like network security and user-based access control.
</p><p>For Full-disk encryption (FDE), see <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Encrypting_an_entire_system" title="Dm-crypt/Encrypting an entire system">dm-crypt/Encrypting an entire system</a>.
</p>
<div id="toc" class="toc"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Why_use_encryption?"><span class="tocnumber">1</span> <span class="toctext">Why use encryption?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#System_data_encryption"><span class="tocnumber">2</span> <span class="toctext">System data encryption</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Available_methods"><span class="tocnumber">3</span> <span class="toctext">Available methods</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Stacked_filesystem_encryption"><span class="tocnumber">3.1</span> <span class="toctext">Stacked filesystem encryption</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Cloud-storage_optimized"><span class="tocnumber">3.1.1</span> <span class="toctext">Cloud-storage optimized</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Block_device_encryption"><span class="tocnumber">3.2</span> <span class="toctext">Block device encryption</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Block_device_vs_stacked_filesystem_encryption"><span class="tocnumber">3.3</span> <span class="toctext">Block device vs stacked filesystem encryption</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Comparison_table"><span class="tocnumber">3.4</span> <span class="toctext">Comparison table</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Preparation"><span class="tocnumber">4</span> <span class="toctext">Preparation</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Choosing_a_setup"><span class="tocnumber">4.1</span> <span class="toctext">Choosing a setup</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Examples"><span class="tocnumber">4.2</span> <span class="toctext">Examples</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Choosing_a_strong_passphrase"><span class="tocnumber">4.3</span> <span class="toctext">Choosing a strong passphrase</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Preparing_the_disk"><span class="tocnumber">4.4</span> <span class="toctext">Preparing the disk</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#How_the_encryption_works"><span class="tocnumber">5</span> <span class="toctext">How the encryption works</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Basic_principle"><span class="tocnumber">5.1</span> <span class="toctext">Basic principle</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Keys,_keyfiles_and_passphrases"><span class="tocnumber">5.2</span> <span class="toctext">Keys, keyfiles and passphrases</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Cryptographic_metadata"><span class="tocnumber">5.3</span> <span class="toctext">Cryptographic metadata</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Ciphers_and_modes_of_operation"><span class="tocnumber">5.4</span> <span class="toctext">Ciphers and modes of operation</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Plausible_deniability"><span class="tocnumber">5.5</span> <span class="toctext">Plausible deniability</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Backup_for_disk_encryption_scenarios"><span class="tocnumber">6</span> <span class="toctext">Backup for disk encryption scenarios</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Block_device_encryption_2"><span class="tocnumber">6.1</span> <span class="toctext">Block device encryption</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Backup_of_disk_block_device"><span class="tocnumber">6.1.1</span> <span class="toctext">Backup of disk block device</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#Backup_of_the_filesystem_or_files"><span class="tocnumber">6.1.2</span> <span class="toctext">Backup of the filesystem or files</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="https://wiki.archlinux.org/index.php/Disk_encryption#LUKS_header_backup"><span class="tocnumber">6.1.3</span> <span class="toctext">LUKS header backup</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span id="Why_use_encryption.3F"></span><span class="mw-headline" id="Why_use_encryption?">Why use encryption?</span></h2>
<p>Disk encryption ensures that files are always stored on disk in an encrypted form. The files only become available to the operating system and applications in readable form while the system is running and unlocked by a trusted user. An unauthorized person looking at the disk contents directly, will only find garbled random-looking data instead of the actual files.
</p><p>For example, this can prevent unauthorized viewing of the data when the computer or hard-disk is:
</p>
<ul><li>located in a place to which non-trusted people might gain access while you are away</li>
<li>lost or stolen, as with laptops, netbooks or external storage devices</li>
<li>in the repair shop</li>
<li>discarded after its end-of-life</li></ul>
<p>In addition, disk encryption can also be used to add some security against unauthorized attempts to tamper with your operating system –  for example, the installation of keyloggers or Trojan horses by attackers who can gain physical access to the system while you are away.
</p>
<div class="archwiki-template-box archwiki-template-box-warning"><strong>Warning:</strong> Disk encryption does <b>not</b> protect your data from all threats.</div>
<p>You will still be vulnerable to:
</p>
<ul><li>Attackers who can break into your system (e.g. over the Internet) while it is running and after you have already unlocked and mounted the encrypted parts of the disk.</li>
<li>Attackers who are able to gain physical access to the computer while it is running (even if you use a screenlocker), or very shortly <i>after</i> it was running, if they have the resources to perform a <a href="https://en.wikipedia.org/wiki/Cold_boot_attack" class="extiw" title="wikipedia:Cold boot attack">cold boot attack</a>.</li>
<li>A government entity, which not only has the resources to easily pull off the above attacks, but also may simply force you to give up your keys/passphrases using various techniques of <a href="https://en.wikipedia.org/wiki/Coercion" class="extiw" title="wikipedia:Coercion">coercion</a>. In most non-democratic countries around the world, as well as in the USA and UK, it may be legal for law enforcement agencies to do so if they have suspicions that you might be hiding something of interest.</li>
<li><a href="https://en.wikipedia.org/wiki/Rubber-hose_cryptanalysis" class="extiw" title="wikipedia:Rubber-hose cryptanalysis">Rubber-hose cryptanalysis</a>. Also see <a rel="nofollow" class="external text" href="https://xkcd.com/538/">XKCD #538</a></li></ul>
<p>A very strong disk encryption setup (e.g. full system encryption with authenticity checking and no plaintext boot partition) is required to stand a chance against professional attackers who are able to tamper with your system <i>before</i> you use it. And even then it cannot prevent all types of tampering (e.g. hardware keyloggers). The best remedy might be <a href="https://wiki.archlinux.org/index.php/Hardware-based_full-disk_encryption" class="mw-redirect" title="Hardware-based full-disk encryption">hardware-based full-disk encryption</a> and <a href="https://en.wikipedia.org/wiki/Trusted_Computing" class="extiw" title="wikipedia:Trusted Computing">Trusted Computing</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning"><strong>Warning:</strong> Disk encryption also will not protect you against someone simply <a href="https://wiki.archlinux.org/index.php/Securely_wipe_disk" title="Securely wipe disk">wiping your disk</a>. <a href="https://wiki.archlinux.org/index.php/Backup_programs" class="mw-redirect" title="Backup programs">Regular backups</a> are recommended to keep your data safe.</div>
<h2><span class="mw-headline" id="System_data_encryption">System data encryption</span></h2>
<p>While encrypting only the user data itself (often located within the home directory, or on removable media like a data DVD), is the simplest and least intrusive method, it has some significant drawbacks.
In modern computer systems, there are many background processes that may cache and store information about user data or parts of the data itself in non-encrypted areas of the hard drive, like:
</p>
<dl><dd><ul><li>swap partitions
<ul><li>(potential remedies: disable swapping, or use <a href="https://wiki.archlinux.org/index.php/Encrypted_swap" class="mw-redirect" title="Encrypted swap">encrypted swap</a> as well)</li></ul></li>
<li><code>/tmp</code> (temporary files created by user applications)
<ul><li>(potential remedies: avoid such applications; mount <code>/tmp</code> inside a <a href="https://wiki.archlinux.org/index.php/Ramdisk" class="mw-redirect" title="Ramdisk">ramdisk</a>)</li></ul></li>
<li><code>/var</code> (log files and databases and such; for example, <a href="https://wiki.archlinux.org/index.php/Mlocate" title="Mlocate">mlocate</a> stores an index of all file names in <code>/var/lib/mlocate/mlocate.db</code>)</li></ul></dd></dl>
<p>The solution is to encrypt both system and user data, preventing unauthorized physical access to private data that may be cached by the system. This however comes with the disadvantage that unlocking of the encrypted parts of the disk has to happen at boot time. Another benefit of system data encryption is that it complicates the installation of malware like <a href="https://en.wikipedia.org/wiki/Keystroke_logging" class="extiw" title="wikipedia:Keystroke logging">keyloggers</a> or rootkits for someone with physical access.
</p>
<h2><span class="mw-headline" id="Available_methods">Available methods</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="https://wiki.archlinux.org/index.php/File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="./Disk encryption - ArchWiki_files/Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="https://wiki.archlinux.org/index.php/File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="./Disk encryption - ArchWiki_files/Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div><b>Reason:</b> <a href="https://wiki.archlinux.org/index.php/Ext4" title="Ext4">Ext4</a>, <a href="https://wiki.archlinux.org/index.php/ZFS" title="ZFS">ZFS</a> and possible other filesystems offer (native) encryption. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Disk_encryption">Talk:Disk encryption#</a>)</div>
</div>
<p>All disk encryption methods operate in such a way that even though the disk actually holds encrypted data, the operating system and applications "see" it as the corresponding normal readable data as long as the cryptographic container (i.e. the logical part of the disk that holds the encrypted data) has been "unlocked" and mounted.
</p><p>For this to happen, some "secret information" (usually in the form of a keyfile and/or passphrase) needs to be supplied by the user, from which the actual encryption key can be derived (and stored in the kernel keyring for the duration of the session).
</p><p>If you are completely unfamiliar with this sort of operation, please also read the <a href="https://wiki.archlinux.org/index.php/Disk_encryption#How_the_encryption_works">#How the encryption works</a> section below.
</p><p>The available disk encryption methods can be separated into two types by their layer of operation:
</p>
<h3><span class="mw-headline" id="Stacked_filesystem_encryption">Stacked filesystem encryption</span></h3>
<p>Stacked filesystem encryption solutions are implemented as a layer that stacks on top of an existing filesystem, causing all files written to an encryption-enabled folder to be encrypted on-the-fly before the underlying filesystem writes them to disk, and decrypted whenever the filesystem reads them from disk. This way, the files are stored in the host filesystem in encrypted form (meaning that their contents, and usually also their file/folder names, are replaced by random-looking data of roughly the same length), but other than that they still exist in that filesystem as they would without encryption, as normal files / symlinks / hardlinks / etc.
</p><p>The way it is implemented, is that to unlock the folder storing the raw encrypted files in the host filesystem ("lower directory"), it is mounted (using a special stacked pseudo-filesystem) onto itself or optionally a different location ("upper directory"), where the same files then appear in readable form - until it is unmounted again, or the system is turned off.
</p><p>Available solutions in this category are <a href="https://wiki.archlinux.org/index.php/ECryptfs" title="ECryptfs">eCryptfs</a> and <a href="https://wiki.archlinux.org/index.php/EncFS" title="EncFS">EncFS</a>.
</p>
<h4><span class="mw-headline" id="Cloud-storage_optimized">Cloud-storage optimized</span></h4>
<p>If you are deploying stacked filesystem encryption to achieve zero-knowledge synchronization with third-party-controlled locations such as cloud-storage services, you may want to consider alternatives to eCryptfs and EncFS, since these are not optimized for transmission of files over the Internet. There are some solutions designed for this purpose instead:
</p>
<ul><li><a href="https://wiki.archlinux.org/index.php/Gocryptfs" title="Gocryptfs">gocryptfs</a></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cryptomator/">cryptomator</a></span><sup><small>AUR</small></sup> (multi-platform)</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=cryfs">cryfs</a></span></li></ul>
<p>Note that some cloud-storage services offer zero-knowledge encryption directly through their own <a href="https://wiki.archlinux.org/index.php/List_of_applications/Internet#Cloud_synchronization_clients" title="List of applications/Internet">client applications</a>.
</p>
<h3><span class="mw-headline" id="Block_device_encryption">Block device encryption</span></h3>
<p>Block device encryption methods, on the other hand, operate <i>below</i> the filesystem layer and make sure that everything written to a certain block device (i.e. a whole disk, or a partition, or a file acting as a <a href="https://en.wikipedia.org/wiki/loop_device" class="extiw" title="wikipedia:loop device">loop device</a>) is encrypted. This means that while the block device is offline, its whole content looks like a large blob of random data, with no way of determining what kind of filesystem and data it contains. Accessing the data happens, again, by mounting the protected container (in this case the block device) to an arbitrary location in a special way.
</p><p>The following "block device encryption" solutions are available in Arch Linux:
</p>
<dl><dt>loop-AES</dt>
<dd>loop-AES is a descendant of cryptoloop and is a secure and fast solution to system encryption. However, loop-AES is considered less user-friendly than other options as it requires non-standard kernel support.</dd></dl>
<dl><dt>dm-crypt</dt>
<dd><a href="https://wiki.archlinux.org/index.php/Dm-crypt" title="Dm-crypt">dm-crypt</a> is the standard device-mapper encryption functionality provided by the Linux kernel. It can be used directly by those who like to have full control over all aspects of partition and key management. The management of dm-crypt is done with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=cryptsetup">cryptsetup</a></span> userspace utility. It can be used for the following types of block-device encryption: <i>LUKS</i> (default), <i>plain</i>, and has limited features for <i>loopAES</i> and <i>Truecrypt</i> devices.
<ul><li>LUKS, used by default, is an additional convenience layer which stores all of the needed setup information for dm-crypt on the disk itself and abstracts partition and key management in an attempt to improve ease of use and cryptographic security.</li>
<li>plain dm-crypt mode, being the original kernel functionality, does not employ the convenience layer. It is more difficult to apply the same cryptographic strength with it. When doing so, longer keys (passphrases or keyfiles) are the result. It has, however, other advantages, described in the following <a href="https://wiki.archlinux.org/index.php/Disk_encryption#Block_device_vs_stacked_filesystem_encryption">#Block device vs stacked filesystem encryption</a>.</li></ul></dd></dl>
<dl><dt>TrueCrypt/VeraCrypt</dt>
<dd>A portable format, supporting encryption of whole disks/partitions or file containers, with compatibility across all major operating systems. <a href="https://wiki.archlinux.org/index.php/TrueCrypt" title="TrueCrypt">TrueCrypt</a> was discontinued by its developers in May 2014. The VeraCrypt fork was audited in 2016.</dd></dl>
<p>For practical implications of the chosen layer of operation, see the <a href="https://wiki.archlinux.org/index.php/Disk_encryption#Block_device_vs_stacked_filesystem_encryption">#Block device vs stacked filesystem encryption</a> below, as well as the general write up for <a rel="nofollow" class="external text" href="https://www.systutorials.com/docs/linux/packages/ecryptfs-utils-111/ecryptfs-faq.html#compare">eCryptfs</a>. See <a href="https://wiki.archlinux.org/index.php/Category:Encryption" title="Category:Encryption">Category:Encryption</a> for the available content of the methods compared below, as well as other tools not included in the table.
</p>
<h3><span class="mw-headline" id="Block_device_vs_stacked_filesystem_encryption">Block device vs stacked filesystem encryption</span></h3>
<table class="wikitable left-align-row-headers" style="text-align:center;">
<tbody><tr>
<th>Aspect
</th>
<th data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">Block device encryption
</th>
<th data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">Stacked filesystem encryption
</th></tr>
<tr>
<th>Encrypts
</th>
<td>whole block devices
</td>
<td>files
</td></tr>
<tr>
<th>Container for encrypted data may be...
</th>
<td>a disk or disk partition / a file acting as a virtual partition
</td>
<td>a directory in an existing file system
</td></tr>
<tr>
<th>Relation to filesystem
</th>
<td>operates below filesystem layer: does not care whether the content of the encrypted block device is a filesystem, a partition table, a LVM setup, or anything else
</td>
<td>adds an additional layer to an existing filesystem, to automatically encrypt/decrypt files whenever they are written/read
</td></tr>
<tr>
<th>File metadata (number of files, dir structure, file sizes, permissions, mtimes, etc.) is encrypted
</th>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span><br>(file and dir names can be encrypted though)
</td></tr>
<tr>
<th>Can be used to custom-encrypt whole hard drives (including partition tables)
</th>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th>Can be used to encrypt swap space
</th>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>

<tr>
<th>Can be used without pre-allocating a fixed amount of space for the encrypted data container
</th>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th>Can be used to protect existing filesystems without block device access, e.g. NFS or Samba shares, cloud storage, etc.
</th>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th>Allows offline file-based backups of encrypted files
</th>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="Comparison_table">Comparison table</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="https://wiki.archlinux.org/index.php/File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="./Disk encryption - ArchWiki_files/Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="https://wiki.archlinux.org/index.php/File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="./Disk encryption - ArchWiki_files/Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div><b>Reason:</b> Fill in blanks. Add sources to checkmarks / crosses. What is <i>salt</i>, <i>key-slot diffusion</i> or <i>key scrubbing</i>? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Disk_encryption">Talk:Disk encryption#</a>)</div>
</div>
<p>The column "dm-crypt +/- LUKS" denotes features of dm-crypt for both LUKS ("+") and plain ("-") encryption modes. If a specific feature requires using LUKS, this is indicated by "(with LUKS)". Likewise "(without LUKS)" indicates usage of LUKS is counter-productive to achieve the feature and plain mode should be used.
</p>
<table class="wikitable left-align-row-headers" style="text-align:center; cell-padding:100px;">
<tbody><tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Summary
</th>
<th>Loop-AES
</th>
<th><a href="https://wiki.archlinux.org/index.php/Dm-crypt" title="Dm-crypt">dm-crypt</a> +/- LUKS
</th>
<th><a href="https://wiki.archlinux.org/index.php/TrueCrypt" title="TrueCrypt">TrueCrypt</a>
</th>
<th>VeraCrypt
</th>
<th><a href="https://wiki.archlinux.org/index.php/ECryptfs" title="ECryptfs">eCryptfs</a>
</th>
<th><a href="https://wiki.archlinux.org/index.php/EncFS" title="EncFS">EncFS</a>
</th>
<th><a href="https://wiki.archlinux.org/index.php/Gocryptfs" title="Gocryptfs">gocryptfs</a>
</th>
<th><a href="https://wiki.archlinux.org/index.php/Fscrypt" title="Fscrypt">fscrypt</a>
</th></tr>
<tr>
<th>Encryption type
</th>
<td data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">block device
</td>
<td data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">block device
</td>
<td data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">block device
</td>
<td data-sort-value="6" style="background: #def; color: inherit; vertical-align: middle; text-align: center;">block device
</td>
<td data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">stacked filesystem
</td>
<td data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">stacked filesystem
</td>
<td data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">stacked filesystem
</td>
<td data-sort-value="7" style="background: #dcf; color: inherit; vertical-align: middle; text-align: center;">native filesystem
</td></tr>
<tr>
<th>Note
</th>
<td>longest-existing one; possibly the fastest; works on legacy systems
</td>
<td>de-facto standard for block device encryption on Linux; very flexible
</td>
<td>very portable, well-polished but abandoned
</td>
<td>maintained fork of TrueCrypt
</td>
<td>slightly faster than EncFS; individual encrypted files portable between systems
</td>
<td>easiest one to use; supports non-root administration
</td>
<td>aspiring successor of EncFS
</td>
<td>default for Chrome OS and Android encryption
</td></tr>
<tr>
<th>Availability in Arch Linux
</th>
<td>requires manually compiled, custom kernel
</td>
<td><i>kernel modules:</i> already shipped with default kernel; <i>tools:</i> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=device-mapper">device-mapper</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=cryptsetup">cryptsetup</a></span>
</td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=truecrypt">truecrypt</a></span>
</td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=veracrypt">veracrypt</a></span>
</td>
<td><i>kernel module:</i> already shipped with default kernel; <i>tools:</i> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=ecryptfs-utils">ecryptfs-utils</a></span>
</td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=encfs">encfs</a></span>
</td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gocryptfs">gocryptfs</a></span>
</td>
<td><i>kernel module:</i> already shipped with default kernel; <i>tool:</i> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=fscrypt">fscrypt</a></span>
</td></tr>
<tr>
<th>License
</th>
<td>GPL
</td>
<td>GPL
</td>
<td>TrueCrypt License 3.1
</td>
<td>Apache License 2.0, parts subject to TrueCrypt License v3.0
</td>
<td>GPL
</td>
<td>GPL
</td>
<td>MIT
</td>
<td>GPL (kernel), Apache 2.0 (userspace tool)
</td></tr>
<tr>
<th>Encryption implemented in...
</th>
<td>kernelspace
</td>
<td>kernelspace
</td>
<td>kernelspace
</td>
<td>kernelspace
</td>
<td>kernelspace
</td>
<td>userspace (<a href="https://wiki.archlinux.org/index.php/FUSE" title="FUSE">FUSE</a>)
</td>
<td>userspace (<a href="https://wiki.archlinux.org/index.php/FUSE" title="FUSE">FUSE</a>)
</td>
<td>kernelspace
</td></tr>
<tr>
<th>Cryptographic metadata stored in...
</th>
<td>?
</td>
<td>with LUKS: LUKS Header
</td>
<td>begin/end of (decrypted) device (<a rel="nofollow" class="external text" href="http://www.truecrypt.org/docs/volume-format-specification">format</a>)<sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2018-07-15]</sup>
</td>
<td>begin/end of (decrypted) device (<a rel="nofollow" class="external text" href="https://www.veracrypt.fr/en/VeraCrypt%20Volume%20Format%20Specification.html">format spec</a>)
</td>
<td>header  of  each encrypted file
</td>
<td>control file at the top level of each EncFs container
</td>
<td>?
</td>
<td><code>.fscrypt</code> directory at root of each filesystem
</td></tr>
<tr>
<th>Wrapped encryption key stored in...
</th>
<td>?
</td>
<td>with LUKS: LUKS header
</td>
<td>begin/end of (decrypted) device (<a rel="nofollow" class="external text" href="http://www.truecrypt.org/docs/volume-format-specification">format spec</a>)<sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2018-07-15]</sup>
</td>
<td>begin/end of (decrypted) device (<a rel="nofollow" class="external text" href="https://www.veracrypt.fr/en/VeraCrypt%20Volume%20Format%20Specification.html">format spec</a>)
</td>
<td>key file that can be stored anywhere
</td>
<td>key file that can be stored anywhere
<p><a rel="nofollow" class="external autonumber" href="https://github.com/rfjakob/encfs/blob/next/encfs/encfs.pod#environment-variables">[1]</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-03-29&nbsp;ⓘ]</sup><a rel="nofollow" class="external autonumber" href="https://github.com/vgough/encfs/issues/48#issuecomment-69301831">[2]</a>
</p>
</td>
<td>?
</td>
<td><code>.fscrypt</code> directory at root of each filesystem
</td>
<td>
</td></tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Usability features
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>TrueCrypt
</th>
<th>VeraCrypt
</th>
<th>eCryptfs
</th>
<th>EncFs
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th></tr>
<tr>
<th>Non-root users can create/destroy containers for encrypted data
</th>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td>limited
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th>Provides a GUI
</th>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
<p><a href="https://wiki.archlinux.org/index.php/EncFS#Gnome_Encfs_Manager" title="EncFS">optional</a>
</p>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th>Support for automounting on login
</th>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
<p>with <a href="https://wiki.archlinux.org/index.php/TrueCrypt#Automounting_using_.2Fetc.2Fcrypttab" title="TrueCrypt">systemd and /etc/crypttab</a>
</p>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
<p>with <a href="https://wiki.archlinux.org/index.php/TrueCrypt#Automounting_using_.2Fetc.2Fcrypttab" title="TrueCrypt">systemd and /etc/crypttab</a>
</p>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th>Support for automatic unmounting in case of inactivity
</th>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Security features
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>TrueCrypt
</th>
<th>VeraCrypt
</th>
<th>eCryptfs
</th>
<th>EncFs
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th></tr>
<tr>
<th>Supported ciphers
</th>
<td>AES
</td>
<td>AES, Anubis, CAST5/6, Twofish, Serpent, Camellia, Blowfish,… (every cipher the kernel Crypto API offers)
</td>
<td>AES, Twofish, Serpent
</td>
<td>AES, Twofish, Serpernt, Camellia, Kuznyechik
</td>
<td>AES, Blowfish, Twofish...
</td>
<td>AES, Blowfish, Twofish, and any other ciphers available on the system
</td>
<td>AES
</td>
<td>AES, ChaCha12
</td></tr>
<tr>
<th>Integrity
</th>
<td>none
</td>
<td>optional in LUKS2
</td>
<td>none
</td>
<td>none
</td>
<td>none
</td>
<td>none (default mode)<br>HMAC (paranoia mode)
</td>
<td>GCM
</td>
<td>none
</td></tr>
<tr>
<th>Support for salting
</th>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br>(with LUKS)
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th>Support for cascading multiple ciphers
</th>
<td>?
</td>
<td>Not in one device, but blockdevices can be cascaded
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
<p>AES-Twofish, AES-Twofish-Serpent, Serpent-AES, Serpent-Twofish-AES, Twofish-Serpent
</p>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
<p>AES-Twofish, AES-Twofish-Serpent, Serpent-AES, Serpent-Twofish-AES, Twofish-Serpent
</p>
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th>Support for key-slot diffusion
</th>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br>(with LUKS)
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th>Protection against key scrubbing
</th>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br>(without LUKS)
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th>Support for multiple (independently revocable) keys for the same encrypted data
</th>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br>(with LUKS)
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Performance features
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>TrueCrypt
</th>
<th>VeraCrypt
</th>
<th>eCryptfs
</th>
<th>EncFs
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th></tr>
<tr>
<th>Multithreading support
</th>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br><a rel="nofollow" class="external autonumber" href="http://kernelnewbies.org/Linux_2_6_38#head-49f5f735853f8cc7c4d89e5c266fe07316b49f4c">[3]</a>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td>?
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th>Hardware-accelerated encryption support
</th>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br><a rel="nofollow" class="external autonumber" href="https://github.com/vgough/encfs/issues/118">[4]</a>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Block device encryption specific
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>TrueCrypt
</th>
<th>VeraCrypt
</th>
<th colspan="4" rowspan="2" style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">
</th></tr>
<tr>
<th>Support for (manually) resizing the encrypted block device in-place
</th>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Stacked filesystem encryption specific
</th>
<th colspan="4" rowspan="5" style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">
</th>
<th>eCryptfs
</th>
<th>EncFs
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th></tr>
<tr>
<th>Supported file systems
</th>
<td>ext3, ext4, xfs (with caveats), jfs, nfs...
</td>
<td>ext3, ext4, xfs (with caveats), jfs, nfs, cifs...
<p><a rel="nofollow" class="external autonumber" href="https://github.com/vgough/encfs">[5]</a>
</p>
</td>
<td>any
</td>
<td>ext4, F2FS, UBIFS
</td></tr>
<tr>
<th>Ability to encrypt filenames
</th>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th>Ability to <i>not</i> encrypt filenames
</th>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th>Optimized handling of sparse files
</th>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td></tr>
<tr>
<th style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">Compatibility &amp; prevalence
</th>
<th>Loop-AES
</th>
<th>dm-crypt +/- LUKS
</th>
<th>TrueCrypt
</th>
<th>VeraCrypt
</th>
<th>eCryptfs
</th>
<th>EncFs
</th>
<th>gocryptfs
</th>
<th>fscrypt
</th></tr>
<tr>
<th>Supported Linux kernel versions
</th>
<td>2.0 or newer
</td>
<td>CBC-mode since 2.6.4, ESSIV 2.6.10, LRW 2.6.20, XTS 2.6.24
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>2.4 or newer
</td>
<td>?
</td>
<td>4.1 or newer
</td></tr>
<tr>
<th>Encrypted data can also be accessed from Windows
</th>
<td>?
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br><a rel="nofollow" class="external autonumber" href="https://github.com/vgough/encfs/wiki/Windows">[6]</a>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span> (cppcryptfs port)
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th>Encrypted data can also be accessed from Mac OS X
</th>
<td>?
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br><a rel="nofollow" class="external autonumber" href="https://sites.google.com/a/arg0.net/www/encfs-mac-build">[7]</a>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span> (beta quality)
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>
<tr>
<th>Encrypted data can also be accessed from FreeBSD
</th>
<td>?
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span>
<p>(with VeraCrypt)
</p>
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br>
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#181;" class="template-ya-char" title="Ya">✔</span><br><a rel="nofollow" class="external autonumber" href="http://www.freshports.org/sysutils/fusefs-encfs/">[8]</a>
</td>
<td>?
</td>
<td style="text-align:center;"><span style="color:#d33;" class="template-na-char" title="Na">✘</span>
</td></tr>

<tr>
<th>Used by
</th>
<td>?
</td>
<td>Debian/Ubuntu installer (system encryption)<br>Fedora installer
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>?
</td>
<td>Android, Chrome OS
</td></tr></tbody></table>
<ol><li>well, a single file in those filesystems could be used as a container (virtual loop-back device!) but then one would not actually be using the filesystem (and the features it provides) anymore</li></ol>
<h2><span class="mw-headline" id="Preparation">Preparation</span></h2>
<h3><span class="mw-headline" id="Choosing_a_setup">Choosing a setup</span></h3>
<p>Which disk encryption setup is appropriate for you will depend on your goals (please read <a href="https://wiki.archlinux.org/index.php/Disk_encryption#Why_use_encryption?">#Why use encryption?</a> above) and system parameters.
</p><p>Among other things, you will need to answer the following questions:
</p>
<dl><dt>What kind of "attacker" do you want to protect against?</dt></dl>
<ul><li>Casual computer user snooping around your disk when your system is turned off, stolen, etc.</li>
<li>Professional cryptanalyst who can get repeated read/write access to your system before and after you use it</li>
<li>Anyone in between</li></ul>
<dl><dt>What do you want to encrypt?</dt></dl>
<ul><li>Only user data</li>
<li>User data and system data</li>
<li>Only confidential data, i.e. a subset of your data</li></ul>
<dl><dt>How should swap, <code>/tmp</code>, etc. be taken care of?</dt></dl>
<ul><li>Disable or mount as ramdisk</li>
<li>Encrypted swap
<ul><li>Swapfile as part of full disk encryption</li>
<li>Encrypt swap partition separately</li></ul></li></ul>
<dl><dt>How should encrypted parts of the disk be unlocked?</dt></dl>
<ul><li>Passphrase
<ul><li>Same as login password</li>
<li>Different to login password</li></ul></li>
<li>Keyfile (e.g. on a USB stick, that you keep in a safe place or carry around with yourself)</li>
<li>Both</li></ul>
<dl><dt><i>When</i> should encrypted parts of the disk be unlocked?</dt></dl>
<ul><li>Before boot</li>
<li>During boot</li>
<li>At login</li>
<li>Manually on demand <i>(after login)</i></li></ul>
<dl><dt>How should multiple users be accommodated?</dt></dl>
<ul><li>Not at all</li>
<li>Using a shared passphrase (or keyfile) known to every user</li>
<li>Independently issued and revocable passphrases (or keyfiles) for the same encrypted part of the disk</li>
<li>Separate encrypted parts of the disk for different users</li></ul>
<p>Then you can go on to make the required technical choices (see <a href="https://wiki.archlinux.org/index.php/Disk_encryption#Available_methods">#Available methods</a> above, and <a href="https://wiki.archlinux.org/index.php/Disk_encryption#How_the_encryption_works">#How the encryption works</a> below), regarding:
</p>
<ul><li>stacked filesystem encryption vs. blockdevice encryption</li>
<li>key management</li>
<li>cipher and mode of operation</li>
<li>metadata storage</li>
<li>location of the "lower directory" (in case of stacked filesystem encryption)</li></ul>
<h3><span class="mw-headline" id="Examples">Examples</span></h3>
<p>In practice, it could turn out something like:
</p>
<dl><dt>Example 1</dt>
<dd>Simple user data encryption (internal hard drive) using a virtual folder called <code>~/Private</code> in the user's home directory encrypted with <a href="https://wiki.archlinux.org/index.php/EncFS" title="EncFS">EncFS</a>
<ul><li>encrypted versions of the files stored on-disk in <code>~/.Private</code></li>
<li>unlocked on demand with dedicated passphrase</li></ul></dd></dl>
<dl><dt>Example 2</dt>
<dd>Partial system encryption with each user's home directory encrypted with <a href="https://wiki.archlinux.org/index.php/ECryptfs" title="ECryptfs">ECryptfs</a>
<ul><li>unlocked on respective user login, using login passphrase</li>
<li><code>swap</code> and <code>/tmp</code> partitions encrypted with <a href="https://wiki.archlinux.org/index.php/Dm-crypt_with_LUKS" class="mw-redirect" title="Dm-crypt with LUKS">Dm-crypt with LUKS</a>, using an automatically generated per-session throwaway key</li>
<li>indexing/caching of contents of <code>/home</code> by <i>slocate</i> (and similar apps) disabled.</li></ul></dd></dl>
<dl><dt>Example 3</dt>
<dd>System encryption - whole hard drive except <code>/boot</code> partition (however, <code>/boot</code> can be encrypted with <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Encrypting_an_entire_system#Encrypted_boot_partition_.28GRUB.29" title="Dm-crypt/Encrypting an entire system">GRUB</a>) encrypted with <a href="https://wiki.archlinux.org/index.php/Dm-crypt_with_LUKS" class="mw-redirect" title="Dm-crypt with LUKS">Dm-crypt with LUKS</a>
<ul><li>unlocked during boot, using passphrases or USB stick with keyfiles</li>
<li>Maybe different passphrases/keys per user - independently revocable</li>
<li>Maybe encryption spanning multiple drives or partition layout flexibility with <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Encrypting_an_entire_system#LUKS_on_LVM" title="Dm-crypt/Encrypting an entire system">LUKS on LVM</a></li></ul></dd></dl>
<dl><dt>Example 4</dt>
<dd>Hidden/plain system encryption - whole hard drive encrypted with <a href="https://wiki.archlinux.org/index.php/Dm-crypt" title="Dm-crypt">plain dm-crypt</a>
<ul><li>USB-boot, using dedicated passphrase plus USB stick with keyfile</li>
<li>data integrity checked before mounting</li>
<li><code>/boot</code> partition located on aforementioned USB stick</li></ul></dd></dl>
<p>Many other combinations are of course possible. You should carefully plan what kind of setup will be appropriate for your system.
</p>
<h3><span class="mw-headline" id="Choosing_a_strong_passphrase">Choosing a strong passphrase</span></h3>
<p>See <a href="https://wiki.archlinux.org/index.php/Security#Passwords" title="Security">Security#Passwords</a>.
</p>
<h3><span class="mw-headline" id="Preparing_the_disk">Preparing the disk</span></h3>
<p>Before setting up disk encryption on a (part of a) disk, consider securely wiping it first. This consists of overwriting the entire drive or partition with a stream of zero bytes or random bytes, and is done for one or both of the following reasons:
</p>
<dl><dt>Prevent recovery of previously stored data</dt></dl>
<p>Disk encryption does not change the fact that individual sectors are only overwritten on demand, when the file system creates or modifies the data those particular sectors hold (see <a href="https://wiki.archlinux.org/index.php/Disk_encryption#How_the_encryption_works">#How the encryption works</a> below). Sectors which the filesystem considers "not currently used" are not touched, and may still contain remnants of data from previous filesystems. The only way to make sure that all data which you previously stored on the drive can not be <a href="https://en.wikipedia.org/wiki/Data_recovery" class="extiw" title="wikipedia:Data recovery">recovered</a>, is to manually erase it.
For this purpose it does not matter whether zero bytes or random bytes are used (although wiping with zero bytes will be much faster).
</p>
<dl><dt>Prevent disclosure of usage patterns on the encrypted drive</dt></dl>
<p>Ideally, the whole encrypted part of the disk should be indistinguishable from uniformly random data. This way, no unauthorized person can know which and how many sectors actually contain encrypted data - which may be a desirable goal in itself (as part of true confidentiality), and also serves as an additional barrier against attackers trying to break the encryption.
In order to satisfy this goal, wiping the disk using high-quality random bytes is crucial.
</p><p>The second goal only makes sense in combination with block device encryption, because in the case of stacked filesystem encryption the encrypted data can easily be located anyways (in the form of distinct encrypted files in the host filesystem). Also note that even if you only intend to encrypt a particular folder, you will have to erase the whole partition if you want to get rid of files that were previously stored in that folder in unencrypted form (due to <a href="https://en.wikipedia.org/wiki/File_system_fragmentation" class="extiw" title="wikipedia:File system fragmentation">disk fragmentation</a>). If there are other folders on the same partition, you will have to back them up and move them back afterwards.
</p><p>Once you have decided which kind of disk erasure you want to perform, refer to the <a href="https://wiki.archlinux.org/index.php/Securely_wipe_disk" title="Securely wipe disk">Securely wipe disk</a> article for technical instructions.
</p>
<div class="archwiki-template-box archwiki-template-box-tip"><strong>Tip:</strong> In deciding which method to use for secure erasure of a hard disk drive, remember that this will not need to be performed more than once for as long as the drive is used as an encrypted drive.</div>
<h2><span class="mw-headline" id="How_the_encryption_works">How the encryption works</span></h2>
<p>This section is intended as a high-level introduction to the concepts and processes which are at the heart of usual disk encryption setups.
</p><p>It does not go into technical or mathematical details (consult the appropriate literature for that), but should provide a system administrator with a rough understanding of how different setup choices (especially regarding key management) can affect usability and security.
</p>
<h3><span class="mw-headline" id="Basic_principle">Basic principle</span></h3>
<p>For the purposes of disk encryption, each blockdevice (or individual file in the case of stacked filesystem encryption) is divided into <b>sectors</b> of equal length, for example 512 bytes (4,096 bits). The encryption/decryption then happens on a per-sector basis, so the n'th sector of the blockdevice/file on disk will store the encrypted version of the n'th sector of the original data.
</p><p>Whenever the operating system or an application requests a certain fragment of data from the blockdevice/file, the whole sector (or sectors) that contains the data will be read from disk, decrypted on-the-fly, and temporarily stored in memory:
</p>
<pre style="white-space: pre !important; font-variant-ligatures: no-common-ligatures;">           ╔═══════╗
  sector 1 ║"???.."║
           ╠═══════╣         ╭┈┈┈┈┈╮
  sector 2 ║"???.."║         ┊ key ┊
           ╠═══════╣         ╰┈┈┬┈┈╯
           :       :            │
           ╠═══════╣            ▼             ┣┉┉┉┉┉┉┉┫
  sector n ║"???.."║━━━━━━━(decryption)━━━━━━▶┋"abc.."┋ sector n
           ╠═══════╣                          ┣┉┉┉┉┉┉┉┫
           :       :
           ╚═══════╝
  
           encrypted                          unencrypted
      blockdevice or                          data in RAM
        file on disk
</pre>
<p>Similarly, on each write operation, all sectors that are affected must be re-encrypted completely (while the rest of the sectors remain untouched). 
</p><p>In order to be able to de/encrypt data, the disk encryption system needs to know the unique secret "key" associated with it. Whenever the encrypted block device or folder in question is to be mounted, its corresponding key (called henceforth its "master key") must be supplied. 
</p><p>The entropy of the key is of utmost importance for the security of the encryption. A randomly generated byte string of a certain length, for example 32 bytes (256 bits), has desired properties but is not feasible to remember and apply manually during the mount. 
</p><p>For that reason two techniques are used as aides. The first is the application of cryptography to increase the entropic property of the master key, usually involving a separate human-friendly passphrase. For the different types of encryption the <a href="https://wiki.archlinux.org/index.php/Disk_encryption#Comparison_table">#Comparison table</a> lists respective features. The second method is to create a keyfile with high entropy and store it on a medium separate from the data drive to be encrypted. 
</p><p>See also <a href="https://en.wikipedia.org/wiki/Authenticated_encryption" class="extiw" title="wikipedia:Authenticated encryption">Wikipedia:Authenticated encryption</a>.
</p>
<h3><span id="Keys.2C_keyfiles_and_passphrases"></span><span class="mw-headline" id="Keys,_keyfiles_and_passphrases">Keys, keyfiles and passphrases</span></h3>
<p>The following are examples how to store and cryptographically secure a master key with a keyfile:
</p>
<dl><dt>Stored in a plaintext keyfile</dt></dl>
<p>Simply storing the master key in a file (in readable form) is the simplest option. The file - called a "keyfile" - can be placed on a USB stick that you keep in a secure location and only connect to the computer when you want to mount the encrypted parts of the disk (e.g. during boot or login).
</p>
<dl><dt>Stored in passphrase-protected form in a keyfile or on the disk itself</dt></dl>
<p>The master key (and thus the encrypted data) can be protected with a secret passphrase, which you will have to remember and enter each time you want to mount the encrypted block device or folder. See <a href="https://wiki.archlinux.org/index.php/Disk_encryption#Cryptographic_metadata">#Cryptographic metadata</a> below for details.
</p>
<dl><dt>Randomly generated on-the-fly for each session</dt></dl>
<p>In some cases, e.g. when encrypting swap space or a <code>/tmp</code> partition, it is not necessary to keep a persistent master key at all. A new throwaway key can be randomly generated for each session, without requiring any user interaction. This means that once unmounted, all files written to the partition in question can never be decrypted again by <i>anyone</i> - which in those particular use-cases is perfectly fine.
</p>
<h3><span class="mw-headline" id="Cryptographic_metadata">Cryptographic metadata</span></h3>
<p>Frequently the encryption techniques use cryptographic functions to enhance the security of the master key itself. On mount of the encrypted device the passphrase or keyfile is passed through these and only the result can unlock the master key to decrypt the data. 
</p><p>A common setup is to apply so-called "key stretching" to the passphrase (via a "key derivation function"), and use the resulting enhanced passphrase as the mount key for decrypting the actual master key (which has been previously stored in encrypted form):
</p>
<pre style="white-space: pre !important; font-variant-ligatures: no-common-ligatures;"> ╭┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈╮                         ╭┈┈┈┈┈┈┈┈┈┈┈╮
 ┊ mount passphrase ┊━━━━━⎛key derivation⎞━━━▶┊ mount key ┊
 ╰┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈╯ ,───⎝   function   ⎠    ╰┈┈┈┈┈┬┈┈┈┈┈╯
 ╭──────╮            ╱                              │
 │ salt │───────────´                               │
 ╰──────╯                                           │
 ╭─────────────────────╮                            ▼         ╭┈┈┈┈┈┈┈┈┈┈┈┈╮
 │ encrypted master key│━━━━━━━━━━━━━━━━━━━━━━(decryption)━━━▶┊ master key ┊
 ╰─────────────────────╯                                      ╰┈┈┈┈┈┈┈┈┈┈┈┈╯
</pre>
<p>The <b>key derivation function</b> (e.g. PBKDF2 or scrypt) is deliberately slow (it applies many iterations of a hash function, e.g. 1000 iterations of HMAC-SHA-512), so that brute-force attacks to find the passphrase are rendered infeasible. For the normal use-case of an authorized user, it will only need to be calculated once per session, so the small slowdown is not a problem.
It also takes an additional blob of data, the so-called "<b>salt</b>", as an argument - this is randomly generated once during set-up of the disk encryption and stored unprotected as part of the cryptographic metadata. Because it will be a different value for each setup, this makes it infeasible for attackers to speed up brute-force attacks using precomputed tables for the key derivation function.
</p><p>The <b>encrypted master key</b> can be stored on disk together with the encrypted data. This way, the confidentiality of the encrypted data depends completely on the secret passphrase. 
</p><p>Additional security can be attained by instead storing the encrypted master key in a keyfile on e.g. a USB stick. This provides <b>two-factor authentication</b>: Accessing the encrypted data now requires something only you <i>know</i> (the passphrase), and additionally something only you <i>have</i> (the keyfile).
</p><p>Another way of achieving two-factor authentication is to augment the above key retrieval scheme to mathematically "combine" the passphrase with byte data read from one or more external files (located on a USB stick or similar), before passing it to the key derivation function.The files in question can be anything, e.g. normal JPEG images, which can be beneficial for <a href="https://wiki.archlinux.org/index.php/Disk_encryption#Plausible_deniability">#Plausible deniability</a>. They are still called "keyfiles" in this context, though.
</p><p>After it has been derived, the master key is securely stored in memory (e.g. in a kernel keyring), for as long as the encrypted block device or folder is mounted.
</p><p>It is usually not used for de/encrypting the disk data directly, though.
For example, in the case of stacked filesystem encryption, each file can be automatically assigned its own encryption key. Whenever the file is to be read/modified, this file key first needs to be decrypted using the main key, before it can itself be used to de/encrypt the file contents:
</p>
<pre style="white-space: pre !important; font-variant-ligatures: no-common-ligatures;">                           ╭┈┈┈┈┈┈┈┈┈┈┈┈╮
                           ┊ master key ┊
   file on disk:           ╰┈┈┈┈┈┬┈┈┈┈┈┈╯
  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐        │
  ╎╭───────────────────╮╎        ▼          ╭┈┈┈┈┈┈┈┈┈┈╮
  ╎│ encrypted file key│━━━━(decryption)━━━▶┊ file key ┊
  ╎╰───────────────────╯╎                   ╰┈┈┈┈┬┈┈┈┈┈╯
  ╎┌───────────────────┐╎                        ▼           ┌┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┐
  ╎│ encrypted file    │◀━━━━━━━━━━━━━━━━━(de/encryption)━━━▶┊ readable file ┊
  ╎│ contents          │╎                                    ┊ contents      ┊
  ╎└───────────────────┘╎                                    └┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┘
  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘
</pre>
<p>In a similar manner, a separate key (e.g. one per folder) may be used for the encryption of file names in the case of stacked filesystem encryption.
</p><p>In the case of block device encryption one master key is used per device and, hence, all data. Some methods offer features to assign multiple passphrases/keyfiles for the same device and others not. Some use above mentioned functions to secure the master key and others give the control over the key security fully to the user. Two examples are explained by the cryptographic parameters used by <a href="https://wiki.archlinux.org/index.php/Dm-crypt" title="Dm-crypt">dm-crypt</a> in plain or LUKS modes. 
</p><p>When comparing the parameters used by both modes one notes that dm-crypt plain mode has parameters relating to how to locate the keyfile (e.g. <code>--keyfile-size</code>, <code>--keyfile-offset</code>). The dm-crypt LUKS mode does not need these, because each blockdevice contains a header with the cryptographic metadata at the beginning. The header includes the used cipher, the encrypted master-key itself and parameters required for its derivation for decryption. The latter parameters in turn result from options used during initial encryption of the master-key (e.g. <code>--iter-time</code>, <code>--use-random</code>). 
</p><p>For the dis-/advantages of the different techniques, please refer back to <a href="https://wiki.archlinux.org/index.php/Disk_encryption#Comparison_table">#Comparison table</a> or browse the specific pages. 
</p><p>See also:
</p>
<ul><li><a href="https://en.wikipedia.org/wiki/Passphrase" class="extiw" title="wikipedia:Passphrase">Wikipedia:Passphrase</a></li>
<li><a href="https://en.wikipedia.org/wiki/Key_(cryptography)" class="extiw" title="wikipedia:Key (cryptography)">Wikipedia:Key (cryptography)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Key_management" class="extiw" title="wikipedia:Key management">Wikipedia:Key management</a></li>
<li><a href="https://en.wikipedia.org/wiki/Key_derivation_function" class="extiw" title="wikipedia:Key derivation function">Wikipedia:Key derivation function</a></li></ul>
<h3><span class="mw-headline" id="Ciphers_and_modes_of_operation">Ciphers and modes of operation</span></h3>
<p>The actual algorithm used for translating between pieces of unencrypted and encrypted data (so-called "plaintext" and "ciphertext") which correspond to each other with respect to a given encryption key, is called a "<b>cipher</b>".
</p><p>Disk encryption employs "block ciphers", which operate on fixed-length blocks of data, e.g. 16 bytes (128 bits). At the time of this writing, the predominantly used ones are:
</p>
<table class="wikitable" style="margin:0 5em 1.5em 5em;">
<tbody><tr>
<th scope="col" style="text-align:left">
</th>
<th scope="col" style="text-align:left">block&nbsp;size
</th>
<th scope="col" style="text-align:left">key&nbsp;size
</th>
<th scope="col" style="text-align:left">comment
</th></tr>
<tr>
<th scope="row" style="text-align:right"><a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard" class="extiw" title="wikipedia:Advanced Encryption Standard">AES</a>
</th>
<td>128 bits
</td>
<td>128, 192 or 256 bits
</td>
<td>approved by the NSA for protecting "SECRET" and "TOP SECRET" classified US-government information (when used with a key size of 192 or 256 bits)
</td></tr>
<tr>
<th scope="row" style="text-align:right"><a href="https://en.wikipedia.org/wiki/Blowfish_(cipher)" class="extiw" title="wikipedia:Blowfish (cipher)">Blowfish</a>
</th>
<td>64 bits
</td>
<td>32–448 bits
</td>
<td>one of the first patent-free secure ciphers that became publicly available, hence very well established on Linux
</td></tr>
<tr>
<th scope="row" style="text-align:right"><a href="https://en.wikipedia.org/wiki/Twofish" class="extiw" title="wikipedia:Twofish">Twofish</a>
</th>
<td>128 bits
</td>
<td>128, 192 or 256 bits
</td>
<td>developed as successor of Blowfish, but has not attained as much widespread usage
</td></tr>
<tr>
<th scope="row" style="text-align:right"><a href="https://en.wikipedia.org/wiki/Serpent_(cipher)" class="extiw" title="wikipedia:Serpent (cipher)">Serpent</a>
</th>
<td>128 bits
</td>
<td>128, 192 or 256 bits
</td>
<td>Considered the most secure of the five AES-competition finalists<a rel="nofollow" class="external autonumber" href="http://csrc.nist.gov/archive/aes/round2/r2report.pdf">[9]</a><a rel="nofollow" class="external autonumber" href="https://www.cl.cam.ac.uk/~rja14/Papers/serpentcase.pdf">[10]</a><a rel="nofollow" class="external autonumber" href="https://www.cl.cam.ac.uk/~rja14/Papers/serpent.pdf">[11]</a>.
</td></tr></tbody></table>
<p>Encrypting/decrypting a sector (<a href="https://wiki.archlinux.org/index.php/Disk_encryption#Basic_principle">see above</a>) is achieved by dividing it into small blocks matching the cipher's block-size, and following a certain rule-set (a so-called "<b>mode of operation</b>") for how to consecutively apply the cipher to the individual blocks.
</p><p>Simply applying it to each block separately without modification (dubbed the "<i>electronic codebook (ECB)</i>" mode) would not be secure, because if the same 16 bytes of plaintext always produce the same 16 bytes of ciphertext, an attacker could easily recognize patterns in the ciphertext that is stored on disk.
</p><p>The most basic (and common) mode of operation used in practice is "<i>cipher-block chaining (CBC)</i>". When encrypting a sector with this mode, each block of plaintext data is combined in a mathematical way with the ciphertext of the previous block, before encrypting it using the cipher. For the first block, since it has no previous ciphertext to use, a special pre-generated data block stored with the sector's cryptographic metadata and called an "<b>initialization vector (IV)</b>" is used:
</p>
<pre style="white-space: pre !important; font-variant-ligatures: no-common-ligatures;">                                   ╭──────────────╮
                                   │initialization│
                                   │vector        │
                                   ╰────────┬─────╯
           ╭  ╠══════════╣        ╭─key     │      ┣┉┉┉┉┉┉┉┉┉┉┫        
           │  ║          ║        ▼         ▼      ┋          ┋         . START
           ┴  ║"????????"║◀━━━━(cipher)━━━━(+)━━━━━┋"Hello, W"┋ block  ╱╰────┐
     sector n ║          ║                         ┋          ┋ 1      ╲╭────┘
   of file or ║          ║──────────────────╮      ┋          ┋         ' 
  blockdevice ╟──────────╢        ╭─key     │      ┠┈┈┈┈┈┈┈┈┈┈┨
           ┬  ║          ║        ▼         ▼      ┋          ┋
           │  ║"????????"║◀━━━━(cipher)━━━━(+)━━━━━┋"orld !!!"┋ block
           │  ║          ║                         ┋          ┋ 2
           │  ║          ║──────────────────╮      ┋          ┋
           │  ╟──────────╢                  │      ┠┈┈┈┈┈┈┈┈┈┈┨
           │  ║          ║                  ▼      ┋          ┋
           :  :   ...    :        ...      ...     :   ...    : ...
  
                ciphertext                         plaintext
                   on disk                         in RAM
</pre>
<p>When decrypting, the procedure is reversed analogously.
</p><p>One thing worth noting is the generation of the unique initialization vector for each sector. The simplest choice is to calculate it in a predictable fashion from a readily available value such as the sector number. However, this might allow an attacker with repeated access to the system to perform a so-called <a href="https://en.wikipedia.org/wiki/Watermarking_attack" class="extiw" title="wikipedia:Watermarking attack">watermarking attack</a>. To prevent that, a method called "Encrypted salt-sector initialization vector (<b>ESSIV</b>)" can be used to generate the initialization vectors in a way that makes them look completely random to a potential attacker.
</p><p>There are also a number of other, more complicated modes of operation available for disk encryption, which already provide built-in security against such attacks (and hence do not require ESSIV).
Some can also additionally guarantee authenticity of the encrypted data (i.e. confirm that it has not been modified/corrupted by someone who does not have access to the key).
</p><p>See also:
</p>
<ul><li><a href="https://en.wikipedia.org/wiki/Disk_encryption_theory" class="extiw" title="wikipedia:Disk encryption theory">Wikipedia:Disk encryption theory</a></li>
<li><a href="https://en.wikipedia.org/wiki/Block_cipher" class="extiw" title="wikipedia:Block cipher">Wikipedia:Block cipher</a></li>
<li><a href="https://en.wikipedia.org/wiki/Block_cipher_modes_of_operation" class="extiw" title="wikipedia:Block cipher modes of operation">Wikipedia:Block cipher modes of operation</a></li></ul>
<h3><span class="mw-headline" id="Plausible_deniability">Plausible deniability</span></h3>
<p>See <a href="https://en.wikipedia.org/wiki/Plausible_deniability" class="extiw" title="wikipedia:Plausible deniability">Wikipedia:Plausible deniability</a>.
</p>
<h2><span class="mw-headline" id="Backup_for_disk_encryption_scenarios">Backup for disk encryption scenarios</span></h2>
<p>Make a <a href="https://wiki.archlinux.org/index.php/Backup" class="mw-redirect" title="Backup">backup</a> of the user data to protect against data loss. In general the backup of your encrypted data should be encrypted as well.
</p>
<h3><span class="mw-headline" id="Block_device_encryption_2">Block device encryption</span></h3>
<p>There are multiple options, you can backup the disk block device where the encryption container resides as an image, e.g. <code>/dev/sd<i>x</i></code>, or you can backup the filesystem inside of the encrypted container, e.g. <code>/dev/mapper/<i>dm_name</i></code>, or you can backup the files, e.g. with <a href="https://wiki.archlinux.org/index.php/Rsync" title="Rsync">rsync</a>. The following sections list the advantages and disadvantages of each option.
</p>
<h4><span class="mw-headline" id="Backup_of_disk_block_device">Backup of disk block device</span></h4>
<p>A backup of the disk block device is:
</p>
<ul><li>encrypted as is with the same level of security as the working copy</li>
<li>contains your LUKS header</li>
<li>always as large as the disk block device</li>
<li>does not easily allow advanced backup strategies such as incremental backup, compression, or deduplication</li>
<li>easily restored to a new disk as this also restores the encryption container</li></ul>
<h4><span class="mw-headline" id="Backup_of_the_filesystem_or_files">Backup of the filesystem or files</span></h4>
<p>A backup of the filesystem or files is:
</p>
<ul><li><i>not</i> encrypted as is</li>
<li>should be encrypted before transport over the network, or when saving to disk, requiring additional effort</li>
<li>not necessarily encrypted with the same level of security as the working copy</li>
<li>does not contain your LUKS header</li>
<li>only as large as the used space on the filesystem, see e.g. <a href="https://wiki.archlinux.org/index.php/Partclone" title="Partclone">partclone</a></li>
<li>allows advanced backup strategies such as incremental backup, compression, or deduplication</li>
<li>requires manual restoration of the encryption container to a new disk, for example by restoring the LUKS header backup</li></ul>
<h4><span class="mw-headline" id="LUKS_header_backup">LUKS header backup</span></h4>
<p>If using LUKS it is possible to make a <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Device_encryption#Backup_and_restore" title="Dm-crypt/Device encryption">backup of the LUKS headers</a>: it can make sense to periodically check and synchronize those backups, especially if passphrases have been revoked.
</p><p>If however you have a backup of the data, and want to restore it, you can recreate the LUKS encrypted partition from scratch with cryptsetup and then restore the data, therefore backing up the LUKS header is less important than backing up the data.
</p>
<!-- 
NewPP limit report
Cached time: 20200424215011
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.120 seconds
Real time usage: 0.127 seconds
Preprocessor visited node count: 1385/1000000
Preprocessor generated node count: 0/1000000
Post‐expand include size: 19555/2097152 bytes
Template argument size: 2661/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4711/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   41.518      1 -total
  8.97%    3.723      2 Template:Expansion
  8.82%    3.661      5 Template:B
  8.37%    3.475     19 Template:META_Table_cell
  7.31%    3.034      9 Template:Grey
  5.90%    2.448      5 Template:V
  5.81%    2.412      1 Template:Related_articles_start
  5.69%    2.364      1 Template:Aur
  5.62%    2.333     67 Template:Ya
  5.10%    2.118      3 Template:Dead_link
-->

<!-- Saved in parser cache with key archwiki:pcache:idhash:12828-0!canonical and timestamp 20200424215011 and revision id 603009
 -->
</div></div>
		
		<div class="printfooter">Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Disk_encryption&amp;oldid=603009">https://wiki.archlinux.org/index.php?title=Disk_encryption&amp;oldid=603009</a>"</div>
		
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.archlinux.org/index.php/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="https://wiki.archlinux.org/index.php/Category:Disk_encryption" title="Category:Disk encryption">Disk encryption</a></li></ul></div><div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul><li><a href="https://wiki.archlinux.org/index.php/Category:Pages_or_sections_flagged_with_Template:Expansion" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li><li><a href="https://wiki.archlinux.org/index.php/Category:Pages_with_dead_links" title="Category:Pages with dead links">Pages with dead links</a></li></ul></div></div>
		<div class="visualClear"></div>
		
	</div>
</div>


		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
									<div id="p-personal" role="navigation" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-createaccount"><a href="https://wiki.archlinux.org/index.php?title=Special:CreateAccount&amp;returnto=Disk+encryption" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="https://wiki.archlinux.org/index.php?title=Special:UserLogin&amp;returnto=Disk+encryption" title="You are encouraged to log in; however, it is not mandatory [alt-shift-o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
							<li id="ca-nstab-main" class="selected"><span><a href="https://wiki.archlinux.org/index.php/Disk_encryption" title="View the content page [alt-shift-c]" accesskey="c">Page</a></span></li><li id="ca-talk"><span><a href="https://wiki.archlinux.org/index.php/Talk:Disk_encryption" rel="discussion" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></span></li>						</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-variants-label">
						<h3 id="p-variants-label">
							<span>Variants</span>
						</h3>
						<ul class="menu">
													</ul>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
							<li id="ca-view" class="collapsible selected"><span><a href="https://wiki.archlinux.org/index.php/Disk_encryption">Read</a></span></li><li id="ca-viewsource" class="collapsible"><span><a href="https://wiki.archlinux.org/index.php?title=Disk_encryption&amp;action=edit" title="This page is protected.
You can view its source [alt-shift-e]" accesskey="e">View source</a></span></li><li id="ca-history" class="collapsible"><span><a href="https://wiki.archlinux.org/index.php?title=Disk_encryption&amp;action=history" title="Past revisions of this page [alt-shift-h]" accesskey="h">View history</a></span></li>						</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<input type="checkbox" class="vectorMenuCheckbox" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span></h3>
						<ul class="menu">
													</ul>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>
						<form action="https://wiki.archlinux.org/index.php" id="searchform">
							<div id="simpleSearch">
								<input type="search" name="search" placeholder="Search ArchWiki" title="Search ArchWiki [alt-shift-f]" accesskey="f" id="searchInput" autocomplete="off"><input type="hidden" value="Special:Search" name="title"><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton">							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="https://wiki.archlinux.org/index.php/Main_page" title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id="p-navigation" aria-labelledby="p-navigation-label">
			<h3 id="p-navigation-label">Navigation</h3>
			<div class="body">
								<ul>
					<li id="n-mainpage-description"><a href="https://wiki.archlinux.org/index.php/Main_page" title="Visit the main page [alt-shift-z]" accesskey="z">Main page</a></li><li id="n-Table-of-contents"><a href="https://wiki.archlinux.org/index.php/Table_of_contents">Table of contents</a></li><li id="n-portal"><a href="https://wiki.archlinux.org/index.php/Getting_involved" title="Various ways Archers can contribute to the community">Getting involved</a></li><li id="n-currentevents"><a href="https://wiki.archlinux.org/index.php/ArchWiki:News" title="The latest lowdown on the wiki">Wiki news</a></li><li id="n-randompage"><a href="https://wiki.archlinux.org/index.php/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-Interaction" aria-labelledby="p-Interaction-label">
			<h3 id="p-Interaction-label">Interaction</h3>
			<div class="body">
								<ul>
					<li id="n-help"><a href="https://wiki.archlinux.org/index.php/Category:Help" title="Wiki navigation, reading, and editing help">Help</a></li><li id="n-Contributing"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Contributing">Contributing</a></li><li id="n-recentchanges"><a href="https://wiki.archlinux.org/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [alt-shift-r]" accesskey="r">Recent changes</a></li><li id="n-Recent-talks"><a href="https://wiki.archlinux.org/index.php/Special:RecentChanges?namespace=0&amp;invert=1" rel="nofollow">Recent talks</a></li><li id="n-newpages"><a href="https://wiki.archlinux.org/index.php/Special:NewPages">New pages</a></li><li id="n-Statistics"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Statistics">Statistics</a></li><li id="n-Requests"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Requests">Requests</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-tb" aria-labelledby="p-tb-label">
			<h3 id="p-tb-label">Tools</h3>
			<div class="body">
								<ul>
					<li id="t-whatlinkshere"><a href="https://wiki.archlinux.org/index.php/Special:WhatLinksHere/Disk_encryption" title="A list of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.archlinux.org/index.php/Special:RecentChangesLinked/Disk_encryption" rel="nofollow" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="https://wiki.archlinux.org/index.php/Special:SpecialPages" title="A list of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.archlinux.org/index.php?title=Disk_encryption&amp;printable=yes" rel="alternate" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.archlinux.org/index.php?title=Disk_encryption&amp;oldid=603009" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.archlinux.org/index.php?title=Disk_encryption&amp;action=info" title="More information about this page">Page information</a></li>				</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id="p-lang" aria-labelledby="p-lang-label">
			<h3 id="p-lang-label">In other languages</h3>
			<div class="body">
								<ul>
					<li class="interlanguage-link interwiki-es"><a href="https://wiki.archlinux.org/index.php/Disk_encryption_(Espa%C3%B1ol)" title="Disk encryption – español" lang="es" hreflang="es" class="interlanguage-link-target">Español</a></li><li class="interlanguage-link interwiki-it"><a href="https://wiki.archlinux.org/index.php/Disk_encryption_(Italiano)" title="Disk encryption – italiano" lang="it" hreflang="it" class="interlanguage-link-target">Italiano</a></li><li class="interlanguage-link interwiki-ja"><a href="https://wiki.archlinux.jp/index.php/%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AF%E6%9A%97%E5%8F%B7%E5%8C%96" title="ディスク暗号化 – 日本語" lang="ja" hreflang="ja" class="interlanguage-link-target">日本語</a></li><li class="interlanguage-link interwiki-pl"><a href="https://wiki.archlinux.org/index.php/Disk_encryption_(Polski)" title="Disk encryption – polski" lang="pl" hreflang="pl" class="interlanguage-link-target">Polski</a></li><li class="interlanguage-link interwiki-pt"><a href="https://wiki.archlinux.org/index.php/Disk_encryption_(Portugu%C3%AAs)" title="Disk encryption – português" lang="pt" hreflang="pt" class="interlanguage-link-target">Português</a></li><li class="interlanguage-link interwiki-zh-hans"><a href="https://wiki.archlinux.org/index.php/Disk_encryption_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Disk encryption – 中文（简体）‎" lang="zh-Hans" hreflang="zh-Hans" class="interlanguage-link-target">中文（简体）‎</a></li>				</ul>
							</div>
		</div>
				</div>
		</div>
				<div id="footer" role="contentinfo">
						<ul id="footer-info">
								<li id="footer-info-lastmod"> This page was last edited on 29 March 2020, at 06:56.</li>
								<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
							</ul>
						<ul id="footer-places">
								<li id="footer-places-privacy"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
								<li id="footer-places-about"><a href="https://wiki.archlinux.org/index.php/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
								<li id="footer-places-disclaimer"><a href="https://wiki.archlinux.org/index.php/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
							</ul>
										<ul id="footer-icons" class="noprint">
										<li id="footer-copyrightico">
											</li>
									</ul>
						<div style="clear: both;"></div>
		</div>
		

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.120","walltime":"0.127","ppvisitednodes":{"value":1385,"limit":1000000},"ppgeneratednodes":{"value":0,"limit":1000000},"postexpandincludesize":{"value":19555,"limit":2097152},"templateargumentsize":{"value":2661,"limit":2097152},"expansiondepth":{"value":6,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":4711,"limit":5000000},"timingprofile":["100.00%   41.518      1 -total","  8.97%    3.723      2 Template:Expansion","  8.82%    3.661      5 Template:B","  8.37%    3.475     19 Template:META_Table_cell","  7.31%    3.034      9 Template:Grey","  5.90%    2.448      5 Template:V","  5.81%    2.412      1 Template:Related_articles_start","  5.69%    2.364      1 Template:Aur","  5.62%    2.333     67 Template:Ya","  5.10%    2.118      3 Template:Dead_link"]},"cachereport":{"timestamp":"20200424215011","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":50});});</script>

<!-- Cached/compressed 20200425042141 -->

<div class="suggestions" style="display: none; font-size: 13px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>