<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="origin" />
    <meta property="og:description" content="MySQL root密码重置报错：mysqladmin: connect to server at &amp;#39;localhost&amp;#39; failed的解决方案 1 登陆失败,mysqladmin修" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>MySQL忘记密码，或：root密码重置报错：mysqladmin: connect to server at &#39;localhost&#39; failed的解决方案 - 阿布_嘟嘟 - 博客园</title>
    <link id="favicon" rel="shortcut icon" href="//common.cnblogs.com/favicon.ico?v=20200522" type="image/x-icon" />
    
    <link rel="stylesheet" href="/css/blog-common.min.css?v=KCO3_f2W_TC__-jZ7phSnmoFkQuWMJH2yAgA16eE3eY" />
    <link id="MainCss" rel="stylesheet" href="/skins/anothereon001/bundle-anothereon001.min.css?v=vmUk-3Bh8LDsKXwjNHs2GDiFna-ZMTUgOJzjUaXTlPA" />
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/anothereon001/bundle-anothereon001-mobile.min.css?v=cJiDsI1JAuHHd-OAUWJeyE5JMXXsG4mmuUi2rVmEK1c" />
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/vickygu2007/rss" />
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/vickygu2007/rsd.xml" />
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/vickygu2007/wlwmanifest.xml" />
    <script src="https://common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script src="/js/blog-common.min.js?v=6bwfCY2e02dLOXNW99G2BHZkYFmw9QyYTWeJ-W-sudo"></script>
    <script>
        var currentBlogId = 256445;
        var currentBlogApp = 'vickygu2007';
        var cb_enable_mathjax = false;
        var isLogined = false;
        var skinName = 'AnotherEon001';
    </script>
    
    
    
</head>
<body>
    <a name="top"></a>
    
    <div id="wrapper">
<div id="header">

<div id="top">
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/vickygu2007/">阿布_嘟嘟</a>
</h1>
<div id="subtitle">

</div>
</div>
<div id="sub"><div class="BlogStats">随笔 - 
26, 文章 - 
0, 评论 - 
3, 引用 - 
0</div>

</div>




</div>
<div id="main_container">
<div id="main_content">
<div id="content">
	<div id="post_detail">
    <div class="post">
        <h2>
            
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/vickygu2007/p/5067168.html">MySQL忘记密码，或：root密码重置报错：mysqladmin: connect to server at &#39;localhost&#39; failed的解决方案</a>

        </h2>
        <div class="postbody">
            
<div id="cnblogs_post_body" class="blogpost-body ">
    <div>MySQL root密码重置报错：<a class="keylink" href="http://www.2cto.com/database/MySQL/" target="_blank">mysql</a>admin: connect to server at 'localhost' failed的解决方案</div>
<div>&nbsp;</div>
<div>1 &nbsp;登陆失败,mysqladmin修改密码失败</div>
<div>[root@mysql var]# mysqladmin -u root password '123456'</div>
<div>mysqladmin: connect to server at 'localhost' failed</div>
<div>error: 'Access denied for user 'root'@'localhost' (using password: NO)'</div>
<div>&nbsp;</div>
<div>2 停止mysql服务</div>
<div>[root@mysql var]# /etc/init.d/mysqld stop</div>
<div>Shutting down MySQL.... SUCCESS!</div>
<div>&nbsp;</div>
<div>3 安全模式启动</div>
<div>[root@mysql var]# mysqld_safe --skip-grant-tables &amp;</div>
<div><span style="color: #c0c0c0;">（路径不一样：/opt/mysql/product/5.5.25a/bin/mysqld_safe --skip-grant-tables &amp;）</span></div>
<div>[1] 10912</div>
<div>[root@mysql var]# 110407 17:39:28 mysqld_safe Logging to '/usr/local/mysql/var//mysql.chinascopefinanical.com.err'.</div>
<div>110407 17:39:29 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var/</div>
<div>&nbsp;</div>
<div>4 无密码root帐号登陆</div>
<div>[root@mysql var]# /usr/bin/mysql -u root -p 【注释，在下面的要求你输入密码的时候，你不用管，直接回车键一敲就过去了】</div>
<div>Enter password:</div>
<div>Welcome to the MySQL monitor. &nbsp;Commands end with ; or \g.</div>
<div>Your MySQL connection id is 48</div>
<div>Server version: 5.1.41-log Source distribution</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>mysql&gt; use mysql;</div>
<div>Database changed</div>
<div>&nbsp;</div>
<div>5 手动update修改密码</div>
<div>mysql&gt; update mysql.user set authentication_string=password("123456") where user='root' and host='localhost';</div>
<div>Query OK, 1 row affected (0.00 sec)</div>
<div>Rows matched: 1 &nbsp;Changed: 1 &nbsp;Warnings: 0</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>mysql&gt; flush privileges;</div>
<div>Query OK, 0 rows affected (0.00 sec)</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>mysql&gt; quit</div>
<div>Bye</div>
<div>[root@mysql var]# mysql -u root -p guNNhtqhjUnfky6ahyVh</div>
<div>Welcome to the MySQL monitor. &nbsp;Commands end with ; or \g.</div>
<div>Your MySQL connection id is 172</div>
<div>Server version: 5.1.41-log Source distribution</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>mysql&gt; quit</div>
<div>Bye</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<div>6 正常重新启动</div>
<div>[root@mysql var]# service mysqld restart</div>
<div>Shutting down MySQL..110407 17:45:29 mysqld_safe mysqld from pid file /usr/local/mysql/var//mysql.chinascopefinanical.com.pid ended</div>
<div>SUCCESS!</div>
<div>Starting MySQL.. SUCCESS!</div>
<div>&nbsp;</div>
<div>&nbsp;</div>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
    <div id="blog_post_info"></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
        </div>
        <p class="postfoot">
            posted on 
<span id="post-date">2015-12-22 16:45</span>&nbsp;
<a href="https://www.cnblogs.com/vickygu2007/">阿布_嘟嘟</a>&nbsp;
阅读(<span id="post_view_count">...</span>)&nbsp;
评论(<span id="post_comment_count">...</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=5067168" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(5067168);return false;">收藏</a>
        </p>
    </div>
</div>

<script src="https://common.cnblogs.com/highlight/9.12.0/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 256445, cb_blogApp = 'vickygu2007', cb_blogUserGuid = '61702b62-84e1-e411-b908-9dcfd8948a71';
    var cb_entryId = 5067168, cb_entryCreatedDate = '2015-12-22 16:45', cb_postType = 1; 
    loadViewCount(cb_entryId);
    loadSideColumnAd();
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container"></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;"></div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;"></div>
    </div>
    <div id="under_post_kb"></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        deliverBigBanner();
setTimeout(function() { incrementViewCount(cb_entryId); }, 50);        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div>

</div>
</div>
<div id="leftmenu">


<h3>导航</h3>
<ul>
    <li>
        <a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>

    </li>
    <li>
        
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/vickygu2007/">
首页</a>

    </li>
    <li>
        

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>

    </li>
    <li>
        
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/%E9%98%BF%E5%B8%83_%E5%98%9F%E5%98%9F">
联系</a>
    </li>
    <li>
        
<a id="blog_nav_rss" class="menu" href="javascript:void(0)" data-rss="https://www.cnblogs.com/vickygu2007/rss/">
订阅</a>
        
<a id="blog_nav_rss_image" href="https://www.cnblogs.com/vickygu2007/rss/">
    <img src="/skins/anothereon001/images/xml.gif" alt="订阅" />
</a>
    </li>
    <li>
        
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>

    </li>
</ul>


<div id="blog-calendar" style="display:none"></div><script>loadBlogDefaultCalendar();</script>

<div id="sidebar_news" class="newsItem">
            <script>loadBlogNews();</script>
</div>

<div id="sidebar_ad"></div>
<div id="blog-sidecolumn"></div>
                    <script>loadBlogSideColumn();</script>

</div>
</div>
<div class="clear"></div>
<div id="footer">
<p id="footer">
	Powered by: 
	<br />
	
	<a href="https://www.cnblogs.com/" id="footer_site_link">博客园</a>
	<br />
	Copyright &copy; 2020 阿布_嘟嘟
<br /><span id="poweredby">Powered by .NET Core on Kubernetes</span>

</p>


</div>
</div>


    
</body>
</html>
