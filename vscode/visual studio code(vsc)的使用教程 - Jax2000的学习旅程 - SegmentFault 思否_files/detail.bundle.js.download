!function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],m=0,d=[];m<s.length;m++)o=s[m],r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(u&&u(e);d.length;)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={2:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.p=window.SF.staticUrl||o.p;var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([73,0]),a()}({0:function(t,e){t.exports=jQuery},73:function(t,e,a){"use strict";a.r(e);a(11);var n=a(0),r=a(2),i=a(6),o=a(1);a(74),a(24),a(25),a(26);n(function(){r.a.watch(),o.v.runCommonFun(),o.v.imageView(),Object(o.n)(n("article")),n(".article.fmt").find("code").length&&Object(o.o)(n(".article.fmt")),Object(o.q)(),new o.b(n("nav[data-article-nav-list]"),n("article.article-content")),r.b.add(i.b,i.e,i.a,i.d),new o.f(n(".functional-area-bottom"),{isColumn:!1,btns:["mainLike","mainBookmark","reward","share"]}),new o.f(n(".functional-area-left"),{isColumn:!0,btns:["mainLike","mainBookmark","comment","share"]}),(new o.c).$("#sf-article_author").moveAfter("#sf-article_title").$("#sf-article_metas").addClass("font-size-14").moveAfter("#sf-article_title").removeClass("col-6").$("#sf-article > .row > .col-12 > .card, #sf-article > .row > .col-12 > .w-xl-300 > .card, #comment-area > .card").addClass("rounded-0").removeClass("mb-4").addClass("mb-1").$("#sf-article > .row > .col-12 > .card > .card-body, #sf-article > .row > .col-12 > .w-xl-300 > .card > .card-body, #comment-area > .card > .card-body").addClass("p-3").$("#sf-article > .row > .col-12").addClass("p-0").$("#paradigm-article-related .list-group-item").addClass("p-3").$("#comment-area > .justify-content-between, #sf-article > .row > .col-12 > h5").addClass("px-3").$(".blog").moveAfter("#sf-article > .row > .col-12:nth-child(1) > .card:nth-child(1)").$("article.article img").change(function(t){t.each(function(){var t=this.getAttribute("src"),e=this.getAttribute("data-src"),a="";if(t=e||t){var n=t.indexOf("?");n>0&&(a=t.substring(n),t=t.substring(0,n)),t.match(/^\/img\//)&&!t.match(/\/view$/)&&(t=t+"/view"+a,this.setAttribute(e?"data-src":"src",t))}})},function(t){t.each(function(){var t=this.getAttribute("src"),e=this.getAttribute("data-src"),a="";if(t=e||t){var n=t.indexOf("?");n>0&&(a=t.substring(n),t=t.substring(0,n)),t.match(/^\/img\//)&&t.match(/\/view$/)&&(t=t.substring(0,t.length-5)+a,this.setAttribute(e?"data-src":"src",t))}})}).listen("#comment-area, #paradigm-article-related"),o.v.backtopInit(),Object(o.t)({$parent:n("footer").find(".shareContent"),tip:!1,icons:["weixin","weibo","github","twitter"]}),n("footer .dropdown-item").removeClass("dropdown-item"),n('[data-toggle="tooltip"]').tooltip(),Object(o.u)("");var t=null;if(n("#SFEventObject").length){var e=JSON.parse(document.getElementById("SFEventObject").getAttribute("value")).current[1];t=Array.isArray(e)?e[0]:e}new o.e(n("#comment-area"),t),n(document).on("submit",function(t){if(13==t.keyCode)return!1}),setTimeout(function(){o.v.eventJump()},1e3),n("textarea[autoHeight]").atwho({at:"@",callbacks:{remote_filter:function(t,e){var a=window.ARTICLE.articleId;if(t){if(t)return n.getJSON("/api/users/search",{q:t},function(t){t.status||e(t.data)})}else if(a.toString().match(/^11|^12|^13/))return n.getJSON("/api/users/search",{objectId:a},function(t){t.status||e(t.data)})},tpl_eval:function(t,e){return'<li data-value="@'+e.name+"["+e.slug+']">'+(e.avatarUrl?'<img class="avatar-24 mr-2" src="'+e.avatarUrl+'" />':"")+'<span class="font-size-14">'+e.name+"</span> &nbsp; <small>@"+e.slug+"</small></li>"}}}),n.get("/api/article/"+window.ARTICLE.articleId+"/related",function(t){var e=t.status,a=t.data;if(!e&&a.length>0){var r="",i=o.v.isMobile("any");a.forEach(function(t){r+='<a href="'+t.url+'" '+(i?"":' target="_blank"')+'\n                                class="list-group-item list-group-item-action py-3">\n                                <h5 class="text-body">'+t.title+'</h5>\n                                <p class="mb-2 text-truncate text-secondary">'+t.excerpt+'</p>\n                                <p class="text-secondary mb-0 font-size-14">\n                                    <span class="float-right">'+t.user.name+"</span>\n                                    "+t.viewsWord+" 人浏览\n                                    "+(t.votes>0?' <span class="split-dot"></span> '+t.votes+"个赞":"")+"\n                                    "+(t.comments>0?' <span class="split-dot"></span> '+t.comments+" 条评论":"")+"\n                                </p>\n                            </a>"}),n("#paradigm-article-related").html(r)}}),n(document).on("click",".mainLike, .mainLike-comment",function(){var t=n(this),e=n(this).hasClass("mainLike-comment")?"comment":"article";t.hasClass("active")?n.post("/api/"+e+"/"+t.data("id")+"/like/cancel",function(a){var r=a.status,i=a.data;if(0===r)"article"==e&&(n(".mainLike").removeClass("active"),n(".mainLikeNum").text(~~i?~~i:""),n(".functional-area-bottom").find(".mainLikeNum").prev().text("赞")),"comment"==e&&(t.removeClass("active").empty().append('<i class="far fa-thumbs-up mr-1"></i>'),t.next(".mainLike-commentNum").text(~~i?~~i:""));else{if("remote"==i[0])return new o.i,!1;if("login"==i[0])return new o.g,!1;if("unactivated"===i[0])return new o.k({isTip:!0,title:"提示",footer:'<button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button><a class="btn btn-primary" href="/user/binding" role="button">前往激活</a>',content:"你的账号暂未激活"}).show(),!1;new o.k({title:"",isTip:!0,content:Array.isArray(i[1])?i[1][1]:i[1]}).show()}}):n.post("/api/"+e+"/"+t.data("id")+"/like",function(a){var r=a.status,i=a.data;if(0===r)"article"==e&&(n(".mainLike").addClass("active"),n(".mainLikeNum").text(i),n(".functional-area-bottom").find(".mainLikeNum").prev().text(~~i?"已赞":"赞")),"comment"==e&&(t.addClass("active").empty().append('<i class="fas fa-thumbs-up mr-1"></i>'),t.next(".mainLike-commentNum").text(i));else{if("remote"==i[0])return new o.i,!1;if("login"==i[0])return new o.g,!1;if("unactivated"===i[0])return new o.k({isTip:!0,title:"提示",footer:'<button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button><a class="btn btn-primary" href="/user/binding" role="button">前往激活</a>',content:"你的账号暂未激活"}).show(),!1;new o.k({title:"",isTip:!0,content:Array.isArray(i[1])?i[1][1]:i[1]}).show()}})}),o.a.adClose("article")})},74:function(t,e,a){}});