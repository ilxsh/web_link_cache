








<!DOCTYPE HTML>


<html id="intel_fpga" class="zh_cn" data-region="zh_cn">
<head>
  
<title>Quartus II Tcl实例：日期时间戳</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=8; IE=9; IE=10; IE=11">
  <meta name="description" content="Information and examples of how to generate date time stamps in Tcl and ways to convert them to hexadecimal values">
  <meta name="date" content="2015-12-08">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="X-Server" content="PRD4-02">
  <meta name="keywords" content="quartus, quartus ii, tcl, date, time, version, example, quartusii, quartus2, quartus 2, tool command language ">
<title>Quartus II Tcl实例：日期时间戳</title>

  <link rel="stylesheet" href="/etc/clientlibs/psg/core/granite/jquery-ui.min.css" type="text/css">
<link rel="stylesheet" href="/etc/clientlibs/altera-www/global/custom-bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="/etc/clientlibs/altera-www/global.min.css" type="text/css">
<script type="text/javascript" src="/etc/clientlibs/psg/core/granite/jquery.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/psg/core/granite/utils.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/psg/core/granite/jquery/granite.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/psg/core/foundation/jquery.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/psg/core/granite/jquery-ui.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/psg/core/foundation/jquery-ui.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/altera-www/global/custom-bootstrap.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/altera-www/global.min.js"></script>
<link rel="stylesheet" href="/etc/clientlibs/altera-www/fonts/zh_cn.min.css" type="text/css">
<link rel="stylesheet" href="/etc/clientlibs/altera-www/components.min.css" type="text/css">
<link rel="stylesheet" href="/etc/clientlibs/altera-www/comps.min.css" type="text/css">
<!-- Tealium Tagging + target -->
    <script type="text/javascript">
      var wapLocalCode = 'cn-zh';
      var wapSection = "altera";
    </script>
    <script type="text/javascript" src="https://www.intel.com/content/dam/www/global/wap/wap-altera.js"></script>
<!--IGHF (Performance tweaks for Mobile and Slow connections)-->  
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="https://www.intel.com" pr="1.0">
<link rel="dns-prefetch" href="https://www.google-analytics.com" pr="1.0">
<link rel="preconnect" href="https://www.intel.com" crossorigin="anonymous" pr="1.0">
<link rel="preconnect" href="https://www.google-analytics.com" crossorigin="anonymous" pr="1.0"> 
<!--/IGHF-->
	
    <!--IGHF Loader-->
<!--[if le IE 9]>
<script type="text/javascript" src="https://www.intel.com/ighf/50recode.2/js/headerchooser.js" ASYNC DEFER></script>
<![endif]-->
<!--[if gt IE 9]><!-->
<script type="text/javascript" src="https://www.intel.com/ighf/50recode.2/js/headerchooser.js" ASYNC></script>
<!--<![endif]-->
<script>INTELNAV = window.INTELNAV || {};INTELNAV.renderSettings={version:"2.0 - 03/12/2017 08:00:00",textDirection:"--",culture:"--",OutputId:"--"};</script>
<!--/IGHF Loader--></head>

<body>
<script type="text/javascript" src="/content/dam/altera-www/global/en_US/scripts/js/survey/onsite.js"></script>
<script type="text/javascript">
      INTELNAV.dashboard = {
        languageSelector: {
          settings: {
            behavior: "mineOnly",
            method: "path",
            regex: /\/content\/www\/\w{2}\/\w{2}/
          },
          geos: [
            { geo: "en_us", path: "/content/www/us/en" },
            { geo: "zh_cn", path: "/content/www/cn/zh" },
            { geo: "ja_jp", path: "/content/www/jp/ja" }
          ]
        }
      };
    </script>
    <!--googleoff:all-->
    <!--IGHF Header-->
<!--GAATversion='50recode.2' date='10/02/2017 08:00:00' Version='2.0':CharacterEncoding:utf8--> 
<div id="recode50header"></div>
<script type="text/javascript">
/*<![CDATA[*/
INTELNAV = window.INTELNAV || {};INTELNAV.renderSettings={version:"2.0 - 10/02/2017 08:00:00",textDirection:"ltr",culture:"zh_CN",OutputId:"default"};
/*]]>*/</script>
<noscript><link rel="stylesheet" href="https://www.intel.com/ighf/50recode.2/css/ltr_nojsheader.css" type="text/css"><div id="smallfootprint-header"><a class="gaat40-logo" title="英特尔" href="https://www.intel.cn/content/www/cn/zh/homepage.html"></a><form method="get" id="user-bar-searchbox-form" name="user-bar-searchbox-form" action="https://www.intel.com/content/www/us/en/search.html"><input id="toplevelcategory" name="toplevelcategory" type="hidden" value="none" tabindex="0"><input id="query" name="query" type="hidden" value="" tabindex="0"><fieldset><legend></legend><label for="input-search">搜索</label><input type="text" id="input-search" name="keyword" tabindex="0" autocomplete="off" /><input type="submit" id="input-submit" name="input-submit" value="搜索" /></fieldset></form></div> </noscript>
<!--/IGHF header-->
    <!--googleon:all--><div class="main-wrapper" id="page_generic"> <nav class="breadcrumbs-container">
  <div class="breadcrumbs container breadcrumb"><a class="breadcrumb-links" href="/content/altera-www/global/zh_cn/index.html" onclick="CQ_Analytics.record({event:'followBreadcrumb',values: { breadcrumbPath: '/content/altera-www/global/zh_cn/index.html' },collect: false,options: { obj: this },componentPath: 'altera-www/components/included/breadcrumb'})">英特尔 FPGA 和SoC</a>
<span class="breadcrumb-arrow">/</span>
<a class="breadcrumb-links" href="/content/www/cn/zh/programmable/support.html" onclick="CQ_Analytics.record({event:'followBreadcrumb',values: { breadcrumbPath: '/content/altera-www/global/zh_cn/index/support.html' },collect: false,options: { obj: this },componentPath: 'altera-www/components/included/breadcrumb'})">支持</a>
<span class="breadcrumb-arrow">/</span>
<a class="breadcrumb-links" href="/content/www/cn/zh/programmable/support/support-resources.html" onclick="CQ_Analytics.record({event:'followBreadcrumb',values: { breadcrumbPath: '/content/altera-www/global/zh_cn/index/support/support-resources.html' },collect: false,options: { obj: this },componentPath: 'altera-www/components/included/breadcrumb'})">支持资源</a>
<span class="breadcrumb-arrow">/</span>
...
<span class="breadcrumb-arrow">/</span>
...
<span class="breadcrumb-arrow">/</span>
<span class="title">Quartus II Tcl实例：日期时间戳</span>
</div>
</nav>

<div class="top-par parsys">
</div>
<div class="main-content"><!--  start of main-content -->
  <div class="content-body-par parsys">


<header class="title">


















	
	




	
	<div class="text-title container ">
		
		
		
		    
		    
		        <h1 class="page-title  ">Quartus II Tcl实例：日期时间戳</h1>
		    

		    
		        
				
		    
		
	</div>

</header>
<div class="text-media parbase">



<div class=" theme-white theme-dark-text">
	<div class="container -container">
		<div class="txt-media-wrapper top-padding bottom-padding  row section-content multimedia-on-left   text-media-text-only">
			





    <section class='text-media-item txt-media-content-wrapper-left text-media-content article-section col-md-12  '>
        





        <div class="txt-multimedia-content">
        <p>这一例子介绍怎样采用Tcl建立日期时间戳。您可以在脚本设计流程中使用日期时间戳，记录脚本的运行时间。在您的设计文件中写入日期时间戳，把设计编译完成时间存储到片内。</p>
<p>您可以使用Tcl命令，生成一个格式定制的日期时间字符串，只含有您需要的日期和时间元素。使用Tcl命令<b>clock seconds</b>，返回当前时间，使用<b>clock format</b>命令，生成一个格式定制的日期时间字符串。请参考<a href="/content/www/cn/zh/programmable/support/support-resources/design-examples/design-software/tcl/date_time_format.html" adhocenable="false">日期和时间格式</a>页面，了解日期时间字符串格式的详细信息。它包括了实例以及一个格式化关键词表格。</p>
<p>下面是日期时间字符串不同格式选项的两个例子。</p>
<h4>实例1</h4>
<p>下面的命令生成一个格式化的日期时间字符串，采用了下面的元素，其顺序是：</p>
<ol>
<li>四位数字年</li>
<li>两位数字月(01-12)</li>
<li>两位数字日(01-31)</li>
<li>两位数字时间，24小时格式(00-23)</li>
<li>两位数字分钟(00-59)</li>
<li>两位数字秒(00-59)</li>
</ol>
<pre class="code">
clock format [clock seconds] -format {%Y %m %d %H %M %S}
</pre>
<p>该命令生成下面的字符串：</p>
<pre>
2005 01 10 15 16 55
</pre>
<h4>实例2</h4>
<p>第二个例子生成一个格式化的日期时间字符串，采用了下面的元素，其顺序是：</p>
<ol>
<li>月名称的缩写，然后是一个句号。</li>
<li>两位数字月份日期，然后是一个逗号。</li>
<li>四位数字年</li>
<li>以HH:MM:SS格式表示的时间</li>
<li>AM/PM指示符</li>
</ol>
<pre class="code">
clock format [clock seconds] -format {%b. %d, %Y %I:%M:%S %p}
</pre>
<p>该命令生成下面的字符串：</p>
<pre>
Jan. 10, 2005 03:31:20 PM
</pre>
<h3>转换日期时间字符串</h3>
<p>您通常需要将ASCII日期时间字符串转换成另一种格式(例如，十六进制或者二进制)，将其存储在寄存器块或者存储器中。这是格式转换的两个例子。</p>
<h4>十进制到十六进制</h4>
<p>如果您使用的日期时间元素只生成数字数值，出于转换目的，您可以把它们当做十进制数字。下面的命令生成一年中日子的日期戳(001 - 366)，然后是24小时格式的小时，最后是分钟。</p>
<pre class="code">
set str [clock format [clock seconds] -format {%j%H%M}]
set out [format &quot;%X&quot; $str]
</pre>
<p>该命令生成的字符串与变量out的相似：</p>
<pre>
17D40F
</pre>
<h4>ASCII至十六进制</h4>
<p>下面的命令生成日期时间字符串，将其转换到打包十六进制字符串，存储在变量out中。每一对十六进制数字是ASCII字符使用的十六进制代码。</p>
<pre class="code">
set str [clock format [clock seconds] -format {%b. %d, %Y %I:%M:%S %p}]
binary scan $str &quot;H*&quot; out
</pre>
<p>该命令生成的字符串与变量out的相似：</p>
<pre>
4a616e2e2031302c20323030352030333a33363a303520504d
</pre>
<h3>设计实例免责声明</h3>
<p>这些设计实例只限于用在Altera公司器件上，版权属于Altera。为方便使用，这些设计基于“as-is（原样提供）”的形式提供；因此，任何形式的授权、代理或者担保（无论是明确的，隐含的还是法定的），包括不受限制的使用、商业授权、无侵犯或者适用某一特殊用途等，Altera公司都不予以承诺。Altera公司明确表示不推荐，不建议以及不要求这些设计实例和其他任何非Altera产品一起使用。</p>

</div>
        


    </section>

		</div>
		
	</div>
</div></div>

</div>
</div><!--  end of main-content -->
</div> <!--mainWrapper-->

<!--googleoff:all-->
    <!--IGHF footer--> 
<!--GAATversion='50recode.2' date='10/02/2017 08:00:00' Version='2.0':CharacterEncoding:utf8--> 
<script type="text/javascript">
/*<![CDATA[*/
INTELNAV = window.INTELNAV || {}; INTELNAV.renderSettingsFooter={version:"2.0 - 10/02/2017 08:00:00",OutputId:"gf_default"};
/*]]>*/</script> 
<noscript><div id="smallfootprint-footer"><ul><li>©英特尔公司</li><li><a href="http://www.miibeian.gov.cn/state/outPortal/loginPortal.action;jsessionid=RRCdPr9GMQw52phdVDPJBJd2cxc8bWvy2HdK9vKvkG0hQygXWqQq!991620579" target="_blank">京 ICP 备 14036123 号-2</a></li><li><a href="https://www.intel.cn/content/www/cn/zh/legal/terms-of-use.html" target="">使用条款</a></li><li><a href="https://www.intel.cn/content/www/cn/zh/legal/trademarks.html" target="">*商标</a></li><li><a href="https://www.intel.cn/content/www/cn/zh/privacy/intel-privacy-notice.html" target="">隐私条款</a></li><li><a href="https://www.intel.cn/content/www/cn/zh/privacy/intel-cookie-notice.html" target="">Cookie</a></li></ul></div> </noscript>
<div id="recode50footer"> </div> 
<!--/IGHF footer-->
    <!--googleon:all--><script type="text/javascript" src="/etc/clientlibs/altera-www/comps.min.js"></script>
<script type="text/javascript" src="/etc/clientlibs/altera-www/components.min.js"></script>
<script type="text/javascript" src="/content/dam/altera-www/global/en_US/scripts/js/analytics/google_analytics.js"></script>
	<script type="text/javascript" src="/content/dam/altera-www/global/en_US/scripts/js/analytics/auto-tracker.js"></script>
</body>

</html>