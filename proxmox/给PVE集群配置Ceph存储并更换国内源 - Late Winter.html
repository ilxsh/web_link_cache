<!DOCTYPE html>
<!-- saved from url=(0063)http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="referrer" content="never"></head><body>`

    <title>给PVE集群配置Ceph存储并更换国内源 - Late Winter</title>
    

 
 
        <link rel="icon" id="web-icon" href="http://www.itca.cc/favicon.ico">
        <link rel="apple-touch-icon" href="https://www.itca.cc/usr/themes/Themia/favicon.png">
<link rel="alternative" type="application/atom+xml" title="RSS" href="http://www.itca.cc/feed/">

 
  <meta property="og:image" content="https://upload-images.jianshu.io/upload_images/16668695-0ba1b1233581471a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:title" content="给PVE集群配置Ceph存储并更换国内源 - Late Winter">

<meta property="og:description" content="官方英文视频教程参考官网这个网址：https://www.proxmox.com/en/training/video-tutorials/item/install-ceph-server-on-...">  

<meta property="og:url" content="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html">  

<meta itemprop="name" content="给PVE集群配置Ceph存储并更换国内源 - Late Winter">
<meta itemprop="description" content="官方英文视频教程参考官网这个网址：https://www.proxmox.com/en/training/video-tutorials/item/install-ceph-server-on-...">
<meta itemprop="image" content="https://upload-images.jianshu.io/upload_images/16668695-0ba1b1233581471a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
 
 <!--STYLES--> <link rel="stylesheet" href="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/fontawesome.css" type="text/css">
    <link rel="stylesheet" href="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/style.min.css" type="text/css">
    
    <!--STYLES END-->
   <meta name="description" content="官方英文视频教程参考官网这个网址：https://www.proxmox.com/en/training/video-tutorials/item/install-ceph-server-on-...">
<link rel="pingback" href="http://www.itca.cc/action/xmlrpc">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.itca.cc/action/xmlrpc?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.itca.cc/action/xmlrpc?wlw">
<link rel="alternate" type="application/rss+xml" title="给PVE集群配置Ceph存储并更换国内源 » Late Winter » RSS 2.0" href="http://www.itca.cc/feed/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html">
<link rel="alternate" type="application/rdf+xml" title="给PVE集群配置Ceph存储并更换国内源 » Late Winter » RSS 1.0" href="http://www.itca.cc/feed/rss/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html">
<link rel="alternate" type="application/atom+xml" title="给PVE集群配置Ceph存储并更换国内源 » Late Winter » ATOM 1.0" href="http://www.itca.cc/feed/atom/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html">
<script type="text/javascript">
(function () {
    window.TypechoComment = {
        dom : function (id) {
            return document.getElementById(id);
        },
    
        create : function (tag, attr) {
            var el = document.createElement(tag);
        
            for (var key in attr) {
                el.setAttribute(key, attr[key]);
            }
        
            return el;
        },

        reply : function (cid, coid) {
            var comment = this.dom(cid), parent = comment.parentNode,
                response = this.dom('respond-post-29'), input = this.dom('comment-parent'),
                form = 'form' == response.tagName ? response : response.getElementsByTagName('form')[0],
                textarea = response.getElementsByTagName('textarea')[0];

            if (null == input) {
                input = this.create('input', {
                    'type' : 'hidden',
                    'name' : 'parent',
                    'id'   : 'comment-parent'
                });

                form.appendChild(input);
            }

            input.setAttribute('value', coid);

            if (null == this.dom('comment-form-place-holder')) {
                var holder = this.create('div', {
                    'id' : 'comment-form-place-holder'
                });

                response.parentNode.insertBefore(holder, response);
            }

            comment.appendChild(response);
            this.dom('cancel-comment-reply-link').style.display = '';

            if (null != textarea && 'text' == textarea.name) {
                textarea.focus();
            }

            return false;
        },

        cancelReply : function () {
            var response = this.dom('respond-post-29'),
            holder = this.dom('comment-form-place-holder'), input = this.dom('comment-parent');

            if (null != input) {
                input.parentNode.removeChild(input);
            }

            if (null == holder) {
                return true;
            }

            this.dom('cancel-comment-reply-link').style.display = 'none';
            holder.parentNode.insertBefore(response, holder);
            return false;
        }
    };
})();
</script>
<script type="text/javascript">
(function () {
    var event = document.addEventListener ? {
        add: 'addEventListener',
        triggers: ['scroll', 'mousemove', 'keyup', 'touchstart'],
        load: 'DOMContentLoaded'
    } : {
        add: 'attachEvent',
        triggers: ['onfocus', 'onmousemove', 'onkeyup', 'ontouchstart'],
        load: 'onload'
    }, added = false;

    document[event.add](event.load, function () {
        var r = document.getElementById('respond-post-29'),
            input = document.createElement('input');
        input.type = 'hidden';
        input.name = '_';
        input.value = (function () {
    var _CUhW3 = //'51c'
'e0'+/* 'yP'//'yP' */''+''///*'aM9'*/'aM9'
+//'DX'
'a36'+//'1o9'
'8'+//'qj'
'fa'+//'1'
'7'+//'X'
'X'+'a0'//'7U'
+'7d'//'nS'
+'2e'//'xn'
+'ae'//'oZ'
+//'eAY'
'54'+//'IxI'
'b3'+'jBZ'//'jBZ'
+'b'//'J'
+'7'//'gO'
+'8'//'WA'
+'1'//'b2'
+'2fe'//'b'
+//'quV'
'c18'+//'bW'
'7', _UnF6 = [[9,10],[21,24]];
    
    for (var i = 0; i < _UnF6.length; i ++) {
        _CUhW3 = _CUhW3.substring(0, _UnF6[i][0]) + _CUhW3.substring(_UnF6[i][1]);
    }

    return _CUhW3;
})();

        if (null != r) {
            var forms = r.getElementsByTagName('form');
            if (forms.length > 0) {
                function append() {
                    if (!added) {
                        forms[0].appendChild(input);
                        added = true;
                    }
                }
            
                for (var i = 0; i < event.triggers.length; i ++) {
                    var trigger = event.triggers[i];
                    document[event.add](trigger, append);
                    window[event.add](trigger, append);
                }
            }
        }
    });
})();
</script><link rel="stylesheet" type="text/css" href="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/a11y-light.css"><link rel="stylesheet" type="text/css" href="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/highlightjs-line.css"> 


    <div id="sos">
        <div id="blog">
        <!--[if lt IE 9]>
		 <div class="browsehappy" role="dialog">当前网页 <strong>不支持</strong> 你正在使用的浏览器. 为了正常的访问, 请 <a href="https://browser.360.cn/ee/">升级你的浏览器</a>.</div>
	    <![endif]-->

 



<header id="header" data-behavior="1">


  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="https://www.itca.cc/">Late Winter</a>
    </h1>
    
        
            <a class="header-right-icon st-search-show-outputs" id="sou">
        
                <i class="fa fa-lg fa-search"></i>
            </a>    
</header>

  


 <nav id="sidebar" data-behavior="1">

 
 <div class="sidebar-profile">
            <a href="http://www.itca.cc/#about">
                    <img class="sidebar-profile-picture" src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/IMG_20180806.jpg"> </a>
        <span class="sidebar-profile-name">Late Winter</span> 
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a class="sidebar-button-link " href="https://www.itca.cc/">
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">主页</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a class="sidebar-button-link " href="https://www.itca.cc/File.html">
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">分类</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a class="sidebar-button-link " href="https://www.itca.cc/pan">
                
                   <i class="sidebar-button-icon fa fa-lg fa-calendar"></i>
                    <span class="sidebar-button-desc">网盘</span>
                </a>
        </li>
        
            <li class="sidebar-button" id="sou">
                
                    <a class="sidebar-button-link st-search-show-outputs">
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">搜索</span>
                </a>
        </li>
   
            <li class="sidebar-button">
                
                    <a class="sidebar-button-link " href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html">
                
                    <i class="sidebar-button-icon fa fa-lg fa-info-circle"></i>
                    <span class="sidebar-button-desc">关于</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
 
         
                   <li class="sidebar-button">
                
                    <a class="sidebar-button-link " href="http://weibo.com/" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-weibo"></i>
                    <span class="sidebar-button-desc">微博</span>
                </a>
        </li>

<li class="sidebar-button">
                
                    <a class="sidebar-button-link " href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html">
                
                      <i class="sidebar-button-icon fa fa-lg fa-chain"></i>
                    <span class="sidebar-button-desc">友链</span>
                </a>
        </li>
    </ul>
    
</nav>





   <div id="main" data-behavior="1" class="hasCoverMetaIn">



<article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
    
<div class="post-header main-content-wrap text-left">
    
                     <h1 class="post-title" itemprop="headline">  给PVE集群配置Ceph存储并更换国内源    </h1>    
    <div class="post-meta">
    <time itemprop="datePublished" content="2019-08-1  11:06:00">
	
		 Aug 01,2019    	
    </time>
    
        <span>in </span>
        
    <a class="category-link"></a><a href="http://www.itca.cc/category/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/">ProxmoxVE虚拟化</a> <span>lang </span>
            <a class="category-link" id="translateLink" href="javascript:translatePage();">繁</a> 
           <span>read (397)</span> 
      </div>

</div>
    
 <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap" id="yl">     <p>官方英文视频教程参考官网这个网址：<br><a href="https://www.proxmox.com/en/training/video-tutorials/item/install-ceph-server-on-proxmox-ve" target="_blank">https://www.proxmox.com/en/training/video-tutorials/item/install-ceph-server-on-proxmox-ve</a></p><hr><h4>首先检查软件源【重要】</h4><p>默认是订阅版，如果不做修改，在使用pveceph init进行ceph初始化安装的时候会将整个环境破坏，切记！【<strong>PVE版本6.1</strong>】</p><pre><code>SSH登陆各节点
将/etc/apt/sources.list.d/pve-enterprise.list  文件内的唯一一条记录注释掉：
#deb https://enterprise.proxmox.com/debian/pve buster pve-enterprise
echo "#deb https://enterprise.proxmox.com/debian/pve buster pve-enterprise" &gt; /etc/apt/sources.list.d/pve-enterprise.list
wget -q -O- 'http://download.proxmox.com/debian/proxmox-ve-release-5.x.gpg' | apt-key add -
wget -q -O- 'http://download.proxmox.com/debian/proxmox-ve-release-6.x.gpg' | apt-key add -
echo "deb http://download.proxmox.com/debian/pve buster pve-no-subscription" &gt; /etc/apt/sources.list.d/pve-no-subscription.list
apt update &amp;&amp; apt dist-upgrade
国内源：
echo "deb https://mirrors.ustc.edu.cn/proxmox/debian/pve buster pve-no-subscription" &gt; /etc/apt/sources.list.d/pve-no-subscription.list
sed -i.bak "s#http://download.proxmox.com/debian#https://mirrors.ustc.edu.cn/proxmox/debian#g" /usr/share/perl5/PVE/CLI/pveceph.pm
sed -i.bak "s#ftp.debian.org/debian#mirrors.163.com/debian#g" /etc/apt/sources.list
sed -i "s#security.debian.org#mirrors.163.com/debian-security#g" /etc/apt/sources.list</code></pre><p>安装ntp，ceph集群对时间同步的要求很高。需要安装ntp服务： <code>apt-get install ntp -y</code>安装完成之后会自动启动并同步debian的时间服务器，注意，是联网的情况下，如果不连接外网，需要设定内网的ntp服务。</p><h5>1、安装Ceph组件</h5><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-0ba1b1233581471a.png" alt="每个节点都开始打开安装步骤" title="每个节点都开始打开安装步骤"></p><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-c07e01a2b6d20629.png" alt="输入Y回车确定安装" title="输入Y回车确定安装"></p><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-acfa957c44f2d949.png" alt="输入节点的存储网络地址" title="输入节点的存储网络地址"></p><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-dcdbd20f54dc8236.png" alt="翻车了" title="翻车了"></p><p>提示我ceph没有安装。【后来发现是国内网络问题反复安装几次后成功了】<br>我们手动安装一下luminous版本试一下，通过SSH登陆服务器：</p><pre><code>   1、首先在**每一个节点**安装ceph软件包：
      pveceph install --version luminous  
   2、初始化ceph存储网络：
      pveceph init --network 192.168.30.0/24
   3、创建mon
      pveceph createmon</code></pre><h5>2、创建MON</h5><p>在pve2和pve3上面登录web界面创建mon：</p><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-e12dad7e4c8795d5.png" alt="" title=""></p><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-4790e69c8030f895.png" alt="" title=""></p><h5>3、创建OSD</h5><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-acc1a1c7e3fce940.png" alt="" title=""></p><p>将sdb磁盘加入到OSD，对pve2和pve3做同样的操作，完成后如下：</p><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-8043a77778b5f59b.png" alt="" title=""></p><h5>4、创建Pools</h5><p>Pool的名称是Ceph-vm，根据自己需要取，size=2表示正常的副本数，min size=1表示最少的数据副本数，pg_num=128表示逻辑存储单元数未128，具体设置的策略请参考ceph相关文档。</p><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-58ba2a5e7eda5aeb.png" alt="" title=""></p><h5>5、创建RBD存储池</h5><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-f1e6649dc8842f44.png" alt="" title=""></p><p><img src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/16668695-12a78cd91c6f5b97.png" alt="" title=""></p><p>ID可以自定义。</p> </div>
    </div>
    <div class="post-footer main-content-wrap">
        
        
 
        
        
            <div class="post-footer-tags"><div style="float:right">最后由<a href="http://www.itca.cc/author/1/">Late Winter</a>编辑于2020:04:15  <xa title="点我点我" id="ymzz"></xa>

</div>  
                <span class="text-color-light text-small">文章标签：</span><br>


<nav class="tag tag--primary tag--small t-link" style=" display: inline-block;">  
 <sx>无标签</sx>
</nav>  </div>        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
       <a class="post-action-btn btn btn--default tooltip--top" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/28.html" data-tooltip="下载安装ProxmoxVE 5.4（集群模式）并删除订阅通知"> <i class="fa fa-angle-left"></i><span class="hide-xs hide-sm text-small icon-ml">前篇</span></a>
            
          
            </li>
            <li class="post-action">
                        <a class="post-action-btn btn btn--default tooltip--top" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/30.html" data-tooltip="更改ProxmoxVE的LXC仓库为国内源"><span class="hide-xs hide-sm text-small icon-mr">后篇</span>
                    <i class="fa fa-angle-right"></i></a>
                 </li>
        </ul>
    </nav>
  <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li> <li class="post-action hide-xs">
<a class="post-action-btn btn btn--default" target="_blank" data-tooltip="分享至Google" href="https://plus.google.com/share?url=http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html">
                <i class="fa fa-google-plus"></i>
            </a>

        </li>
   <li class="post-action hide-xs">
           <a class="post-action-btn btn btn--default tooltip--top" target="new" data-tooltip="分享至QQ空间" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html&amp;title=%E7%BB%99PVE%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AECeph%E5%AD%98%E5%82%A8%E5%B9%B6%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90&amp;site=Late%20Winter/&amp;pics=https://upload-images.jianshu.io/upload_images/16668695-0ba1b1233581471a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
                <i class="fa fa-qq"></i>
            </a>
        </li>
         <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" data-tooltip="分享至新浪微博" href="http://service.weibo.com/share/share.php?url=http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html/&amp;appkey=Late%20Winter/&amp;title=%E7%BB%99PVE%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AECeph%E5%AD%98%E5%82%A8%E5%B9%B6%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90&amp;pic=https://upload-images.jianshu.io/upload_images/16668695-0ba1b1233581471a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
                <i class="fa fa-weibo"></i>
            </a>
        </li>

        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">            
                <a class="post-action-btn btn btn--default" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html#" onclick="gotoTop();return false;">
            
               <i class="fa fa-arrow-up"></i>
            </a>        </li>
    </ul>
</div>
<div id="disqus_thread">
    <div id="comments"> 

<div id="comments" class="cf">
        
        <div id="respond-post-29" class="respond">
        <div class="cancel-comment-reply"><span class="response">发表新评论</span><span class="cancel-reply"><a id="cancel-comment-reply-link" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html#respond-post-29" rel="nofollow" style="display:none" onclick="return TypechoComment.cancelReply();">取消回复</a></span></div>
        <form method="post" action="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html/comment" id="comment-form" role="form">
                                            <div id="author_info">
                            <input type="text" name="author" maxlength="12" id="author" class="form-control" placeholder="称呼 *" value="">
            <input type="email" name="mail" id="mail" class="form-control" placeholder="电子邮箱 *" value="">
            <input type="url" name="url" id="url" class="form-control" placeholder="网址(http://)" value="">
               </div>
                				
            <textarea name="text" id="textarea" class="form-control" onkeydown="if(event.ctrlKey&amp;&amp;event.keyCode==13){document.getElementById(&#39;misubmit&#39;).click();return false};" placeholder="在这里输入你的评论(Ctrl/Cmd+Enter也可以提交)..." required=""></textarea>
            <button type="submit" class="submit" id="misubmit">提交评论</button>
                        <input type="hidden" name="_" value="7f8331fddca52a45557ca031ac8cc255">
        </form>
    </div>   
</div>
     
<script>
function showhidediv(id){  
var sbtitle=document.getElementById(id);  
if(sbtitle){  
   if(sbtitle.style.display=='block'){  
   sbtitle.style.display='none';  
   }else{  
   sbtitle.style.display='block';  
   }  
}  
}
    
(function () {
    window.TypechoComment = {
        dom : function (id) {
            return document.getElementById(id);
        },
        create : function (tag, attr) {
            var el = document.createElement(tag);
            for (var key in attr) {
                el.setAttribute(key, attr[key]);
            }
            return el;
        },
        reply : function (cid, coid) {
            var comment = this.dom(cid), parent = comment.parentNode,
                response = this.dom('respond-post-29'),
                input = this.dom('comment-parent'),
                form = 'form' == response.tagName ? response : response.getElementsByTagName('form')[0],
                textarea = response.getElementsByTagName('textarea')[0];
            if (null == input) {
                input = this.create('input', {
                    'type' : 'hidden',
                    'name' : 'parent',
                    'id'   : 'comment-parent'
                });
                form.appendChild(input);
            }
            input.setAttribute('value', coid);
            if (null == this.dom('comment-form-place-holder')) {
                var holder = this.create('div', {
                    'id' : 'comment-form-place-holder'
                });
                response.parentNode.insertBefore(holder, response);
            }
            comment.appendChild(response);
            this.dom('cancel-comment-reply-link').style.display = '';
            if (null != textarea && 'text' == textarea.name) {
                textarea.focus();
            }
            return false;
        },
        cancelReply : function () {
            var response = this.dom('respond-post-29'),
            holder = this.dom('comment-form-place-holder'),
            input = this.dom('comment-parent');
            if (null != input) {
                input.parentNode.removeChild(input);
            }
            if (null == holder) {
                return true;
            }
            this.dom('cancel-comment-reply-link').style.display = 'none';
            holder.parentNode.insertBefore(response, holder);
            return false;
        }
    };
})();
</script>
</div>
</div>
        
    </div>
</article>
	       <footer id="footer" class="main-content-wrap">


    <span class="copyrights"> 博客已萌萌哒运行<span id="span_dt_dt">346天11小时37分6秒</span><br>
 © 2020 Late Winter /
 Power By <a target="_blank" href="http://typecho.org/">Typecho</a> 
/ Designed By <a target="_blank" href="http://qqdie.com/">Jrotty</a>
/ Loading time 0.060s
/ 统计代码</span>
</footer>

            </div>





    <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">

            
            
              
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action"> 
              <a class="post-action-btn btn btn--default tooltip--top" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/28.html" data-tooltip="下载安装ProxmoxVE 5.4（集群模式）并删除订阅通知"><i class="fa fa-angle-left"></i><span class="hide-xs hide-sm text-small icon-ml">前一篇</span></a>
                
            </li>
 <li class="post-action">
                
            <a class="post-action-btn btn btn--default tooltip--top" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/30.html" data-tooltip="更改ProxmoxVE的LXC仓库为国内源"><span class="hide-xs hide-sm text-small icon-mr">后一篇</span>
                    <i class="fa fa-angle-right"></i></a>
                
               
              
            </li>
        </ul>
    </nav>
   <ul class="post-actions post-action-share">
         <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>  <li class="post-action hide-xs">
          <a class="post-action-btn btn btn--default" target="new" data-tooltip="分享至Google" href="https://plus.google.com/share?url=http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
    <li class="post-action hide-xs">
<a class="post-action-btn btn btn--default tooltip--top" target="new" data-tooltip="分享至QQ空间" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html&amp;title=%E7%BB%99PVE%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AECeph%E5%AD%98%E5%82%A8%E5%B9%B6%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90&amp;site=Late%20Winter/&amp;pics=https://upload-images.jianshu.io/upload_images/16668695-0ba1b1233581471a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
                <i class="fa fa-qq"></i>
            </a>
            
        </li>
     
       
  

         <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" data-tooltip="分享至新浪微博" href="http://service.weibo.com/share/share.php?url=http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html/&amp;appkey=Late%20Winter/&amp;title=%E7%BB%99PVE%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AECeph%E5%AD%98%E5%82%A8%E5%B9%B6%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90&amp;pic=https://upload-images.jianshu.io/upload_images/16668695-0ba1b1233581471a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
                <i class="fa fa-weibo"></i>
            </a>
        </li>

        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
             
                <a class="post-action-btn btn btn--default" href="http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html#" onclick="gotoTop();return false;">
            
               <i class="fa fa-arrow-up"></i>
            </a>               
        </li>
    </ul>
</div>


                </div>

 <div id="share-options-bar" class="share-options-bar" data-behavior="1">

                
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="http://service.weibo.com/share/share.php?url=http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html/&amp;appkey=Late%20Winter/&amp;title=%E7%BB%99PVE%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AECeph%E5%AD%98%E5%82%A8%E5%B9%B6%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90&amp;pic=https://upload-images.jianshu.io/upload_images/16668695-0ba1b1233581471a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
                 <i class="fa fa-weibo"></i><span class="">Share on 新浪微博</span>
            </a>
        </li>
     
        <li class="share-option">
            <a class="share-option-btn" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html&amp;title=%E7%BB%99PVE%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AECeph%E5%AD%98%E5%82%A8%E5%B9%B6%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90&amp;site=Late%20Winter/&amp;pics=https://upload-images.jianshu.io/upload_images/16668695-0ba1b1233581471a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
                <i class="fa fa-qq"></i><span>Share on QQ空间</span>
            </a>
        </li><li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://www.itca.cc/ProxmoxVE%E8%99%9A%E6%8B%9F%E5%8C%96/29.html">
                <i class="fa fa-google-plus"></i><span>Share on Google</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
     
   </div></div>
        <div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>   
        <a href="http://www.itca.cc/admin/login.php" target="_blank">         <img id="about-card-picture" src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/IMG_20180806.jpg"></a>
        
            <h4 id="about-card-name">  Late Winter</h4>
 <h5 id="about-card-bio"><p>Just So So ...</p>
<script language="javascript">
function show_date_time(){window.setTimeout("show_date_time()",1e3);var BirthDay=new Date("2019/07/06"),today=new Date,timeold=today.getTime()-BirthDay.getTime(),msPerDay=864e5,e_daysold=timeold/msPerDay,daysold=Math.floor(e_daysold),e_hrsold=24*(e_daysold-daysold),hrsold=Math.floor(e_hrsold),e_minsold=60*(e_hrsold-hrsold),minsold=Math.floor(60*(e_hrsold-hrsold)),seconds=Math.floor(60*(e_minsold-minsold));span_dt_dt.innerHTML=daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒"}
show_date_time();
</script>


        
    </h5></div>
</div>
        <div id="cover" style="background-image:url(&#39;/usr/uploads/2019/09/1417208807.jpg&#39;);"></div>





<!--- 简繁转换开始 ---><script>
var defaultEncoding = 2; // 1: 繁體, 2: 简体
var translateDelay = 0; //延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0
var cookieDomain = "https://www.itca.cc/";
</script>
<script type="text/javascript" src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/cn_tw.js.download"></script>
<!--- 简繁转换结束 --->
<script>
document.body.addEventListener('copy', function (e) {
    if (window.getSelection().toString() && window.getSelection().toString().length > 42) {
        setClipboardText(e);
     notie({
  type: 'info',
  text: '商业转载请联系作者获得授权，非商业转载请注明出处，谢谢合作。',
  autoHide: true
})
    }
}); 
function setClipboardText(event) {
    var clipboardData = event.clipboardData || window.clipboardData;
    if (clipboardData) {
        event.preventDefault();
 
        var htmlData = ''
            + '著作权归作者所有。<br>'
            + '商业转载请联系作者获得授权，非商业转载请注明出处。<br>'
            + '作者：Late Winter<br>'
            + '链接：' + window.location.href + '<br>'
            + '来源：https://www.itca.cc/<br><br>'
            + window.getSelection().toString();
        var textData = ''
            + '著作权归作者所有。\n'
            + '商业转载请联系作者获得授权，非商业转载请注明出处。\n'
            + '作者：Late Winter\n'
            + '链接：' + window.location.href + '\n'
            + '来源：https://www.itca.cc/\n\n'
            + window.getSelection().toString();
 
        clipboardData.setData('text/html', htmlData);
        clipboardData.setData('text/plain',textData);
    }
}

</script>

    <!--SCRIPTS-->
<script src="./给PVE集群配置Ceph存储并更换国内源 - Late Winter_files/script.min.js.download" type="text/javascript"></script>
<!--PANGU AUTO SPACE-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/3.0.0/pangu.min.js"></script></body></html>