<!DOCTYPE html>
<html lang="zh-cn"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="referrer" content="never">
    <title>docker for centos7 - 扶朕起来，朕还能送 - 博客园</title>
<meta property="og:description" content="docker for centos7 据官方所说,docker在新版本的ubuntu和centos7上表现更好,鉴于我们目前使用的系统是centos6.8,这次我们选择centos7作为docker的">
    <link type="text/css" rel="stylesheet" href="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-LessIsMoreRight.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-LessIsMoreRight-mobile.css">
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/colder219/rss">
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/colder219/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/colder219/wlwmanifest.xml">
    <script src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/amp4ads-host-v0.js"></script><script src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/pubads_impl_rendering_2019043001.js"></script><script async="" src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/analytics.js"></script><script src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/jquery-2.js"></script>
    <script>var currentBlogId=237254;var currentBlogApp='colder219',cb_enable_mathjax=false;var isLogined=false;</script>
    <script src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.js" type="text/javascript"></script>
<link rel="preload" href="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/integrator.js" as="script"><script type="text/javascript" src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/integrator.js"></script><script src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/pubads_impl_2019043001.js" async=""></script><link rel="prefetch" href="https://tpc.googlesyndication.com/safeframe/1-0-33/html/container.html"></head>
<body>
<a name="top"></a>


<div id="home">
<div id="header">
	<div id="blogTitle">
		
<!--done-->
<div class="title"><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/colder219/">扶朕起来，朕还能送</a></div>
<div class="subtitle">春哥纯爷们，铁血真汉子，臂上能走马，拳上能站人，人民的好兄弟，父亲的好儿子</div>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li id="nav_sitehome"><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">博客园</a></li>
<li id="nav_myhome"><a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/colder219/">首页</a></li>
<li id="nav_newpost"><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li id="nav_contact"><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81">联系</a></li>
<li id="nav_rss"><a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/colder219/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="https://www.cnblogs.com/colder219/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li id="nav_admin"><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>

		<div class="blogStats">
			
			<div id="blog_stats">
<!--done-->
随笔-36&nbsp;
文章-0&nbsp;
评论-3&nbsp;
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->
<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
        <div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/colder219/p/6679255.html">docker for centos7</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown"><h1 id="docker-for-centos7">docker for centos7</h1>
<blockquote>
<p>据官方所说,docker在新版本的ubuntu和centos7上表现更好,鉴于我们目前使用的系统是centos6.8,这次我们选择centos7作为docker的宿主系统.</p>
</blockquote>
<h2 id="安装">安装</h2>
<h3 id="准备工作">准备工作</h3>
<p>删除原来的docker包,一般情况下不用,保险起见,最好按流程走一下</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum -y remove docker docker-common container-selinux</span></code></pre>
<p>删除docker的selinux 同上</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum -y remove docker-selinux</span></code></pre>
<h3 id="开始安装了">开始安装了</h3>
<p>使用yum 安装yum-utils</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum install -y yum-utils</span></code></pre>
<p>增加docker源</p>
<pre><code class="hljs ruby">$ sudo yum-config-manager \
--add-repo \
<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/download.docker.com/linux</span><span class="hljs-regexp">/centos/docker</span>-ce.repo</code></pre>
<p>查看docker源是否可用</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum-config-manager --<span class="hljs-built_in">enable</span> docker-ce-edge</span>
enable 为True就行</code></pre>
<p>创建缓存</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum makecache fast</span></code></pre>
<p>使用yum安装</p>
<blockquote>
<p>docker现在分为两个版本 EE(企业版) CE(社区版),这里我们选择CE版.</p>
</blockquote>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo yum install docker-ce</span></code></pre>
<p>启动docker</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo systemctl start docker</span></code></pre>
<p>启动一个helloword</p>
<pre><code class="hljs dockerfile">$ sudo docker <span class="hljs-keyword">run</span><span class="bash"> hello-world</span></code></pre>
<blockquote>
<p>这条命令会下载一个测试镜像,并启动一个容器,输出hello world 并退出,如果正常说明docker安装成功.</p>
</blockquote>
<h2 id="使用docker">使用docker</h2>
<h3 id="使用国内源加速">使用国内源加速</h3>
<blockquote>
<p>由于众所周知的原因,国内使用docker的官方源会非常慢,有时候甚至不能连接,因此我们需要使用国内源加速,基于我对阿里相对好的印象,这里我们选择阿里云的docker加速,另外推荐的还有daoCloud的加速,据说也不错.</p>
</blockquote>
<p>通过修改daemon配置文件/etc/docker/daemon.json来使用加速器：</p>
<pre><code class="hljs groovy">sudo mkdir -p <span class="hljs-regexp">/etc/</span>docker
sudo tee <span class="hljs-regexp">/etc/</span>docker/daemon.json &lt;&lt;-<span class="hljs-string">'EOF'</span>
{
  <span class="hljs-string">"registry-mirrors"</span>: [<span class="hljs-string">"https://ik8akj45.mirror.aliyuncs.com"</span>]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker</code></pre>
<p>tips</p>
<p>导入导出镜像</p>
<pre><code class="hljs shell">导入导出镜像
<span class="hljs-meta">
#</span><span class="bash"> 导出</span>
<span class="hljs-meta">$</span><span class="bash"> docker save images &gt; lnmp.tar.gz</span>
<span class="hljs-meta">#</span><span class="bash"> 导入</span>
<span class="hljs-meta">$</span><span class="bash"> docker load -qi lnmp.tar</span></code></pre>
<h3 id="docker-常用命令">docker 常用命令</h3>
<p>引用一下一个前辈的总结,docker的命名主要分为以下几类</p>
<ul>
<li>容器生命周期管理 — docker [run|start|stop|restart|kill|rm|pause|unpause]</li>
<li>容器操作运维 — docker [ps|inspect|top|attach|events|logs|wait|export|port]</li>
<li>容器rootfs命令 — docker [commit|cp|diff]</li>
<li>镜像仓库 — docker [login|pull|push|search]</li>
<li>本地镜像管理 — docker [images|rmi|tag|build|history|save|import]</li>
<li>其他命令 — docker [info|version]</li>
</ul>
<p>下面具体说明下docker的基本命令</p>
<h4 id="docker-镜像命令">docker 镜像命令</h4>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo docker images 列出机器上的镜像</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker search centos 所有镜像</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker pull centos 拉取镜像</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker <span class="hljs-built_in">history</span> centos7   查看针对于一个镜像的历史操作</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker pull dl.dockerpool.com:5000/mongo:latest 从私服拉取镜像</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker inspect centos    获取镜像详细信息</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker rmi centos 删除镜像 如果有使用这个镜像构建的容器,就不能删除,非要删除的话可以加上 -f 参数,不过 不建议这样操作.</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker tag centos centos7    给镜像创建tag,细心的人可以看到镜像id是一致的,说明这还是一个镜像</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker save images &gt; lnmp.tar.gz 导出镜像</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker load -qi lnmp.tar     导入镜像</span>
<span class="hljs-meta">#</span><span class="bash"> 推送镜像</span>
<span class="hljs-meta">$</span><span class="bash"> docker push seanlook/mongo</span>
<span class="hljs-meta">$</span><span class="bash"> docker push registry.tp-link.net:5000/mongo:2014-10-27</span>
<span class="hljs-meta">#</span><span class="bash"> 创建镜像 三种方式 </span>
1. 启动一个容器 并在其中进行修改等写入操作 退出 记住容器id 然后提交镜像 
<span class="hljs-meta">$</span><span class="bash"> sudo docker commit -m <span class="hljs-string">"Add a test file"</span> -a <span class="hljs-string">"I am nick"</span> 容器id <span class="hljs-built_in">test</span> </span>
顺利的话会返回新创建的id信息
然后在本地查看镜像列表,就可以看到新的镜像了
2.使用本地模板导入 推荐下载openvz模板来创建
导入命令
<span class="hljs-meta">$</span><span class="bash"> cat centos-6.8-minimal.tar.gz |sudo docker import - centos:6.8</span>
然后查看镜像列表,镜像已经存在了.
3. 使用dockerfile 构建镜像</code></pre>
<h4 id="容器命令">容器命令</h4>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo docker rm 132b910b1ad6     删除容器</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker start e86f7599efe9 启动一个容器</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker create  centos7  创建一个容器  默认是停止状态  可以使用上面的命令启动它</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker run -ti 98d35105a391 /bin/<span class="hljs-built_in">echo</span> <span class="hljs-string">"hehe"</span>     启动一个容器,输出 hehe 然后退出</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker run -ti 98d35105a391 /bin/bash  启动一个容器 -t 让命令分配一个伪终端 -i 让容器的标准输入保持打开</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker run -d --name ugg centos7 /bin/bash -c <span class="hljs-string">"while true; do echo hello world; sleep 2; done"</span> 后台启动一个名为ugg的docker容器 连入之后 会一直输出hello world 使用ctrl+p ctrl+q 退出到宿主机,Ctrl+C 退出输出</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker attach e86f7599efe9   连接一个容器的终端 attach 在多个窗口同时attach一个容器的时候,所有窗口都会同步显示,其中一个窗口阻塞时,其它窗口也没有办法操作,因此推荐使用 <span class="hljs-built_in">exec</span></span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker <span class="hljs-built_in">exec</span> -ti  6fdc63f3a4df  /bin/bash  基本等同于attach 但是是真正独立的shell</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker stop ugg  停止一个容器</span>
<span class="hljs-meta">$</span><span class="bash"> sudo docker <span class="hljs-built_in">export</span> rose &gt; /tmp/rose.tar 导出一个容器</span>
<span class="hljs-meta">$</span><span class="bash"> cat /tmp/rose.tar |sudo docker import  /tmp/rose.tar rosex 导入一个容器为镜像,rosex为镜像名称</span></code></pre>
<p>查看容器ip</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo docker inspect homepage |grep \<span class="hljs-string">"IPAddress\" |head -1 |awk '{print <span class="hljs-variable">$2</span>}' |awk -F "</span>\<span class="hljs-string">""</span> <span class="hljs-string">'{print $2}'</span>   <span class="hljs-comment"># homepage是容器名称</span></span></code></pre>
<p>执行完删除容器</p>
<pre><code class="hljs lua">在执行容器的时候加上 <span class="hljs-comment">-- rm 参数 -- rm 和 -d 参数不能同时使用</span></code></pre>
<p>容器的名称是唯一的,想创建一个名称已存在的容器,必须先删除已经存在那个容器</p>
<p>docker 容器重启IP会变,这个一定要注意,不然踩大坑.</p>
<h3 id="docker-简单应用">docker 简单应用</h3>
<h4 id="实例一-使用docker运行一个静态网站">实例一 使用docker运行一个静态网站</h4>
<blockquote>
<p>这个例子主要是可以让我们学会使用docker 映射端口<br>
和如何创建一个支持ssh的容器</p>
</blockquote>
<p>创建一个容器</p>
<pre><code class="hljs dockerfile"><span class="hljs-comment"># 这个不一定能用,下面有说明</span>
$ sudo docker <span class="hljs-keyword">run</span><span class="bash">  -p 8100:8100 -p 2200:2200 -ti --name homepage  centos7
</span> </code></pre>
<p>连入容器</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo docker <span class="hljs-built_in">exec</span> -ti bfaedade67b9 /bin/bash</span></code></pre>
<p>修改容器的root密码</p>
<pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> passwd root</span></code></pre>
<p>安装ssh</p>
<pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> yum -y install openssh-server openssh-clients</span></code></pre>
<p>安装nginx</p>
<pre><code class="hljs awk"><span class="hljs-comment"># yum install nginx </span>
nginx默认root在这里,嫌麻烦的直接可以在这里编辑或者把网站文件放这里
<span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/nginx/</span>html</code></pre>
<p>nginx 启动 8100端口 sshd启动 2200端口</p>
<p>修改ssh配置文件</p>
<pre><code class="hljs yaml"><span class="hljs-string">$</span> <span class="hljs-string">vi</span> <span class="hljs-string">/etc/ssh/sshd_config</span>

<span class="hljs-string">RSAAuthentication</span> <span class="hljs-literal">yes</span> <span class="hljs-comment">#启用 RSA 认证</span>
<span class="hljs-string">PubkeyAuthentication</span> <span class="hljs-literal">yes</span> <span class="hljs-comment">#启用公钥私钥配对认证方式</span>
<span class="hljs-string">AuthorizedKeysFile</span> <span class="hljs-string">.ssh/authorized_keys</span> <span class="hljs-comment">#公钥文件路径（和上面生成的文件同）</span>
<span class="hljs-string">PermitRootLogin</span> <span class="hljs-literal">yes</span> <span class="hljs-comment">#root能使用ssh登录</span></code></pre>
<blockquote>
<p>这里提一个bug,就是sshd在容器中不能启动,这个的原因是因为dbus-daemon没能启动。其实systemctl并不是不可以使用。将你的CMD或者entrypoint设置为/usr/sbin/init即可。会自动将dbus等服务启动起来。</p>
</blockquote>
<p>所以将上面的创建镜像命令改成</p>
<p>$ sudo docker run -d -p 8100:8100 -p 2200:2200 -ti --name homepage 
--privileged -ti -e "container=docker" -v /sys/fs/cgroup:/sys/fs/cgroup 
centos7 /sbin/init</p>
<blockquote>
<p>不过这个又带来了另一个问题 agetty CPU占用率100% 参考:http://blog.chinaunix.net/uid-26212859-id-5759744.html<br>
原因就是 "docker run"运行容器时使用了 "/sbin/init"和"--privileged"参数<br>
使用/sbin/init启动容器并加上--privileged参数，相当于docker容器获得了宿主机的全权委托权限。这时docker容器内部的init与宿主机的init产生了混淆。<br>
出于对安全的考虑，在启动容器时，docker容器里的系统只具有一些普通的linux权限，并不具有真正root用户的所有权限。而--privileged=true参数可以让docker容器具有linux root用户的所有权限。<br>
为了解决这个问题，docker后来的版本中docker run增加了两个选项参数"--cap-add"和"--cap-drop"。</p>
</blockquote>
<pre><code class="hljs dockerfile">--cap-<span class="hljs-keyword">add</span><span class="bash"> : 获取default之外的linux的权限
</span>--cap-drop: 放弃default linux权限
所以，在运行容器时，可以不用--privileged参数的尽量不用，用--cap-<span class="hljs-keyword">add</span><span class="bash">参数替代。如果必须使用--privileged=<span class="hljs-literal">true</span>参数的，可以通过在宿主机和容器中执行以下命令将agetty关闭。
</span><span class="hljs-keyword">shell</span><span class="bash">&gt; systemctl stop getty@tty1.service
</span><span class="hljs-keyword">shell</span><span class="bash">&gt; systemctl mask getty@tty1.service</span></code></pre>
<p>docker vim 中文乱码的解决方案</p>
<pre><code class="hljs sql">$ vim .vimrc
加入以下几行设置即可

<span class="hljs-keyword">set</span> fileencodings=ucs-bom,utf<span class="hljs-number">-8</span>,gbk,gb2312,cp936,gb18030,big5,latin<span class="hljs-number">-1</span>
<span class="hljs-keyword">set</span> <span class="hljs-keyword">encoding</span>=utf<span class="hljs-number">-8</span>
<span class="hljs-keyword">set</span> termencoding=utf<span class="hljs-number">-8</span>
<span class="hljs-keyword">set</span> fileencoding=utf<span class="hljs-number">-8</span></code></pre>
<p>这些搞完了,就可以看你的网站了.<br>
<img src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/14914503954024.json"></p>
<h4 id="实例二-使用docker实现lnmp站点搭建">实例二 使用docker实现lnmp站点搭建</h4>
<blockquote>
<p>通过这个实例可以学习到容器之间如何互联<br>
还有如何在多台机器上部署lnmp环境</p>
</blockquote>
<p>将上一个容器导出</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo docker <span class="hljs-built_in">export</span> homepage &gt; /tmp/web.tar</span></code></pre>
<p>把这个容器导入为一个镜像</p>
<pre><code class="hljs groovy">$ cat <span class="hljs-regexp">/tmp/</span>web.tar |sudo docker <span class="hljs-keyword">import</span>  <span class="hljs-regexp">/tmp/</span>web.tar web</code></pre>
<p>使用这个镜像启动一个容器</p>
<pre><code class="hljs awk"><span class="hljs-comment">#这个容器里面启动的端口可能跟映射的不一样,可以进去改一下,这个容器启一个mysql服务</span>
$ sudo docker run  -d -p <span class="hljs-number">8110</span>:<span class="hljs-number">8110</span> -p <span class="hljs-number">2210</span>:<span class="hljs-number">2210</span> -p <span class="hljs-number">3316</span>:<span class="hljs-number">3316</span> -ti --name homepage01  --privileged  -ti -e <span class="hljs-string">"container=docker"</span>  -v <span class="hljs-regexp">/sys/</span>fs<span class="hljs-regexp">/cgroup:/</span>sys<span class="hljs-regexp">/fs/</span>cgroup web <span class="hljs-regexp">/sbin/i</span>nit</code></pre>
<p>再用这个镜像启动一个容器,这个容器需要php 和 需要连接数据库的代码</p>
<pre><code class="hljs groovy">$ sudo docker run  -d -p <span class="hljs-number">8120</span>:<span class="hljs-number">8120</span> -p <span class="hljs-number">2220</span>:<span class="hljs-number">2220</span> -p <span class="hljs-number">3326</span>:<span class="hljs-number">3326</span> -ti --name homepage02 --link <span class="hljs-string">homepage01:</span>homepage01 --privileged  -ti -e <span class="hljs-string">"container=docker"</span>  -v <span class="hljs-regexp">/sys/</span>fs<span class="hljs-regexp">/cgroup:/</span>sys<span class="hljs-regexp">/fs/</span>cgroup web <span class="hljs-regexp">/sbin/</span>init</code></pre>
<p>连进homepage02容器,使用env 命令可以看到homepage02和homepage01的连接</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo docker <span class="hljs-built_in">exec</span> -ti homepage01 /bin/bash</span>
<span class="hljs-meta">$</span><span class="bash"> env</span>
 </code></pre>
<p><img src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/14914501784678.json"></p>
<p>ping homepage01 会解析为homepage01的IP</p>
<p><img src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/14914502798090.json"></p>
<p>用户可以链接多个子容器到父容器,比如多个web连接到db容器上</p>
<p>这些做完后,你可以给homepage01装一个myql</p>
<pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 端口号为映射的3316 </span>
<span class="hljs-meta">$</span><span class="bash"> yum install mariadb-server -y</span>
<span class="hljs-meta">#</span><span class="bash"> centos7 自带的是mariadb</span>
<span class="hljs-meta">#</span><span class="bash"> 启动 systemctl start mariadb.service</span>
<span class="hljs-meta">#</span><span class="bash"> 开机启动 systemctl <span class="hljs-built_in">enable</span> mariadb.service</span>
<span class="hljs-meta">#</span><span class="bash"> 修改密码  mysql_secure_installation</span></code></pre>
<p>mariadb的授权不太一样,搞了半天,老外套路太深...</p>
<pre><code class="hljs sql">$ <span class="hljs-keyword">create</span> <span class="hljs-keyword">user</span> root@<span class="hljs-string">'172.17.0.4'</span> <span class="hljs-keyword">identified</span> <span class="hljs-keyword">by</span> <span class="hljs-string">'123456'</span>;
$ <span class="hljs-keyword">grant</span> all <span class="hljs-keyword">privileges</span> <span class="hljs-keyword">on</span> *.* <span class="hljs-keyword">to</span> root@<span class="hljs-string">'172.17.0.4'</span>;</code></pre>
<p>在给homepage02 装上nginx 和php</p>
<pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> nginx 端口为映射的8120</span>
<span class="hljs-meta">$</span><span class="bash"> yum install php php-fpm ninx</span>
<span class="hljs-meta">$</span><span class="bash"> systemctl start nginx</span>
<span class="hljs-meta">$</span><span class="bash"> systemctl start php-fpm</span></code></pre>
<blockquote>
<p>注意 连接MySQL要注意端口号.<br>
需要安装PHP的MySQL扩展 php-mysql</p>
</blockquote>
<p>完成之后启动服务,打开浏览器输入地址,就可以看到我们的PHP项目了.<br>
<img src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/14914756921609.json"></p>
<h2 id="dockerfile">Dockerfile</h2>
<blockquote>
<p>如果docker是原子弹的话,那么dockerfile就是核弹头,不使用dockerfile的话,docker永远只是玩具.<br>
使用Dockerfile可以允许用户创建自定义的镜像</p>
</blockquote>
<p>Dockerfile一般由一条条语句组成,并支持以 # 开头的注释行<br>
一般来说Dockerfile分为四部分</p>
<ol>
<li>基础镜像信息</li>
<li>维护者信息</li>
<li>镜像操作指令</li>
<li>容器启动时执行指令</li>
</ol>
<p>下面是一个简单的例子,具体操作也可以参考这个</p>
<pre><code class="hljs dockerfile"><span class="hljs-comment"># 基于某个镜像</span>
<span class="hljs-comment"># FROME centos:tag 这样可以指定版本</span>
<span class="hljs-keyword">FROM</span> centos:<span class="hljs-number">6</span>

<span class="hljs-comment"># 将维护人员信息写到镜像中,当我们对该image执行docker inspect命令时，输出中有相应的字段记录该信息。</span>
<span class="hljs-keyword">MAINTAINER</span> NGINX Docker Maintainers <span class="hljs-string">"colder219@163.com"</span>

<span class="hljs-keyword">ENV</span> NGINX_VERSION <span class="hljs-number">1.10</span>.<span class="hljs-number">1</span>-<span class="hljs-number">1</span>

<span class="hljs-comment"># 构建指令，RUN可以运行任何被基础image支持的命令。</span>
<span class="hljs-comment"># 如基础image悬选择了Centos，那么软件管理部分只能使用Centos的命令。</span>
<span class="hljs-comment"># 该指令有两种格式</span>
<span class="hljs-comment"># RUN &lt;command&gt; (the command is run in a shell - `/bin/sh -c`)  </span>
<span class="hljs-comment"># RUN ["executable", "param1", "param2" ... ]  (exec form)</span>
<span class="hljs-keyword">RUN</span><span class="bash"> yum  install -y epel-release
</span><span class="hljs-keyword">RUN</span><span class="bash"> yum install -y nginx
</span><span class="hljs-keyword">RUN</span><span class="bash"> sed -i <span class="hljs-string">"s/80/8200/g"</span> /etc/nginx/conf.d/default.conf
</span><span class="hljs-keyword">RUN</span><span class="bash">  chkconfig nginx on
</span> 
<span class="hljs-keyword">CMD</span><span class="bash"> [<span class="hljs-string">"nginx"</span>, <span class="hljs-string">"-g"</span>, <span class="hljs-string">"daemon off;"</span>]
</span>

<span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">8200</span></code></pre>
<h4 id="开始构建">开始构建</h4>
<p>Dockerfile文件在/root目录下</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo docker build -t dblue/centos-nginx /root</span></code></pre>
<p>现在看看是不是多了个镜像</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> sudo docker images</span></code></pre>
<p><img src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/14915563957902.json"></p>
<h4 id="使用这个镜像启动一个服务">使用这个镜像,启动一个服务</h4>
<pre><code class="hljs dockerfile">$ sudo docker <span class="hljs-keyword">run</span><span class="bash">  -d -p 8200:8200 -ti --name test000  -ti dblue/centos-nginx</span></code></pre>
<p>打开浏览器输入: http://10.211.55.6:8200 看到下面的页面,说明就成功了.<br>
<img src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/14915562916056.json"></p>
</div><div id="MySignature" style="display: block;">我是一个有原则的人，我的原则就三个字：看心情！</div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(6679255,cb_blogId,1);green_channel_success(this,'谢谢推荐！');">好文要顶</a>
            <a id="green_channel_follow" onclick="follow('1020ed03-e832-e511-b908-9dcfd8948a71');" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/colder219/" target="_blank"><img src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/20160514144655.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/colder219/">扶朕起来，朕还能送</a><br>
            <a href="http://home.cnblogs.com/u/colder219/followees">关注 - 5</a><br>
            <a href="http://home.cnblogs.com/u/colder219/followers">粉丝 - 4</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow('1020ed03-e832-e511-b908-9dcfd8948a71');return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(6679255,'Digg')">
        <span class="diggnum" id="digg_count">0</span>
    </div>
    <div class="buryit" onclick="votePost(6679255,'Bury')">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
<script type="text/javascript">
    currentDiggType = 0;
</script></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="https://www.cnblogs.com/colder219/p/6566665.html" class="p_n_p_prefix">« </a> 上一篇：<a href="https://www.cnblogs.com/colder219/p/6566665.html" title="发布于2017-03-17 15:46">mac ssh报错处理</a><br><a href="https://www.cnblogs.com/colder219/p/6980205.html" class="p_n_p_prefix">» </a> 下一篇：<a href="https://www.cnblogs.com/colder219/p/6980205.html" title="发布于2017-06-10 22:27">centos7 初始化安装</a><br></div>
</div>


		</div>
		<div class="postDesc">posted @ <span id="post-date">2017-04-07 17:30</span> <a href="https://www.cnblogs.com/colder219/">扶朕起来，朕还能送</a> 阅读(<span id="post_view_count">5020</span>) 评论(<span id="post_comment_count">0</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=6679255" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(6679255);return false;">收藏</a></div>
	</div>
	<script src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/highlight.js"></script><script>markdown_highlight();</script><script type="text/javascript">var allowComments=true,cb_blogId=237254,cb_entryId=6679255,cb_blogApp=currentBlogApp,cb_blogUserGuid='1020ed03-e832-e511-b908-9dcfd8948a71',cb_entryCreatedDate='2017/4/7 17:30:00';loadViewCount(cb_entryId);var cb_postType=1;var isMarkdown=true;</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login('commentform');">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-工控')">【推荐】超50万C++/C#源码: 大型实时仿真组态图形源码</a><br><a href="https://www.bagevent.com/event/2195041?bag_track=13072958" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-看雪')">【活动】看雪2019安全开发者峰会，共话安全领域焦点</a><br><a href="https://ke.qq.com/adActivity.html?name=xiangxueketang2" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-享学')">【培训】Java程序员年薪40W，他1年走了别人5年的路</a><br></div>
<div id="opt_under_post"></div>
<script async="async" src="docker%20for%20centos7%20-%20%E6%89%B6%E6%9C%95%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%9C%95%E8%BF%98%E8%83%BD%E9%80%81%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/gpt.js"></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id="cnblogs_c1" class="c_ad_block">
    <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;" data-google-query-id="CKH8iZ68huICFVPClgodnbYJBw"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C1_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C1_0" scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;" srcdoc="" data-google-container-id="1" data-load-complete="true" width="300" height="250" frameborder="0"></iframe></div></div>
</div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>相关博文：</b><br>·  <a href="https://www.cnblogs.com/vikings-blog/p/3960293.html" target="_blank" onclick="clickRecomItmem(3960293)">Docker学习总结之docker介绍</a><br>·  <a href="https://www.cnblogs.com/humi/p/7880100.html" target="_blank" onclick="clickRecomItmem(7880100)">docker 学习1 WSL docker  ，Windows docker</a><br>·  <a href="https://www.cnblogs.com/jinanxiaolaohu/p/9337914.html" target="_blank" onclick="clickRecomItmem(9337914)">[转帖]Docker里运行Dockerdockerindocker(dind)</a><br>·  <a href="https://www.cnblogs.com/ftl1012/p/10381108.html" target="_blank" onclick="clickRecomItmem(10381108)">Docker学习—Docker简介</a><br>·  <a href="https://www.cnblogs.com/zhuochong/p/10057344.html" target="_blank" onclick="clickRecomItmem(10057344)">Docker(一)-Docker介绍</a><br></div></div>
<div id="cnblogs_c2" class="c_ad_block">
    <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;" data-google-query-id="CKL8iZ68huICFVPClgodnbYJBw"><div id="google_ads_iframe_/1090369/C2_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C2_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C2_0" scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;" srcdoc="" data-google-container-id="2" data-load-complete="true" width="468" height="60" frameborder="0"></iframe></div></div>
</div>
<div id="under_post_kb"><div class="itnews c_ad_block"><b>最新新闻</b>：<br> ·  <a href="https://news.cnblogs.com/n/624847/" target="_blank">科学家研究板块构造变化对海洋含氧量影响</a><br> ·  <a href="https://news.cnblogs.com/n/624846/" target="_blank">日本程序员节假日全员加班？都是“令和”惹的祸</a><br> ·  <a href="https://news.cnblogs.com/n/624845/" target="_blank">深度|挺过创新困境：微软正经历“纳德拉复兴”</a><br> ·  <a href="https://news.cnblogs.com/n/624844/" target="_blank">李彦宏：未来没有一家企业可以声称与人工智能无关</a><br> ·  <a href="https://news.cnblogs.com/n/624843/" target="_blank">蚂蚁金服副总裁否认彭翼捷退出阿里系：工商信息变更是正常行为</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"><div id="profile_block">昵称：<a href="https://home.cnblogs.com/u/colder219/">扶朕起来，朕还能送</a><br>园龄：<a href="https://home.cnblogs.com/u/colder219/" title="入园时间：2015-07-26">3年9个月</a><br>粉丝：<a href="https://home.cnblogs.com/u/colder219/followers/">4</a><br>关注：<a href="https://home.cnblogs.com/u/colder219/followees/">5</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow('1020ed03-e832-e511-b908-9dcfd8948a71')">+加关注</a></div><script>getFollowStatus('1020ed03-e832-e511-b908-9dcfd8948a71')</script></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" title="Calendar" cellspacing="0" cellpadding="0">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar('2019/04/01');return false;">&lt;</a></td><td align="center">2019年5月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar('2019/06/01');return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" abbr="日" scope="col" align="center">日</th><th class="CalDayHeader" abbr="一" scope="col" align="center">一</th><th class="CalDayHeader" abbr="二" scope="col" align="center">二</th><th class="CalDayHeader" abbr="三" scope="col" align="center">三</th><th class="CalDayHeader" abbr="四" scope="col" align="center">四</th><th class="CalDayHeader" abbr="五" scope="col" align="center">五</th><th class="CalDayHeader" abbr="六" scope="col" align="center">六</th></tr><tr><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td class="CalWeekendDay" align="center">4</td></tr><tr><td class="CalWeekendDay" align="center">5</td><td class="CalTodayDay" align="center">6</td><td align="center">7</td><td align="center">8</td><td align="center">9</td><td align="center">10</td><td class="CalWeekendDay" align="center">11</td></tr><tr><td class="CalWeekendDay" align="center">12</td><td align="center">13</td><td align="center">14</td><td align="center">15</td><td align="center">16</td><td align="center">17</td><td class="CalWeekendDay" align="center">18</td></tr><tr><td class="CalWeekendDay" align="center">19</td><td align="center">20</td><td align="center">21</td><td align="center">22</td><td align="center">23</td><td align="center">24</td><td class="CalWeekendDay" align="center">25</td></tr><tr><td class="CalWeekendDay" align="center">26</td><td align="center">27</td><td align="center">28</td><td align="center">29</td><td align="center">30</td><td align="center">31</td><td class="CalOtherMonthDay" align="center">1</td></tr><tr><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td><td class="CalOtherMonthDay" align="center">7</td><td class="CalOtherMonthDay" align="center">8</td></tr>
</tbody></table></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk"></div>
</div>
</div>

</div><div id="sidebar_shortcut" class="sidebar-block">
<div class="catListLink">
<h3 class="catListTitle">常用链接</h3>
<ul>
<li><a href="https://www.cnblogs.com/colder219/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="https://www.cnblogs.com/colder219/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="https://www.cnblogs.com/colder219/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="https://www.cnblogs.com/colder219/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="https://www.cnblogs.com/colder219/tag/" title="我的博客的标签列表">我的标签</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">
<ul>

</ul>
</div>
</div></div><div id="sidebar_toptags" class="sidebar-block"></div><div id="sidebar_categories">
<div class="catListPostArchive">
<h3 class="catListTitle">随笔档案</h3>

<ul>

<li><a id="CatList_LinkList_0_Link_0" href="https://www.cnblogs.com/colder219/archive/2017/07.html">2017年7月 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_1" href="https://www.cnblogs.com/colder219/archive/2017/06.html">2017年6月 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_2" href="https://www.cnblogs.com/colder219/archive/2017/04.html">2017年4月 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_3" href="https://www.cnblogs.com/colder219/archive/2017/03.html">2017年3月 (4)</a> </li>

<li><a id="CatList_LinkList_0_Link_4" href="https://www.cnblogs.com/colder219/archive/2017/02.html">2017年2月 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_5" href="https://www.cnblogs.com/colder219/archive/2017/01.html">2017年1月 (6)</a> </li>

<li><a id="CatList_LinkList_0_Link_6" href="https://www.cnblogs.com/colder219/archive/2016/12.html">2016年12月 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_7" href="https://www.cnblogs.com/colder219/archive/2016/10.html">2016年10月 (4)</a> </li>

<li><a id="CatList_LinkList_0_Link_8" href="https://www.cnblogs.com/colder219/archive/2016/09.html">2016年9月 (3)</a> </li>

<li><a id="CatList_LinkList_0_Link_9" href="https://www.cnblogs.com/colder219/archive/2016/08.html">2016年8月 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_10" href="https://www.cnblogs.com/colder219/archive/2016/07.html">2016年7月 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_11" href="https://www.cnblogs.com/colder219/archive/2016/06.html">2016年6月 (3)</a> </li>

<li><a id="CatList_LinkList_0_Link_12" href="https://www.cnblogs.com/colder219/archive/2016/05.html">2016年5月 (7)</a> </li>

<li><a id="CatList_LinkList_0_Link_13" href="https://www.cnblogs.com/colder219/archive/2016/03.html">2016年3月 (1)</a> </li>

<li><a id="CatList_LinkList_0_Link_14" href="https://www.cnblogs.com/colder219/archive/2015/07.html">2015年7月 (1)</a> </li>

</ul>

</div>

</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap">
<div class="catListComment">
<h3 class="catListTitle">最新评论</h3>
	<div id="RecentCommentsBlock"><ul>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/colder219/p/6266296.html#4143805">1. Re:MWEB+七牛 上传图片</a></li>
        <li class="recent_comment_body">你知道你的图片为什么显示不出来吗？因为七牛云给了你一个一个月使用期限的域名，一个月以后，该域名将会被回收。本来只是要个免费图床，一个月后，好了。为了正常使用，我需要买个域名，还要买个主机解析。而且，域......</li>
        <li class="recent_comment_author">--lgx211</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/colder219/p/5492522.html#3449023">2. Re:linux一键安装vncserver脚本</a></li>
        <li class="recent_comment_body">666666666666666666</li>
        <li class="recent_comment_author">--闪开，让我来推塔</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/colder219/p/5492552.html#3431032">3. Re:mongodb入门教程二</a></li>
        <li class="recent_comment_body">自己给自己评论试试<br>&lt;来自:博客园客户端&gt;</li>
        <li class="recent_comment_author">--扶朕起来，朕还能送</li>
</ul>
</div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">阅读排行榜</h3>
	<div id="TopViewPostsBlock"><ul><li><a href="https://www.cnblogs.com/colder219/p/6245862.html">1. centos7 部署ssserver(16307)</a></li><li><a href="https://www.cnblogs.com/colder219/p/6298168.html">2. centos 安装 aria2 webui 实现网页下载(7272)</a></li><li><a href="https://www.cnblogs.com/colder219/p/5492537.html">3. nginx反向代理nginx，RealServer日志打印真实ip(5926)</a></li><li><a href="https://www.cnblogs.com/colder219/p/6015174.html">4. vim中选择匹配文本删除技巧(5236)</a></li><li><a href="https://www.cnblogs.com/colder219/p/6679255.html">5. docker for centos7(5018)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock"><ul><li><a href="https://www.cnblogs.com/colder219/p/5492522.html">1. linux一键安装vncserver脚本(1)</a></li><li><a href="https://www.cnblogs.com/colder219/p/5492552.html">2. mongodb入门教程二(1)</a></li><li><a href="https://www.cnblogs.com/colder219/p/6266296.html">3. MWEB+七牛 上传图片(1)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">推荐排行榜</h3>
<div id="TopDiggPostsBlock"><ul><li><a href="https://www.cnblogs.com/colder219/p/6394653.html">1. mongodb 主从(1)</a></li><li><a href="https://www.cnblogs.com/colder219/p/7158294.html">2. centos7 redmine安装过程(1)</a></li></ul></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2019 扶朕起来，朕还能送
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->



</body></html>