<!DOCTYPE html>
<html lang="zh-cn"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="referrer" content="origin">
    <title>操作Docker容器 - wade&amp;luffy - 博客园</title>
<meta property="og:description" content="容器是镜像的一个运行实例。所不同的是，镜像是静态的只读文件，而容器带有运行时需要的可写文件层。如果认为虚拟机是模拟运行的一整套操作系统（包括内核、应用运行态环境和其他系统环境）和跑在上面的应用，那么D">
    <link type="text/css" rel="stylesheet" href="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-Banlieue13.css">
<link type="text/css" rel="stylesheet" href="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/293616.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-Banlieue13-mobile.css">
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/wade-luffy/rss">
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/wade-luffy/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/wade-luffy/wlwmanifest.xml">
    <script src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/amp4ads-host-v0.js"></script><script src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/pubads_impl_rendering_2019043001.js"></script><script async="" src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/analytics.js"></script><script type="text/javascript" src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/encoder.js"></script><script src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/jquery-2.js"></script>
    <script>var currentBlogId=293616;var currentBlogApp='wade-luffy',cb_enable_mathjax=false;var isLogined=false;</script>
    <script src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.js" type="text/javascript"></script>
<link rel="preload" href="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/integrator.js" as="script"><script type="text/javascript" src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/integrator.js"></script><script src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/pubads_impl_2019043001.js" async=""></script></head>
<body>
<a name="top"></a>

<div id="page_begin_html"><script type="text/javascript">window['__document_write_ajax_callbacks__']['2']();</script><script type="text/javascript">window['__document_write_ajax_callbacks__']['1']();</script></div><script>load_page_begin_html();</script>

<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a id="lnkBlogLogo" href="https://www.cnblogs.com/wade-luffy/"><img id="blogLogo" src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/logo.gif" alt="返回主页"></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/wade-luffy/">wade&amp;luffy</a></h1>
<h2>生活最主要的还是感受，坚持是一种刻意的练习，不断寻找缺点突破缺点的过程，而不是重复做某件事情。</h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="navigator">
			
<ul id="navList">
	<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">博客园</a></li>
	<li><a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/wade-luffy/">首页</a></li>
	<li><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
	<li><a id="blog_nav_contact" accesskey="9" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/wade%26amp%3Bluffy">联系</a></li>
	<li><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
	<li>
	</li>
</ul>


			<div class="blogStats">
				
				<div id="blog_stats">
<!--done-->
随笔- 442&nbsp;
文章- 0&nbsp;
评论- 40&nbsp;
</div>
				
			</div><!--end: blogStats -->
		</div><!--end: navigator 博客导航栏 -->
		
        <div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/wade-luffy/p/6497108.html">操作Docker容器</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><p>容器是镜像的一个运行实例。所不同
的是，镜像是静态的只读文件，而容器带有运行时需要的可写文件层。如果认为虚拟机是模拟运行的一整套操作系统（包括内核、应用运行态环境和其他系统环境）
和跑在上面的应用，那么Docker容器就是独立运行的一个（或一组）应用，以及它们必需的运行环境。</p>
<h3 class="ext_bold ext_color_76923c" id="blogTitle0">创建容器</h3>
<p class=" ">对容器进行操作就跟直接操作应用一样简单、快速。Docker容器实在太轻量级了，用户可以随时创建或删除容器。</p>
<p class=" "><strong>1.新建容器</strong></p>
<p class=" ">可以使用docker create命令新建一个容器，例如：</p>
<p class="ext_code_line"><span class="ext_code_plain">$ <span style="color: #ff0000; background-color: #ffff00;">docker create -it ubuntu:latest</span></span></p>
<p class="ext_code_line"><span class="ext_code_plain"><span style="line-height: 1.5;">$ docker ps -a</span></span></p>
<p class=" ">使用docker create命令新建的容器处于停止状态，可以使用<span style="color: #ff0000; background-color: #ffff00;">docker start</span>命令来启动它。</p>
<p class=" ">create命令和后续的run命令支持的选项都十分复杂，主要包括如下几大类：与容器运行模式相关、与容器和环境配置相关、与容器资源限制和安全保护相关。</p>
<p class=" ">create命令与容器运行模式相关的选项：</p>
<p class=" "><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/990532-20170303151854251-94506040.png" alt=""></p>
<p>create命令与容器环境和配置相关的选项：</p>
<p><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/990532-20170303151918907-1581074835.png" alt="" width="631" height="94"></p>
<p><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/990532-20170303152025251-660609937.png" alt="" width="625" height="243"></p>
<p>create命令与容器资源限制和安全保护相关的选项：</p>
<p><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/990532-20170303152002845-1260401187.png" alt=""></p>
<p>&nbsp;<img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/990532-20170303152123048-1068960739.png" alt="" width="711" height="237"></p>
<p class=" ">其他比较重要的选项还包括：</p>
<p class=" ">·-l,--label=[]：以键值对方式指定容器的标签信息；</p>
<p class=" ">·--label-file=[]：从文件中读取标签信息。</p>
<p class=" "><strong>2.启动容器</strong></p>
<p class=" ">使用docker start命令来启动一个已经创建的容器，例如启动刚创建的ubuntu容器：</p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker start containerId</span></p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker stop containerId</span></p>
<div class="r_c">
<p class=" "><strong>3.新建并启动容器</strong></p>
<p class=" ">除了创建容器后通过start命令来启动，也可以直接新建并启动容器。所需要的命令主要为docker run，等价于先执行docker create命令，再执行docker start命令。</p>
<p class=" ">例如，下面的命令输出一个“Hello World”，之后容器自动终止：<span class="ext_code_plain" style="color: #ff0000; background-color: #ffff00;">$ docker run ubuntu&nbsp; /bin/<span class="ext_code_functions">echo<span class="ext_code_spaces">&nbsp;<span class="ext_code_string">'Hello world'</span></span></span></span></p>
<p class="ext_code_line"><span class="ext_code_plain"><span style="line-height: 1.5;">这跟在本地直接执行/bin/echo'hello world'几乎感觉不出任何区别。</span></span></p>
<p class=" ">当利用docker run来创建并启动容器时，Docker在后台运行的标准操作包括：</p>
<ol>
<li class=" ">检查本地是否存在指定的镜像，不存在就从公有仓库下载；</li>
<li class=" ">利用镜像创建一个容器，并启动该容器；</li>
<li class=" ">分配一个文件系统给容器，并在只读的镜像层外面挂载一层可读写层；</li>
<li class=" ">从宿主主机配置的网桥接口中桥接一个虚拟接口到容器中；</li>
<li class=" ">从网桥的地址池配置一个IP地址给容器；</li>
<li class=" ">执行用户指定的应用程序；</li>
<li class=" ">执行完毕后容器被自动终止。</li>
</ol>
<p class=" ">下面的命令启动一个bash终端，允许用户进行交互：</p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker run -it ubuntu:14.04 /bin/bash</span></p>
<p class="ext_code_line"><span class="ext_code_plain">root@<span style="background-color: #ffff00;">af8bae53bdd3</span>:/#</span></p>
<p class=" ">其中，<span style="background-color: #ffff00;">-t选项让Docker分配一个伪终端（pseudo-tty）并绑定到容器的标准输入上，-i则让容器的标准输入保持打开。</span></p>
<p class=" ">更多的命令选项可以通过<span style="color: #ff0000;">man docker-run</span>命令来查看。在交互模式下，用户可以通过所创建的终端来输入命令。</p>
<p class=" ">在容器内用ps命令查看进程，可以看到，只运行了bash应用，并没有运行其他无关的进程。</p>
<p class=" ">对于所创建的bash容器，当使用exit命令退出之后，容器就自动处于退出（Exited）状态了。这是因为对Docker容器来说，当运行的应用退出后，容器也就没有继续运行的必要了。</p>
<p class=" ">某些时候，执行docker run会出错，因为命令无法正常执行容器会直接退出，此时可以查看退出的错误代码。</p>
<p class=" ">默认情况下，常见错误代码包括：</p>
<p class=" ">·125：Docker daemon执行出错，例如指定了不支持的Docker命令参数；</p>
<p class=" ">·126：所指定命令无法执行，例如权限出错；</p>
<p class=" ">·127：容器内命令无法找到。</p>
<p class=" ">命令执行后出错，会默认返回错误码。</p>
<p class=" "><strong>4.守护态运行</strong></p>
<p class=" ">更多的时候，需要让Docker容器在后台以守护态（Daemonized）形式运行。此时，可以通过添加-d参数来实现。</p>
<p class=" ">例如下面的命令会在后台运行容器：</p>
<p class="ext_code_line"><span class="ext_code_plain">$<span style="background-color: #ffff00;"> docker run -d ubuntu&nbsp; /bin/sh -c&nbsp;<span class="ext_code_string">"while true; do echo hello world; sleep 1; done"</span></span></span></p>
<p class="ext_code_line"><span class="ext_code_plain">ce554267d7a4c34eefc92c5517051dc37b918b588736d0823e4c846596b04d83</span></p>
<p class=" ">容器启动后会返回一个唯一的id，也可以通过docker ps命令来查看容器信息</p>
<p class=" "><span style="color: #ff0000; background-color: #ffff00;">此时，要获取容器的输出信息，可以如下使用docker logs命令：<span class="ext_code_plain">$ docker logs containerId</span></span></p>
<h3 class="ext_bold ext_color_76923c" id="blogTitle1">终止容器</h3>
<p class=" ">可以使用docker stop来终止一个运行中的容器。该命令的格式为docker stop [-t|--time[=10]] [CONTAINER...]。</p>
<p class=" "><span style="color: #ff0000; background-color: #ffff00;">首先向容器发送SIGTERM信号，等待一段超时时间（默认为10秒）后，再发送SIGKILL信号来终止容器：<span class="ext_code_plain">$ docker stop containerId</span></span></p>
<p class="ext_code_line"><span class="ext_code_plain" style="color: #ff0000; background-color: #ffff00;">docker kill命令会直接发送SIGKILL信号来强行终止容器。</span></p>
<p class=" ">此外，当Docker容器中指定的应用终结时，容器也会自动终止。例如对于上一节中只启动了一个终端的容器，用户通过exit命令或Ctrl+d来退出终端时，所创建的容器立刻终止，处于stopped状态。</p>
<p class=" ">可以用docker ps -qa命令看到所有容器的ID。例如：<span class="ext_code_plain">$ docker ps -qa</span></p>
<p class=" ">处于终止状态的容器，可以通过docker start命令来重新启动：<span class="ext_code_plain">$ docker start&nbsp;containerId</span></p>
<p class=" ">docker restart命令会将一个运行态的容器先终止，然后再重新启动它：<span class="ext_code_plain">$ docker restart&nbsp;containerId</span></p>
<h3 class="ext_bold ext_color_76923c" id="blogTitle2">进入容器</h3>
<p class=" ">在使用-d参数时，容器启动后会进入后台，用户无法看到容器中的信息，也无法进行操作。</p>
<p class=" ">这个时候如果需要进入容器进行操作，有多种方法，包括使用官方的<span style="background-color: #ffff00;">attach</span>或<span style="background-color: #ffff00;">exec</span>命令，以及第三方的<span style="background-color: #ffff00;">nsenter</span>工具等。</p>
<p class=" "><strong>1.attach命令</strong></p>
<p class=" ">attach是Docker自带的命令，命令格式为：</p>
<p class=" ">docker attach [--detach-keys[=[]]] [--no-stdin] [--sig-proxy[=true]] CONTAINER</p>
<p class=" ">支持三个主要选项：</p>
<p class=" ">·--detach-keys[=[]]：指定退出attach模式的快捷键序列，默认是CTRL-p CTRL-q；</p>
<p class=" ">·--no-stdin=true|false：是否关闭标准输入，默认是保持打开；</p>
<p class=" ">·--sig-proxy=true|false：是否代理收到的系统信号给应用进程，默认为true。</p>
<p class=" ">下面示例如何使用该命令：$ docker run -itd ubuntu</p>
<p class=" "><span style="line-height: 1.5;">$ docker ps</span></p>
<p class="ext_code_line"><span class="ext_code_plain">CONTAINER 
ID&nbsp;&nbsp; IMAGE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; COMMAND &nbsp; 
&nbsp; CREATED &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;STATUS &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PORTS&nbsp;&nbsp; NAMES</span></p>
<p class=" ">243c32535da7 &nbsp; ubuntu:latest &nbsp;"/bin/bash" &nbsp; 
&nbsp;18 seconds ago &nbsp; Up 17 seconds &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; <span class="ext_code_plain">nostalgic_hypatia</span></p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker attach nostalgic_hypatia</span></p>
<p class="ext_code_line"><span class="ext_code_plain">root@243c32535da7:/#</span></p>
<p class=" ">但是使用attach命令有时候并不方便。当多个窗口同时用attach命令连到同一个容器的时候，所有窗口都会同步显示。当某个窗口因命令阻塞时，其他窗口也无法执行操作了。</p>
<p class=" "><strong>2.exec命令</strong></p>
<p class=" ">Docker从1.3.0版本起提供了一个更加方便的exec命令，可以在容器内直接执行任意命令。该命令的基本格式为：</p>
<p class=" ">docker exec [-d|--detach] [--detach-keys[=[]]] 
[-i|--interactive] [--privileged]&nbsp;[-t|--tty] [-u|--user[=USER]] 
CONTAINER COMMAND [ARG...]。</p>
<p class=" ">比较重要的参数有：</p>
<p class=" ">·-i，--interactive=true|false：打开标准输入接受用户输入命令，默认为false；</p>
<p class=" ">·--privileged=true|false：是否给执行命令以高权限，默认为false；</p>
<p class=" ">·-t，--tty=true|false：分配伪终端，默认为false；</p>
<p class=" ">·-u，--user=""：执行命令的用户名或ID。</p>
<p class=" ">例如进入到刚创建的容器中，并启动一个bash：</p>
<p class="ext_code_line"><span class="ext_code_plain">$ <span style="background-color: #ffff00;">docker&nbsp;<span class="ext_code_functions">exec<span class="ext_code_spaces">&nbsp;<span class="ext_code_plain">-it 243c32535da7&nbsp; /bin/bash</span></span></span></span></span></p>
<p class="ext_code_line"><span class="ext_code_plain">root@243c32535da7:/#</span></p>
<p class=" ">可以看到，一个bash终端打开了，在不影响容器内其他应用的前提下，用户可以很容易与容器进行交互。</p>
<p class=" ">通过指定-it参数来保持标准输入打开，并且分配一个伪终端。通过exec命令对容器执行操作是最为推荐的方式。</p>
<p class=" "><strong>3.nsenter工具</strong></p>
<p class=" ">在util-linux软件包版本2.23+中包含nsenter工具。如果系统中的util-linux包没有该命令，可以按照下面的方法从源码安装：</p>
<p class="ext_code_line"><span class="ext_code_plain">$ cd /tmp;&nbsp;</span><span class="ext_code_plain">curl https:<span class="ext_code_comments">//www.kernel.org/pub/linux/utils/util-linux/v2.24/util-</span></span><span class="ext_code_plain">linux-2.24.tar.gz | tar -zxf-; cd util-linux-2.24;</span></p>
<p class="ext_code_line"><span class="ext_code_plain">$ ./configure --without-ncurses</span></p>
<p class="ext_code_line"><span class="ext_code_plain">$ make nsenter &amp;&amp; cp nsenter /usr/local/bin</span></p>
<p class=" ">为了使用nsenter连接到容器，还需要找到容器进程的PID，可以通过下面的命令获取：PID=$(docker inspect --format "{{ .State.Pid }}"&nbsp;)</p>
<p class=" ">通过这个PID，就可以连接到这个容器：$ nsenter --target $PID --mount --uts --ipc --net --pid</p>
<p class=" ">下面给出一个完整的例子，通过nsenter命令进入容器：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>$ docker run -<span style="color: #000000;">idt ubuntu
243c32535da7d142fb0e6df616a3c3ada0b8ab417937c853a9e1c251f499f550
$ docker ps
CONTAINER ID   IMAGE           COMMAND   CREATED           STATUS         PORTS     NAMES
243c32535da7  ubuntu</span>:latest   <span style="color: #000000; font-weight: bold;">"</span><span style="color: #000000; font-weight: bold;">/bin/bash</span><span style="color: #000000; font-weight: bold;">"</span>  <span style="color: #800000;">18</span> seconds ago  Up <span style="color: #800000;">17</span><span style="color: #000000;"> seconds  nostalgic_hypatia
$ PID</span>=$(docker-<span style="color: #000000;">pid 243c32535da7)
</span><span style="color: #800000;">10981</span><span style="color: #000000;">
$ nsenter </span>--target <span style="color: #800000;">10981</span> --mount --uts --ipc --net --<span style="color: #000000;">pid
root@243c32535da7</span>:/<span style="color: #008000;">#</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h3 class="ext_bold ext_color_76923c" id="blogTitle3">删除容器</h3>
<p class=" ">可以使用docker rm命令来删除处于终止或退出状态的容器，命令格式为docker rm[-f|--force][-l|--link][-v|--volumes]CONTAINER[CONTAINER...]。</p>
<p class=" ">主要支持的选项包括：</p>
<p class=" ">·-f，--force=false：是否强行终止并删除一个运行中的容器；</p>
<p class=" ">·-l，--link=false：删除容器的连接，但保留容器；</p>
<p class=" ">·-v，--volumes=false：删除容器挂载的数据卷。</p>
<p class=" ">例如，查看处于终止状态的容器，并删除：</p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker ps -a</span></p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker rm ce554267d7a4</span></p>
<p class="ext_code_line"><span class="ext_code_plain"><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/990532-20170303154544235-2126204557.png" alt="" width="850" height="109"></span></p>
<p class="ext_code_line"><span class="ext_code_plain"><span style="line-height: 1.5;">默认情况下，docker rm命令只能删除处于终止或退出状态的容器，并不能删除还处于运行状态的容器。</span></span></p>
<p class=" ">如果要直接删除一个运行中的容器，可以添加-f参数。Docker会先发送SIGKILL信号给容器，终止其中的应用，之后强行删除，如下所示：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<pre>$ docker run -d ubuntu:<span style="color: #800000;">14.04</span>  /bin/sh -c <span style="color: #000000; font-weight: bold;">"</span><span style="color: #000000; font-weight: bold;">while true; do echo hello world;sleep 1; done</span><span style="color: #000000; font-weight: bold;">"</span><span style="color: #000000;"><span style="background-color: #ffff00;">
2ae</span>d76caf8292c7da6d24c3c7f3a81a135af942ed1707a79f85955217d4dd594
$ docker rm <span style="background-color: #ffff00;">2ae</span>
Error response from daemon</span>: You cannot remove a running container.<span style="color: #000000;"> Stop the
container before attempting removal or </span><span style="color: #0000ff;">use</span> -<span style="color: #000000;">f
</span><span style="color: #800000;">2016</span>/<span style="color: #800000;">07</span>/<span style="color: #800000;">03</span> <span style="color: #800000;">09</span>:<span style="color: #800000;">02</span>:<span style="color: #800000;">24</span> Error:<span style="color: #000000;"> failed to remove one or more containers
$ docker rm </span>-<span style="color: #000000;">f 2ae
2ae</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<h3 class="ext_bold ext_color_76923c" id="blogTitle4">导入和导出容器</h3>
<p class=" ">某些时候，需要将容器从一个系统迁移到另外一个系统，此时可以使用Docker的导入和导出功能。这也是Docker自身提供的一个重要特性。</p>
<p class=" "><strong>1.导出容器</strong></p>
<p class=" ">导出容器是指导出一个已经创建的容器到一个文件，不管此时这个容器是否处于运行状态，可以使用docker export命令。</p>
<p class=" ">该命令的格式为docker export [-o|--output[=""]] CONTAINER。其中，可以通过-o选项来指定导出的tar文件名，也可以直接通过重定向来实现。</p>
<p class=" ">首先查看所有的容器，如下所示：</p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker ps -a</span></p>
<p class=" ">分别导出ce554267d7a4容器和e812617b41f6容器到文件test_for_run.tar文件和test_for_stop.tar文件：</p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker export -o test_for_run.tar ce5</span></p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker export e81 &gt;test_for_stop.tar</span></p>
<p class=" ">之后，可将导出的tar文件传输到其他机器上，然后再通过导入命令导入到系统中，从而实现容器的迁移。</p>
<p class=" "><strong>2.导入容器</strong></p>
<p class=" ">导出的文件又可以使用docker import命令导入变成镜像，该命令格式为：</p>
<p class=" ">docker import [-c|--change[=[]]] [-m|--message[=MESSAGE]] file|URL|-[REPOSITORY[:TAG]]</p>
<p class=" ">用户可以通过-c，--change=[]选项在导入的同时执行对容器进行修改的Dockerfile指令。</p>
<p class=" ">下面将导出的test_for_run.tar文件导入到系统中：</p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker import test_for_run.tar - test/ubuntu:v1.0</span></p>
<p class="ext_code_line"><span class="ext_code_plain">$ docker images</span></p>
<p class="ext_code_line"><span class="ext_code_plain">REPOSITORY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IMAGE 
ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
CREATED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 VIRTUAL SIZE</span></p>
<p class="ext_code_line"><span class="ext_code_plain">test/ubuntu&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 v1.0&nbsp;&nbsp;&nbsp;&nbsp; 9d37a6082e97&nbsp;&nbsp; About a minute 
ago&nbsp;&nbsp; 171.3 MB</span></p>
<p class=" "><span style="line-height: 1.5;">实际上，既可以使用docker load命令来导入镜像存储文件到本地镜像库，也可以使用docker import命令来导入一个容器快照到本地镜像库。</span></p>
<p class="ext_code_line"><span class="ext_code_plain">这两者的区别在于容器快照文件将丢弃所有的历史记录和元数据信息（即仅保存容器当时的快照状态），而镜像存储文件将保存完整记录，体积也更大。此外，从容器快照文件导入时可以重新指定标签等元数据信息。&nbsp;</span></p>
<p class="ext_code_line">&nbsp;</p>
</div>
<p>&nbsp;</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(6497108,cb_blogId,1);green_channel_success(this,'谢谢推荐！');">好文要顶</a>
            <a id="green_channel_follow" onclick="follow('ed144d26-3347-e611-9fc1-ac853d9f53cc');" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/wade-luffy/" target="_blank"><img src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/20160712163123.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/wade-luffy/">wade&amp;luffy</a><br>
            <a href="http://home.cnblogs.com/u/wade-luffy/followees">关注 - 0</a><br>
            <a href="http://home.cnblogs.com/u/wade-luffy/followers">粉丝 - 88</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow('ed144d26-3347-e611-9fc1-ac853d9f53cc');return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(6497108,'Digg')">
        <span class="diggnum" id="digg_count">0</span>
    </div>
    <div class="buryit" onclick="votePost(6497108,'Bury')">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
<script type="text/javascript">
    currentDiggType = 0;
</script></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="https://www.cnblogs.com/wade-luffy/p/6496671.html" class="p_n_p_prefix">« </a> 上一篇：<a href="https://www.cnblogs.com/wade-luffy/p/6496671.html" title="发布于2017-03-03 14:52">使用Docker镜像</a><br><a href="https://www.cnblogs.com/wade-luffy/p/6497502.html" class="p_n_p_prefix">» </a> 下一篇：<a href="https://www.cnblogs.com/wade-luffy/p/6497502.html" title="发布于2017-03-03 16:57">访问Docker仓库</a><br></div>
</div>


		</div>
		<div class="postDesc">posted @ <span id="post-date">2017-03-03 15:58</span> <a href="https://www.cnblogs.com/wade-luffy/">wade&amp;luffy</a> 阅读(<span id="post_view_count">3625</span>) 评论(<span id="post_comment_count">0</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=6497108" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(6497108);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=293616,cb_entryId=6497108,cb_blogApp=currentBlogApp,cb_blogUserGuid='ed144d26-3347-e611-9fc1-ac853d9f53cc',cb_entryCreatedDate='2017/3/3 15:58:00';loadViewCount(cb_entryId);var cb_postType=1;var isMarkdown=false;</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login('commentform');">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-工控')">【推荐】超50万C++/C#源码: 大型实时仿真组态图形源码</a><br><a href="https://www.bagevent.com/event/2195041?bag_track=13072958" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-看雪')">【活动】看雪2019安全开发者峰会，共话安全领域焦点</a><br><a href="https://ke.qq.com/adActivity.html?name=xiangxueketang2" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-享学')">【培训】Java程序员年薪40W，他1年走了别人5年的路</a><br></div>
<div id="opt_under_post"></div>
<script async="async" src="%E6%93%8D%E4%BD%9CDocker%E5%AE%B9%E5%99%A8%20-%20wade&amp;luffy%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/gpt.js"></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id="cnblogs_c1" class="c_ad_block">
    <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;" data-google-query-id="CP2TzrDzhuICFYqMlgodtvcIrQ"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C1_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C1_0" scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;" srcdoc="" data-google-container-id="1" data-load-complete="true" width="300" height="250" frameborder="0"></iframe></div></div>
</div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>相关博文：</b><br>·  <a href="https://www.cnblogs.com/mayyan/p/7641131.html" target="_blank" onclick="clickRecomItmem(7641131)">docker容器相关</a><br>·  <a href="https://www.cnblogs.com/xing901022/p/5199473.html" target="_blank" onclick="clickRecomItmem(5199473)">Docker容器入门</a><br>·  <a href="https://www.cnblogs.com/liuyongsheng/p/6724753.html" target="_blank" onclick="clickRecomItmem(6724753)">docker容器操作</a><br>·  <a href="https://www.cnblogs.com/yaohong/p/7836701.html" target="_blank" onclick="clickRecomItmem(7836701)">Docker容器</a><br>·  <a href="https://www.cnblogs.com/jokerbj/p/9269653.html" target="_blank" onclick="clickRecomItmem(9269653)">docker容器</a><br></div></div>
<div id="cnblogs_c2" class="c_ad_block">
    <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;" data-google-query-id="CP6TzrDzhuICFYqMlgodtvcIrQ"><div id="google_ads_iframe_/1090369/C2_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C2_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C2_0" scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;" srcdoc="" data-google-container-id="2" data-load-complete="true" width="468" height="60" frameborder="0"></iframe></div></div>
</div>
<div id="under_post_kb"><div class="itnews c_ad_block"><b>最新新闻</b>：<br> ·  <a href="https://news.cnblogs.com/n/624859/" target="_blank">谷歌浏览器开始弹出提醒用户Adobe Flash Player即将停止支持</a><br> ·  <a href="https://news.cnblogs.com/n/624858/" target="_blank">中国公有云IaaS、PaaS排名：阿里云、腾讯云、中国电信、AWS、百度云</a><br> ·  <a href="https://news.cnblogs.com/n/624857/" target="_blank">明晚 Google I/O 要不要熬夜？看完这篇你就有数了</a><br> ·  <a href="https://news.cnblogs.com/n/624856/" target="_blank">经济学人封面：科技终于要颠覆银行业了</a><br> ·  <a href="https://news.cnblogs.com/n/624855/" target="_blank">玩家在任天堂Switch上安装Windows XP 并体验3D弹球游戏​</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"><div id="profile_block">昵称：<a href="https://home.cnblogs.com/u/wade-luffy/">wade&amp;luffy</a><br>园龄：<a href="https://home.cnblogs.com/u/wade-luffy/" title="入园时间：2016-07-11">2年9个月</a><br>粉丝：<a href="https://home.cnblogs.com/u/wade-luffy/followers/">88</a><br>关注：<a href="https://home.cnblogs.com/u/wade-luffy/followees/">0</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow('ed144d26-3347-e611-9fc1-ac853d9f53cc')">+加关注</a></div><script>getFollowStatus('ed144d26-3347-e611-9fc1-ac853d9f53cc')</script></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" title="Calendar" cellspacing="0" cellpadding="0">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar('2019/04/01');return false;">&lt;</a></td><td align="center">2019年5月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar('2019/06/01');return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" abbr="日" scope="col" align="center">日</th><th class="CalDayHeader" abbr="一" scope="col" align="center">一</th><th class="CalDayHeader" abbr="二" scope="col" align="center">二</th><th class="CalDayHeader" abbr="三" scope="col" align="center">三</th><th class="CalDayHeader" abbr="四" scope="col" align="center">四</th><th class="CalDayHeader" abbr="五" scope="col" align="center">五</th><th class="CalDayHeader" abbr="六" scope="col" align="center">六</th></tr><tr><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td class="CalWeekendDay" align="center">4</td></tr><tr><td class="CalWeekendDay" align="center">5</td><td class="CalTodayDay" align="center">6</td><td align="center">7</td><td align="center">8</td><td align="center">9</td><td align="center">10</td><td class="CalWeekendDay" align="center">11</td></tr><tr><td class="CalWeekendDay" align="center">12</td><td align="center">13</td><td align="center">14</td><td align="center">15</td><td align="center">16</td><td align="center">17</td><td class="CalWeekendDay" align="center">18</td></tr><tr><td class="CalWeekendDay" align="center">19</td><td align="center">20</td><td align="center">21</td><td align="center">22</td><td align="center">23</td><td align="center">24</td><td class="CalWeekendDay" align="center">25</td></tr><tr><td class="CalWeekendDay" align="center">26</td><td align="center">27</td><td align="center">28</td><td align="center">29</td><td align="center">30</td><td align="center">31</td><td class="CalOtherMonthDay" align="center">1</td></tr><tr><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td><td class="CalOtherMonthDay" align="center">7</td><td class="CalOtherMonthDay" align="center">8</td></tr>
</tbody></table></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk"></div>
</div>
</div>

</div><div id="sidebar_shortcut" class="sidebar-block">
<div class="catListLink">
<h3 class="catListTitle">常用链接</h3>
<ul>
<li><a href="https://www.cnblogs.com/wade-luffy/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="https://www.cnblogs.com/wade-luffy/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="https://www.cnblogs.com/wade-luffy/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="https://www.cnblogs.com/wade-luffy/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="https://www.cnblogs.com/wade-luffy/tag/" title="我的博客的标签列表">我的标签</a></li>
<li><a id="itemListLink" onclick="this.blur();WarpClass('itemListLink', 'itemListLin_con');return false;" href="#">更多链接</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">
<ul>

</ul>
</div>
</div></div><div id="sidebar_toptags" class="sidebar-block">
<div class="catListTag">
<h3 class="catListTitle">我的标签</h3>
<ul>
<li><a href="https://www.cnblogs.com/wade-luffy/tag/kafka/">kafka</a>(1)</li><li><a href="https://www.cnblogs.com/wade-luffy/tag/Protocol%20Buffers/">Protocol Buffers</a>(1)</li><li><a href="https://www.cnblogs.com/wade-luffy/tag/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>(1)</li><li><a href="https://www.cnblogs.com/wade-luffy/tag/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/">消息中间件</a>(1)</li>
</ul>
</div></div><div id="sidebar_categories">
<div class="catListPostCategory">
<h3 class="catListTitle">随笔分类</h3>

<ul>

<li><a id="CatList_LinkList_0_Link_0" href="https://www.cnblogs.com/wade-luffy/category/899179.html">Debug调优(10)</a> </li>

<li><a id="CatList_LinkList_0_Link_1" href="https://www.cnblogs.com/wade-luffy/category/856134.html">FrameWorks(7)</a> </li>

<li><a id="CatList_LinkList_0_Link_2" href="https://www.cnblogs.com/wade-luffy/category/853135.html">JDK基础(38)</a> </li>

<li><a id="CatList_LinkList_0_Link_3" href="https://www.cnblogs.com/wade-luffy/category/865120.html">JVM(14)</a> </li>

<li><a id="CatList_LinkList_0_Link_4" href="https://www.cnblogs.com/wade-luffy/category/904814.html">MySql入门经典(16)</a> </li>

<li><a id="CatList_LinkList_0_Link_5" href="https://www.cnblogs.com/wade-luffy/category/1189692.html">ZooKeeper(4)</a> </li>

<li><a id="CatList_LinkList_0_Link_6" href="https://www.cnblogs.com/wade-luffy/category/914685.html">常用命令(29)</a> </li>

<li><a id="CatList_LinkList_0_Link_7" href="https://www.cnblogs.com/wade-luffy/category/866095.html">工具使用指南(3)</a> </li>

<li><a id="CatList_LinkList_0_Link_8" href="https://www.cnblogs.com/wade-luffy/category/852100.html">数据结构(11)</a> </li>

<li><a id="CatList_LinkList_0_Link_9" href="https://www.cnblogs.com/wade-luffy/category/853462.html">数据库(23)</a> </li>

<li><a id="CatList_LinkList_0_Link_10" href="https://www.cnblogs.com/wade-luffy/category/865548.html">算法(24)</a> </li>

<li><a id="CatList_LinkList_0_Link_11" href="https://www.cnblogs.com/wade-luffy/category/928842.html">影评(1)</a> </li>

<li><a id="CatList_LinkList_0_Link_12" href="https://www.cnblogs.com/wade-luffy/category/878691.html">杂货店(8)</a> </li>

</ul>

</div>

<div class="catListPostArchive">
<h3 class="catListTitle">随笔档案</h3>

<ul>

<li><a id="CatList_LinkList_1_Link_0" href="https://www.cnblogs.com/wade-luffy/archive/2019/02.html">2019年2月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_1" href="https://www.cnblogs.com/wade-luffy/archive/2018/11.html">2018年11月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_2" href="https://www.cnblogs.com/wade-luffy/archive/2018/10.html">2018年10月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_3" href="https://www.cnblogs.com/wade-luffy/archive/2018/09.html">2018年9月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_4" href="https://www.cnblogs.com/wade-luffy/archive/2018/08.html">2018年8月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_5" href="https://www.cnblogs.com/wade-luffy/archive/2018/07.html">2018年7月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_6" href="https://www.cnblogs.com/wade-luffy/archive/2018/05.html">2018年5月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_7" href="https://www.cnblogs.com/wade-luffy/archive/2018/04.html">2018年4月 (11)</a> </li>

<li><a id="CatList_LinkList_1_Link_8" href="https://www.cnblogs.com/wade-luffy/archive/2018/03.html">2018年3月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_9" href="https://www.cnblogs.com/wade-luffy/archive/2018/02.html">2018年2月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_10" href="https://www.cnblogs.com/wade-luffy/archive/2018/01.html">2018年1月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_11" href="https://www.cnblogs.com/wade-luffy/archive/2017/11.html">2017年11月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_12" href="https://www.cnblogs.com/wade-luffy/archive/2017/10.html">2017年10月 (24)</a> </li>

<li><a id="CatList_LinkList_1_Link_13" href="https://www.cnblogs.com/wade-luffy/archive/2017/09.html">2017年9月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_14" href="https://www.cnblogs.com/wade-luffy/archive/2017/07.html">2017年7月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_15" href="https://www.cnblogs.com/wade-luffy/archive/2017/06.html">2017年6月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_16" href="https://www.cnblogs.com/wade-luffy/archive/2017/05.html">2017年5月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_17" href="https://www.cnblogs.com/wade-luffy/archive/2017/04.html">2017年4月 (17)</a> </li>

<li><a id="CatList_LinkList_1_Link_18" href="https://www.cnblogs.com/wade-luffy/archive/2017/03.html">2017年3月 (21)</a> </li>

<li><a id="CatList_LinkList_1_Link_19" href="https://www.cnblogs.com/wade-luffy/archive/2017/02.html">2017年2月 (8)</a> </li>

<li><a id="CatList_LinkList_1_Link_20" href="https://www.cnblogs.com/wade-luffy/archive/2017/01.html">2017年1月 (41)</a> </li>

<li><a id="CatList_LinkList_1_Link_21" href="https://www.cnblogs.com/wade-luffy/archive/2016/12.html">2016年12月 (32)</a> </li>

<li><a id="CatList_LinkList_1_Link_22" href="https://www.cnblogs.com/wade-luffy/archive/2016/11.html">2016年11月 (114)</a> </li>

<li><a id="CatList_LinkList_1_Link_23" href="https://www.cnblogs.com/wade-luffy/archive/2016/10.html">2016年10月 (36)</a> </li>

<li><a id="CatList_LinkList_1_Link_24" href="https://www.cnblogs.com/wade-luffy/archive/2016/09.html">2016年9月 (11)</a> </li>

<li><a id="CatList_LinkList_1_Link_25" href="https://www.cnblogs.com/wade-luffy/archive/2016/08.html">2016年8月 (61)</a> </li>

<li><a id="CatList_LinkList_1_Link_26" href="https://www.cnblogs.com/wade-luffy/archive/2016/07.html">2016年7月 (17)</a> </li>

</ul>

</div>

</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap">
<div class="catListComment">
<h3 class="catListTitle">最新评论</h3>

	<div id="RecentCommentsBlock"><ul>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/wade-luffy/p/6496671.html#4234346">1. Re:使用Docker镜像</a></li>
        <li class="recent_comment_body">您好，将下载的 docker 镜像文件标记为 "latest"是什么意思啊？就是说下载的镜像不是最新的，我们贴上最新的标签，以后就默认他是最新的，不会自动更新？</li>
        <li class="recent_comment_author">--wkun123444</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/wade-luffy/p/6292784.html#4226919">2. Re:B+树介绍</a></li>
        <li class="recent_comment_body">B+树的节点元素等于指针数,可插入70之后节点的指针数为5,大于节点元素4,谁能解释下怎么回事吗?</li>
        <li class="recent_comment_author">--ArcherLu</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/wade-luffy/p/6067061.html#4225769">3. Re:Bean的前身今世&amp;处理器&amp;Aware</a></li>
        <li class="recent_comment_body">倔强的记起来自己的密码，点了赞与关注</li>
        <li class="recent_comment_author">--果果爱吃苹果</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/wade-luffy/p/6031515.html#4219634">4. Re:MySql的运算符</a></li>
        <li class="recent_comment_body">你好，想请问下你做表格用的软件是什么呀？</li>
        <li class="recent_comment_author">--bruce_chen</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/wade-luffy/p/6288656.html#4218519">5. Re:InnoDB的表类型,逻辑存储结构,物理存储结构</a></li>
        <li class="recent_comment_body">博主你好，看完你的博客后，我想请问下，1、mysql innodb存储引擎逻辑结构是索引组织表，是不是代表它表数据逻辑上的数据结构，要么是聚集索引，要么是非聚集索引，即innodb的逻辑存储结构就是B......</li>
        <li class="recent_comment_author">--遗失的玄铁令</li>
</ul>
</div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">阅读排行榜</h3>
	<div id="TopViewPostsBlock"><ul><li><a href="https://www.cnblogs.com/wade-luffy/p/6292784.html">1. B+树介绍(56199)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/6003668.html">2. RabbitMQ的安装和配置化可视界面(32445)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/6072460.html">3. ClassPathXmlApplicationContext的启动(24006)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/6004219.html">4. Spring AMQP(15716)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/5996848.html">5. Velocity工作原理解析和优化(15272)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock"><ul><li><a href="https://www.cnblogs.com/wade-luffy/p/6292784.html">1. B+树介绍(9)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/6165671.html">2. TCP粘包/拆包问题(5)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/6019743.html">3. Netty SSL性能调优(4)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/6542539.html">4. Docker数据管理(数据卷&amp;数据卷容器)(3)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/6289183.html">5. InnoDB的行记录格式, Compact, Redundant, Compressed, Dynamic(3)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">推荐排行榜</h3>
<div id="TopDiggPostsBlock"><ul><li><a href="https://www.cnblogs.com/wade-luffy/p/6165671.html">1. TCP粘包/拆包问题(4)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/6072460.html">2. ClassPathXmlApplicationContext的启动(3)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/6165233.html">3. JDK AIO编程(2)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/5936234.html">4. Servlet工作原理解析(2)</a></li><li><a href="https://www.cnblogs.com/wade-luffy/p/5925728.html">5. Javac编译原理(2)</a></li></ul></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2019 wade&amp;luffy
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->

<!--PageEndHtml Block Begin-->
<script language="javascript" type="text/javascript">
// 生成目录索引列表
function GenerateContentList()
{
    var mainContent = $('#cnblogs_post_body');
    var h2_list = $('#cnblogs_post_body h2');//如果你的章节标题不是h2,只需要将这里的h2换掉即可

    if(mainContent.length < 1)
        return;
 
    if(h2_list.length>0)
    {
        var content = '<a name="_labelTop"></a>';
        content += '<div id="navCategory" style="color:#152e97;">';
        content += '<p style="font-size:18px;"><b>目录</b></p>';
        content += '<ul>';
        for(var i=0; i<h2_list.length; i++)
        {
            var go_to_top = '<div style="text-align: right;"><a href="#_labelTop" style="color:#f68a33">回到顶部</a><a name="_label' + i + '"></a></div>';
            $(h2_list[i]).before(go_to_top);
            
            var h3_list = $(h2_list[i]).nextAll("h3");
            var li3_content = '';
            for(var j=0; j<h3_list.length; j++)
            {
                var tmp = $(h3_list[j]).prevAll('h2').first();
                if(!tmp.is(h2_list[i]))
                    break;
                var li3_anchor = '<a name="_label' + i + '_' + j + '"></a>';
                $(h3_list[j]).before(li3_anchor);
                li3_content += '<li><a href="#_label' + i + '_' + j + '">' + $(h3_list[j]).text() + '</a></li>';
            }
            
            var li2_content = '';
            if(li3_content.length > 0)
                li2_content = '<li><a href="#_label' + i + '">' + $(h2_list[i]).text() + '</a><ul>' + li3_content + '</ul></li>';
            else
                li2_content = '<li><a href="#_label' + i + '">' + $(h2_list[i]).text() + '</a></li>';
            content += li2_content;
        }
        content += '</ul>';
        content += '</div><p>&nbsp;</p>';
        content += '<hr style="height:1px;border:none;border-top:1px dashed #0066CC;"/>';
        if($('#cnblogs_post_body').length != 0 )
        {
            $($('#cnblogs_post_body')[0]).prepend(content);
        }
    }   
}

GenerateContentList();
</script>
<!--PageEndHtml Block End-->


<script type="text/javascript">

var BlogDirectory = {
    /*
        获取元素位置，距浏览器左边界的距离（left）和距浏览器上边界的距离（top）
    */
    getElementPosition:function (ele) {        
        var topPosition = 0;
        var leftPosition = 0;
        while (ele){              
            topPosition += ele.offsetTop;
            leftPosition += ele.offsetLeft;        
            ele = ele.offsetParent;     
        }  
        return {top:topPosition, left:leftPosition}; 
    },

    /*
    获取滚动条当前位置
    */
    getScrollBarPosition:function () {
        var scrollBarPosition = document.body.scrollTop || document.documentElement.scrollTop;
        return  scrollBarPosition;
    },
    
    /*
    移动滚动条，finalPos 为目的位置，internal 为移动速度
    */
    moveScrollBar:function(finalpos, interval) {

        //若不支持此方法，则退出
        if(!window.scrollTo) {
            return false;
        }

        //窗体滚动时，禁用鼠标滚轮
        window.onmousewheel = function(){
            return false;
        };
          
        //清除计时
        if (document.body.movement) { 
            clearTimeout(document.body.movement); 
        } 

        var currentpos =BlogDirectory.getScrollBarPosition();//获取滚动条当前位置

        var dist = 0; 
        if (currentpos == finalpos) {//到达预定位置，则解禁鼠标滚轮，并退出
            window.onmousewheel = function(){
                return true;
            }
            return true; 
        } 
        if (currentpos < finalpos) {//未到达，则计算下一步所要移动的距离
            dist = Math.ceil((finalpos - currentpos)/10); 
            currentpos += dist; 
        } 
        if (currentpos > finalpos) { 
            dist = Math.ceil((currentpos - finalpos)/10); 
            currentpos -= dist; 
        }
        
        var scrTop = BlogDirectory.getScrollBarPosition();//获取滚动条当前位置
        window.scrollTo(0, currentpos);//移动窗口
        if(BlogDirectory.getScrollBarPosition() == scrTop)//若已到底部，则解禁鼠标滚轮，并退出
        {
            window.onmousewheel = function(){
                return true;
            }
            return true;
        }
        
        //进行下一步移动
        var repeat = "BlogDirectory.moveScrollBar(" + finalpos + "," + interval + ")"; 
        document.body.movement = setTimeout(repeat, interval); 
    },
    
    htmlDecode:function (text){
        var temp = document.createElement("div");
        temp.innerHTML = text;
        var output = temp.innerText || temp.textContent;
        temp = null;
        return output;
    },

    createBlogDirectory:function (id, mt, st, interval){
         //获取博文正文div容器
        var elem = document.getElementById(id);
        if(!elem) return false;
        //获取div中所有元素结点
        var nodes = elem.getElementsByTagName("*");
        //创建博客目录的div容器
        var divSideBar = document.createElement('DIV');
        divSideBar.className = 'uprightsideBar';
        divSideBar.setAttribute('id', 'uprightsideBar');
        var divSideBarTab = document.createElement('DIV');
        divSideBarTab.setAttribute('id', 'sideBarTab');
        divSideBar.appendChild(divSideBarTab);
        var h2 = document.createElement('H2');
        divSideBarTab.appendChild(h2);
        var txt = document.createTextNode('目录导航');
        h2.appendChild(txt);
        var divSideBarContents = document.createElement('DIV');
        divSideBarContents.style.display = 'none';
        divSideBarContents.setAttribute('id', 'sideBarContents');
        divSideBar.appendChild(divSideBarContents);
        //创建自定义列表
        var dlist = document.createElement("dl");
        divSideBarContents.appendChild(dlist);
        var num = 0;//统计找到的mt和st
        mt = mt.toUpperCase();//转化成大写
        st = st.toUpperCase();//转化成大写
        //遍历所有元素结点
        for(var i=0; i<nodes.length; i++)
        {
            if(nodes[i].nodeName == mt|| nodes[i].nodeName == st)    
            {
                //获取标题文本
                var nodetext = nodes[i].innerHTML.replace(/<\/?[^>]+>/g,"");//innerHTML里面的内容可能有HTML标签，所以用正则表达式去除HTML的标签
                nodetext = nodetext.replace(/ /ig, "");//替换掉所有的 
                nodetext = BlogDirectory.htmlDecode(nodetext);
                //插入锚        
                nodes[i].setAttribute("id", "blogTitle" + num);
                var item;
                switch(nodes[i].nodeName)
                {
                    case mt:    //若为主标题 
                        item = document.createElement("dt");
                        break;
                    case st:    //若为子标题
                        item = document.createElement("dd");
                        break;
                }
                
                //创建锚链接
                var itemtext = document.createTextNode(nodetext);
                item.appendChild(itemtext);
                item.setAttribute("name", num);
                item.onclick = function(){        //添加鼠标点击触发函数
                    var pos = BlogDirectory.getElementPosition(document.getElementById("blogTitle" + this.getAttribute("name")));
                    if(!BlogDirectory.moveScrollBar(pos.top, interval)) return false;
                };            
                
                //将自定义表项加入自定义列表中
                dlist.appendChild(item);
                num++;
            }
        }
        
        if(num == 0) return false; 
        /*鼠标进入时的事件处理*/
        divSideBarTab.onmouseenter = function(){
            divSideBarContents.style.display = 'block';
        }
        /*鼠标离开时的事件处理*/
        divSideBar.onmouseleave = function() {
            divSideBarContents.style.display = 'none';
        }

        document.body.appendChild(divSideBar);
    }
    
};

window.onload=function(){
    /*页面加载完成之后生成博客目录*/
    BlogDirectory.createBlogDirectory("cnblogs_post_body","h2","h3",20);
}
</script><div class="uprightsideBar" id="uprightsideBar"><div id="sideBarTab"><h2>目录导航</h2></div><div style="display: none;" id="sideBarContents"><dl><dd name="0">创建容器</dd><dd name="1">终止容器</dd><dd name="2">进入容器</dd><dd name="3">删除容器</dd><dd name="4">导入和导出容器</dd></dl></div></div></body></html>