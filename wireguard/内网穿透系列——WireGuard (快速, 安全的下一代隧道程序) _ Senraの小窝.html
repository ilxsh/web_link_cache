<!DOCTYPE html>
<!-- saved from url=(0090)http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/ -->
<html lang="zh-CN"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width">
	<title>内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) | Senraの小窝</title>
	<!-- 禁止百度等搜索引擎自动转码 -->
	<meta http-equiv="Cache-Control" content="no-transform">
	<meta http-equiv="Cache-Control" content="no-siteapp">
	<!--[if lt IE 9]>
	<script src="http://cdn.senra.me/wp-content/themes/Seventeen/js/html5.js"></script>
	<![endif]-->
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	
	  
<!-- All in One SEO Pack 3.3.3 由 Semper Fi Web Design 的 Michael Torbert 所开发ob_start_detected [-1,-1] -->
<meta name="description" content="一.介绍 WireGuard是个新出的隧道程序，内核级的，所以数据处理能力以及资源消耗就会很理想，而且它可以工作于一方动态IP一方静态IP的环境下，这就能够很好的利用于内网穿透的环境下。当然，有几个大佬拿它做搭隧道来实现自己的全球大内网(x, 看得我也很是羡慕">

<meta name="keywords" content="wireguard,内网穿透,隧道">

<script type="text/javascript" async="" defer="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/matomo.js.download"></script><script type="application/ld+json" class="aioseop-schema">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"http://www.senra.me/#person","url":"http://www.senra.me/","name":"Senra","sameAs":[],"image":{"@type":"ImageObject","@id":"http://www.senra.me/#personlogo","url":"http://2.gravatar.com/avatar/2b5cf1c014f83c6bc926785274b6848d?s=96&d=mm&r=g","width":96,"height":96,"caption":"Senra"},"logo":{"@id":"http://www.senra.me/#personlogo"}},{"@type":"WebSite","@id":"http://www.senra.me/#website","url":"http://www.senra.me/","name":"Senra\u306e\u5c0f\u7a9d","publisher":{"@id":"http://www.senra.me/#person"}},{"@type":"WebPage","@id":"http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/#webpage","url":"http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/","inLanguage":"zh-CN","name":"\u5185\u7f51\u7a7f\u900f\u7cfb\u5217\u2014\u2014WireGuard (\u5feb\u901f, \u5b89\u5168\u7684\u4e0b\u4e00\u4ee3\u96a7\u9053\u7a0b\u5e8f)","isPartOf":{"@id":"http://www.senra.me/#website"},"image":{"@type":"ImageObject","@id":"http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/#primaryimage","url":"http://ucdn.senra.me/2017/09/wireguard-logo.jpg","width":900,"height":300},"primaryImageOfPage":{"@id":"http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/#primaryimage"},"datePublished":"2017-09-27T03:05:22+00:00","dateModified":"2017-09-27T03:05:22+00:00"},{"@type":"Article","@id":"http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/#article","isPartOf":{"@id":"http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/#webpage"},"author":{"@id":"http://www.senra.me/author/senra/#author"},"headline":"\u5185\u7f51\u7a7f\u900f\u7cfb\u5217\u2014\u2014WireGuard (\u5feb\u901f, \u5b89\u5168\u7684\u4e0b\u4e00\u4ee3\u96a7\u9053\u7a0b\u5e8f)","datePublished":"2017-09-27T03:05:22+00:00","dateModified":"2017-09-27T03:05:22+00:00","commentCount":"8","mainEntityOfPage":{"@id":"http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/#webpage"},"publisher":{"@id":"http://www.senra.me/#person"},"articleSection":"centos, \u6559\u7a0b, wireguard, \u5185\u7f51\u7a7f\u900f, \u96a7\u9053","image":{"@type":"ImageObject","@id":"http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/#primaryimage","url":"http://ucdn.senra.me/2017/09/wireguard-logo.jpg","width":900,"height":300}},{"@type":"Person","@id":"http://www.senra.me/author/senra/#author","name":"Senra","sameAs":[],"image":{"@type":"ImageObject","@id":"http://www.senra.me/#personlogo","url":"http://2.gravatar.com/avatar/2b5cf1c014f83c6bc926785274b6848d?s=96&d=mm&r=g","width":96,"height":96,"caption":"Senra"}}]}</script>
<link rel="canonical" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/">
<!-- All in One SEO Pack -->
<link rel="dns-prefetch" href="http://upcdn.b0.upaiyun.com/">
<link rel="dns-prefetch" href="http://cdn.bootcss.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Senraの小窝 » 内网穿透系列——WireGuard (快速, 安全的下一代隧道程序)评论Feed" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/feed/">
<link rel="stylesheet" id="crayon-theme-sublime-text-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/sublime-text.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-sourcecodepro-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/sourcecodepro.css" type="text/css" media="all">
<link rel="stylesheet" id="responsively-lazy-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/responsivelyLazy.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-search-auto-match-css-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/style.min(1).css" type="text/css" media="all">
<link rel="stylesheet" id="wp-lightbox-2.min.css-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/lightbox.min.css" type="text/css" media="all">
<link rel="stylesheet" id="st-main-style-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="st-color-theme-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/lightblue.css" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/font-awesome.min.css" type="text/css" media="all">
<link rel="stylesheet" id="noto-sans-font-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/notosans.css" type="text/css" media="all">
<link rel="stylesheet" id="icheck-style-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/blue.css" type="text/css" media="all">
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/responsivelyLazy.min.js.download"></script>
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/jquery-1.9.1.min.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var wp_search_auto_match_info = {"pluginUrl":"http:\/\/www.senra.me\/wp-content\/plugins\/wp-search-auto-match\/","blogUrl":"http:\/\/www.senra.me"};
/* ]]> */
</script>
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/wp-search-auto-match-init.min.js.download"></script>
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/jquery.libs.js.download"></script>
<link rel="prev" title="下载工具系列——Aria2 (几乎全能的下载神器)" href="http://www.senra.me/awesome-downloader-series-aria2-almost-the-best-all-platform-downloader/">
<link rel="next" title="自建云盘系列——FileManager(基于Go的轻量级解决方案)" href="http://www.senra.me/build-your-own-cloud-storage-series-filemanager-written-in-go-a-lightweight-stylish-solution/">
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<link rel="dns-prefetch" href="http://tracker.itrace.cc/">	<link rel="shortcut icon" href="http://cdn.senra.me/favicon.ico" type="image/x-icon"><link rel="icon" sizes="192x192" href="http://cdn.senra.me/icon192.png"><link rel="apple-touch-icon" sizes="192x192" href="http://cdn.senra.me/icon192.png"><style type="text/css">			body { background-image: url(http://cdn.senra.me/bg.jpg); }
				body { background-color: #000000; }
				#top, #foot { opacity: 0.88; filter: Alpha(opacity=88) }
			#container { opacity: 0.92; filter: Alpha(opacity=92) }
				body { background-image: none; }
	</style>		<script type="text/javascript">jQuery("#comments a.url").attr("target", "_blank");</script><script type="text/javascript">
	var iCheckInit = function($){
		$("input").iCheck({
			checkboxClass: "icheck icheckbox_square-blue",
			radioClass: "icheck iradio_square-blue",
			increaseArea: '20%' // optional
		});
	}
	</script><meta name="theme-color" content="bg:" #3c8dbc","=""><script type="text/javascript">var wpau = new RegExp("http://www.senra.me/wp-admin/", "i");</script><script type="text/javascript">var trigglerList = ""</script>	<meta name="keywords" content="wireguard,内网穿透,隧道,centos,教程,"><meta name="description" content="一.介绍WireGuard是个新出的隧道程序，内核级的，所以数据处理能力以及资源消耗就会很理想，而且它可以工作于一方动态IP一方静态IP的环境下，这就能够很好的利用于内网穿透的环境下。当然，有几个大佬拿它做搭隧道来实现自己的全球大内网(x, 看得我也很是羡…">	<script type="text/javascript">
	/* nanobar | https://github.com/jacoborus/nanobar/ | MIT LICENSE */
	var Nanobar=function(){var c,d,e,f,g,h,k={width:"100%",height:"8px",zIndex:9999,top:"0"},l={width:0,height:"100%",clear:"both",transition:"height .28s"};c=function(a,b){for(var c in b)a.style[c]=b[c];a.style["float"]="left"};f=function(){var a=this,b=this.width-this.here;0.1>b&&-0.1<b?(g.call(this,this.here),this.moving=!1,100==this.width&&(this.el.style.height=0,setTimeout(function(){a.cont.el.removeChild(a.el)},300))):(g.call(this,this.width-b/4),setTimeout(function(){a.go()},16))};g=function(a){this.width=
	a;this.el.style.width=this.width+"%"};h=function(){var a=new d(this);this.bars.unshift(a)};d=function(a){this.el=document.createElement("div");this.el.style.backgroundColor=a.opts.bg;this.here=this.width=0;this.moving=!1;this.cont=a;c(this.el,l);a.el.appendChild(this.el)};d.prototype.go=function(a){a?(this.here=a,this.moving||(this.moving=!0,f.call(this))):this.moving&&f.call(this)};e=function(a){a=this.opts=a||{};var b;a.bg=a.bg||"#000";this.bars=[];b=this.el=document.createElement("div");c(this.el,
	k);a.id&&(b.id=a.id);b.style.position=a.target?"absolute":"fixed";a.target?a.target.insertBefore(b,a.target.firstChild):document.getElementsByTagName("body")[0].appendChild(b);h.call(this)};e.prototype.go=function(a){this.bars[0].go(a);100==a&&h.call(this)};return e}();
	</script>
</head>

<body class="post-template-default single single-post postid-956 single-format-standard comments-ajax-page comments-ajax-post">
<div id="load-cover" style="display:none;">
	<div id="load-spinner"><i class="fa fa-spinner fa-spin"></i></div>
</div>
	<script type="text/javascript">jQuery.backstretch("http://cdn.senra.me/bg.jpg");</script><div class="backstretch" style="left: 0px; top: 0px; overflow: hidden; margin: 0px; padding: 0px; height: 673px; width: 1519px; z-index: -999999; position: fixed;"><img src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/bg.jpg" style="position: absolute; margin: 0px; padding: 0px; border: none; width: 1519px; height: 1073.88px; max-height: none; max-width: none; z-index: -999999; left: 0px; top: -200.441px;"></div>
<div id="pageframe" class="fw"><div id="inb" style="width: 100%; height: 8px; z-index: 9999; top: 0px; float: left; position: absolute;"><div style="background-color: rgb(190, 219, 236); width: 0px; height: 100%; clear: both; transition: height 0.28s ease 0s; float: left;"></div></div>
	<script type="text/javascript">var inbopts={bg:"#BEDBEC",target:document.getElementById("pageframe"),id:"inb"};var nanobar = new Nanobar(inbopts);</script>	<script type="text/javascript">
		$('#inb').css('top', $('html').css('margin-top'))
	</script>
	<div id="top" class="fw clf">
		<div id="header" class="wc center">
			<div class="logo-container left"><div class="logo left">
				<a href="http://www.senra.me/"><img class="sl_lazyimg" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/logo4.png" file="http://cdn.senra.me/logo4.png" lazyloadindexed="1" lazyloadpass="1" style="opacity: 1; background-image: none;"><noscript><img src="http://cdn.senra.me/logo4.png"></noscript></a>
			</div></div>
			<div class="social right">
									<div class="ico right" id="tg-s"><a href="javascript:void()" class="fa fa-search"></a></div>
					<form role="search" method="get" id="searchform-top" action="http://www.senra.me/">
						<input type="text" value="" name="s" id="s-top" placeholder="输入，回车搜索" autocomplete="off">
					</form>
								<div id="toggler" class="right"></div>
				<div class="ico right" id="tg-m"><a href="javascript:void()" class="fa fa-bars"></a></div>
			</div>
			<div class="topmenu left"><div class="menu"><ul><li><a href="http://www.senra.me/">首页</a></li></ul></div></div><div class="left clf"></div>
		</div>
	</div>
	<div id="container" class="wc center clf" style="min-height: 4405px;">
	<script type="text/javascript">nanobar.go(20);</script>
		<div id="sidebar" class="fl">
	<div id="abovesb">
	<div class="gr center">
		<img alt="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/4214dc47b49a896b85b1a7ad88bcf6a8.jpeg" srcset="http://1.gravatar.com/avatar/4214dc47b49a896b85b1a7ad88bcf6a8?s=112&amp;d=mm&amp;r=g" data-srcset="http://1.gravatar.com/avatar/4214dc47b49a896b85b1a7ad88bcf6a8?s=224&amp;d=mm&amp;r=g 2x" class="avatar avatar-112 photo responsively-lazy" height="112" width="112">	</div>
	<div class="blogname">Senraの小窝</div>
	<div class="blogdesc">初闻天籁之音，未使心之将来。</div>
	<div class="sbmenu"></div>
</div>
	<script type="text/javascript">nanobar.go(40);</script>
			<div id="sb"> 
					<div id="sbnormal"><div id="search-2" class="clf widget-item widget_search"><form role="search" method="get" id="searchform" action="http://www.senra.me/">
	<div>
		<input type="text" value="" name="s" id="s" placeholder="输入，回车搜索">
		<input type="submit" id="searchsubmit" value="Search">
	</div>
</form></div>		<div id="recent-posts-2" class="clf widget-item widget_recent_entries">		<h3 class="widget-title">近期文章</h3>		<ul>
											<li>
					<a href="http://www.senra.me/using-multicraft-deploy-minecraft-servers/">使用MultiCraft面板搭建MineCraft服务器</a>
									</li>
											<li>
					<a href="http://www.senra.me/deploy-your-private-online-clipboard-using-privatebin/">PrivateBin——搭建你的在线私密剪贴板(开源版PasteBin)</a>
									</li>
											<li>
					<a href="http://www.senra.me/deploy-syncthing-relay-server-for-yourself-or-the-public/">自建Syncthing中继服务器(私密传输或造福大众)</a>
									</li>
											<li>
					<a href="http://www.senra.me/docker-management-panel-series-rainbond-or-cloudhelp/">Docker管理面板系列——云帮(RainBond/CloudHelp 出色的k8s管理面板)</a>
									</li>
											<li>
					<a href="http://www.senra.me/install-solusvm-master-and-slave-in-centos6/">IDC零基础系列——CentOS6安装SolusVM(从系统分区到删库跑路)</a>
									</li>
											<li>
					<a href="http://www.senra.me/create-vps-using-proxmox-in-hetzner-dedicated-server/">IDC零基础系列——Hetzner独服使用Proxmox创建VPS</a>
									</li>
											<li>
					<a href="http://www.senra.me/self-hosted-git-server-gitea-a-different-fork-of-gogs/">自建Git服务器系列——Gitea(Gogs的孪生兄弟)</a>
									</li>
											<li>
					<a href="http://www.senra.me/self-hosted-git-server-gogs-lightweight-and-easy-to-use/">自建Git服务器系列——Gogs(极易搭建的轻量级自助Git服务)</a>
									</li>
											<li>
					<a href="http://www.senra.me/self-hosted-rss-service-miniflux/">自建RSS服务系列——Miniflux(有特点的RSS程序)</a>
									</li>
											<li>
					<a href="http://www.senra.me/self-hosted-rss-service-tinytinyrss/">自建RSS服务系列——Tiny Tiny RSS(TT-RSS)</a>
									</li>
											<li>
					<a href="http://www.senra.me/self-hosted-url-shortener-series-polr-simple-but-powerful/">自建短链服务系列——Polr(简约而不简单)</a>
									</li>
											<li>
					<a href="http://www.senra.me/self-hosted-url-shortener-series-yourls-powerful-but-need-secondary-development/">自建短链服务系列——YOURLS(需要二次开发的强大程序)</a>
									</li>
											<li>
					<a href="http://www.senra.me/build-your-own-cloud-storage-series-verysync-another-alternative-to-btsync-or-resilio-sync-home/">自建云盘系列——微力同步VerySync(能在国内使用的BTSync/Resilio Sync Home)</a>
									</li>
											<li>
					<a href="http://www.senra.me/build-your-own-cloud-storage-series-cloudreve-another-production-of-shudong-share-author/">自建云盘系列——Cloudreve(树洞外链作者的又一力作)</a>
									</li>
											<li>
					<a href="http://www.senra.me/build-your-own-cloud-storage-series-filerun-have-interface-similar-to-google-drive/">自建云盘系列——FileRun(宛如Google Drive)</a>
									</li>
											<li>
					<a href="http://www.senra.me/docker-management-panel-series-crane/">Docker管理面板系列——Crane(已经凉凉)</a>
									</li>
											<li>
					<a href="http://www.senra.me/docker-management-panel-series-portainer/">Docker管理面板系列——Portainer(简单、美观、强大)</a>
									</li>
											<li>
					<a href="http://www.senra.me/docker-management-panel-series-shipyard/">Docker管理面板系列——Shipyard(已经停止维护)</a>
									</li>
											<li>
					<a href="http://www.senra.me/docker-management-panel-series-rancher/">Docker管理面板系列——Rancher(能够对接各家公有云)</a>
									</li>
											<li>
					<a href="http://www.senra.me/install-zfs-on-centos6/">CentOS安装配置ZFS——万千硬盘集于一池</a>
									</li>
					</ul>
		</div><div id="archives-2" class="clf widget-item widget_archive"><h3 class="widget-title">文章归档</h3>		<ul>
				<li><a href="http://www.senra.me/2018/04/">2018年四月</a></li>
	<li><a href="http://www.senra.me/2018/03/">2018年三月</a></li>
	<li><a href="http://www.senra.me/2017/11/">2017年十一月</a></li>
	<li><a href="http://www.senra.me/2017/10/">2017年十月</a></li>
	<li><a href="http://www.senra.me/2017/09/">2017年九月</a></li>
	<li><a href="http://www.senra.me/2017/07/">2017年七月</a></li>
	<li><a href="http://www.senra.me/2017/06/">2017年六月</a></li>
	<li><a href="http://www.senra.me/2017/05/">2017年五月</a></li>
	<li><a href="http://www.senra.me/2017/04/">2017年四月</a></li>
	<li><a href="http://www.senra.me/2017/03/">2017年三月</a></li>
	<li><a href="http://www.senra.me/2017/02/">2017年二月</a></li>
	<li><a href="http://www.senra.me/2017/01/">2017年一月</a></li>
	<li><a href="http://www.senra.me/2016/11/">2016年十一月</a></li>
	<li><a href="http://www.senra.me/2016/10/">2016年十月</a></li>
	<li><a href="http://www.senra.me/2016/09/">2016年九月</a></li>
	<li><a href="http://www.senra.me/2016/08/">2016年八月</a></li>
	<li><a href="http://www.senra.me/2016/03/">2016年三月</a></li>
	<li><a href="http://www.senra.me/2016/01/">2016年一月</a></li>
	<li><a href="http://www.senra.me/2015/07/">2015年七月</a></li>
	<li><a href="http://www.senra.me/2015/06/">2015年六月</a></li>
		</ul>
			</div><div id="categories-2" class="clf widget-item widget_categories"><h3 class="widget-title">分类目录</h3>		<ul>
				<li class="cat-item cat-item-100"><a href="http://www.senra.me/category/aria2/">aria2</a>
</li>
	<li class="cat-item cat-item-67"><a href="http://www.senra.me/category/centos/">centos</a>
</li>
	<li class="cat-item cat-item-112"><a href="http://www.senra.me/category/directadmin/">directadmin</a>
</li>
	<li class="cat-item cat-item-101"><a href="http://www.senra.me/category/dns/">dns</a>
</li>
	<li class="cat-item cat-item-116"><a href="http://www.senra.me/category/docker/">docker</a>
</li>
	<li class="cat-item cat-item-125"><a href="http://www.senra.me/category/exim/">exim</a>
</li>
	<li class="cat-item cat-item-2"><a href="http://www.senra.me/category/https/">HTTPS</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://www.senra.me/category/life/">Life</a>
</li>
	<li class="cat-item cat-item-49"><a href="http://www.senra.me/category/minecraft/">Minecraft</a>
</li>
	<li class="cat-item cat-item-156"><a href="http://www.senra.me/category/plesk/">plesk</a>
</li>
	<li class="cat-item cat-item-141"><a href="http://www.senra.me/category/proxmox/">proxmox</a>
</li>
	<li class="cat-item cat-item-314"><a href="http://www.senra.me/category/python/">Python</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.senra.me/category/ssl/">ssl</a>
</li>
	<li class="cat-item cat-item-114"><a href="http://www.senra.me/category/vestacp/">Vestacp</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://www.senra.me/category/vps/">VPS</a>
</li>
	<li class="cat-item cat-item-248"><a href="http://www.senra.me/category/%e4%b8%8b%e8%bd%bd/">下载</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.senra.me/category/%e4%bc%98%e6%83%a0/">优惠</a>
</li>
	<li class="cat-item cat-item-136"><a href="http://www.senra.me/category/%e5%88%86%e4%ba%ab/">分享</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://www.senra.me/category/%e6%8a%98%e8%85%be/">折腾</a>
</li>
	<li class="cat-item cat-item-43"><a href="http://www.senra.me/category/%e6%95%99%e7%a8%8b/">教程</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://www.senra.me/category/uncategorized/">未分类</a>
</li>
	<li class="cat-item cat-item-105"><a href="http://www.senra.me/category/%e9%9a%8f%e7%ac%94/">随笔</a>
</li>
		</ul>
			</div><div id="tag_cloud-2" class="clf widget-item widget_tag_cloud"><h3 class="widget-title">标签</h3><div class="tagcloud"><a href="http://www.senra.me/tag/aria2/" class="tag-cloud-link tag-link-11 tag-link-position-1" style="font-size: 17.706666666667pt;" aria-label="aria2 (9个项目)">aria2</a>
<a href="http://www.senra.me/tag/bt/" class="tag-cloud-link tag-link-261 tag-link-position-2" style="font-size: 10.24pt;" aria-label="BT (3个项目)">BT</a>
<a href="http://www.senra.me/tag/btsync/" class="tag-cloud-link tag-link-186 tag-link-position-3" style="font-size: 10.24pt;" aria-label="btsync (3个项目)">btsync</a>
<a href="http://www.senra.me/tag/cdn/" class="tag-cloud-link tag-link-12 tag-link-position-4" style="font-size: 10.24pt;" aria-label="cdn (3个项目)">cdn</a>
<a href="http://www.senra.me/tag/centos/" class="tag-cloud-link tag-link-57 tag-link-position-5" style="font-size: 22pt;" aria-label="centos (16个项目)">centos</a>
<a href="http://www.senra.me/tag/chevereto/" class="tag-cloud-link tag-link-61 tag-link-position-6" style="font-size: 8pt;" aria-label="chevereto (2个项目)">chevereto</a>
<a href="http://www.senra.me/tag/docker/" class="tag-cloud-link tag-link-117 tag-link-position-7" style="font-size: 19.76pt;" aria-label="docker (12个项目)">docker</a>
<a href="http://www.senra.me/tag/docker%e7%ae%a1%e7%90%86%e9%9d%a2%e6%9d%bf/" class="tag-cloud-link tag-link-330 tag-link-position-8" style="font-size: 13.6pt;" aria-label="docker管理面板 (5个项目)">docker管理面板</a>
<a href="http://www.senra.me/tag/elasticsearch/" class="tag-cloud-link tag-link-70 tag-link-position-9" style="font-size: 8pt;" aria-label="elasticsearch (2个项目)">elasticsearch</a>
<a href="http://www.senra.me/tag/gdrive/" class="tag-cloud-link tag-link-209 tag-link-position-10" style="font-size: 10.24pt;" aria-label="gdrive (3个项目)">gdrive</a>
<a href="http://www.senra.me/tag/geodns/" class="tag-cloud-link tag-link-273 tag-link-position-11" style="font-size: 8pt;" aria-label="geodns (2个项目)">geodns</a>
<a href="http://www.senra.me/tag/git/" class="tag-cloud-link tag-link-247 tag-link-position-12" style="font-size: 10.24pt;" aria-label="git (3个项目)">git</a>
<a href="http://www.senra.me/tag/https/" class="tag-cloud-link tag-link-15 tag-link-position-13" style="font-size: 10.24pt;" aria-label="https (3个项目)">https</a>
<a href="http://www.senra.me/tag/kvm/" class="tag-cloud-link tag-link-16 tag-link-position-14" style="font-size: 10.24pt;" aria-label="kvm (3个项目)">kvm</a>
<a href="http://www.senra.me/tag/mc/" class="tag-cloud-link tag-link-50 tag-link-position-15" style="font-size: 12.106666666667pt;" aria-label="mc (4个项目)">mc</a>
<a href="http://www.senra.me/tag/minecraft/" class="tag-cloud-link tag-link-51 tag-link-position-16" style="font-size: 12.106666666667pt;" aria-label="minecraft (4个项目)">minecraft</a>
<a href="http://www.senra.me/tag/nginx/" class="tag-cloud-link tag-link-149 tag-link-position-17" style="font-size: 14.906666666667pt;" aria-label="nginx (6个项目)">nginx</a>
<a href="http://www.senra.me/tag/ovh/" class="tag-cloud-link tag-link-122 tag-link-position-18" style="font-size: 10.24pt;" aria-label="ovh (3个项目)">ovh</a>
<a href="http://www.senra.me/tag/piwik/" class="tag-cloud-link tag-link-62 tag-link-position-19" style="font-size: 10.24pt;" aria-label="Piwik (3个项目)">Piwik</a>
<a href="http://www.senra.me/tag/plesk/" class="tag-cloud-link tag-link-157 tag-link-position-20" style="font-size: 16.773333333333pt;" aria-label="plesk (8个项目)">plesk</a>
<a href="http://www.senra.me/tag/plex/" class="tag-cloud-link tag-link-278 tag-link-position-21" style="font-size: 10.24pt;" aria-label="plex (3个项目)">plex</a>
<a href="http://www.senra.me/tag/proxmox/" class="tag-cloud-link tag-link-142 tag-link-position-22" style="font-size: 15.84pt;" aria-label="proxmox (7个项目)">proxmox</a>
<a href="http://www.senra.me/tag/syncthing/" class="tag-cloud-link tag-link-188 tag-link-position-23" style="font-size: 10.24pt;" aria-label="syncthing (3个项目)">syncthing</a>
<a href="http://www.senra.me/tag/vps/" class="tag-cloud-link tag-link-21 tag-link-position-24" style="font-size: 12.106666666667pt;" aria-label="vps (4个项目)">vps</a>
<a href="http://www.senra.me/tag/%e4%b8%8b%e8%bd%bd%e5%b7%a5%e5%85%b7/" class="tag-cloud-link tag-link-252 tag-link-position-25" style="font-size: 15.84pt;" aria-label="下载工具 (7个项目)">下载工具</a>
<a href="http://www.senra.me/tag/%e4%b8%ad%e6%96%87%e4%b9%b1%e7%a0%81/" class="tag-cloud-link tag-link-291 tag-link-position-26" style="font-size: 8pt;" aria-label="中文乱码 (2个项目)">中文乱码</a>
<a href="http://www.senra.me/tag/%e4%bd%9c%e6%ad%bb/" class="tag-cloud-link tag-link-25 tag-link-position-27" style="font-size: 8pt;" aria-label="作死 (2个项目)">作死</a>
<a href="http://www.senra.me/tag/%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f/" class="tag-cloud-link tag-link-225 tag-link-position-28" style="font-size: 16.773333333333pt;" aria-label="内网穿透 (8个项目)">内网穿透</a>
<a href="http://www.senra.me/tag/%e5%8d%87%e7%ba%a7/" class="tag-cloud-link tag-link-78 tag-link-position-29" style="font-size: 13.6pt;" aria-label="升级 (5个项目)">升级</a>
<a href="http://www.senra.me/tag/%e5%90%8c%e6%ad%a5/" class="tag-cloud-link tag-link-219 tag-link-position-30" style="font-size: 10.24pt;" aria-label="同步 (3个项目)">同步</a>
<a href="http://www.senra.me/tag/%e5%90%90%e6%a7%bd/" class="tag-cloud-link tag-link-27 tag-link-position-31" style="font-size: 8pt;" aria-label="吐槽 (2个项目)">吐槽</a>
<a href="http://www.senra.me/tag/%e5%9c%a8%e7%ba%bf%e4%b8%b2%e6%b5%81/" class="tag-cloud-link tag-link-284 tag-link-position-32" style="font-size: 8pt;" aria-label="在线串流 (2个项目)">在线串流</a>
<a href="http://www.senra.me/tag/%e5%a4%87%e4%bb%bd/" class="tag-cloud-link tag-link-206 tag-link-position-33" style="font-size: 14.906666666667pt;" aria-label="备份 (6个项目)">备份</a>
<a href="http://www.senra.me/tag/%e5%ae%89%e8%a3%85/" class="tag-cloud-link tag-link-47 tag-link-position-34" style="font-size: 17.706666666667pt;" aria-label="安装 (9个项目)">安装</a>
<a href="http://www.senra.me/tag/%e5%bc%80%e6%9c%8d/" class="tag-cloud-link tag-link-53 tag-link-position-35" style="font-size: 8pt;" aria-label="开服 (2个项目)">开服</a>
<a href="http://www.senra.me/tag/%e6%8a%98%e8%85%be/" class="tag-cloud-link tag-link-32 tag-link-position-36" style="font-size: 10.24pt;" aria-label="折腾 (3个项目)">折腾</a>
<a href="http://www.senra.me/tag/%e6%95%99%e7%a8%8b/" class="tag-cloud-link tag-link-48 tag-link-position-37" style="font-size: 15.84pt;" aria-label="教程 (7个项目)">教程</a>
<a href="http://www.senra.me/tag/%e7%a6%bb%e7%ba%bf%e4%b8%8b%e8%bd%bd/" class="tag-cloud-link tag-link-36 tag-link-position-38" style="font-size: 12.106666666667pt;" aria-label="离线下载 (4个项目)">离线下载</a>
<a href="http://www.senra.me/tag/%e7%a7%81%e4%ba%ba115/" class="tag-cloud-link tag-link-280 tag-link-position-39" style="font-size: 10.24pt;" aria-label="私人115 (3个项目)">私人115</a>
<a href="http://www.senra.me/tag/%e7%a7%81%e4%ba%ba%e4%ba%91/" class="tag-cloud-link tag-link-187 tag-link-position-40" style="font-size: 21.44pt;" aria-label="私人云 (15个项目)">私人云</a>
<a href="http://www.senra.me/tag/%e8%87%aa%e5%bb%badns/" class="tag-cloud-link tag-link-274 tag-link-position-41" style="font-size: 8pt;" aria-label="自建DNS (2个项目)">自建DNS</a>
<a href="http://www.senra.me/tag/%e8%bf%85%e9%9b%b7/" class="tag-cloud-link tag-link-39 tag-link-position-42" style="font-size: 10.24pt;" aria-label="迅雷 (3个项目)">迅雷</a>
<a href="http://www.senra.me/tag/%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6/" class="tag-cloud-link tag-link-55 tag-link-position-43" style="font-size: 8pt;" aria-label="配置文件 (2个项目)">配置文件</a>
<a href="http://www.senra.me/tag/%e9%9a%a7%e9%81%93/" class="tag-cloud-link tag-link-229 tag-link-position-44" style="font-size: 10.24pt;" aria-label="隧道 (3个项目)">隧道</a>
<a href="http://www.senra.me/tag/%e9%a2%84%e5%91%8a/" class="tag-cloud-link tag-link-207 tag-link-position-45" style="font-size: 10.24pt;" aria-label="预告 (3个项目)">预告</a></div>
</div><div id="meta-3" class="clf widget-item widget_meta"><h3 class="widget-title">功能</h3>			<ul>
						<li><a href="http://www.senra.me/wp-login.php">登录</a></li>
			<li><a href="http://www.senra.me/feed/">文章<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://www.senra.me/comments/feed/">评论<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://cn.wordpress.org/" title="基于WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>			</ul>
			</div><div id="linkcat-42" class="clf widget-item widget_links"><h3 class="widget-title">友情链接</h3>
	<ul class="xoxo blogroll">
<li><a href="https://www.vpstry.com/" target="_blank">VPS推荐</a></li>
<li><a href="http://jimo.ml/" target="_blank">季末的博客</a></li>
<li><a href="https://dream.ren/" target="_blank">追梦人博客</a></li>
<li><a href="https://www.zrj96.com/" target="_blank">初行博客</a></li>
<li><a href="https://www.dogfight360.com/blog/" rel="friend" target="_blank">羽翼城个人博客</a></li>
<li><a href="https://blog.bnightning.cn/" title="https://cdn.v2ex.com/gravatar/5588a024ce689d068e96190057f23881?s=160" target="_blank">Bnightning</a></li>
<li><a href="https://since1989.org/" target="_blank">王掌柜</a></li>
<li><a href="https://www.ccav.me/" target="_blank">CCAV记者</a></li>
<li><a href="https://liyuans.com/" target="_blank">Leonn的博客</a></li>

	</ul>
</div>
<div id="linkcat-66" class="clf widget-item widget_links"><h3 class="widget-title">VPS推荐</h3>
	<ul class="xoxo blogroll">
<li><a href="http://www.kdatacenter.com/myportal/?affid=14" target="_blank">韩国G口SK小鸡</a></li>

	</ul>
</div>
<div id="recent-comments-2" class="clf widget-item widget_recent_comments"><h3 class="widget-title">近期评论</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">banana</span>发表在《<a href="http://www.senra.me/ariang-a-beautiful-aria2-webui-front-end/comment-page-1/#comment-18765">AriaNG——高颜值的Aria2 WebUI</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/using-multicraft-deploy-minecraft-servers/comment-page-2/#comment-18681">使用MultiCraft面板搭建MineCraft服务器</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/h5ai-a-modern-http-web-server-index-setup-and-modify/comment-page-1/#comment-18680">H5ai——一个强大美观的目录列表程序</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/aria2-and-plex-build-your-own-cloud-video-streaming-service/comment-page-1/#comment-18679">Aria2+Plex实现支持离线下载的小型私人视频云盘</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/ariang-a-beautiful-aria2-webui-front-end/comment-page-1/#comment-18678">AriaNG——高颜值的Aria2 WebUI</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/awesome-downloader-series-rtorrent-lightweight-bt-pt-tool/comment-page-1/#comment-18677">下载工具系列——rTorrent (轻量级优秀BT/PT客户端)</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/build-your-own-cloud-storage-series-cloudreve-another-production-of-shudong-share-author/comment-page-1/#comment-18676">自建云盘系列——Cloudreve(树洞外链作者的又一力作)</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/build-your-own-cloud-storage-series-pydio-formerly-ajaxplorer/comment-page-1/#comment-18675">自建云盘系列——Pydio (原AjaXplorer)</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/h5ai-a-modern-http-web-server-index-setup-and-modify/comment-page-1/#comment-18674">H5ai——一个强大美观的目录列表程序</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/docker-management-panel-series-shipyard/comment-page-1/#comment-18673">Docker管理面板系列——Shipyard(已经停止维护)</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/using-multicraft-deploy-minecraft-servers/comment-page-1/#comment-18672">使用MultiCraft面板搭建MineCraft服务器</a>》</li><li class="recentcomments"><span class="comment-author-link">Power +</span>发表在《<a href="http://www.senra.me/install-directadmin-on-centos6/comment-page-1/#comment-18671">Centos6安装DirectAdmin</a>》</li><li class="recentcomments"><span class="comment-author-link">Power +</span>发表在《<a href="http://www.senra.me/install-directadmin-on-centos6/comment-page-1/#comment-18670">Centos6安装DirectAdmin</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/nat-traversal-series-frp-next-generation-high-performance-ngrok-alternative/comment-page-1/#comment-18669">内网穿透系列——frp （新一代高性能内网穿透工具）</a>》</li><li class="recentcomments"><span class="comment-author-link"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>发表在《<a href="http://www.senra.me/solutions-to-aria2-bt-metalink-download-slowly/comment-page-2/#comment-18668">解决Aria2 BT下载速度慢没速度的问题</a>》</li></ul></div></div>
				</div>
	</div>
		<div id="content" class="wp">
			<div id="breadcrumbs">您的位置: <a href="http://www.senra.me/">首页</a> » <a href="http://www.senra.me/category/centos/">centos</a> » <span>内网穿透系列——WireGuard (快速, 安全的下一代隧道程序)</span></div>			<div id="post-956" class="post-956 post type-post status-publish format-standard has-post-thumbnail hentry category-centos category-43 tag-wireguard tag-225 tag-229">
			<a href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/" title="内网穿透系列——WireGuard (快速, 安全的下一代隧道程序)" class="post-thumbnail fw">
			<img width="700" height="210" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/wireguard-logo-700x210.jpg" file="http://ucdn.senra.me/2017/09/wireguard-logo-700x210.jpg?_upt=2aff9da01589468635" class="attachment-post-thumbnail size-post-thumbnail wp-post-image sl_lazyimg" alt="" lazyloadindexed="1" lazyloadpass="1" style="height: 210px; opacity: 1; background-image: none;"><noscript><img width="700" height="210" src="http://ucdn.senra.me/2017/09/wireguard-logo-700x210.jpg?_upt=2aff9da01589468635" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="" /></noscript>		</a>
				<h1 class="post-title">			<a href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/" rel="bookmark" title="内网穿透系列——WireGuard (快速, 安全的下一代隧道程序)">内网穿透系列——WireGuard (快速, 安全的下一代隧道程序)</a>
		</h1>		<div class="post-content">
		<h2>一.介绍</h2>
<p>WireGuard是个新出的隧道程序，内核级的，所以数据处理能力以及资源消耗就会很理想，而且它可以工作于一方动态IP一方静态IP的环境下，这就能够很好的利用于内网穿透的环境下。当然，有几个大佬拿它做搭隧道来实现自己的全球大内网(x, 看得我也很是羡慕</p>
<p>具体的介绍我不提了，感兴趣的去它的官网看看就知道了，针对以往的隧道程序做了不少方面的对比，可以看出来优势还是挺大的。 ——&gt; <a href="https://www.wireguard.com/" target="_blank" rel="noopener"><span style="color: #3366ff;">传送门</span></a></p>
<h2>二.安装</h2>
<p>大部分系统在WireGuard官网上都介绍了包安装和编译安装的过程，但是，心疼我Centos6，没人写怎么装，这就很气。所以我研究了下怎么装，发现"怎么又是个坑(摔 !"</p>
<p>首先，WireGuard是工作在KernelSpace的，所以对内核版本有着一定要求，必须在3.10版本以上，要我说就直接上4.9，带BBR多好，美滋滋。</p>
<p>首先这边有个大坑，还是得注意，官方表示WireGurad源码需要使用4.7以上的GCC编译，嗯，我特么怎么就没看到啊魂淡(摔，然后我第一次全套使用Centos6默认的GCC编译，出现了如下的错误</p>
		<div id="crayon-5ebd5b837672c826314631" class="crayon-syntax crayon-theme-sublime-text crayon-font-sourcecodepro crayon-os-pc print-yes notranslate crayon-wrapped" data-settings=" minimize scroll-mouseover disable-anim wrap" style="margin-top: 15px; margin-bottom: 15px; float: left; font-size: 12px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;">/WireGuard/src/socket.c: In function ‘socket_init’:
/WireGuard/src/socket.c:343: error: unknown field ‘local_ip’ specified 
in initializer</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5ebd5b837672c826314631-1" style="height: 17px;">1</div><div class="crayon-num" data-line="crayon-5ebd5b837672c826314631-2" style="height: 17px;">2</div><div class="crayon-num" data-line="crayon-5ebd5b837672c826314631-3" style="height: 17px;">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ebd5b837672c826314631-1"><span class="crayon-o">/</span><span class="crayon-v">WireGuard</span><span class="crayon-o">/</span><span class="crayon-v">src</span><span class="crayon-o">/</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">c</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-st">In</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span>‘<span class="crayon-v">socket</span><span class="crayon-sy">_</span>init’<span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5ebd5b837672c826314631-2"><span class="crayon-o">/</span><span class="crayon-v">WireGuard</span><span class="crayon-o">/</span><span class="crayon-v">src</span><span class="crayon-o">/</span><span class="crayon-v">socket</span><span class="crayon-sy">.</span><span class="crayon-v">c</span><span class="crayon-o">:</span><span class="crayon-cn">343</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">error</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">unknown </span><span class="crayon-i">field</span><span class="crayon-h"> </span>‘<span class="crayon-v">local</span><span class="crayon-sy">_</span>ip’<span class="crayon-h"> </span><span class="crayon-e">specified </span></div><div class="crayon-line" id="crayon-5ebd5b837672c826314631-3"><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">initializer</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div><p>在更换高版本GCC编译后成功，但是发现无法加载wireguard.ko内核，dmesg查看后发现如下报错</p>
		<div id="crayon-5ebd5b8376734767013758" class="crayon-syntax crayon-theme-sublime-text crayon-font-sourcecodepro crayon-os-pc print-yes notranslate crayon-wrapped" data-settings=" minimize scroll-mouseover disable-anim wrap" style="margin-top: 15px; margin-bottom: 15px; float: left; font-size: 12px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;">wireguard: loading out-of-tree module taints kernel.
wireguard: Unknown symbol __fentry__ (err 0)</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5ebd5b8376734767013758-1" style="height: 17px;">1</div><div class="crayon-num" data-line="crayon-5ebd5b8376734767013758-2" style="height: 17px;">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ebd5b8376734767013758-1"><span class="crayon-v">wireguard</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">loading </span><span class="crayon-v">out</span><span class="crayon-o">-</span><span class="crayon-v">of</span><span class="crayon-o">-</span><span class="crayon-e">tree </span><span class="crayon-e">module </span><span class="crayon-e">taints </span><span class="crayon-v">kernel</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-5ebd5b8376734767013758-2"><span class="crayon-v">wireguard</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Unknown </span><span class="crayon-e">symbol </span><span class="crayon-e">__fentry__</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">err</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div><p>经过研究WireGuard的官方邮件列表中他人的报错后终于发现了一个蛋疼的问题，就是如果内核使用了低版本GCC编译，那么程序必须也要低版本，但是程序默认无法通过低版本编译，需要修改代码。所以最好就是全部高版本。这儿主要还是因为内核用的是我自己的修改版，如果是官方版本的话……也许不会有问题?</p>
<p>具体可以查看邮件列表对话——&gt;<a href="https://lists.zx2c4.com/pipermail/wireguard/2017-January/000872.html" target="_blank" rel="noopener">传送门</a></p>
<p>官方提供了一种把WireGuard直接patch到内核中的玩法，如下</p>
		<div id="crayon-5ebd5b8376737629920600" class="crayon-syntax crayon-theme-sublime-text crayon-font-sourcecodepro crayon-os-pc print-yes notranslate crayon-wrapped" data-settings=" minimize scroll-mouseover disable-anim wrap" style="margin-top: 15px; margin-bottom: 15px; float: left; font-size: 12px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;">cd /path/to/kernel/source/code
/path/to/wireguard/contrib/kernel-tree/create-patch.sh | patch -p1</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5ebd5b8376737629920600-1" style="height: 17px;">1</div><div class="crayon-num" data-line="crayon-5ebd5b8376737629920600-2" style="height: 17px;">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ebd5b8376737629920600-1"><span class="crayon-v">cd</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-v">path</span><span class="crayon-o">/</span><span class="crayon-st">to</span><span class="crayon-o">/</span><span class="crayon-v">kernel</span><span class="crayon-o">/</span><span class="crayon-v">source</span><span class="crayon-o">/</span><span class="crayon-v">code</span></div><div class="crayon-line" id="crayon-5ebd5b8376737629920600-2"><span class="crayon-o">/</span><span class="crayon-v">path</span><span class="crayon-o">/</span><span class="crayon-st">to</span><span class="crayon-o">/</span><span class="crayon-v">wireguard</span><span class="crayon-o">/</span><span class="crayon-v">contrib</span><span class="crayon-o">/</span><span class="crayon-v">kernel</span><span class="crayon-o">-</span><span class="crayon-v">tree</span><span class="crayon-o">/</span><span class="crayon-v">create</span><span class="crayon-o">-</span><span class="crayon-v">patch</span><span class="crayon-sy">.</span><span class="crayon-v">sh</span><span class="crayon-h"> </span><span class="crayon-o">|</span><span class="crayon-h"> </span><span class="crayon-v">patch</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">p1</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div><p>然后会多两个内核参数，可以自行调整</p>
		<div id="crayon-5ebd5b8376738406448673" class="crayon-syntax crayon-theme-sublime-text crayon-font-sourcecodepro crayon-os-pc print-yes notranslate crayon-wrapped" data-settings=" minimize scroll-mouseover disable-anim wrap" style="margin-top: 15px; margin-bottom: 15px; float: left; font-size: 12px !important; line-height: 17px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 17px !important; z-index: 0; opacity: 0; overflow: hidden;">CONFIG_WIREGUARD
CONFIG_WIREGUARD_DEBUG</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 17px !important;"><div class="crayon-num" data-line="crayon-5ebd5b8376738406448673-1" style="height: 17px;">1</div><div class="crayon-num" data-line="crayon-5ebd5b8376738406448673-2" style="height: 17px;">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 17px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5ebd5b8376738406448673-1"><span class="crayon-e">CONFIG_WIREGUARD</span></div><div class="crayon-line" id="crayon-5ebd5b8376738406448673-2"><span class="crayon-v">CONFIG_WIREGUARD_DEBUG</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div><p>但是我想了下还是不推荐这个方法，因为WireGuard目前还是比较频繁更新的，做到内核里不利于更新，以后稳定了或许不错</p>
<p><strong>PS.总结一下，两个注意点</strong></p>
<p><strong>①.内核需要高版本GCC编译，且大于3.10版本</strong></p>
<p><strong>②.代码需要高版本GCC编译，使用前通过lsmod确认模块已经加载</strong></p>
<h2>三.使用方法</h2>
<p>这部分不介绍了，官方真的详细，还有手把手动画演示以及测试服务器，命令全帮你写好了，照瓢画葫就行_(:з」∠)_ &nbsp;——&gt;<a href="https://www.wireguard.com/quickstart/" target="_blank" rel="noopener"><span style="color: #3366ff;">传送门</span></a></p>

	<div class="st-post-tags">
	Tags: <a href="http://www.senra.me/tag/wireguard/" title="wireguard" rel="tag">wireguard</a>, <a href="http://www.senra.me/tag/%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f/" title="内网穿透" rel="tag">内网穿透</a>, <a href="http://www.senra.me/tag/%e9%9a%a7%e9%81%93/" title="隧道" rel="tag">隧道</a><br></div>

		<br><div class="post-about"><p><a href="http://www.senra.me/">Senraの小窝</a>原创文章，转载请注明来自：<a href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/">内网穿透系列——WireGuard (快速, 安全的下一代隧道程序)</a></p></div>	</div>
	
	<div class="post-meta clf">
		<span class="pmt pms fa-user"><a href="http://www.senra.me/" title="访问Senra的站点" rel="author external">Senra</a></span>		<span class="pmt pms fa-file-o"><a class="entry-format" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/">标准</a></span>		<span class="pms fa-book"><a href="http://www.senra.me/category/centos/" rel="category tag">centos</a>, <a href="http://www.senra.me/category/%e6%95%99%e7%a8%8b/" rel="category tag">教程</a></span>		<span class="fa-clock-o">2017-09-27</span>		<span class="fa-comment"><a href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/#comments">8个评论</a></span>		<span class="fa-eye">30,366 views</span>			</div></div><!-- #post-ID -->
	<div class="post-tags"><span class="tagtip">标签:</span><a href="http://www.senra.me/tag/wireguard/" rel="tag">wireguard</a><a href="http://www.senra.me/tag/%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f/" rel="tag">内网穿透</a><a href="http://www.senra.me/tag/%e9%9a%a7%e9%81%93/" rel="tag">隧道</a></div>			
			
<div id="comments" class="comments-area">

	<div id="loading-comments">
		<img class="sl_lazyimg" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/loading-comment.gif" file="http://cdn.senra.me/wp-content/themes/Seventeen/images/loading-comment.gif" lazyloadindexed="1" lazyloadpass="1" style="opacity: 1; background-image: none;"><noscript><img src="http://cdn.senra.me/wp-content/themes/Seventeen/images/loading-comment.gif"></noscript>
		<span>Loading...</span>
	</div>

			<ol class="comment-list">
					<li id="commentli-3444" class="comment even thread-even depth-1">
			<div id="comment-3444" class="comment-container">
				<div class="comment-avatar left"><img alt="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/230086c19d2e8aa9f12ff3e682c97f82.jpeg" srcset="http://2.gravatar.com/avatar/230086c19d2e8aa9f12ff3e682c97f82?s=56&amp;d=mm&amp;r=g" data-srcset="http://2.gravatar.com/avatar/230086c19d2e8aa9f12ff3e682c97f82?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo responsively-lazy" height="56" width="56"></div>
				<div class="comment-body">
					<div class="comment-meta">
						<span class="comment-author"><a href="http://blog.inevitable.tech/" rel="external nofollow" class="url">我</a></span>
						<span class="comment-time">
															<time>
								2018-1-12 08:01								</time>
													</span>
						<span class="comment-edit fade"></span>
						<span class="right fade"><a rel="nofollow" class="comment-reply-link" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/?replytocom=3444#respond" data-commentid="3444" data-postid="956" data-belowelement="comment-3444" data-respondelement="respond" aria-label="回复给我">回复</a></span>
					</div>
					<div class="comment-content"><p>很高兴看到博主的文章。在这篇博客中你提到了全球大内网。请问可以进一步解释一下全球大内网的意义吗？</p>
</div>
				</div>
				<div class="clear"></div>
			</div>
		</li>
	<ul class="children">
		<li id="commentli-3459" class="comment byuser comment-author-senra bypostauthor odd alt depth-2">
			<div id="comment-3459" class="comment-container">
				<div class="comment-avatar left"><img alt="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/2b5cf1c014f83c6bc926785274b6848d.jpeg" srcset="http://2.gravatar.com/avatar/2b5cf1c014f83c6bc926785274b6848d?s=42&amp;d=mm&amp;r=g" data-srcset="http://2.gravatar.com/avatar/2b5cf1c014f83c6bc926785274b6848d?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo responsively-lazy" height="42" width="42"></div>
				<div class="comment-body">
					<div class="comment-meta">
						<span class="comment-author"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>
						<span class="comment-time">
															<time>
								2018-1-13 13:51								</time>
													</span>
						<span class="comment-edit fade"></span>
						<span class="right fade"><a rel="nofollow" class="comment-reply-link" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/?replytocom=3459#respond" data-commentid="3459" data-postid="956" data-belowelement="comment-3459" data-respondelement="respond" aria-label="回复给Senra">回复</a></span>
					</div>
					<div class="comment-content"><p>额，对个人来说没啥意义，这是我认识的搞专线和VPS的朋友在折腾的，主要用途就是优化线路</p>
</div>
				</div>
				<div class="clear"></div>
			</div>
		</li>
	<!-- #comment-## -->
</ul><!-- .children -->
<!-- #comment-## -->
		<li id="commentli-16186" class="comment even thread-odd thread-alt depth-1">
			<div id="comment-16186" class="comment-container">
				<div class="comment-avatar left"><img alt="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/755bca37db095d2d14f2842dd7bd7fd8.png" srcset="http://1.gravatar.com/avatar/755bca37db095d2d14f2842dd7bd7fd8?s=56&amp;d=mm&amp;r=g" data-srcset="http://1.gravatar.com/avatar/755bca37db095d2d14f2842dd7bd7fd8?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo responsively-lazy" height="56" width="56"></div>
				<div class="comment-body">
					<div class="comment-meta">
						<span class="comment-author"><a href="https://since1989.org/" rel="external nofollow" class="url">wireguard</a></span>
						<span class="comment-time">
															<time>
								2018-11-23 16:24								</time>
													</span>
						<span class="comment-edit fade"></span>
						<span class="right fade"><a rel="nofollow" class="comment-reply-link" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/?replytocom=16186#respond" data-commentid="16186" data-postid="956" data-belowelement="comment-16186" data-respondelement="respond" aria-label="回复给wireguard">回复</a></span>
					</div>
					<div class="comment-content"><p>欢迎交流 我写了一系列文章介绍 WireGuard一键安装教程图文版 <a href="https://since1989.org/wireguard/centos-ubuntu-linux-script-install.html">https://since1989.org/wireguard/centos-ubuntu-linux-script-install.html</a></p>
</div>
				</div>
				<div class="clear"></div>
			</div>
		</li>
	<ul class="children">
		<li id="commentli-16191" class="comment byuser comment-author-senra bypostauthor odd alt depth-2">
			<div id="comment-16191" class="comment-container">
				<div class="comment-avatar left"><img alt="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/2b5cf1c014f83c6bc926785274b6848d.jpeg" srcset="http://2.gravatar.com/avatar/2b5cf1c014f83c6bc926785274b6848d?s=42&amp;d=mm&amp;r=g" data-srcset="http://2.gravatar.com/avatar/2b5cf1c014f83c6bc926785274b6848d?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo responsively-lazy" height="42" width="42"></div>
				<div class="comment-body">
					<div class="comment-meta">
						<span class="comment-author"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>
						<span class="comment-time">
															<time>
								2018-11-23 16:31								</time>
													</span>
						<span class="comment-edit fade"></span>
						<span class="right fade"><a rel="nofollow" class="comment-reply-link" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/?replytocom=16191#respond" data-commentid="16191" data-postid="956" data-belowelement="comment-16191" data-respondelement="respond" aria-label="回复给Senra">回复</a></span>
					</div>
					<div class="comment-content"><p>WG安装上还是比较简单的，主要是配置可能部分小白可能摸不着头脑</p>
</div>
				</div>
				<div class="clear"></div>
			</div>
		</li>
	<!-- #comment-## -->
</ul><!-- .children -->
<!-- #comment-## -->
		<li id="commentli-17091" class="comment even thread-even depth-1">
			<div id="comment-17091" class="comment-container">
				<div class="comment-avatar left"><img alt="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/87acb2463ca487ad509585c9a7761144.jpeg" srcset="http://2.gravatar.com/avatar/87acb2463ca487ad509585c9a7761144?s=56&amp;d=mm&amp;r=g" data-srcset="http://2.gravatar.com/avatar/87acb2463ca487ad509585c9a7761144?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo responsively-lazy" height="56" width="56"></div>
				<div class="comment-body">
					<div class="comment-meta">
						<span class="comment-author"><a href="http://www.cpolar.com/" rel="external nofollow" class="url">probezy</a></span>
						<span class="comment-time">
															<time>
								2018-12-11 16:21								</time>
													</span>
						<span class="comment-edit fade"></span>
						<span class="right fade"><a rel="nofollow" class="comment-reply-link" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/?replytocom=17091#respond" data-commentid="17091" data-postid="956" data-belowelement="comment-17091" data-respondelement="respond" aria-label="回复给probezy">回复</a></span>
					</div>
					<div class="comment-content"><p>我使用的是cpolar，它是安全的隧道穿透工具，在开发微信公众对接时用，很方便，它还能ssh远程树莓派，还是免费的。网址：https://cpolar.com</p>
</div>
				</div>
				<div class="clear"></div>
			</div>
		</li>
	<ul class="children">
		<li id="commentli-17478" class="comment byuser comment-author-senra bypostauthor odd alt depth-2">
			<div id="comment-17478" class="comment-container">
				<div class="comment-avatar left"><img alt="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/2b5cf1c014f83c6bc926785274b6848d.jpeg" srcset="http://2.gravatar.com/avatar/2b5cf1c014f83c6bc926785274b6848d?s=42&amp;d=mm&amp;r=g" data-srcset="http://2.gravatar.com/avatar/2b5cf1c014f83c6bc926785274b6848d?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo responsively-lazy" height="42" width="42"></div>
				<div class="comment-body">
					<div class="comment-meta">
						<span class="comment-author"><a href="http://www.senra.me/" rel="external nofollow" class="url">Senra</a></span>
						<span class="comment-time">
															<time>
								2018-12-17 17:48								</time>
													</span>
						<span class="comment-edit fade"></span>
						<span class="right fade"><a rel="nofollow" class="comment-reply-link" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/?replytocom=17478#respond" data-commentid="17478" data-postid="956" data-belowelement="comment-17478" data-respondelement="respond" aria-label="回复给Senra">回复</a></span>
					</div>
					<div class="comment-content"><p>网站都没法访问了。。。</p>
</div>
				</div>
				<div class="clear"></div>
			</div>
		</li>
	<ul class="children">
		<li id="commentli-18635" class="comment even depth-3">
			<div id="comment-18635" class="comment-container">
				<div class="comment-avatar left"><img alt="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/e38441c698699a4233aae5b3d0910562.png" srcset="http://2.gravatar.com/avatar/e38441c698699a4233aae5b3d0910562?s=42&amp;d=mm&amp;r=g" data-srcset="http://2.gravatar.com/avatar/e38441c698699a4233aae5b3d0910562?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo responsively-lazy" height="42" width="42"></div>
				<div class="comment-body">
					<div class="comment-meta">
						<span class="comment-author">游客</span>
						<span class="comment-time">
															<time>
								2019-2-21 22:53								</time>
													</span>
						<span class="comment-edit fade"></span>
						<span class="right fade"><a rel="nofollow" class="comment-reply-link" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/?replytocom=18635#respond" data-commentid="18635" data-postid="956" data-belowelement="comment-18635" data-respondelement="respond" aria-label="回复给游客">回复</a></span>
					</div>
					<div class="comment-content"><p>cpolar网址：https://www.cpolar.com 可以访问</p>
</div>
				</div>
				<div class="clear"></div>
			</div>
		</li>
	<!-- #comment-## -->
		<li id="commentli-18636" class="comment odd alt depth-3">
			<div id="comment-18636" class="comment-container">
				<div class="comment-avatar left"><img alt="" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/e38441c698699a4233aae5b3d0910562.png" srcset="http://2.gravatar.com/avatar/e38441c698699a4233aae5b3d0910562?s=42&amp;d=mm&amp;r=g" data-srcset="http://2.gravatar.com/avatar/e38441c698699a4233aae5b3d0910562?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo responsively-lazy" height="42" width="42"></div>
				<div class="comment-body">
					<div class="comment-meta">
						<span class="comment-author">游客</span>
						<span class="comment-time">
															<time>
								2019-2-21 23:03								</time>
													</span>
						<span class="comment-edit fade"></span>
						<span class="right fade"><a rel="nofollow" class="comment-reply-link" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/?replytocom=18636#respond" data-commentid="18636" data-postid="956" data-belowelement="comment-18636" data-respondelement="respond" aria-label="回复给游客">回复</a></span>
					</div>
					<div class="comment-content"><p>cpolar不是开源的</p>
</div>
				</div>
				<div class="clear"></div>
			</div>
		</li>
	<!-- #comment-## -->
</ul><!-- .children -->
<!-- #comment-## -->
</ul><!-- .children -->
<!-- #comment-## -->
		</ol><!-- .comment-list -->
	
	<div class="comments-nav">
			</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.senra.me/nat-traversal-series-wireguard-fast-secure-kernelspace-network-tunnel/#respond" style="display:none;">取消回复</a></small></h3>			<form action="http://www.senra.me/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<p class="comment-notes"><span id="email-notes">电子邮件地址不会被公开。</span> 必填项已用<span class="required">*</span>标注</p><div style="clear:both;"></div><p></p><p class="comment-form-comment"><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true" placeholder="为啥不留点什么下来呢?"></textarea></p><div class="comment-form-author comment-info"><span class="form-tip"><label for="author"><span class="required">*</span>昵称: </label> </span><input id="author" name="author" type="text" value="" size="30" aria-required="true"></div>
<div class="comment-form-email comment-info"><span class="form-tip"><label for="email"><span class="required">*</span>邮箱: </label> </span><input id="email" name="email" type="text" value="" size="30" aria-required="true"></div>
<div class="comment-form-url comment-info"><span class="form-tip"><label for="url">站点: </label></span><input id="url" name="url" type="text" value="" size="30"></div>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="发表评论"><div id="loading" style="display: none;"><i class="fa fa-lg fa-circle-o-notch fa-spin"></i> 正在提交, 请稍候...</div><div id="error" style="display: none;">#</div> <input type="hidden" name="comment_post_ID" value="956" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="6238145814"></p>	<p class="mail-checkbox">
		<div class="icheck icheckbox_square-blue checked" style="position: relative;"><input type="checkbox" name="comment_mail_notify" id="comment_mail_notify" value="comment_mail_notify" checked="checked" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>
		<label for="comment_mail_notify">有人回复时邮件通知我</label>
	</p>
<p style="display: none;"></p>			<input type="hidden" id="ak_js" name="ak_js" value="1589818838673"></form>
			</div><!-- #respond -->
	
</div>
		</div><!-- #content.wp.center -->

		
	</div><!-- #container.wc.center -->


	<div id="foot" class="fw">
		<div id="footsb" class="wc center clf">
					</div>
		<div id="bottom" class="fw">
			<div id="footer" class="wc center clf">
				<div class="info">
					<div class="icon2-container"><div class="ico"><a href="http://www.senra.me/feed/" target="_blank" class="fa fa-rss"></a></div><div class="ico"><a href="https://twitter.com/dzxx36gyy" target="_blank" class="fa fa-twitter"></a></div><div class="ico"><a href="https://www.facebook.com/dzxx36gyy" target="_blank" class="fa fa-facebook"></a></div><div class="ico"><a href="https://plus.google.com/u/0/113620305832941340232" target="_blank" class="fa fa-google-plus"></a></div><div class="ico"><a href="https://github.com/dzxx36gyy" target="_blank" class="fa fa-github"></a></div></div>
					<p>CC:BY-NC-SA 4.0 <a href="http://www.senra.me/">Senraの小窝</a> 2015-2020. 备案号: <a href="http://beian.miit.gov.cn/" target="_blank">苏ICP备15062267号-1</a> Power By <a href="https://www.upyun.com/" target="_blank"><img class="sl_lazyimg" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/upyun.png" file="http://ucdn.senra.me/upyun.png" lazyloadindexed="1" lazyloadpass="1" style="opacity: 1; background-image: none;"><noscript><img src="http://ucdn.senra.me/upyun.png"></noscript></a></p>				</div>
			</div>
		</div>
	</div>
	
</div><!-- #pageframe.fw -->
<script type="text/javascript">nanobar.go(80);</script>
<div id="gotop"><span class="fa fa-angle-up"></span></div><script type="text/javascript">jQuery('#bulr').remove();jQuery('#load-cover').fadeOut(700,function(){jQuery('#la').remove()})</script>
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setCookieDomain", "*.www.senra.me"]);
  _paq.push(['trackPageView']);
_paq.push(['trackVisibleContentImpressions']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://tracker.itrace.cc/";
    _paq.push(['setTrackerUrl', u+'js/index.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'js/index.php'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Piwik Code --><noscript><p><img class="sl_lazyimg" src="http://cdn.senra.me/wp-content/plugins/simple-lazyload/blank_250x250.gif" file="https://tracker.itrace.cc/js/index.php?idsite=1" style="border:0;" alt="" /><noscript><img src="https://tracker.itrace.cc/js/index.php?idsite=1" style="border:0;" alt="" /></noscript><p></p>

<!-- Simple Lazyload 2.8 - css and js -->
<style type="text/css">
.sl_lazyimg{
opacity:0.1;filter:alpha(opacity=10);
background:url(http://cdn.senra.me/wp-content/plugins/simple-lazyload/loading2.gif) no-repeat center center;
}
</style>

<noscript>
<style type="text/css">
.sl_lazyimg{display:none;}
</style>
</noscript>

<script type="text/javascript">
Array.prototype.S = String.fromCharCode(2);
Array.prototype.in_array = function(e) {
	var r = new RegExp(this.S+e+this.S);
	return (r.test(this.S+this.join(this.S)+this.S));
};

Array.prototype.pull=function(content){
	for(var i=0,n=0;i<this.length;i++){
		if(this[i]!=content){
			this[n++]=this[i];
		}
	}
	this.length-=1;
};

jQuery(function($) {
$(document).bind("lazyimgs",function(){
	if (!window._lazyimgs) {
		window._lazyimgs = $("img.sl_lazyimg");
	} else {
		var _lazyimgs_new = $("img.sl_lazyimg:not([lazyloadindexed=1])");
		if (_lazyimgs_new.length > 0) {
			window._lazyimgs = $(window._lazyimgs.toArray().concat(_lazyimgs_new.toArray()));
		}
	}
	window._lazyimgs.attr("lazyloadindexed", 1);
});
$(document).trigger("lazyimgs");
if (_lazyimgs.length == 0) {
	return;
}
var toload_inds = [];
var loaded_inds = [];
var failed_inds = [];
var failed_count = {};
var lazyload = function() {
	if (loaded_inds.length==_lazyimgs.length) {
		return;
	}
	var threshold = 200;
	_lazyimgs.each(function(i){
		_self = $(this);
		if ( _self.attr("lazyloadpass")===undefined && _self.attr("file")
			&& ( !_self.attr("src") || (_self.attr("src") && _self.attr("file")!=_self.attr("src")) )
			) {
			if( (_self.offset().top) < ($(window).height()+$(document).scrollTop()+threshold)
				&& (_self.offset().left) < ($(window).width()+$(document).scrollLeft()+threshold)
				&& (_self.offset().top) > ($(document).scrollTop()-threshold)
				&& (_self.offset().left) > ($(document).scrollLeft()-threshold)
				) {
				if (toload_inds.in_array(i)) {
					return;
				}
				toload_inds.push(i);
				if (failed_count["count"+i] === undefined) {
					failed_count["count"+i] = 0;
				}
				_self.css("opacity",1);
				$("<img ind=\""+i+"\"/>").bind("load", function(){
					var ind = $(this).attr("ind");
					if (loaded_inds.in_array(ind)) {
						return;
					}
					loaded_inds.push(ind);
					var _img = _lazyimgs.eq(ind);
					_img.attr("src",_img.attr("file")).css("background-image","none").attr("lazyloadpass","1");
				}).bind("error", function(){
					var ind = $(this).attr("ind");
					if (!failed_inds.in_array(ind)) {
						failed_inds.push(ind);
					}
					failed_count["count"+ind]++;
					if (failed_count["count"+ind] < 2) {
						toload_inds.pull(ind);
					}
				}).attr("src", _self.attr("file"));
			}
		}
	});
}
lazyload();
var ins;
$(window).scroll(function(){clearTimeout(ins);ins=setTimeout(lazyload,100);});
$(window).resize(function(){clearTimeout(ins);ins=setTimeout(lazyload,100);});
});

jQuery(function($) {
var calc_image_height = function(_img) {
	var width = _img.attr("width");
	var height = _img.attr("height");
	if ( !(width && height && width>=300) ) return;
	var now_width = _img.width();
	var now_height = parseInt(height * (now_width/width));
	_img.css("height", now_height);
}
var fix_images_height = function() {
	_lazyimgs.each(function() {
		calc_image_height($(this));
	});
}
fix_images_height();
$(window).resize(fix_images_height);
});
</script>
<!-- Simple Lazyload 2.8 - css and js END -->
<link rel="stylesheet" id="crayon-css" href="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/crayon.min.css" type="text/css" media="all">
<script type="text/javascript">
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/www.senra.me\/wp-admin\/admin-ajax.php","post_id":"956"};
/* ]]> */
</script>
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/postviews-cache.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var JQLBSettings = {"fitToScreen":"1","resizeSpeed":"400","displayDownloadLink":"0","navbarOnTop":"1","loopImages":"","resizeCenter":"","marginSize":"0","linkTarget":"","help":"","prevLinkTitle":"previous image","nextLinkTitle":"next image","prevLinkText":"\u00ab Previous","nextLinkText":"Next \u00bb","closeTitle":"close image gallery","image":"Image ","of":" of ","download":"Download","jqlb_overlay_opacity":"60","jqlb_overlay_color":"#000000","jqlb_overlay_close":"1","jqlb_border_width":"10","jqlb_border_color":"#ffffff","jqlb_border_radius":"0","jqlb_image_info_background_transparency":"100","jqlb_image_info_bg_color":"#ffffff","jqlb_image_info_text_color":"#000000","jqlb_image_info_text_fontsize":"10","jqlb_show_text_for_image":"1","jqlb_next_image_title":"next image","jqlb_previous_image_title":"previous image","jqlb_next_button_image":"http:\/\/www.senra.me\/wp-content\/plugins\/wp-lightbox-2\/styles\/images\/next.gif","jqlb_previous_button_image":"http:\/\/www.senra.me\/wp-content\/plugins\/wp-lightbox-2\/styles\/images\/prev.gif","jqlb_maximum_width":"","jqlb_maximum_height":"","jqlb_show_close_button":"1","jqlb_close_image_title":"close image gallery","jqlb_close_image_max_heght":"22","jqlb_image_for_close_lightbox":"http:\/\/www.senra.me\/wp-content\/plugins\/wp-lightbox-2\/styles\/images\/closelabel.gif","jqlb_keyboard_navigation":"1","jqlb_popup_size_fix":"0"};
/* ]]> */
</script>
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/wp-lightbox-2.min.js.download"></script>
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/icheck.min.js.download"></script>
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/comments-ajax.js.download"></script>
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/script.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.senra.me\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/crayon.min.js.download"></script>
<script async="async" type="text/javascript" src="./内网穿透系列——WireGuard (快速, 安全的下一代隧道程序) _ Senraの小窝_files/form.js.download"></script>
<script type="text/javascript">nanobar.go(100);</script>

</body></html>