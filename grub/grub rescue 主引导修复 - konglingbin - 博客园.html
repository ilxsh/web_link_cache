<!DOCTYPE html>
<!-- saved from url=(0045)https://www.cnblogs.com/klb561/p/8933967.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="origin">
    <meta property="og:description" content="使用windows 和 ubuntu 双系统的人，很有可能碰到重装某一个系统，或者另外添加分区，导致系统重启出现 ： [html]&amp;#160;view plain&amp;#160;copy GRUB&amp;#16">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>grub rescue 主引导修复 - konglingbin - 博客园</title>
    
    <link rel="stylesheet" href="./grub rescue 主引导修复 - konglingbin - 博客园_files/blog-common.min.css">
    <link id="MainCss" rel="stylesheet" href="./grub rescue 主引导修复 - konglingbin - 博客园_files/bundle-summergarden.min.css">
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./grub rescue 主引导修复 - konglingbin - 博客园_files/bundle-summergarden-mobile.min.css">
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/klb561/rss">
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/klb561/rsd.xml">
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/klb561/wlwmanifest.xml">
    <script src="./grub rescue 主引导修复 - konglingbin - 博客园_files/amp4ads-host-v0.js.download"></script><script src="./grub rescue 主引导修复 - konglingbin - 博客园_files/pubads_impl_rendering_2019082201.js.download"></script><script async="" src="./grub rescue 主引导修复 - konglingbin - 博客园_files/analytics.js.download"></script><script src="./grub rescue 主引导修复 - konglingbin - 博客园_files/jquery-2.2.0.min.js.download"></script>
    <script src="./grub rescue 主引导修复 - konglingbin - 博客园_files/blog-common.min.js.download"></script>
    <script>
        var currentBlogId = 407964;
        var currentBlogApp = 'klb561';
        var cb_enable_mathjax = false;
        var isLogined = false;
    </script>
    
    
    
<link rel="preload" href="./grub rescue 主引导修复 - konglingbin - 博客园_files/f.txt" as="script"><script type="text/javascript" src="./grub rescue 主引导修复 - konglingbin - 博客园_files/f.txt"></script><script src="./grub rescue 主引导修复 - konglingbin - 博客园_files/pubads_impl_2019082201.js.download" async=""></script><link rel="prefetch" href="https://tpc.googlesyndication.com/safeframe/1-0-35/html/container.html"></head>
<body>
    <a name="top"></a>
    
    
<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a href="https://www.cnblogs.com/klb561/"><img id="blogLogo" src="./grub rescue 主引导修复 - konglingbin - 博客园_files/logo.gif" alt="返回主页"></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/klb561/">konglingbin</a>
</h1>
<h2>

</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		

			<ul id="navList">
				<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
</li>
				<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/klb561/">
首页</a>
</li>
				<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
				<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/konglingbin">
联系</a></li>
				<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
				<li>
<a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/klb561/rss/">
订阅</a>
				
<a id="blog_nav_rss_image" href="https://www.cnblogs.com/klb561/rss/">
    <img src="./grub rescue 主引导修复 - konglingbin - 博客园_files/xml.gif" alt="订阅">
</a></li>
			</ul>



		<div class="blogStats">
			
			<!--done-->
随笔 - 
560&nbsp;
文章 - 
2&nbsp;
评论 - 
9&nbsp;



			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/klb561/p/8933967.html">grub rescue 主引导修复</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			
<div id="cnblogs_post_body" class="blogpost-body ">
    <p>使用windows 和 ubuntu 双系统的人，很有可能碰到重装某一个系统，或者另外添加分区，导致系统重启出现 ：</p>
<p>&nbsp;</p>
<div class="dp-highlighter bg_html">
<div class="bar">
<div class="tools"><strong>[html]</strong>&nbsp;<a class="ViewSource" title="view plain" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">view plain</a><span data-mod="popu_168"><span data-mod="popu_168">&nbsp;<a class="CopyToClipboard" title="copy" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">copy</a></span></span>
<div>&nbsp;</div>
</div>
</div>
<ol class="dp-xml" start="1">
<li class="alt">GRUB&nbsp;loading&nbsp;&nbsp;</li>
<li>error:unknow&nbsp;filesystem&nbsp;&nbsp;</li>
<li class="alt">grub&nbsp;rescue<span class="tag">&gt;&nbsp;&nbsp;</span></li>
</ol></div>
<p>&nbsp;</p>
<h2><a name="t0" target="_blank"></a>一.概念</h2>
<p>BIOS："Basic Input Output System"，中文名称就是"基本输入输出系统"。其实，它是一组固化到计算机内主板上一个ROM芯片上的程序，它保存着计算机最重要的基本输入输出的程序、系统设置信息、开机后自检程序和系统自启动程序。 其主要功能是为计算机提供最底层的、最直接的硬件设置和控制。</p>
<p>&nbsp;</p>
<p>MBR： “Master Boot Record” 硬盘的物理扇区，也叫主引导记录！因为BIOS 很小无法承载启动的运行程序，所以在bios检测到一个硬盘后，将硬盘的0柱面、0磁头、1扇区的内容经过简单判断后， 至内存中的指定位置，然后跳转至这个位置，开始从这个位置运行，大小为512个byte，其中主要存放引导程序和该硬盘的分区表。</p>
<p>&nbsp;</p>
<p>GRUB：“GRand Unified Bootloade” 多重操作系统启动管理器，就是运行这个GRUB之后可以通过它来引导进入其它的系统，包括window以及linux</p>
<p>&nbsp;</p>
<p>上面三个概念，从字面意思上应该能明白他们的流程，大体是：</p>
<p>PC 首先启动到BIOS ，然后检测硬盘的MBR，将MBR这块扇区的内容(也就是写在上面的GRUB)装入内存运行，再通过运行GRUB得到的结果实现新的跳转启动！</p>
<p>&nbsp;</p>
<h2><a name="t1" target="_blank"></a>二.Ubuntu的grub2 修复</h2>
<p>当PC 是先装windows后装ubuntu 或者只有一个ubuntu系统，是将ubuntu系统自带的grub2 引导程序写在了MBR上的话，那么开机的主引导程序就是grub2 ! (ubuntu 自9.10之后就全部使用的grub2)</p>
<p>而grub2 分为两部分，其中一部分写入MBR，其中一部分存在与ubuntu的/boot/grub 目录下。</p>
<p>而出现 grub rescue&gt; 就是代表MBR部分的无法正常运作grub程序，启动grub 救援模式，因为无法找到/boot/grub部分。</p>
<p>grub rescue下可用命令：</p>
<p>set，ls，insmod，root，prefix(设置启动路径)</p>
<p>&nbsp;</p>
<p>首先通过&nbsp;ls&nbsp;查看所有的分区，会列出：</p>
<p>（hd0），（hd0，msdos8），（hd0，msdos7），（hd0，msdos6），（hd0，msdos5），（hd0，msdos3），（hd0，msdos1）</p>
<p>&nbsp;</p>
<p>需要找到ubuntu的安装分区，通过ls （hd0，msdos*)/boot 直到不出现：error：unknown filesystem</p>
<p>如果知道开始安装ubuntu 在哪个分区的话，比如sda7 那么这里就是msdos7，如果是在ubuntu 硬盘空间之前的地方进行了添加分区，那么就把ubuntu的分区序号往后移！变成msdos8</p>
<p>找到之后通过如下命令设置设置一次性启动参数：</p>
<p>&nbsp;</p>
<div class="dp-highlighter bg_html">
<div class="bar">
<div class="tools"><strong>[html]</strong>&nbsp;<a class="ViewSource" title="view plain" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">view plain</a><span data-mod="popu_168"><span data-mod="popu_168">&nbsp;<a class="CopyToClipboard" title="copy" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">copy</a></span></span>
<div>&nbsp;</div>
</div>
</div>
<ol class="dp-xml" start="1">
<li class="alt">grub&nbsp;rescue<span class="tag">&gt;set&nbsp;<span class="attribute">root=(hd0,msdos8)&nbsp;&nbsp;</span></span></li>
<li>grub&nbsp;rescue<span class="tag">&gt;set&nbsp;<span class="attribute">prefix=(hd0,msdos8)/boot/grub&nbsp;&nbsp;</span></span></li>
<li class="alt">grub&nbsp;rescue<span class="tag">&gt;insmod&nbsp;/boot/grub/normal.mod&nbsp;&nbsp;</span></li>
</ol></div>
<p><br>grub rescue&gt;normal 就会出现boot/grub 中的启动界面了！</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>如果/boot/grub没有损坏，就能进入ubuntu 系统啦，如果grub启动ubuntu的部分损坏了，就需要手动引导了:</p>
<p>进入grub命令行：</p>
<p>&nbsp;</p>
<div class="dp-highlighter bg_html">
<div class="bar">
<div class="tools"><strong>[html]</strong>&nbsp;<a class="ViewSource" title="view plain" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">view plain</a><span data-mod="popu_168"><span data-mod="popu_168">&nbsp;<a class="CopyToClipboard" title="copy" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">copy</a></span></span>
<div>&nbsp;</div>

</div>

</div>
<ol class="dp-xml" start="1">
<li class="alt">grub<span class="tag">&gt;&nbsp;root&nbsp;(hd0,8)&nbsp;##&nbsp;指定包含vmlinuz-2.6.18-274.7.1.el5和initrd-2.6.18-274.7.1.el5.img的partition&nbsp;&nbsp;</span></li>
<li>grub<span class="tag">&gt;&nbsp;kernel&nbsp;/boot/vmlinuz-2.6.18-274.7.1.el5&nbsp;ro&nbsp;<span class="attribute">root=/dev/sda8&nbsp;##&nbsp;<span class="attribute">root=&nbsp;是指定包含/sbin/init的partition，即挂载/的partition（以Linux的角度）&nbsp;&nbsp;</span></span></span></li>
<li class="alt">grub<span class="tag">&gt;&nbsp;initrd&nbsp;/boot/initrd-2.6.18-274.7.1.el5.img&nbsp;##&nbsp;据说这项可以省略&nbsp;&nbsp;</span></li>
<li>grub<span class="tag">&gt;&nbsp;boot&nbsp;&nbsp;</span></li>

</ol></div>
<p>&nbsp;</p>
<p>在正确进入了ubuntu之后，需要更新MBR的grub部分来适应新的分区情况：</p>
<p>终端输入：</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="dp-highlighter bg_html">
<div class="bar">
<div class="tools"><strong>[html]</strong>&nbsp;<a class="ViewSource" title="view plain" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">view plain</a><span data-mod="popu_168"><span data-mod="popu_168">&nbsp;<a class="CopyToClipboard" title="copy" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">copy</a></span></span>
<div>&nbsp;</div>

</div>

</div>
<ol class="dp-xml" start="1">
<li class="alt">sudo&nbsp;update-grub2&nbsp;&nbsp;</li>
<li>sudo&nbsp;grub-install/dev/sda&nbsp;&nbsp;</li>

</ol></div>
<p>
<br>更新到 /boot/grub/grub.cfg 中！然后再把grub 安装到主硬盘的MBR</p>
<p>&nbsp;</p>
<p>有遇到过这样安装不成功的，在GRUB2手册中有另外的重装grub2 到MBR 的方法，记录一下：</p>
<p>&nbsp;</p>
<div class="dp-highlighter bg_html">
<div class="bar">
<div class="tools"><strong>[html]</strong>&nbsp;<a class="ViewSource" title="view plain" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">view plain</a><span data-mod="popu_168"><span data-mod="popu_168">&nbsp;<a class="CopyToClipboard" title="copy" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">copy</a></span></span>
<div>&nbsp;</div>

</div>

</div>
<ol class="dp-xml" start="1">
<li class="alt">此方案安裝會使用&nbsp;chroot&nbsp;指令來存取受損系統的檔案。&nbsp;&nbsp;</li>
<li>一旦執行了&nbsp;chroot&nbsp;指令，LiveCD&nbsp;會將損壞系統的&nbsp;/&nbsp;（根目錄）當作是目前自己所使用的。&nbsp;&nbsp;</li>
<li class="alt">在&nbsp;chroot&nbsp;環境中執行的指令會影響受損系統的檔案系統，而不是&nbsp;LiveCD&nbsp;的。&nbsp;&nbsp;</li>
<li>1.&nbsp;開機進入&nbsp;LiveCD&nbsp;桌面（Ubuntu&nbsp;9.10&nbsp;或更新版）。注意此&nbsp;LiveCD&nbsp;必須要與您現在欲修復系統的版本相同&nbsp;-&nbsp;無論&nbsp;32-bit&nbsp;或是&nbsp;64-bit（否則&nbsp;chroot&nbsp;會失敗）。&nbsp;&nbsp;</li>
<li class="alt">2.&nbsp;開啟終端機&nbsp;-&nbsp;應用程式，附屬應用程式，終端機。&nbsp;&nbsp;</li>
<li>3.&nbsp;確認您的標準系統分割區&nbsp;-&nbsp;（選項是小寫的「L」）&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;fdisk&nbsp;-l&nbsp;&nbsp;</li>
<li>若您不確定，執行&nbsp;&nbsp;</li>
<li class="alt">df&nbsp;-Th&nbsp;&nbsp;</li>
<li>找到正確的磁碟容量及&nbsp;ext3&nbsp;或&nbsp;ext4&nbsp;格式。&nbsp;&nbsp;</li>
<li class="alt">4.&nbsp;掛載您的標準系統分割區&nbsp;&nbsp;</li>
<li>用正確的分割區替換：sda1,&nbsp;sdb5&nbsp;等等。&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;mount&nbsp;/dev/sdXX&nbsp;/mnt&nbsp;#範例：sudo&nbsp;mount&nbsp;/dev/sda1&nbsp;/mnt&nbsp;&nbsp;</li>
<li>5.&nbsp;若您有獨立的&nbsp;/boot&nbsp;分割區：&nbsp;&nbsp;</li>
<li class="alt">sdYY&nbsp;是&nbsp;/boot&nbsp;分割區的位置（例如&nbsp;sdb3）&nbsp;&nbsp;</li>
<li>sudo&nbsp;mount&nbsp;/dev/sdYY&nbsp;/mnt/boot&nbsp;&nbsp;</li>
<li class="alt">6.&nbsp;掛載重要的虛擬檔案系統：&nbsp;&nbsp;</li>
<li>sudo&nbsp;mount&nbsp;--bind&nbsp;/dev&nbsp;/mnt/dev&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;mount&nbsp;--bind&nbsp;/dev/pts&nbsp;/mnt/dev/pts&nbsp;&nbsp;</li>
<li>sudo&nbsp;mount&nbsp;--bind&nbsp;/proc&nbsp;/mnt/proc&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;mount&nbsp;--bind&nbsp;/sys&nbsp;/mnt/sys&nbsp;&nbsp;</li>
<li>7.&nbsp;Chroot&nbsp;至您的標準系統裝置：&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;chroot&nbsp;/mnt&nbsp;&nbsp;</li>
<li>8.&nbsp;若系統中沒有&nbsp;/boot/grub/grub.cfg&nbsp;或其內容不正確，使用以下指令重建&nbsp;&nbsp;</li>
<li class="alt">update-grub&nbsp;&nbsp;</li>
<li>9.&nbsp;重新安裝&nbsp;GRUB&nbsp;2：&nbsp;&nbsp;</li>
<li class="alt">以正確裝置替換&nbsp;-&nbsp;sda,&nbsp;sdb,&nbsp;等等。不要指定分割區號碼。&nbsp;&nbsp;</li>
<li>grub-install&nbsp;/dev/sdX&nbsp;&nbsp;</li>
<li class="alt">10.&nbsp;驗證安裝（使用正確的裝置，例如&nbsp;sda。不要指定分割區）：&nbsp;&nbsp;</li>
<li>sudo&nbsp;grub-install&nbsp;--recheck&nbsp;/dev/sdX&nbsp;&nbsp;</li>
<li class="alt">11.&nbsp;退出&nbsp;chroot：按下鍵盤之&nbsp;CTRL-D&nbsp;&nbsp;</li>
<li>12.&nbsp;卸載虛擬檔案系統：&nbsp;&nbsp;</li>
<li class="alt">&nbsp;&nbsp;</li>
<li>sudo&nbsp;umount&nbsp;/mnt/dev/pts&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;umount&nbsp;/mnt/dev&nbsp;&nbsp;</li>
<li>sudo&nbsp;umount&nbsp;/mnt/proc&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;umount&nbsp;/mnt/sys&nbsp;&nbsp;</li>
<li>若您有掛載獨立的&nbsp;/boot&nbsp;分割區：&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;umount&nbsp;/mnt/boot&nbsp;&nbsp;</li>
<li>13.&nbsp;卸載&nbsp;LiveCD&nbsp;的&nbsp;/usr&nbsp;目錄：&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;umount&nbsp;/mnt/usr&nbsp;&nbsp;</li>
<li>14.&nbsp;卸載最後的裝置：&nbsp;&nbsp;</li>
<li class="alt">sudo&nbsp;umount&nbsp;/mnt&nbsp;&nbsp;</li>
<li>15.&nbsp;重新開機。sudo&nbsp;reboot&nbsp;&nbsp;</li>

</ol></div>
<p>
<br><br></p>
<p>另外常用的就是，无法启动到grub界面，这个时候就需要另外的引导了，网上很多的方法是使用ubuntu的安装光盘，也就是livecd，</p>
<p>我常用的就是U盘，用老毛桃加载一个ubuntu 的iso 制作一个ubuntu启动U盘，然后bios选择U盘启动，</p>
<p>选择 try running ubuntu，不选 install 选项</p>
<p>这样就运行了我们制作在U盘上面的ubuntu系统，可以以这个为媒介来修改本机上其它的系统文件，像上面提到的 先mount 上那些分区：</p>
<p>sudo mount /dev/sdxx /mnt&nbsp;</p>
<p>可先使用 sudo fdisk -l 命令查看分区情况，选择对应的</p>
<p>如果要修改对应内容 使用 chroot 切换 完了之后 ctrl+d退出</p>
<p>&nbsp;</p>
<p>我这边是13.04 ， grub版本为：</p>
<p>&nbsp;</p>
<div class="dp-highlighter bg_html">
<div class="bar">
<div class="tools"><strong>[html]</strong>&nbsp;<a class="ViewSource" title="view plain" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">view plain</a><span data-mod="popu_168"><span data-mod="popu_168">&nbsp;<a class="CopyToClipboard" title="copy" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">copy</a></span></span>
<div>&nbsp;</div>

</div>

</div>
<ol class="dp-xml" start="1">
<li class="alt">jscese@jscese-H61M-S2P:~$&nbsp;grub-install&nbsp;-v&nbsp;&nbsp;</li>
<li>grub-install&nbsp;(GRUB)&nbsp;2.00-13ubuntu3&nbsp;&nbsp;</li>

</ol></div>
<p>
<br>在这个情况下可以使用如下命令将正确的grub 安装到 MBR：</p>
<p>&nbsp;</p>
<div class="dp-highlighter bg_html">
<div class="bar">
<div class="tools"><strong>[html]</strong>&nbsp;<a class="ViewSource" title="view plain" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">view plain</a><span data-mod="popu_168"><span data-mod="popu_168">&nbsp;<a class="CopyToClipboard" title="copy" href="https://blog.csdn.net/jscese/article/details/36865449#" target="_self">copy</a></span></span>
<div>&nbsp;</div>

</div>

</div>
<ol class="dp-xml" start="1">
<li class="alt">grub-install&nbsp;<span class="attribute">--root-directory=/mnt&nbsp;/dev/sda&nbsp;&nbsp;</span></li>

</ol></div>
<p>
<br>我这的sda 为第一块硬盘</p>
<p>&nbsp;</p>
<p>症状：<br>开机显示：GRUB loading<br>error:unknow filesystem<br>grub rescue&gt;<br><br>原因：</p>
<p>由于操作者不知道grub2分为两部分，<strong><span style="color: #0000f0;">一部分（一般情况下）写在了mbr上，另一部分写在了某个分区的/boot/grub目录</span></strong>（如果 /boot单独分区，则直接写在对应分区的/grub目录）里面。由于上述操作，致使grub2的mbr里面的那一部分找不到/grub目录里面的那一部 分了（或者那一部分已经删除了）。<br><br>思路：<br><strong>方法1,彻底删除grub2,让这个提示不再出现：</strong><br>适用于已经不想再使用ubuntu，要转回windows的人。<br>这个很简单，只要你有Windows启动盘（非Ghost），用它启动，至选择安装位置，不用真正安装，退出重启就可以。<br>或者用它启动到故障修复台，运行fixboot或者fixmbr都可以。<br>win7命令行下，则是执行：BootRec.exe /fixmbr<br>（/fixmbr修复mbr， /FixBoot修复启动扇区，/ScanOs检测已安装的win7，/RebuildBcd重建bcd。）<br><br><strong>方法2,重新安装、修复grub2</strong><br>1. 先使用ls命令，找到Ubuntu的安装在哪个分区：<br>在 grub rescue&gt;下输入以下命令：</p>
<p>
<strong>代码:</strong></p>
<div>ls</div>
<p>
<br>会罗列所有的磁盘分区信息，比方说：&nbsp;</p>
<div><strong>引用:</strong></div>
<div>(hd0,1),(hd0,5),(hd0,3),(hd0,2)</div>
<p>
<br>2. 然后依次调用如下命令： X表示各个分区号码</p>
<p>如果/boot没有单独分区，用以下命令：</p>
<p>
<strong>代码:</strong></p>
<div>ls (hd0,X)/boot/grub</div>
<p>
<br>如果/boot单独分区，则用下列命令：&nbsp;</p>
<div><strong>代码:</strong></div>
<div>ls （hd0,X)/grub</div>
<p>
<br>正常情况下，会列出来几百个文件，很多文件的扩展名是.mod和.lst和.img，还有一个文件是grub.cfg。假设找到（hd0,5）时，显示了文件夹中的文件，则表示<a class="keylink" href="http://www.2cto.com/os/linux/" target="_blank">Linux</a>安装在这个分区。</p>
<p><br>4，如果找到了正确的grub目录，则设法临时性将grub的两部分关联起来，方法如下：<br>以下是/boot没有单独分区的命令：</p>
<p>
<strong>引用:</strong></p>
<div>grub rescue&gt;set root=(hd0,5)<br>grub rescue&gt;set prefix=(hd0,5)/boot/grub<br>grub rescue&gt;insmod /boot/grub/normal.mod</div>
<p>
以下是/boot&nbsp;单独分区的命令：（这几句有待验证）&nbsp;</p>
<div>&nbsp;</div>
<p>&nbsp;</p>
<div><strong>引用:</strong></div>
<div>grub rescue&gt;set root=(hd0,5)<br>grub rescue&gt;set prefix=(hd0,5)/grub<br>grub rescue&gt;insmod /grub/normal.mod</div>
<p>
<br>然后调用如下命令，就可以显示出丢失的grub菜单了。</p>
<p>grub rescue&gt;normal<br>不过不要高兴，如果这时重启，问题依旧存在，我们需要进入Linux中，对grub进行修复。<br>启动起来，进入ubuntu之后，在终端执行：</p>
<p>
<strong>代码:</strong></p>
<div>&nbsp; &nbsp; sudo update-grub<br>&nbsp; &nbsp; sudo grub-install /dev/sda</div>
<p>（sda是你的硬盘号码，千万不要指定分区号码，例如sda1，sda5等都不对）<br>重启测试是否已经恢复了grub的启动菜单？ 恭喜你恢复成功！<br>5，如果找不到正确的/grub目录，比如第3、4种误操作，则尝试寻找是否有linux核心文件，则依次调用如下命令： X表示各个分区号码：<br>grub rescue&gt;下，输入：<br>如果/boot没有单独分区：</p>
<p>
<strong>代码:</strong></p>
<div>ls (hd0,X)/boot</div>
<p>
<br>如果/boot单独分区，则：&nbsp;</p>
<div><strong>代码:</strong></div>
<div>ls （hd0,X)</div>
<p>
<br>找名字类似与vmlinuz-3.0.0-12-generic这样的文件，这是linux核心文件，如果找到，记下(hd0,X)中的X值。假设找到（hd0,5）时，显示了文件夹中的文件。</p>
<p>然后用live cd 或者 live usb启动，在live cd的ubuntu的终端中依次输入以下命令（sda5中的“5”必须改成上面记录下来数值）（这两句需要验证）：<br>如果/boot没有单独分区：</p>
<p>
<strong>代码:</strong></p>
<div>sudo mount /dev/sda5 /mnt<br>sudo grub-install --boot-directory=/mnt/boot /dev/sda</div>
<p>
<br>如果/boot单独分区，则：&nbsp;</p>
<div><strong>代码:</strong></div>
<div>sudo mount /dev/sda5 /mnt<br>sudo grub-install --boot-directory=/mnt /dev/sda</div>
<p>
<br>然后重新启动即可。</p>
<p>（以上这两句命令也可以解决安装ubuntu时grub安装位置不对，没有将grub安装到/dev/sda，造成启动时不出现ubuntu启动项直接进入<a class="keylink" href="http://www.2cto.com/os/windows/" target="_blank">windows</a>的问题，不过需要自行确定sda5中的“5”改成什么数字。）</p>
<p>6,如果连linux核心文件都没有，那么，彻底重新安装吧</p>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">


    <div id="blog_post_info">
<div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(8933967,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
        <a id="green_channel_follow" onclick="follow(&#39;d902a1c8-fa87-46ae-19ea-08d54dba4453&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./grub rescue 主引导修复 - konglingbin - 博客园_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./grub rescue 主引导修复 - konglingbin - 博客园_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/klb561/" target="_blank"><img src="./grub rescue 主引导修复 - konglingbin - 博客园_files/20171231145333.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/klb561/">konglingbin</a><br>
            <a href="https://home.cnblogs.com/u/klb561/followees/">关注 - 76</a><br>
            <a href="https://home.cnblogs.com/u/klb561/followers/">粉丝 - 48</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow(&#39;d902a1c8-fa87-46ae-19ea-08d54dba4453&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(8933967,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">0</span>
    </div>
    <div class="buryit" onclick="votePost(8933967,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>

<script type="text/javascript">
    currentDiggType = 0;
</script></div>
    <div class="clear"></div>
    <div id="post_next_prev">

    <a href="https://www.cnblogs.com/klb561/p/8933945.html" class="p_n_p_prefix">« </a> 上一篇：    <a href="https://www.cnblogs.com/klb561/p/8933945.html" title="发布于 2018-04-24 21:41">linux C中调用shell命令和运行shell脚本</a>
    <br>
    <a href="https://www.cnblogs.com/klb561/p/8933992.html" class="p_n_p_prefix">» </a> 下一篇：    <a href="https://www.cnblogs.com/klb561/p/8933992.html" title="发布于 2018-04-24 21:49">getopts的使用</a>

</div>
</div>
		</div>
		<div class="postDesc">posted @ 
<span id="post-date">2018-04-24 21:44</span>&nbsp;<a href="https://www.cnblogs.com/klb561/">konglingbin</a> 阅读(<span id="post_view_count">9377</span>) 评论(<span id="post_comment_count">0</span>) <a href="https://i.cnblogs.com/EditPosts.aspx?postid=8933967" rel="nofollow"> 编辑</a> <a href="javascript:void(0)" onclick="AddToWz(8933967); return false;">收藏</a>
</div>
	</div>
	
	
</div>
<script src="./grub rescue 主引导修复 - konglingbin - 博客园_files/highlight.min.js.download"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 407964, cb_blogApp = 'klb561', cb_blogUserGuid = 'd902a1c8-fa87-46ae-19ea-08d54dba4453';
    var cb_entryId = 8933967, cb_entryCreatedDate = '2018-04-24 21:44', cb_postType = 1; 
    loadViewCount(cb_entryId);
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="https://www.cnblogs.com/klb561/p/8933967.html#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/klb561/p/8933967.html#top">返回顶部</a></div>
    <div id="comment_form_container"><div class="login_tips">
    注册用户登录后才能发表评论，请 
    <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a>
     或 
    <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，
    <a href="https://www.cnblogs.com/">访问</a> 网站首页。
</div></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-工控&#39;)">【推荐】超50万C++/C#源码: 大型实时仿真组态图形源码</a><br><a href="http://clickc.admaster.com.cn/c/a131574,b3595115,c1705,i0,m101,8a1,8b3,h" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-华为云微认证&#39;)">【推荐】零基础轻松玩转云上产品，获壕礼加返百元大礼</a><br><a href="http://clickc.admaster.com.cn/c/a131575,b3595121,c1705,i0,m101,8a1,8b3,h" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-物联网&#39;)">【推荐】华为IoT平台开发者套餐9.9元起，购买即送免费课程</a><br></div>
    <div id="opt_under_post"></div>
    <script async="async" src="./grub rescue 主引导修复 - konglingbin - 博客园_files/gpt.js.download"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;" data-google-query-id="CMaLmPDzouQCFQi7lgodMW4O6Q"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C1_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C1_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="1" data-load-complete="true" src="./grub rescue 主引导修复 - konglingbin - 博客园_files/saved_resource.html"></iframe></div></div>
    </div>
    <div id="under_post_news"><div class="recomm-block"><b>相关博文：</b><br>·  <a title="开机出现grubrescue&gt;终端模式修复方法" href="https://www.cnblogs.com/klb561/p/8992696.html" target="_blank" onclick="clickRecomItmem(8992696)">开机出现grubrescue&gt;终端模式修复方法</a><br>·  <a title="Grub Rescue修复方法" href="https://www.cnblogs.com/wusthjp/archive/2013/02/23/2923061.html" target="_blank" onclick="clickRecomItmem(2923061)">Grub Rescue修复方法</a><br>·  <a title="双系统或三系统:Grub Rescue修复方法" href="https://www.cnblogs.com/wuyida/p/6300953.html" target="_blank" onclick="clickRecomItmem(6300953)">双系统或三系统:Grub Rescue修复方法</a><br>·  <a title="Grub Rescue修复方法[repost]" href="https://www.cnblogs.com/jluzhsai/p/3323554.html" target="_blank" onclick="clickRecomItmem(3323554)">Grub Rescue修复方法[repost]</a><br>·  <a title="Linux GRUB维护" href="https://www.cnblogs.com/trustnature/archive/2012/12/05/2802977.html" target="_blank" onclick="clickRecomItmem(2802977)">Linux GRUB维护</a><br></div></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;" data-google-query-id="CMeLmPDzouQCFQi7lgodMW4O6Q">
            
        <div id="google_ads_iframe_/1090369/C2_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C2_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C2_0" width="468" height="60" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="2" data-load-complete="true" src="./grub rescue 主引导修复 - konglingbin - 博客园_files/saved_resource(1).html"></iframe></div></div>
    </div>
    <div id="under_post_kb">
<div class="itnews c_ad_block">
    <b>最新 IT 新闻</b>:
    <br>
 ·              <a href="https://news.cnblogs.com/n/630236/" target="_blank">三星拟淘汰古老液晶技术 转向OLED屏幕</a>
            <br>
 ·              <a href="https://news.cnblogs.com/n/630235/" target="_blank">苹果曾研发iPhone对讲机功能 没网也能闲聊天</a>
            <br>
 ·              <a href="https://news.cnblogs.com/n/630234/" target="_blank">据称引力波再度现身，可我们能探测到它的波粒二象性吗？</a>
            <br>
 ·              <a href="https://news.cnblogs.com/n/630233/" target="_blank">传腾讯音乐正接受反垄断调查 或终止独家授权</a>
            <br>
 ·              <a href="https://news.cnblogs.com/n/630232/" target="_blank">野心膨胀到平流层：空客波音都在开发平流层无人机</a>
            <br>
    » <a href="https://news.cnblogs.com/" title="IT 新闻" target="_blank">更多新闻...</a>
</div></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div></div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<div id="sidebar_news" class="newsItem"><!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	
<div id="blog-news">
    
    <div id="profile_block">
        昵称：
        <a href="https://home.cnblogs.com/u/klb561/">
            konglingbin
        </a>
        <br>
        园龄：
        <a href="https://home.cnblogs.com/u/klb561/" title="入园时间：2017-12-31">
            1年7个月
        </a>
        <br>
        粉丝：
        <a href="https://home.cnblogs.com/u/klb561/followers/">
            48
        </a>
        <br>
        关注：
        <a href="https://home.cnblogs.com/u/klb561/followees/">
            76
        </a>
        <div id="p_b_follow">
<a href="javascript:void(0)" onclick="follow(&#39;d902a1c8-fa87-46ae-19ea-08d54dba4453&#39;)">+加关注</a></div>
        <script>getFollowStatus('d902a1c8-fa87-46ae-19ea-08d54dba4453');</script>
    </div>
</div>
</div>

</div>

			<div id="calendar"><div id="calendar"><div id="blog-calendar" style="">

<table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar" border="0">
    <tbody>
        <tr>
            <td colspan="7">
                <table class="CalTitle" cellspacing="0" border="0">
                    <tbody>
                        <tr>
                            <td class="CalNextPrev">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2019/07/27&#39;); return false;">&lt;</a>
                            </td>
                            <td align="center">2019年8月</td>
                            <td align="right" class="CalNextPrev">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2019/09/27&#39;); return false;">&gt;</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
        <tr>
                    <th class="CalDayHeader" align="center" abbr="日" scope="col">日</th>
                    <th class="CalDayHeader" align="center" abbr="一" scope="col">一</th>
                    <th class="CalDayHeader" align="center" abbr="二" scope="col">二</th>
                    <th class="CalDayHeader" align="center" abbr="三" scope="col">三</th>
                    <th class="CalDayHeader" align="center" abbr="四" scope="col">四</th>
                    <th class="CalDayHeader" align="center" abbr="五" scope="col">五</th>
                    <th class="CalDayHeader" align="center" abbr="六" scope="col">六</th>
        </tr>
            <tr>
                            <td class="CalOtherMonthDay" align="center">28</td>
                            <td class="CalOtherMonthDay" align="center">29</td>
                            <td class="CalOtherMonthDay" align="center">30</td>
                            <td class="CalOtherMonthDay" align="center">31</td>
                        <td class="" align="center">
                            1
                        </td>
                        <td class="" align="center">
                            2
                        </td>
                    <td class="CalWeekendDay" align="center">
                        <a href="https://www.cnblogs.com/klb561/archive/2019/08/03.html"><u>3</u></a>
                    </td>
            </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            <a href="https://www.cnblogs.com/klb561/archive/2019/08/04.html"><u>4</u></a>
                        </td>
                            <td class="" align="center">
                                5
                            </td>
                            <td class="" align="center">
                                <a href="https://www.cnblogs.com/klb561/archive/2019/08/06.html"><u>6</u></a>
                            </td>
                            <td class="" align="center">
                                7
                            </td>
                            <td class="" align="center">
                                8
                            </td>
                            <td class="" align="center">
                                <a href="https://www.cnblogs.com/klb561/archive/2019/08/09.html"><u>9</u></a>
                            </td>
                        <td class="CalWeekendDay" align="center">
                            10
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            <a href="https://www.cnblogs.com/klb561/archive/2019/08/11.html"><u>11</u></a>
                        </td>
                            <td class="" align="center">
                                12
                            </td>
                            <td class="" align="center">
                                <a href="https://www.cnblogs.com/klb561/archive/2019/08/13.html"><u>13</u></a>
                            </td>
                            <td class="" align="center">
                                14
                            </td>
                            <td class="" align="center">
                                <a href="https://www.cnblogs.com/klb561/archive/2019/08/15.html"><u>15</u></a>
                            </td>
                            <td class="" align="center">
                                <a href="https://www.cnblogs.com/klb561/archive/2019/08/16.html"><u>16</u></a>
                            </td>
                        <td class="CalWeekendDay" align="center">
                            <a href="https://www.cnblogs.com/klb561/archive/2019/08/17.html"><u>17</u></a>
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            18
                        </td>
                            <td class="" align="center">
                                19
                            </td>
                            <td class="" align="center">
                                20
                            </td>
                            <td class="" align="center">
                                <a href="https://www.cnblogs.com/klb561/archive/2019/08/21.html"><u>21</u></a>
                            </td>
                            <td class="" align="center">
                                22
                            </td>
                            <td class="" align="center">
                                23
                            </td>
                        <td class="CalWeekendDay" align="center">
                            24
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            25
                        </td>
                            <td class="" align="center">
                                26
                            </td>
                            <td class="CalTodayDay" align="center">
                                27
                            </td>
                            <td class="" align="center">
                                28
                            </td>
                            <td class="" align="center">
                                29
                            </td>
                            <td class="" align="center">
                                30
                            </td>
                        <td class="CalWeekendDay" align="center">
                            31
                        </td>
                </tr>
                <tr>
                        <td class="CalOtherMonthDay" align="center">
                            1
                        </td>
                            <td class="CalOtherMonthDay" align="center">
                                2
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                3
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                4
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                5
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                6
                            </td>
                        <td class="CalOtherMonthDay" align="center">
                            7
                        </td>
                </tr>
    </tbody>
</table></div></div>                
                    <script>loadBlogDefaultCalendar();</script></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn">

<!-- 搜索 -->
<div id="sidebar_search" class="sidebar-block">
    <div id="sidebar_search" class="mySearch">
        <h3 class="catListTitle">搜索</h3>
        <div id="sidebar_search_box">
            <div id="widget_my_zzk" class="div_my_zzk">
                <input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk">
            </div>
            <div id="widget_my_google" class="div_my_zzk">
                <input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk">
            </div>
        </div>
    </div>
</div>

<!-- 常用链接 -->
<div id="sidebar_shortcut" class="sidebar-block">
    <!--
<div class="catListLink">
<h3 class ="catListTitle"><partial name="./Shared/_ltTitle.cshtml"></partial></h3>
<ul>
		<li>

<a href="https://www.cnblogs.com/klb561/p/" title="我的博客的随笔列表">我的随笔</a>
</li>
		<li>

<a href="https://www.cnblogs.com/klb561/MyComments.html" title="我的发表过的评论列表">我的评论</a>
</li>
		<li>

<a href="https://www.cnblogs.com/klb561/OtherPosts.html" title="我评论过的随笔列表">我的参与</a>
</li>
		<li>

<a href="https://www.cnblogs.com/klb561/RecentComments.html" title="我的博客的评论列表">最新评论</a>
</li>
		<li>

<a href="https://www.cnblogs.com/klb561/tag/" title="我的博客的标签列表">我的标签</a>
</li>

<li><a id="itemListLink" onclick="this.blur();WarpClass('itemListLink', 'itemListLin_con');return false;" href="#">更多链接</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">
<ul>

</ul>
</div>
</div>
-->


</div>

<!-- 最新随笔 -->



<!-- 我的标签 -->
<div id="sidebar_toptags" class="sidebar-block">
    
</div>

<!-- 积分与排名 -->


<!-- 随笔分类、随笔档案、文章分类、新闻分类、相册、链接 -->
<div id="sidebar_categories">
    
<div class="catListPostCategory">
<h3 class="catListTitle">

随笔分类


</h3>


<ul>

<li>
<a href="https://www.cnblogs.com/klb561/category/1193096.html" rel="">
    C(7)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/category/1193097.html" rel="">
    java(10)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/category/1193095.html" rel="">
    lua(1)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/category/1193093.html" rel="">
    python(43)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/category/1193092.html" rel="">
    shell(39)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/category/1193098.html" rel="">
    SQL(13)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/category/1193094.html" rel="">
    测试工具(14)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/category/1193091.html" rel="">
    软件测试(9)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/category/1193090.html" rel="">
    虚拟化(2)
</a>
 
</li>

</ul>


</div>
<div class="catListPostArchive">
<h3 class="catListTitle">

随笔档案


</h3>


<ul>

<li>
<a href="https://www.cnblogs.com/klb561/archive/2019/08.html" rel="">
    2019年8月(34)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2019/07.html" rel="">
    2019年7月(6)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2019/06.html" rel="">
    2019年6月(34)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2019/05.html" rel="">
    2019年5月(21)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2019/04.html" rel="">
    2019年4月(21)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2019/03.html" rel="">
    2019年3月(22)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2019/02.html" rel="">
    2019年2月(10)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2019/01.html" rel="">
    2019年1月(41)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2018/12.html" rel="">
    2018年12月(55)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2018/11.html" rel="">
    2018年11月(27)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2018/08.html" rel="">
    2018年8月(2)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2018/07.html" rel="">
    2018年7月(33)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2018/06.html" rel="">
    2018年6月(95)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2018/05.html" rel="">
    2018年5月(70)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2018/04.html" rel="">
    2018年4月(68)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2018/03.html" rel="">
    2018年3月(17)
</a>
 
</li>
<li>
<a href="https://www.cnblogs.com/klb561/archive/2018/01.html" rel="">
    2018年1月(4)
</a>
 
</li>

</ul>


</div>


</div>

<!-- 最新评论 -->
<div id="sidebar_recentcomments" class="sidebar-block">
    <div class="catListComment">
<h3 class="catListTitle">Recent Comments</h3>

	<div class="RecentCommentBlock">
        <ul>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/klb561/p/9175583.html#4291015">1. Re:Linux下代理服务器(proxy)配置</a></li>
                    <li class="recent_comment_body">请立即删除文中大篇幅的原文粘贴内容，原文链接为：<a href="https://www.cnblogs.com/klb561/p/8933967.html" target="_blank"></a>；</li>
                    <li class="recent_comment_author">--That's_it</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/klb561/p/9135642.html#4290534">2. Re:dbus通信与接口介绍</a></li>
                    <li class="recent_comment_body">不错的文章，谢谢分享。</li>
                    <li class="recent_comment_author">--张军胜</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/klb561/p/9236360.html#4239869">3. Re:Linux安全策略配置-pam_tally2身份验证模块</a></li>
                    <li class="recent_comment_body">@ 梓沂deny 设置普通用户和root用户连续错误登陆的最大次数，超过最大次数，则锁定该用户 unlock_time 设定普通用户锁定后，多少时间后解锁，单位是秒；root_unlock_time ...</li>
                    <li class="recent_comment_author">--konglingbin</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/klb561/p/9236360.html#4239163">4. Re:Linux安全策略配置-pam_tally2身份验证模块</a></li>
                    <li class="recent_comment_body">lock_time参数是只要1次失败就会锁60秒，就算我用了deny = 3也是算1失败就锁了（测试时用pam_tally2指令看统计就会知道了，失败几次它还是呈现1次）所以要unlock_time ...</li>
                    <li class="recent_comment_author">--梓沂</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/klb561/p/9236360.html#4239149">5. Re:Linux安全策略配置-pam_tally2身份验证模块</a></li>
                    <li class="recent_comment_body">lock_time=n 失败登录后锁定的时间（秒数）unlock_time=n 超出失败登录次数限制后，解锁的时间pam_tally2模块中这俩参数有啥区别...</li>
                    <li class="recent_comment_author">--梓沂</li>
        </ul>
    </div>
</div>


</div>



<!-- 阅读排行榜 -->
<div id="sidebar_topviewedposts" class="sidebar-block">
    <div class="catListView">
<h3 class="catListTitle">Top Posts</h3>
	<div id="TopViewPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/8660264.html">
                            1. 全面认识openstack：OpenStack架构详解(70545)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/9271322.html">
                            2. python、pip、whl安装和使用(26185)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/9074278.html">
                            3. Linux常用网络命令(13626)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/8988051.html">
                            4. 爬虫-Python爬虫常用库(13208)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/9211431.html">
                            5. linux比较两个文件的不同（6/21）(12925)
                        </a>
                    </li>
        </ul>
    </div>
</div>


</div>

<!-- 评论排行榜 -->
<div id="sidebar_topcommentedposts" class="sidebar-block">
    <!--
<div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/9236360.html">
                            1. Linux安全策略配置-pam_tally2身份验证模块(3)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/9451683.html">
                            2. 使用.NET Core和Vue搭建WebSocket聊天室(2)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/8321010.html">
                            3. 10个Python练手小程序，学习python的很好的资料(1)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/9175583.html">
                            4. Linux下代理服务器(proxy)配置(1)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/klb561/p/9135642.html">
                            5. dbus通信与接口介绍(1)
                        </a>
                    </li>
        </ul>
    </div>
</div>
-->


</div>

<!-- 推荐排行榜 -->
<div id="sidebar_topdiggedposts" class="sidebar-block">
    
<div id="topdigg_posts_wrap">
    <div class="catListView">
        <h3 class="catListTitle">推荐排行榜</h3>
        <div id="TopDiggPostsBlock">
            <ul style="word-break: break-all">
                        <li>
                            <a href="https://www.cnblogs.com/klb561/p/8660326.html">
                                1. OpenStack架构详解(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/klb561/p/8660264.html">
                                2. 全面认识openstack：OpenStack架构详解(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/klb561/p/8988051.html">
                                3. 爬虫-Python爬虫常用库(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/klb561/p/8933992.html">
                                4. getopts的使用(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/klb561/p/9236360.html">
                                5. Linux安全策略配置-pam_tally2身份验证模块(1)
                            </a>
                        </li>
            </ul>
        </div>
    </div>
</div>
</div></div>
                    <script>loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright © 2019 konglingbin
<br><span id="poweredby">Powered by .NET Core 3.0 Preview 8 on Linux</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


    


</body></html>