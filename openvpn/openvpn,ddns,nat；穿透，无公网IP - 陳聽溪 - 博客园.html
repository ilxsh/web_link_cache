<!DOCTYPE html>
<!-- saved from url=(0052)https://www.cnblogs.com/taosim/articles/2731037.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="referrer" content="never">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园</title>
    <meta property="og:description" content="...http://hi.baidu.com/geybptrhbjbbjtq/item/37edba76c0c00b42ee1e53d7网络实战:不需公网IP架设OpenVPNOpenVPN实际上是在">
    <link type="text/css" rel="stylesheet" href="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/bundle-elf.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/bundle-elf-mobile.css">
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/taosim/rss">
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/taosim/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/taosim/wlwmanifest.xml">
    <script src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/amp4ads-host-v0.js.download"></script><script src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/pubads_impl_rendering_2019052001.js.download"></script><script async="" src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/analytics.js.download"></script><script src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/jquery-2.2.0.min.js.download"></script>
    <script>var currentBlogId=85560;var currentBlogApp='taosim',cb_enable_mathjax=false;var isLogined=false;</script>
    <script src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/blog-common.js.download" type="text/javascript"></script>
<link rel="preload" href="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/f.txt" as="script"><script type="text/javascript" src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/f.txt"></script><script src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/pubads_impl_2019052001.js.download" async=""></script><link rel="prefetch" href="https://tpc.googlesyndication.com/safeframe/1-0-33/html/container.html"></head>
<body>
<a name="top"></a>


<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a id="lnkBlogLogo" href="https://www.cnblogs.com/taosim/"><img id="blogLogo" src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/logo.gif" alt="返回主页"></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/taosim/">陳聽溪</a></h1>
<h2></h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">博客园</a></li>
<li><a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/taosim/">首页</a></li>
<li><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E9%99%B3%E8%81%BD%E6%BA%AA">联系</a></li>
<li><a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/taosim/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="https://www.cnblogs.com/taosim/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>
		<div class="blogStats">
			
			<div id="blog_stats">
<span id="stats_post_count">随笔 - 116&nbsp; </span>
<span id="stats_article_count">文章 - 601&nbsp; </span>
<span id="stats-comment_count">评论 - 15</span>
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
        <div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/taosim/articles/2731037.html">openvpn,ddns,nat；穿透，无公网IP</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><p>...</p>
<p><a href="http://hi.baidu.com/geybptrhbjbbjtq/item/37edba76c0c00b42ee1e53d7">http://hi.baidu.com/geybptrhbjbbjtq/item/37edba76c0c00b42ee1e53d7</a></p>
<div class="content-head clearfix">
<h2 class="title content-title">网络实战:不需公网IP架设OpenVPN</h2>
</div>
<div id="content" class="content mod-cs-content text-content clearfix">OpenVPN实际上是在应用层做的传输, 传输协议可以选择UDP/TCP, 其中UDP更为常用, 原因有专门文章论述。
<p>为何需要OpenVPN网络？</p>
<p>&nbsp;&nbsp;&nbsp; 如果我想在家里访问单位的网络资源, VPN是个不错的选择, 但一般来说, 架设VPN需要有VPN服务器, 也就是说至少需要有一个真实IP, 这个并不是谁个人都有的. 但别忘了OpenVPN支持UDP传输, 在BT大行其道的今天, UDP很多时候就是NAT穿透的代名词, 那么, OpenVPN能不能也使用这种模式呢? 如果能, 那将会解决不少问题, 设想:</p>
<p>&nbsp;&nbsp;&nbsp; 1, 我是一个学生, 我在写论文, 但我目前不在学校, 因而不能下载学校论文数据库的资料, 老让同学下也不是办法, 而且不方便, 这样我可以考虑在学校任意电脑上开一个OpenVPN软件, 然后让它穿越NAT对外提供服务, 这样我就可以在校外网络上和学校里一样使用.</p>
<p>&nbsp;&nbsp;&nbsp; 2, 我是一个上班族, 我想在家里做一些要在单位网络里才能完成的事情, 但单位没有VPN或者有VPN但我没帐号, 我可以在单位的工作机上放个OpenVPN然后回家接入再用, 呵呵.</p>
<p>&nbsp;&nbsp;&nbsp; 听起来不错, 但如何实现呢? 这里我先说明一些技术前提: 你应该知道平常怎么配置OpenVPN, 即有真实IP时候怎么配置, 如果不了解, 上GOOGLE搜索吧, 文章很多.</p>
<p>&nbsp;&nbsp;&nbsp; 处于防火墙或者NAT设备后面的主机想要对外提供服务, 比如和其他同样处于不通网络NAT设备之后的主机通信, 可以使用UDP打洞技术, 这个细节网上也有很多文章讲, 可以参考http://www.ppcn.net/n1306c2.aspx</p>
<p>解决UDP穿越防火墙问题</p>
<p>&nbsp;&nbsp;&nbsp; 在能使用UDP成功打洞之前, 要先解决以下几个问题:</p>
<p>&nbsp;&nbsp;&nbsp; 1, 确认通信双方所处NAT的类型, NAT可以大致的分成两类: 锥形NAT和对称NAT(关于NAT的详细分类可以参考RFC3489第5节, 那里分了4类, 前三类归为锥形NAT, 第4类为对称NAT). 做UDP穿透的一般原则是, 锥形NAT之间可以做UDP穿透, 而对称NAT不能, 事实上, 当一端为锥形一段为对称也是有可能的, 但这不能保证, 主要看对称NAT有没有规律可循.</p>
<p>&nbsp;&nbsp;&nbsp; 如何确定自身的NAT类型呢? 可以利用STUN的客户端查看, 软件可以从这里获取:</p>
<p>&nbsp;&nbsp;&nbsp; Linux版: http://sourceforge.net/projects/stun/</p>
<p>&nbsp;&nbsp;&nbsp; Java版(适用各种操作系统): http://jstun.javawi.de/</p>
<p>&nbsp;&nbsp;&nbsp; 这些软件很好使用, 比如Linux版的stun, 编译好后运行 ./client stun01.sipphone.com 即可. Java版则直接双击jar文件执行, 它会将结果记录在同目录的log文件里. 你只需要确认通信双方都不是对称NAT即可. 如果双方均为对称NAT那本文所描述的方法没有希望了. 如果查类型失败, 这可能的原因有两种:</p>
<p>&nbsp;&nbsp;&nbsp; a, 无法访问该STUN服务器, 你可以试试后面STUN列表中的其他服务器, 如果你是教育网用户且不能访问国外流量, 那么暂时没有办法用, 因为还没有找到国内的开放STUN服务器.</p>
<p>&nbsp;&nbsp;&nbsp; b, 你所在网络的防火墙把UDP禁了, 这种情况我见过, 很变态, 没有任何办法.</p>
<p>&nbsp;&nbsp;&nbsp; 确认了两端NAT类型都不是对称NAT则继续往下看, 否则希望不大, 但也还有机会.</p>
<p>&nbsp;&nbsp;&nbsp; 2, 通信建立前需要通信双方告知对方自己经NAT设备转换后的IP/PORT, IP/PORT也可以通过STUN服务器得到, 公网上有不少这种免费STUN服务, 只是国内的很少见.</p>
<p>&nbsp;&nbsp;&nbsp; 前两个问题归结一下, 其实就是如何找到免费的STUN服务器, 下面的列表是我试过能用的, 但都在国外, 这对教育网用户不是个好消息, 国内的还在寻找中, 也希望有人能提供线索</p>
<p>&nbsp;&nbsp;&nbsp; stun01.sipphone.com<br>&nbsp;&nbsp;&nbsp; stun.ekiga.net<br>&nbsp;&nbsp;&nbsp; stun.fwdnet.net<br>&nbsp;&nbsp;&nbsp; stun.ideasip.com<br>&nbsp;&nbsp;&nbsp; stun.iptel.org<br>&nbsp;&nbsp;&nbsp; stun.rixtelecom.se<br>&nbsp;&nbsp;&nbsp; stun.schlund.de<br>&nbsp;&nbsp;&nbsp; stunserver.org<br>&nbsp;&nbsp;&nbsp; stun.softjoys.com<br>&nbsp;&nbsp;&nbsp; stun.voiparound.com<br>&nbsp;&nbsp;&nbsp; stun.voipbuster.com<br>&nbsp;&nbsp;&nbsp; stun.voipstunt.com<br>&nbsp;&nbsp;&nbsp; stun.voxgratia.org<br>&nbsp;&nbsp;&nbsp; stun.xten.com</p>
<p>&nbsp;&nbsp;&nbsp; 3, 现在已经能知道自己经NAT映射后的真实地址了, 但如何才能告诉对方呢, 目前广泛使用的BT应用中实际上都有一个中介服务器, 但我们不会有, 否则的话我直接就拿它做VPN服务器了</p>
<p>&nbsp;&nbsp;&nbsp; 解决这个问题有点麻烦, 在我的这个例子里是用的GMail做交互, 客户端注册一个GMail帐号, 服务端注册一个GMail帐号, 这样就有了一个速度很慢的管道, 但至少能完成通信了, 流程也就可以通了.</p>
<p>&nbsp;&nbsp;&nbsp; 到了这里, 能查自己的IP/PORT, 有通信两端交互的管道, 剩下的问题就是定一个简单的协议把这些真正的跑起来.<br>如何建立UDP通道?</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp; 1, 客户端发起, 通过Mail告诉服务器客户端经NAT映射后的IP/PORT.&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 2, 服务端查询自己经NAT映射后的IP/PORT并将其通过邮件返回给客户端, 同时向客户端的UDP端口做打洞操作.&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 3, 客户端收到服务端的Mail后向服务端UDP端口发送数据, 这时服务端UDP端口应该能收到数据, 返回一条UDP信息给客户端, 标志通道建立成功.</p>
<p>4, 服务端启动OpenVPN, 客户端打开OpenVPN客户端, 通过刚才建立的通道即可建立VPN连接.这个过程我用Python做了一个模型实现, 不能说是软件, 只是一些脚本, 但能稳定工作, 这里介绍一下使用过程:</p>
<p>&nbsp;&nbsp;&nbsp; 1, 配置OpenVPN, 这个过程和有真实IP完全相同, 我这里列举一个非常简单的例子, 这里默认服务器运行在Linux平台, 客户端则在<a href="http://windows.chinaitlab.com/" target="_blank">Windows</a>上, OpenVPN采用2.0.9版本, 客户端我用的是OpenVPN GUI for&nbsp;<a href="http://windows.chinaitlab.com/" target="_blank">Windows</a>&nbsp;V1.0.3, 默认安装路径.</p>
<p>&nbsp;&nbsp;&nbsp; 可以在局域网找两台机器(或者虚拟机)做测试, 你需要将客户端配置中的remote改为OpenVPN服务所在主机IP/PORT.</p>
<p><br><img src="http://cisco.chinaitlab.com/UploadFiles_6776/200807/20080729100516404.jpg" alt="">图1 OpenVPN服务端简明配置</p>
<p><br><img src="http://cisco.chinaitlab.com/UploadFiles_6776/200807/20080729100517227.jpg" alt="">图2 OpenVPN客户端简明配置</p>
<p>配置好之后, 用客户端连接服务, 应该可以连通, 然后从客户端机器ping 10.4.0.1如果响应, 则配置完成, 可进行下一步, 否则, 请查找原因, 参考OpenVPN的相关文档以及网络上关于OpenVPN配置的文章.</p>
<p>&nbsp;&nbsp;&nbsp; 2, 申请两个GMail帐号做通信使用, 比如openvpn.nat.server@gmail.com, openvpn.nat.client@gmail.com, 注意申请完后进入GMail邮箱设置, 开启IMAP支持, 否则后面无法继续.</p>
<p>&nbsp;&nbsp;&nbsp; 3, 获取UDP穿透NAT的代码, 从http://code.google.com/p/natvpn/downloads/list获取最新包即可, 也可以从svn获取最新的代码. 获取后解压包, 我的例子是服务器运行在Linux操作系统, 客户端运行在Windows上, 其实和系统关系不大, 图方便而已, OpenVPN和Python都是跨平台的, 需要的只是修改路径. Python版本是2.5.</p>
<p>&nbsp;&nbsp;&nbsp; 解压, 先配置服务器, 把源码目录下的几个*.py和OpenVPN配置文件都拷贝到你习惯的位置, 比如/usr/local/etc下, 然后修改server.py文件中的路径, 与你的系统保持一致:</p>
<p><br>&nbsp;&nbsp;&nbsp;&nbsp;<img src="http://cisco.chinaitlab.com/UploadFiles_6776/200807/20080729100517302.jpg" alt="">图3 server.py中需要更改的变量<br>&nbsp;&nbsp; 然后是客户端, 将*.py和OpenVPN客户端配置文件拷贝到OpenVPN安装路径下的config目录. 注意client.ovpn文件要可写, 因为脚本会在后面重写该文件中的remote地址等部分.</p>
<p>&nbsp;</p>
<p><img src="http://cisco.chinaitlab.com/UploadFiles_6776/200807/20080729100518898.jpg" alt="">图4 client.py中需要更改的变量</p>
<p>&nbsp;&nbsp;&nbsp; 4, 启动服务端, 注意要用root启动:</p>
<p>&nbsp;&nbsp;&nbsp; # ./server.py<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 5, 回家:) 然后启动客户端. Windows首先要安装Python, 我用ActiveState Python 2.5, 很方便安装, 软件可以从http://www.activestate.com/Products/activepython/<a href="http://download.chinaitlab.com/" target="_blank">下载</a>. 然后双击执行client.py, 运行一直到它提示可以连接, 这个过程在当前的配置状态下需要三到五分钟左右, 这主要是因为GMail设置的查新邮件时间有3分钟, 最后应该出现如下图提示:</p>
<p><br><img src="http://cisco.chinaitlab.com/UploadFiles_6776/200807/20080729100518164.jpg" alt="">图5 客户端执行UDP打洞成功后的提示界面<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; 看到这个画面, 说明UDP通道已经打通, 这是你需要尽快(1分种以内)启动OpenVPN客户端, 这样即可完成连接.</p>
<p><br><img src="http://cisco.chinaitlab.com/UploadFiles_6776/200807/20080729100519466.jpg" alt="">图6 启动OpenVPN客户端连接</p>
<p>我从家里连接单位, 单位是对称NAT, 家里是锥形NAT, 本来这种网络连通的希望不大, 但我对单位的NAT方式稍有了解, 他的NAT映射具有时间局部性, 所以在server.py/client.py中做了一些优化: 针对一个PORT范围打洞, 而不是针对某个具体PORT, 这样, 连接可以成功建立, 从无失手:)</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp; 不得不说, OpenVPN的通信质量还是很不错的, 我使用的这段时间从没有出现过连接中断, 值得一试!</p>
<p><a href="http://zcjyyy.blog.163.com/blog/static/435084882012230743663/">http://zcjyyy.blog.163.com/blog/static/435084882012230743663/</a></p>
<div class="multicntwrap">
<div class="multicnt">
<h3 class="title pre fs1"><span class="tcnt">使用openVPN在教育城域网环境中玩“穿越”</span>&nbsp;&nbsp;</h3>
<p class="tdep clearfix nbw-act fc06"><span class="pleft"><span class="blogsep">2012-03-30 20:12:10</span><span class="blogsep">|&nbsp;&nbsp;分类：</span>&nbsp;<a class="fc03 m2a" title="默认分类" href="http://zcjyyy.blog.163.com/blog/#m=0&amp;t=1&amp;c=fks_083071080087087070082080074071087083081075080094094">默认分类</a></span><span class="pright fc07 ztag"><span class="blogsep">|</span><span id="$_fontswitch" class="zihao fc03">字号</span></span><span id="$_blog_subscribe" class="pright pnt fc03"><span class="iblock icn0 icn0-919">&nbsp;</span><a class="m2a">订阅</a></span></p>

</div>

</div>
<div>&nbsp;</div>
<div class="nbw-blog-start">&nbsp;</div>
<div class="bct fc05 fc11 nbw-blog ztag js-fs2">
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 说明：笔者所在的教育城域网是采用网络运营商mpls的VPN模式组建的，学校是教育城域网的末级接入单位，没有公网IP，各接入单位网络最后汇聚到市教育信息中心，经信息中心的防火墙做NAT后出互连网。而家中的采用adsl方式接入互连网，有动态分配的公网IP。由于工作的需要经常要在家中的电脑中登录学校的电脑，常见的方法为，向信息中心申请公网IP做目的NAT，映射到学校的电脑，方可进行远程连接。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 采用openVPN进行VPN连接，一般将经常开着的学校电脑做为openVPN服务器，将不经常开的电脑做为客户端。但是学校的机子一般都没有公网IP，就无法做为openVPN服务器，那就将家中的电脑做为openVPN服务器，学校的电脑做为openVPN的客户端，一旦连接成功，家中的电脑和学校的电脑就在同一个VPN网段内，这时家中的电脑就可登录学校的电脑。这么一来好像家中的电脑就要长时间开启，让学校的机子进行连接，其实不然，下面将笔者具体实施方案写在此，权当今后做为资料进行收集。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 一、openVPN服务器架设</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 申请一个免费的动态域名将家中的adsl获得的动态IP进行域名绑定，下图是家中的电脑上运行的3322.org动态域名客户端，将家中的电脑进行动态IP和域名zcjyy.3322.org予以绑定。</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/1045116588544018960.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<p align="center">&nbsp;</p>

<br>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将家中的路由器开启虚拟服务器，将openVPN服务器所要用的IP和端口进行NAT映射。&nbsp;</div>
<div>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/2830793840796424070.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>


&nbsp;</div>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 这里补充说明一下，openVPN是一个开源免费项目，能跨平台运行，不管是linux、freeBSD还是windows都能运行，许多公司用它来做为跨地区内部办公平台。笔者还看到中国科大架设了电信和网通两个openVPN服务器供内部跨地区使用。接下来就安装openVPN，下载windows版的openVPN，采用默认方式进行安装。</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/2632635457192124130.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 安装完成后，接下来就是生成密钥，证书什么的，这个过程是openVPN配置最难的地方，笔者在这里卡了许久。</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/2878644586837240697.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<div>&nbsp;</div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在windows命令模式下进入“C:\Program Files\OpenVPN\easy-rsa”下，做一下准备工作，依次运行“init-config.bat”、“vars.bat”和“clean-all.bat”三个批命令。它们的功能依次是将“vars.bat.sample”文件复制成“vars.bat”、设置密钥证书生成的环境、清除原有的密钥证书，若此目录下没有“keys”目录，则生成“keys”目录用来装生成的。</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/2509912367346280279.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 运行“build-ca.bat”将生成共享密钥和证书。</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/2808838792612976375.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;运行“build-dh.bat”将生成 Diffie-Hellman密钥交换算法参数，这个过程有点慢。</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/2668101304257665304.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<p align="left">&nbsp;&nbsp;&nbsp;</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 运行“build-key-server.bat”加参数“server”将生成openVPN服务器所用的密钥和证书。</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/1330250739951917871.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 运行“build-key.bat”加客户端名“client_hz01”将生成openVPN客户端所用的密钥和证书。注意Common Name (eg, your name or your server's hostname) 项一定要填写上客户端的名子，不然密钥和证书就不会成功生成。按此方法多生成些客户端所用的密钥和证书。</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/1109292883234037687.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<p>&nbsp;&nbsp;&nbsp;</p>
<p><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将目录“keys”中的“ca.crt”“&nbsp;ca.key”“&nbsp;dh1024.pem”“&nbsp;server.crt”“&nbsp;server.key”五个文件拷入“C:\Program Files\OpenVPN\key”中，这是openVPN服务器所要用的文件，五个文件的功能依次是，预共享证书、预共享密钥、Diffie-Hellman密钥交换算法参数、服务器证书和服务器密钥。&nbsp;</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/566609128135910584.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<p align="center">&nbsp;</p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/2835578915400507686.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>
<p align="left">&nbsp;</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 接下来是服务器连接配置&nbsp;，下面是我有配置文件，说明“#”是注释内容，不参加配置，强调一下，配置中不使用push向客户端推送网关、路由、DNS信息，不然客户端的连接上服务器后就会默认以服务器做为代理来上网。</p>
<p align="left">&nbsp;</p>
<p align="left"><span style="color: #ff0000;">#建立VPN的内网IP，我服务器是单网卡，内网到外网在tp-link路由器上将外网地址进行端口映射<br>local 10.139.196.120<br>#端口号，根据需要，自行修改，默认是这个<br>port 1194&nbsp;<br>#通过udp协议连接，TCP太慢<br>proto udp<br>dev tap<br># 虚拟局域网网段设置，请根据需要自行修改，不支持和拔号网卡位于同一网段<br>server 192.168.100.0 255.255.255.0&nbsp;<br>#&nbsp;下面是给特定用户分配地址常用的方法，在ccd目录下新建一个以客户端名字命名的文件&nbsp;<br>#&nbsp;在此文件中输入如：ifconfig-push 192.168.100.24 255.255.255.0&nbsp;<br>client-config-dir "C:\\Program Files\\OpenVPN\\ccd"</span></p>
<p align="left"><span style="color: #ff0000;">keepalive 20 180<br>#CA证书存放位置，请根据实际情况自行修改，windows下"\"要转义<br>ca "C:\\Program Files\\OpenVPN\\key\\ca.crt"<br>#服务器证书存放位置<br>cert "C:\\Program Files\\OpenVPN\\key\\server.crt"&nbsp;<br>#服务器密钥存放位置<br>key "C:\\Program Files\\OpenVPN\\key\\server.key"&nbsp;<br>#dh1024.pem存放位置<br>dh "C:\\Program Files\\OpenVPN\\key\\dh1024.pem"&nbsp;<br>mode server<br>tls-server<br>#LOG记录文件存放位置，请根据实际情况自行修改<br>status "C:\\Program Files\\OpenVPN\\log\\openvpn-status.log"&nbsp;<br>#压缩一下好<br>comp-lzo<br>verb 4</span></p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 配置好后，将此文件存为server.ovpn文件，拷入“C:\Program Files\OpenVPN\config”下，服务器的配置到此结束。启动“OpenVPN GUI”将在任务栏右下角显示，右击该图标&nbsp;选择“Connect”后，服务器启动完成。</p>
<div><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/32369622339086404.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></div>
<div>&nbsp;</div>
<div>&nbsp;</div>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 二、openVPN客户端安装及配置</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 采用默认安装方式，将openVPNP安装在学校的电脑上，将目录“keys”中的“ca.crt”、“&nbsp;client_hz01.crt”、“&nbsp;client_hz01.key”三个文件拷入“C:\Program Files\OpenVPN\key”中，进行客户端配置，下面是我的配置文件。</p>
<p align="left"><span style="color: #ff0000;">client<br>dev tap&nbsp;<br>proto udp</span></p>
<p align="left"><span style="color: #ff0000;"># VPN服务器的域名和端口<br></span><span style="color: #ff0000;">remote xxxxxx.3322.org 1194</span></p>
<p align="left"><span style="color: #ff0000;">resolv-retry infinite<br>nobind</span></p>
<p align="left"><span style="color: #ff0000;">mute-replay-warnings</span></p>
<p align="left"><span style="color: #ff0000;">ca&nbsp;&nbsp; "C:\\Program Files\\OpenVPN\\key\\ca.crt"<br>#这里改成每个客户端相应的证书<br>cert "C:\\Program Files\\OpenVPN\\key\\client_hz01.crt"<br>#这里改成每个客户端相应的密钥<br>key&nbsp; "C:\\Program Files\\OpenVPN\\key\\client_hz01.key"&nbsp;&nbsp;&nbsp;</span></p>
<p align="left"><span style="color: #ff0000;">comp-lzo<br>verb 4<br>status openvpn-status.log</span></p>
<p align="left"><span style="color: #ff0000;">&nbsp;&nbsp;&nbsp;</span><span style="color: #000000;">&nbsp;&nbsp; &nbsp;配置好后，将此文件存为client.ovpn文件，拷入“C:\Program Files\OpenVPN\config”下，客户端的配置到此结束。启动“OpenVPN GUI”将在任务栏右下角显示，右击该图标&nbsp;选择“Connect”后，若此时服务器已启动的话，客户端就会连接成功并获得IP地址，若此时服务器没有启动，客户端就会一直发送连接请求，直到获得服务器的应答。</span></p>
<p align="left"><span style="color: #0000ff;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 平时学校的电脑我将openVPN一直处在连接请求状态，回到家后，只要我打开家中电脑，开启openVPN服务器，不一会就能ping通学校机子的openVPN所分配的地址。这样家中的电脑与学校的电脑就在同一VPN网段内，用远程桌面或网上邻居都可以进入学校电脑，相当方便，下图是家中的电脑过程学校电脑的截面，由于家中的电脑采用的adsl不对称带宽，若是学校的电脑远程进家中的电脑反映就有点慢了。</span></p>
<p align="center"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/2648116580911206163.jpg" alt="使用openVPN在教育城域网环境中玩“穿越” - zcjyyy - 明镜小周"></p>


</div>



</div>
<div class="content mod-cs-content text-content clearfix">&nbsp;</div>
<div class="content mod-cs-content text-content clearfix">&nbsp;</div>
<div class="content mod-cs-content text-content clearfix"><a href="http://lymrg.blog.51cto.com/1551327/368407">http://lymrg.blog.51cto.com/1551327/368407</a></div>
<div class="content mod-cs-content text-content clearfix">
<div class="showHead">
<div class="showTitleBOx">
<div class="showTitle">openvpn中server.conf和client.conf配置文件详解</div>


</div>


<span class="artTime">2010-08-06 09:04:25</span></div>
<div class="showTags">标签：<a class="operlink" href="http://blog.51cto.com/tagindex.php?keyword=%C5%E4%D6%C3%CE%C4%BC%FE" target="_blank">配置文件</a>&nbsp;<a class="operlink" href="http://blog.51cto.com/tagindex.php?keyword=%D0%DD%CF%D0" target="_blank">休闲</a>&nbsp;<a class="operlink" href="http://blog.51cto.com/tagindex.php?keyword=%D6%B0%B3%A1" target="_blank">职场</a></div>
<div class="showContent">
<div>Server使用的配置文件server.conf<br>—————————–<br>#申明本机使用的IP地址，也可以不说明<br>;local a.b.c.d<br>#申明使用的端口，默认1194<br>port 1194<br>#申明使用的协议，默认使用UDP，如果使用HTTP proxy，必须使用TCP协议<br>;proto tcp<br>proto udp<br>#申明使用的设备可选tap和tun，tap是二层设备，支持链路层协议。<br>#tun是ip层的点对点协议，限制稍微多一些，本人习惯使用TAP设备<br>dev tap<br>;dev tun<br>#OpenVPN使用的ROOT CA，使用build-ca生成的，用于验证客户是证书是否合法<br>ca ca.crt<br>#Server使用的证书文件<br>cert server.crt<br>#Server使用的证书对应的key，注意文件的权限，防止被盗<br>key server.key # This file should be kept secret<br>#CRL文件的申明，被吊销的证书链，这些证书将无法登录<br>crl-verify vpncrl.pem<br>#上面提到的生成的Diffie-Hellman文件<br>dh dh1024.pem<br>#这是一条命令的合集，如果你是OpenVPN的老用户，就知道这条命令的来由<br>#这条命令等效于：<br># mode server #OpenVPN工作在Server模式，可以支持多client同时动态接入<br># tls-server #使用TLS加密传输，本端为Server，Client端为tls-client<br>#<br># if dev tun: #如果使用tun设备，等效于以下配置<br># ifconfig 10.8.0.1 10.8.0.2 #设置本地tun设备的地址<br># ifconfig-pool 10.8.0.4 10.8.0.251 #说明OpenVPN使用的地址池（用于分配给客户），分别是起始地址、结束地址<br># route 10.8.0.0 255.255.255.0 #增加一条静态路由，省略下一跳地址，下一跳为对端地址，这里是: 10.8.0.2<br># if client-to-client: #如果使用client-to-client这个选项<br># push “route 10.8.0.0 255.255.255.0″ #把这条路由发送给客户端，客户连接成功后自动加入路由表，省略了下一跳地址: 10.8.0.1<br># else<br># push “route 10.8.0.1″ #否则发送本条路由，这是一个主机路由，省略了子网掩码和下一跳地址，分别为: 255.255.255.255 10.8.0.1<br>#<br># if dev tap: #如果使用tap设备，则等效于以下命令<br># ifconfig 10.8.0.1 255.255.255.0 #配置tap设备的地址<br># ifconfig-pool 10.8.0.2 10.8.0.254 255.255.255.0 #客户端使用的地址池，分别是起始地址、结束地址、子网掩码<br># push “route-gateway 10.8.0.1″ #把环境变量route-gateway传递给客户机<br>#<br>server 10.8.0.0 255.255.255.0 #等效于以上命令<br>#用于记录某个Client获得的IP地址，类似于dhcpd.lease文件，<br>#防止openvpn重新启动后“忘记”Client曾经使用过的IP地址<br>ifconfig-pool-persist ipp.txt<br>#Bridge状态下类似DHCPD的配置，为客户分配地址，由于这里工作在路由模式，所以不使用<br>;server-bridge 10.8.0.4 255.255.255.0 10.8.0.50 10.8.0.100<br>#通过VPN Server往Client push路由，client通过pull指令获得Server push的所有选项并应用<br>;push “route 192.168.10.0 255.255.255.0″<br>;push “route 192.168.20.0 255.255.255.0″<br>#VPN启动后，在VPN Server上增加的路由，VPN停止后自动删除<br>;route 10.9.0.0 255.255.255.252<br>#Run script or shell command cmd to validate client<br>#virtual addresses or routes. 具体查看manual<br>;learn-address ./script<br>#其他的一些需要PUSH给Client的选项<br>#<br>#使Client的默认网关指向VPN，让Client的所有Traffic都通过VPN走<br>;push “redirect-gateway”<br>#DHCP的一些选项，具体查看Manual<br>;push “dhcp-option DNS 10.8.0.1″<br>;push “dhcp-option WINS 10.8.0.1″<br>#如果可以让VPN Client之间相互访问直接通过openvpn程序转发，<br>#不用发送到tun或者tap设备后重新转发，优化Client to Client的访问效率<br>client-to-client<br>#如果Client使用的CA的Common Name有重复了，或者说客户都使用相同的CA<br>#和keys连接VPN，一定要打开这个选项，否则只允许一个人连接VPN<br>;duplicate-cn<br>#NAT后面使用VPN，如果VPN长时间不通信，NAT Session可能会失效，<br>#导致VPN连接丢失，为防止之类事情的发生，keepalive提供一个类似于ping的机制，<br>#下面表示每10秒通过VPN的Control通道ping对方，如果连续120秒无法ping通，<br>#认为连接丢失，并重新启动VPN，重新连接<br>#（对于mode server模式下的openvpn不会重新连接）。<br>keepalive 10 120<br>#上面提到的HMAC防火墙，防止DOS攻击，对于所有的控制信息，都使用HMAC signature，<br>#没有HMAC signature的控制信息不予处理，注意server端后面的数字肯定使用0，client使用1<br>tls-auth ta.key 0 # This file is secret<br>#对数据进行压缩，注意Server和Client一致<br>comp-lzo<br>#定义最大连接数<br>;max-clients 100<br>#定义运行openvpn的用户<br>user nobody<br>group nobody<br>#通过keepalive检测超时后，重新启动VPN，不重新读取keys，保留第一次使用的keys<br>persist-key<br>#通过keepalive检测超时后，重新启动VPN，一直保持tun或者tap设备是linkup的，<br>#否则网络连接会先linkdown然后linkup<br>persist-tun<br>#定期把openvpn的一些状态信息写到文件中，以便自己写程序计费或者进行其他操作<br>status openvpn-status.log<br>#记录日志，每次重新启动openvpn后删除原有的log信息<br>log /var/log/openvpn.log<br>#和log一致，每次重新启动openvpn后保留原有的log信息，新信息追加到文件最后<br>;log-append openvpn.log<br>#相当于debug level，具体查看manual<br>verb 3<br>——————————-<br>把server.conf文件保存到/etc/opennvpn目录中，并把使用easy-rsa下的脚本什成的key都复制到/etc/openvpn目录下，命令如下:<br>#cd /etc/openvpn<br>#cp easy-rsa/keys/ca.crt .<br>#cp easy-rsa/keys/server.crt .<br>#cp easy-rsa/keys/server.key .<br>#cp easy-rsa/keys/dh1024.pem .<br>#cp easy-rsa/keys/ta.key .<br>#cp easy-rsa/keys/vpncrl.pem .<br>创建OpenVPN启动脚本，可以在源代码目录中找到，在sample-scripts目录下的openvpn.init文件，将其复制到/etc/init.d/目录中，改名为openvpn<br>然后运行：<br>#chkconfig –add openvpn<br>#chkconfig openvpn on<br>立即启动openenvpn<br>#/etc/init.d/openvpn start<br><br>接下来配置客户端的配置文件client.conf：<br>Linux或Unix下使用扩展名为.conf Windows下使用的是.ovpn,并把需要使用的keys复制到配置文件所在目录ca.crt elm.crt elm.key ta.key<br>———————————-<br># 申明我们是一个client，配置从server端pull过来，如IP地址，路由信息之类“Server使用push指令push过来的”<br>client<br><br>#指定接口的类型，严格和Server端一致<br>dev tap<br>;dev tun<br><br># Windows needs the TAP-Win32 adapter name<br># from the Network Connections panel<br># if you have more than one. On XP SP2,<br># you may need to disable the firewall<br># for the TAP adapter.<br>;dev-node MyTap<br><br># 使用的协议，与Server严格一致<br>;proto tcp<br>proto udp<br><br>#设置Server的IP地址和端口，如果有多台机器做负载均衡，可以多次出现remote关键字<br><br>remote 61.1.1.2 1194<br>;remote my-server-2 1194<br><br># 随机选择一个Server连接，否则按照顺序从上到下依次连接<br>;remote-random<br><br># 始终重新解析Server的IP地址（如果remote后面跟的是域名），<br># 保证Server IP地址是动态的使用DDNS动态更新DNS后，Client在自动重新连接时重新解析Server的IP地址<br># 这样无需人为重新启动，即可重新接入VPN<br>resolv-retry infinite<br><br># 在本机不邦定任何端口监听incoming数据，Client无需此操作，除非一对一的VPN有必要<br>nobind<br><br># 运行openvpn用户的身份，旧版本在win下需要把这两行注释掉，新版本无需此操作<br>user nobody<br>group nobody<br><br>#在Client端增加路由，使得所有访问内网的流量都经过VPN出去<br>#当然也可以在Server的配置文件里头设置，Server配置里头使用的命令是<br># push “route 192.168.0.0 255.255.255.0″<br>route 192.168.0.0 255.255.0.0<br><br># 和Server配置上的功能一样如果使用了chroot或者su功能，最好打开下面2个选项，防止重新启动后找不到keys文件，或者nobody用户没有权限启动tun设备<br>persist-key<br>persist-tun<br><br># 如果你使用HTTP代理连接VPN Server，把Proxy的IP地址和端口写到下面<br># 如果代理需要验证，使用http-proxy server port [authfile] [auth-method]<br># 其中authfile是一个2行的文本文件，用户名和密码各占一行，auth-method可以省略，详细信息查看Manual<br>;http-proxy-retry # retry on connection failures<br>;http-proxy [proxy server] [proxy port #]<br><br># 对于无线设备使用VPN的配置，看看就明白了<br># Wireless networks often produce a lot<br># of duplicate packets. Set this flag<br># to silence duplicate packet warnings.<br>;mute-replay-warnings<br><br># Root CA 文件的文件名，用于验证Server CA证书合法性，通过easy-rsa/build-ca生成的ca.crt，和Server配置里的ca.crt是同一个文件<br>ca ca.crt<br># easy-rsa/build-key生成的key pair文件，上面生成key部分中有提到，不同客户使用不同的keys修改以下两行配置并使用他们的keys即可。<br>cert elm.crt<br>key elm.key<br><br># Server使用build-key-server脚本什成的，在x509 v3扩展中加入了ns-cert-type选项<br># 防止VPN client使用他们的keys ＋ DNS hack欺骗vpn client连接他们假冒的VPN Server<br># 因为他们的CA里没有这个扩展<br>ns-cert-type server<br><br># 和Server配置里一致，ta.key也一致，注意最后参数使用的是1<br>tls-auth ta.key 1<br><br># 压缩选项，和Server严格一致<br>comp-lzo<br><br># Set log file verbosity.<br>verb 4</div>



</div>
<div class="showContent">&nbsp;</div>
<div class="showContent"><a href="http://my.opera.com/Returner/blog/show.dml/423384">http://my.opera.com/Returner/blog/show.dml/423384</a></div>
<div class="showContent">&nbsp;</div>
<div class="showContent">
<h2 class="title">总算是用OpenVPN爬出去了</h2>
<p class="postdate">Friday, April 14, 2006 3:54:00 AM</p>
<p class="tags"><a href="http://my.opera.com/Returner/blog/index.dml/tag/OpenVPN" rel="tag">OpenVPN</a>,&nbsp;<a href="http://my.opera.com/Returner/blog/index.dml/tag/linux" rel="tag">linux</a>,&nbsp;<a href="http://my.opera.com/Returner/blog/index.dml/tag/Network" rel="tag">Network</a></p>
<div class="content">由于这边防火墙进行了很变态的封锁（之前甚至只开放了几个浏览网页和收发邮件的端口，协议也只开放了最基本的, icmp都封了，甚至连文件下载都被block了，非常痛苦……不过现在好了些，至少文件下载又重新开放了），所以逼于无奈下定决心要冲出去。<br><br>　　正好自己在公网有一台服务器，这台服务器便成了我的救命稻草。在上面开了http proxy和socks proxy，虽然能缓解一下形势，不过还是不太爽，想pptp连回学校都不行。所以我的目标很明确，用那台Server提供VPN，然后这边通过这个VPN钻出去，从而不受本地防火墙限制地使用网络服务，包括拨pptp回学校。<br><br>　　由于当初对网络协议认识不深，以为可以通过Socks来拨pptp，然而socks只能代理基于TCP/UDP的应用层协议，pptp需要的GRE协议是不能代理的（如果我的理解没有错），所以当然失败了。同样，后来尝试用<a href="http://www.xfocus.net/tools/200511/1113.html" rel="nofollow" target="_blank">datapipe</a>进行端口映射，由于datapipe只支持tcp，所以也失败了。因此，只能选择VPN来实现我的目的了。<br><br>　　（值得一提的是<a href="http://www.freecap.ru/eng/" rel="nofollow" target="_blank">freecap</a>这个俄罗斯人写的socks client，功能比sockscap强多了，还支持proxy chain，至少不会像sockscap和Permeo Security Driver那样，死活连不上需要密码验证的Socks5 Proxy）<br><br>　　通过ｇｏｏｇｌｅ，我了解到OpenVPN是一个不错的解决方案，于是就决定用它了。服务器使用的是Linux (2.4.19)，可以在官方主页<a href="http://openvpn.net/" rel="nofollow" target="_blank">http://openvpn.net/</a>下载，我用的版本是2.0.6。客户端是WindowsXP，可以在<a href="http://openvpn.se/" rel="nofollow" target="_blank">http://openvpn.se/</a>下载OpenVPN GUI for Windows，我用的是1.0.3。安装和配置没有什么问题，参考<a href="http://cache.baidu.com/c?word=&amp;url=http://blog.blogchina.com/upload/2004-12-01/20041201214731353870.htm&amp;b=0&amp;a=122&amp;user=baidu" rel="nofollow" target="_blank">HowTo</a>就OK了。服务器端主要需要注意的是要先保证系统有lzo和openssl这两个库。安装完后，客户端和服务端的配置文件分别以example里的客户端和服务器配置文件为蓝本，稍作修改就没问题了。证书和密钥的设置可以参考这篇：<a href="http://www.xfocus.net/articles/200511/%C5%E4%D6%C3OpenVPN%BD%F8%D0%D0%BC%D3%C3%DC%CD%A8%D1%B6v0.1.pdf" rel="nofollow" target="_blank">配置OpenVPN进行加密通讯v0.1.pdf</a>，在server端生成key后，把生成的ca.crt client1.crt和client1.key三个文件下载到C:\keys下面。（补充一点，在生成key和证书前，可以编辑vars文件的末尾，修改一些field的缺省值，这样就不用每次生成key和证书时都去改（其实不改也行，随便填的），一路回车就行了。我把默认值改成了：<br>
<pre>export KEY_COUNTRY="CN"
export KEY_PROVINCE="GD"
export KEY_CITY="Guangzhou"
export KEY_ORG="SUAA"
export KEY_EMAIL="me@myhost.mydomain"</pre>
<br>　　我的客户端配置如下：<br>----------client.ovpn-----------<br>
<pre>client
dev tun
proto udp
remote 192.168.1.199 1194 #当然，我实际使用的ip和port不是这个 ;)
resolv-retry infinite
nobind
persist-key
persist-tun
redirect-gateway #让VPN成为默认网关
ca "C:\\keys\\ca.crt"
cert "C:\\keys\\client1.crt"
key "C:\\keys\\client1.key"
comp-lzo
verb 3</pre>
<br>　　我的服务器端配置如下：<br>----------server.conf-----------<br>
<pre>port 1194
proto udp
dev tun
daemon
ca keys/ca.crt
cert keys/server.crt
key keys/server.key
dh keys/dh1024.pem
server 10.8.1.0 255.255.255.0
ifconfig-pool-persist ipp.txt
client-to-client
keepalive 10 120
comp-lzo
max-clients 10
user nobody
group nogroup #这个系统没有nobody组，但有nogroup组，所以就用nogroup了
chroot /usr/local/etc/vpn
persist-key
persist-tun
status openvpn-status.log
log openvpn.log
verb 3</pre>
<br><br>　　我实际使用的当然不是1194这个端口，这个端口是过不了这边的防火墙的，我用的是另外一个已确认防火墙没有挡掉的UDP端口。客户端这边是内网nat出去的，不过没有问题，因为服务器那边不需要访问通过我访问我这里的lan的其它，所以不用进行额外的设置。这样设置后，用OpenVPN GUI已经可以建立VPN连接了，互相也能ping得通。但这时客户端只能访问服务器，还不能通过服务器访问其它机器。<br><br>　　其实这个问题困扰了我很长时间，网上那些解释把我绕得晕头转向的，而之前因为我并没有开防火墙，跟iptables有关的说明我都一概不理，所以一直没有成功。后来静下来想一想，虽然服务器端能访问VPN子网，也能访问外部网络，但VPN到外部网络，必然是要经过nat的过程，而不仅仅是route的设置问题。OpenVPN本身不会自己去nat，还是需要在系统里另外实现。(不过奇怪的是，我一开始在自己vmware里的linux试验时，只要打开ip_forward就可以了……)<br><br>　　首先是要打开ip_forward：<br>
<pre>sysctl -w net.ipv4.ip_forward=1</pre>
<br>　或者<br>
<pre>echo "1"&gt;/proc/sys/net/ipv4/ip_forward</pre>
<br>　都可以(在我这里的FC4上，echo 1&gt;...居然不行，一定要echo "1"...真分特！)<br><br>　　然后是用iptables实现nat。我参考了这篇文章：<a href="http://www.linuxonline.net.cn/bbs/viewthread.php?tid=1080" rel="nofollow" target="_blank">http://www.linuxonline.net.cn/bbs/viewthread.php?tid=1080</a>&nbsp;。只要这个命令就可以了：<br>
<pre>iptables -t nat -A POSTROUTING -s 10.8.1.0/24 -o eth0 -j MASQUERADE</pre>
<br>　（我的vpn子网为10.8.1.0 mask 255.255.255.0）<br>　首先启动iptables：<br>
<pre>service iptables start</pre>
<br>　然后再运行上面那个命令设置nat（我没有iptables save来保存设置，所以要先启动服务再设置）<br>检查一下是否设置成功：<br>
<pre>iptables -t nat -L -n</pre>
<br><br>　　设置完成后，再试试vpn，发现已经可以ｎａｔ了。（不过如果在conf里设置了verb 9，在log里还是能看到GET INST BY VIRT: 66.102.9.99 [failed]这类东西，跟没nat时一样……）<br><br>　　另外，如果不把ｖｐｎ做为默认网关，可以在服务器的conf里用push "route ip mask"或者在客户端的配置文件里加入route ip mask来设置客户端访问哪些地址需要走vpn。</div>
<div class="content">&nbsp;</div>
<div class="content">&nbsp;</div>
<div class="content"><a href="http://blog.chinaunix.net/uid-26754879-id-3128711.html">http://blog.chinaunix.net/uid-26754879-id-3128711.html</a></div>
<div class="content">
<p align="center"><strong>Openvpn</strong><strong>完美解决公司网络没有固定公网</strong><strong>IP</strong><strong>的问题</strong></p>
<p>&nbsp;</p>
<p><strong>方案背景：</strong></p>
<p>公司办公网络使用长城宽带上网有一段时间了，有4个固定IP（2个电信，2个网通），链路不太稳定，经常有问题，因此考虑取消长城宽带，采用原来的adsl上网。但是有个问题，因为公司内网有几台服务器，需要通过固定IP接受外网用户发送的数据，因此如果没有公网IP，而ADSL获取的IP会变化，那么内网服务器接受外面用户的数据就会受到影响，通过采用openvpn很好的解决了这个问题。这个前提是你在机房的服务器有固定IP。</p>
<p><strong>&nbsp;</strong></p>
<p><strong>应用场景</strong></p>
<p>公司在托管机房有公网IP，在公司内部采用ADSL上网，又需要接受外网用户发送的数据，那么就可以在托管机房有公网IP的服务器部署openvpn，然后内网找一台服务器拨上去获取IP后，通过iptables的端口转发2次就可以完美解决公司网络没有公网IP的问题。</p>
<p>&nbsp;</p>
<p><strong>详细方案</strong></p>
<p>下面就来详细讲述如何用openvpn完美的解决公司网络没有公网IP的解决方案！</p>
<p align="left"><strong>一、&nbsp;&nbsp;&nbsp;</strong><strong>需求</strong></p>
<p>在没有固定公网IP的情况下，借助托管机房的固定公网IP，实现发布内网服务器的端口给外网用户调用，具体环境如下面网络图中所示，需要把内网服务器192.168.100.113的708端口借助托管机房的固定IP发布给外网用户调用</p>
<p align="left"><strong>二、&nbsp;&nbsp;&nbsp;</strong><strong>网络图</strong></p>
<p align="left">&nbsp;</p>
<p align="left"><strong>三、&nbsp;&nbsp;&nbsp;</strong><strong>openvpn</strong><strong>服务器的安装配置</strong></p>
<ol>
<li>openvpn服务器端的环境</li>


</ol>
<p align="left">OS: Centos 5.5 64bit 2.6.18</p>
<p align="left">Lzo version: 2.0.6(最新版本)</p>
<p align="left">Openvpn version: 2.2.2(最新版本)</p>
<ol>
<li>openvpn服务器端软件的安装</li>


</ol>
<ul>
<li>下载软件包</li>


</ul>
<div>
<p align="left">wget http://www.oberhumer.com/opensource/lzo/download/lzo-2.06.tar.gz</p>
<p align="left">wget http://swupdate.openvpn.org/community/releases/openvpn-2.2.2.tar.gz</p>


</div>
<ul>
<li>安装openssl</li>


</ul>
<div>
<p align="left">yum -y install openssl</p>


</div>
<p align="left">记录下openssl的版本号，一会有用，我这里安装的openssl-0.9.8e-20.el5.x86_64版本</p>
<ul>
<li>安装lzo</li>


</ul>
<div>
<p align="left">tar xzvf&nbsp;lzo-2.06.tar.gz</p>
<p align="left">cd lzo-2.06</p>
<p align="left">./configure</p>
<p align="left">make &amp;&amp; make check &amp;&amp; make install</p>


</div>
<ul>
<li>安装openvpn</li>


</ul>
<div>
<p align="left">tar xzvf&nbsp;openvpn-2.2.2.tar.gz</p>
<p align="left">cd openvpn-2.2.2</p>
<p align="left">./configure --prefix=/usr/local/openvpn --with-lzo-headers=/usr/local/include --with-lzo-lib=/usr/local/lib \</p>
<p align="left">--with-ssl-headers=/usr/local/include/openssl --with-ssl-lib=/usr/local/lib</p>
<p align="left">make&nbsp;&amp;&amp; make install</p>


</div>
<p align="left">&nbsp;</p>
<ol>
<li>制作openvpn证书key</li>


</ol>
<ul>
<li>初始话PKI</li>


</ul>
<p align="left">生成key变量可以采用export或者需改配置文件的形式，这里我只说采用export命令的形式！代码如下：</p>
<p align="left">cd openvpn-2.2.2/easy-rsa/2.0&nbsp;&nbsp;&nbsp;&nbsp;#注意这个路径和以前的版本不太一样</p>
<p align="left">cp openssl-0.9.8.cnf openssl.cnf&nbsp;&nbsp;&nbsp;#这里有三个版本的openssl的文件供你选择，这里需要选择前面我们安装的openssl版本</p>
<p align="left">export D=`pwd`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置路径</p>
<p align="left">export KEY_CONFIG=$D/openssl.cnf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置openssl文件的位置</p>
<p align="left">export KEY_DIR=$D/keys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置生成key的保存路径</p>
<p align="left">export KEY_SIZE=1024&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置生成key的加密位数</p>
<p align="left">export KEY_COUNTRY=CN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置国家</p>
<p align="left">export KEY_PROVINCE=GD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置省</p>
<p align="left">export KEY_CITY=SZ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置城市</p>
<p align="left">export KEY_ORG="futuotec"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#设置组织</p>
<p align="left">export KEY_EMAIL=<a href="mailto:monitor@staff.tuge.com" target="_blank">monitor@staff.tuge.com</a>&nbsp;&nbsp;#设置邮箱</p>
<p align="left">&nbsp;</p>
<p align="left">./clean-all&nbsp;&nbsp;&nbsp;&nbsp;#这个命令执行完成以后会创建前面设置的key保存路径&nbsp;&nbsp;</p>
<p align="left">&nbsp;</p>
<ul>
<li>生成ca证书和私钥</li>


</ul>
<p align="left">./build-ca&nbsp;&nbsp;&nbsp;&nbsp;#执行这个命令以后按照提示操作就可以了！示例如下:</p>
<div>
<p align="left">Country Name (2 letter code) [CN]:</p>
<p align="left">State or Province Name (full name) [GD]:</p>
<p align="left">Locality Name (eg, city) [SZ]:</p>
<p align="left">Organization Name (eg, company) [futuotec]:</p>
<p align="left">Organizational Unit Name (eg, section) []:futuotec</p>
<p align="left">Common Name (eg, your name or your server's hostname) []:server</p>
<p align="left">Email Address [<a href="mailto:monitor@staff.tuge.com" target="_blank">monitor@staff.tuge.com</a>]:</p>


</div>
<p align="left">&nbsp;</p>
<ul>
<li>生成server端证书和私钥</li>


</ul>
<p align="left">./build-key-server server&nbsp;&nbsp;&nbsp;#执行这个命令以后按照提示操作就可以了！示例如下</p>
<div>
<p align="left">Country Name (2 letter code) [CN]:</p>
<p align="left">State or Province Name (full name) [GD]:</p>
<p align="left">Locality Name (eg, city) [SZ]:</p>
<p align="left">Organization Name (eg, company) [futuotec]:</p>
<p align="left">Organizational Unit Name (eg, section) []:futuotec</p>
<p align="left">Common Name (eg, your name or your server's hostname) []:server</p>
<p align="left">Email Address [<a href="mailto:monitor@staff.tuge.com" target="_blank">monitor@staff.tuge.com</a>]:</p>
<p align="left">&nbsp;</p>
<p align="left">Please enter the following 'extra' attributes</p>
<p align="left">to be sent with your certificate request</p>
<p align="left">A challenge password []:test111</p>
<p align="left">An optional company name []:futuotec</p>


</div>
<p align="left">&nbsp;</p>
<ul>
<li>生成客户端证书和私钥</li>


</ul>
<p align="left">./build-key client1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#client1为客户端的登录名，按照提示操作，示例如下，可重复次操作建多个不同的登录名</p>
<div>
<p align="left">Country Name (2 letter code) [CN]:</p>
<p align="left">State or Province Name (full name) [GD]:</p>
<p align="left">Locality Name (eg, city) [SZ]:</p>
<p align="left">Organization Name (eg, company) [futuotec]:</p>
<p align="left">Organizational Unit Name (eg, section) []:futuotec</p>
<p align="left">Common Name (eg, your name or your server's hostname) []:client1&nbsp;&nbsp;&nbsp;&nbsp;#重要:&nbsp;每个不同的&nbsp;client&nbsp;生成的证书,&nbsp;名字必须不同.</p>
<p align="left">Email Address [<a href="mailto:monitor@staff.tuge.com" target="_blank">monitor@staff.tuge.com</a>]:</p>
<p align="left">&nbsp;</p>
<p align="left">Please enter the following 'extra' attributes</p>
<p align="left">to be sent with your certificate request</p>
<p align="left">A challenge password []:test111</p>
<p align="left">An optional company name []:futuotec</p>


</div>
<p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>
<ul>
<li>打包证书和私钥</li>


</ul>
<p align="left">./build-dh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#通过这个命令创建Diffie Hellman参数</p>
<p align="left">tar zcvf key.tar.gz keys</p>
<p align="left">将生成的key.tar.gz下载备用</p>
<p align="left">&nbsp;</p>
<ol>
<li>openvpn服务器端配置</li>


</ol>
<div>
<p align="left">mkdir&nbsp;/usr/local/openvpn/etc</p>
<p align="left">mkdir&nbsp;/usr/local/openvpn/keys/</p>


</div>
<p align="left">将前面生成的如下key文件和证书文件拷到/usr/local/openvpn/keys目录下：</p>
<p align="left">ca.crt、server.crt、server.key、dh1024.pem</p>
<p align="left">vim /usr/local/openvpn/etc/server.conf&nbsp;添加如下内容</p>
<div>
<p align="left">local&nbsp;58.33.123.75</p>
<p align="left">client-config-dir /usr/local/openvpn/etc/ccd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#介绍一下这个选项，这个选项是为制定的登录名使用单独的配置，比如制定固定的IP，本文就用到了这个配置，在这个目录下，创建一个用户名文件，然后写入你的需求配置，稍后会介绍</p>
<p align="left">port 1194</p>
<p align="left">proto udp</p>
<p align="left">dev tun</p>
<p align="left">ca /usr/local/openvpn/keys/ca.crt</p>
<p align="left">cert /usr/local/openvpn/keys/server.crt</p>
<p align="left">key /usr/local/openvpn/keys/server.key&nbsp;</p>
<p align="left">dh /usr/local/openvpn/keys/dh1024.pem</p>
<p align="left">server 172.16.100.0 255.255.255.0</p>
<p align="left">ifconfig-pool-persist ipp.txt</p>
<p align="left">push "route 172.16.88.0 255.255.255.0"</p>
<p align="left">push "route 172.16.100.0 255.255.255.0"</p>
<p align="left">push "dhcp-option DNS 172.16.88.10"</p>
<p align="left">client-to-client</p>
<p align="left">keepalive 10 120</p>
<p align="left">comp-lzo</p>
<p align="left">persist-key</p>
<p align="left">persist-tun</p>
<p align="left">status /var/log/openvpn-status.log</p>
<p align="left">log&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/var/log/openvpn.log</p>
<p align="left">verb 4</p>


</div>
<p align="left"><strong>&nbsp;</strong></p>
<p align="left"><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>vim&nbsp;&nbsp;/usr/local/openvpn/etc/ccd/client1&nbsp;&nbsp;添加如下内容：</p>
<div>
<p align="left">ifconfig-push 172.16.100.9&nbsp;172.16.100.10</p>


</div>
<p align="left">可能有人会想为什么要制定两个IP，这是因为openvpn只支持255.255.255.252&nbsp;的子网，而且252的子网只有两个IP，一个分配给客户端，一个留给服务器用.因此只能ccd目录下面的文件内容只能是：</p>
<div>
<p align="left">ifconfig-push 172.16.100.1 172.16.100.2</p>
<p align="left">ifconfig-push 172.16.100.5 172.16.100.6&nbsp;&nbsp;…..</p>


</div>
<p align="left">如果配置错误，会报如下错误：</p>
<div>
<p align="left">Tue Jan 10 18:02:33 2012 us=197724 read UDPv4 [ECONNREFUSED]: Connection refused (code=111)</p>


</div>
<p align="left"><strong>&nbsp;</strong></p>
<p align="left">启动openvpn服务端：</p>
<div>
<p align="left">/usr/local/openvpn/sbin/openvpn --config /usr/local/openvpn/etc/server.conf &gt; /dev/null 2&gt;&amp;1 &amp;</p>


</div>
<p align="left">然后将该命令写入到/etc/rc.local中&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong></p>
<p align="left"><strong>&nbsp;</strong></p>
<p align="left"><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong><strong>查看是否启动成功：</strong></p>
<div>
<p align="left">netstat -lnp | grep openvpn</p>
<p align="left">udp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;58.33.123.75:1194&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0.0.0:*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11545/openvpn&nbsp;</p>


</div>
<p align="left"><strong>&nbsp;</strong></p>
<p align="left"><strong>四、&nbsp;&nbsp;&nbsp;</strong><strong>openvpn</strong><strong>客户端的安装配置</strong></p>
<ol>
<li>openvpn客户端的环境</li>


</ol>
<p align="left">客户端的环境和服务器端的环境一样</p>
<p align="left">OS: Centos 5.5 64bit 2.6.18</p>
<p align="left">Lzo version: 2.0.6(最新版本)</p>
<p align="left">Openvpn version: 2.2.2(最新版本)</p>
<p align="left">&nbsp;</p>
<ol>
<li>openvpn客户端的安装</li>


</ol>
<p align="left">安装也和服务器的一样，这里就不赘述</p>
<p align="left">&nbsp;</p>
<ol>
<li>openvpn客户端的配置</li>


</ol>
<p align="left">mkdir /usr/local/openvpn/etc</p>
<p align="left">mkdir /usr/local/openvpn/keys/</p>
<p align="left">将需要的前面打包的相关key文件放到keys目录下，比如client1用户需要copy到客户端的文件如下：</p>
<div>
<p align="left">ca.crt</p>
<p align="left">ca.key</p>
<p align="left">client1.crt</p>
<p align="left">client1.csr</p>
<p align="left">client1.key</p>


</div>
<p align="left">&nbsp;</p>
<p align="left">vim /usr/local/openvpn/etc/client.conf&nbsp;添加如下内容：</p>
<div>
<p align="left">client</p>
<p align="left">dev tun</p>
<p align="left">proto udp</p>
<p align="left">remote&nbsp;58.33.123.75&nbsp;1194</p>
<p align="left">persist-key</p>
<p align="left">persist-tun</p>
<p align="left">ca /usr/local/openvpn/keys/ca.crt</p>
<p align="left">cert /usr/local/openvpn/keys/client2.crt</p>
<p align="left">key /usr/local/openvpn/keys/client2.key</p>
<p align="left">ns-cert-type server</p>
<p align="left">comp-lzo</p>
<p align="left">verb 4</p>


</div>
<p align="left">&nbsp;</p>
<p align="left">启动客户端：</p>
<div>
<p align="left">/usr/local/openvpn/sbin/openvpn --config /usr/local/openvpn/etc/client.conf &gt; /dev/null 2&gt;&amp;1 &amp;</p>


</div>
<p align="left">并将该命令写入/etc/rc.local</p>
<p align="left">&nbsp;</p>
<p align="left">检查是否链接成功，已经分配的IP是否是制定的IP</p>
<p align="left">ifconfig显示如下内容：</p>
<div>
<p align="left">tun0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Link encap:UNSPEC&nbsp;&nbsp;HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00&nbsp;</p>
<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inet addr:172.16.100.9&nbsp;&nbsp;P-t-P:172.16.100.10&nbsp;Mask:255.255.255.255</p>


</div>
<p align="left">&nbsp;</p>
<p align="left"><strong>五、&nbsp;&nbsp;&nbsp;</strong><strong>openvpn</strong><strong>服务器端</strong><strong>iptables</strong><strong>的设置</strong></p>
<div>
<p align="left">iptables -t nat -A PREROUTING -d 58.33.123.75 -p tcp -m tcp --dport 708 -j DNAT --to-destination 172.16.100.9:708</p>
<p align="left">iptables -t nat -A POSTROUTING -j MASQUERADE</p>
<p align="left">iptables -A INPUT -p udp -m udp --dport 1194 -j ACCEPT</p>
<p align="left">iptables -A&nbsp;&nbsp;INPUT -s 172.16.100.0/255.255.255.0 -j ACCEPT</p>


</div>
<p align="left">说明：将外面请求机房中58.33.123.75端口708的请求都发往公司内网的vpn客户端，打开openvpn的1194端口，允许网段的访问！</p>
<p align="left"><strong>&nbsp;</strong></p>
<p align="left"><strong>六、&nbsp;&nbsp;&nbsp;</strong><strong>openvpn</strong><strong>客户端</strong><strong>iptables</strong><strong>的设置</strong></p>
<div>
<p align="left">iptables -t nat -A PREROUTING -s 58.33.123.75 -p tcp -m tcp --dport 708 -j DNAT --to-destination 192.168.100.113:708</p>
<p align="left">iptables -t nat -A POSTROUTING -j MASQUERADE</p>


</div>
<p align="left">说明：将源是来自58.33.123.75并且目标端口为708的请就转发到内网的192.168.100.113的708端口，这就完成了整个转发过程</p>
<p><strong>&nbsp;</strong></p>
<p align="left"><strong>七、&nbsp;&nbsp;&nbsp;</strong><strong>测试端口调用是否</strong><strong>OK</strong></p>
<p align="left">因为发布的tcp的端口，因此可以采用telnet的方式来调用，在外网找台机器，执行如下命令看看是否OK！</p>
<p align="left">telnet 58.33.123.75 708</p>
<p align="left">如果不能连接，就需要检查vpn是否OK。Ping是个很好的工具，以及检查防火墙规则</p>
<p align="left">&nbsp;</p>
<p align="left"><strong>总结：</strong></p>
<p align="left">对于我们搞IT的来说，其实解决问题的方法很多，需要灵活的来运用各种技术。这样能给你的企业节省不少成本，而且能让你的工作更有创造性。因此我们在日常工作中应该充分发挥我们的想象力，灵活应用我们的各种技术，你会发现其实技术的道路还可以更宽、更精彩！</p>


</div>


</div>


</div></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory">分类: <a href="https://www.cnblogs.com/taosim/category/421240.html" target="_blank">ESX4_OpenVPN_FreeBSD_django_flup</a>,<a href="https://www.cnblogs.com/taosim/category/299349.html" target="_blank">FreeBSD</a>,<a href="https://www.cnblogs.com/taosim/category/389310.html" target="_blank">iptables_(ciso,juniper)</a>,<a href="https://www.cnblogs.com/taosim/category/295101.html" target="_blank">网络层</a>,<a href="https://www.cnblogs.com/taosim/category/390577.html" target="_blank">协议_tcpip_ipv6_LACP</a></div>
<div id="EntryTag"></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(2731037,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
            <a id="green_channel_follow" onclick="follow(&#39;326dc150-124a-e011-ac81-842b2b196315&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/taosim/" target="_blank"><img src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/sample_face.gif" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/taosim/">陳聽溪</a><br>
            <a href="https://home.cnblogs.com/u/taosim/followees">关注 - 328</a><br>
            <a href="https://home.cnblogs.com/u/taosim/followers">粉丝 - 55</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow(&#39;326dc150-124a-e011-ac81-842b2b196315&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(2731037,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">0</span>
    </div>
    <div class="buryit" onclick="votePost(2731037,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
<script type="text/javascript">
    currentDiggType = 0;
</script></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="https://www.cnblogs.com/taosim/articles/2729633.html" class="p_n_p_prefix">« </a> 上一篇：<a href="https://www.cnblogs.com/taosim/articles/2729633.html" title="发布于2012-10-18 15:49">字符串查找</a><br><a href="https://www.cnblogs.com/taosim/articles/2760138.html" class="p_n_p_prefix">» </a> 下一篇：<a href="https://www.cnblogs.com/taosim/articles/2760138.html" title="发布于2012-11-08 11:59">流量查看命令</a><br></div>
</div>


		</div>
		<div class="postDesc">posted @ <span id="post-date">2012-10-19 14:48</span> <a href="https://www.cnblogs.com/taosim/">陳聽溪</a> 阅读(<span id="post_view_count">4628</span>) 评论(<span id="post_comment_count">1</span>) &nbsp;<a href="https://i.cnblogs.com/EditArticles.aspx?postid=2731037" rel="nofollow">编辑</a> <a href="https://www.cnblogs.com/taosim/articles/2731037.html#" onclick="AddToWz(2731037);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=85560,cb_entryId=2731037,cb_blogApp=currentBlogApp,cb_blogUserGuid='326dc150-124a-e011-ac81-842b2b196315',cb_entryCreatedDate='2012/10/19 14:48:00';loadViewCount(cb_entryId);var cb_postType=2;var isMarkdown=false;</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<br>
<div class="feedback_area_title">评论列表</div>
<div class="feedbackNoItems"></div>	

		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="https://www.cnblogs.com/taosim/articles/2731037.html#2700848" class="layer">#1楼</a><a name="2700848" id="comment_anchor_2700848"></a><span id="comment-maxId" style="display:none;">2700848</span><span id="comment-maxDate" style="display:none;">2013/6/8 11:01:58</span>  <span class="comment_date">2013-06-08 11:01</span> <a id="a_comment_author_2700848" href="https://www.cnblogs.com/ayao/" target="_blank">ayao</a> <a href="http://msg.cnblogs.com/send/ayao" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2700848" class="blog_comment_body">图破了</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2700848,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2700848,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	<div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="https://www.cnblogs.com/taosim/articles/2731037.html#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/taosim/articles/2731037.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-工控&#39;)">【推荐】超50万C++/C#源码: 大型实时仿真组态图形源码</a><br><a href="https://ke.qq.com/adActivity.html?name=xiangxueketang2" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-享学&#39;)">【推荐】Java工作两年，一天竟收到33份面试通知</a><br><a href="https://q.cnblogs.com/" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-博问&#39;)">【推荐】程序员问答平台，解决您开发中遇到的技术难题</a><br></div>
<div id="opt_under_post"></div>
<script async="async" src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/gpt.js.download"></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id="cnblogs_c1" class="c_ad_block">
    <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;" data-google-query-id="CID7kfreueICFRK6lgod_vEPBA"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C1_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C1_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="1" data-load-complete="true" src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/saved_resource.html"></iframe></div></div>
</div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>相关博文：</b><br>·  <a href="https://www.cnblogs.com/zengjfgit/p/7755860.html" target="_blank" onclick="clickRecomItmem(7755860)">NAT 穿透</a><br>·  <a href="https://www.cnblogs.com/no7dw/archive/2012/06/08/2542291.html" target="_blank" onclick="clickRecomItmem(2542291)">NAT穿透</a><br>·  <a href="https://www.cnblogs.com/linuxprobe-sarah/p/10307286.html" target="_blank" onclick="clickRecomItmem(10307286)">什么是公网IP、内网IP和NAT转换？</a><br>·  <a href="https://www.cnblogs.com/zhiweiyouzhishenghuo/archive/2012/05/20/5005541.html" target="_blank" onclick="clickRecomItmem(5005541)">NAT和NAT穿透</a><br>·  <a href="https://www.cnblogs.com/milton/p/5126110.html" target="_blank" onclick="clickRecomItmem(5126110)">Openvpn 公网访问内网</a><br></div></div>
<div id="cnblogs_c2" class="c_ad_block">
    <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;" data-google-query-id="CIH7kfreueICFRK6lgod_vEPBA"><div id="google_ads_iframe_/1090369/C2_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C2_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C2_0" width="468" height="60" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="2" data-load-complete="true" src="./openvpn,ddns,nat；穿透，无公网IP - 陳聽溪 - 博客园_files/saved_resource(1).html"></iframe></div></div>
</div>
<div id="under_post_kb"><div class="itnews c_ad_block"><b>最新新闻</b>：<br> ·  <a href="https://news.cnblogs.com/n/625906/" target="_blank">一线丨中国铁塔4年：节省投资1148亿元 共享率升至75%</a><br> ·  <a href="https://news.cnblogs.com/n/625905/" target="_blank">全球亿万富豪地图出炉！有钱人最多的城市是...</a><br> ·  <a href="https://news.cnblogs.com/n/625904/" target="_blank">为何要去探测太阳——专访帕克太阳探针号首席科学家Marco Velli</a><br> ·  <a href="https://news.cnblogs.com/n/625903/" target="_blank">邬贺铨谈华为事件：华为已熟练掌握ARM架构修改</a><br> ·  <a href="https://news.cnblogs.com/n/625902/" target="_blank">独角兽Palantir上市受阻 IPO日期或延至2020年</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"><div id="profile_block">昵称：<a href="https://home.cnblogs.com/u/taosim/">陳聽溪</a><br>园龄：<a href="https://home.cnblogs.com/u/taosim/" title="入园时间：2011-03-09">8年2个月</a><br>粉丝：<a href="https://home.cnblogs.com/u/taosim/followers/">55</a><br>关注：<a href="https://home.cnblogs.com/u/taosim/followees/">328</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow(&#39;326dc150-124a-e011-ac81-842b2b196315&#39;)">+加关注</a></div><script>getFollowStatus('326dc150-124a-e011-ac81-842b2b196315')</script></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2019/04/01&#39;);return false;">&lt;</a></td><td align="center">2019年5月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2019/06/01&#39;);return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td class="CalWeekendDay" align="center">4</td></tr><tr><td class="CalWeekendDay" align="center">5</td><td align="center">6</td><td align="center">7</td><td align="center">8</td><td align="center">9</td><td align="center">10</td><td class="CalWeekendDay" align="center">11</td></tr><tr><td class="CalWeekendDay" align="center">12</td><td align="center">13</td><td align="center">14</td><td align="center">15</td><td align="center">16</td><td align="center">17</td><td class="CalWeekendDay" align="center">18</td></tr><tr><td class="CalWeekendDay" align="center">19</td><td align="center">20</td><td align="center">21</td><td align="center">22</td><td align="center">23</td><td align="center">24</td><td class="CalWeekendDay" align="center">25</td></tr><tr><td class="CalWeekendDay" align="center">26</td><td class="CalTodayDay" align="center">27</td><td align="center">28</td><td align="center">29</td><td align="center">30</td><td align="center">31</td><td class="CalOtherMonthDay" align="center">1</td></tr><tr><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td><td class="CalOtherMonthDay" align="center">7</td><td class="CalOtherMonthDay" align="center">8</td></tr>
</tbody></table></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk"></div>
</div>
</div>

</div><div id="sidebar_shortcut" class="sidebar-block">
<div class="catListLink">
<h3 class="catListTitle">常用链接</h3>
<ul>
<li><a href="https://www.cnblogs.com/taosim/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="https://www.cnblogs.com/taosim/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="https://www.cnblogs.com/taosim/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="https://www.cnblogs.com/taosim/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="https://www.cnblogs.com/taosim/tag/" title="我的博客的标签列表">我的标签</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">
<ul>

</ul>
</div>
</div></div><div id="sidebar_toptags" class="sidebar-block">
<div class="catListTag">
<h3 class="catListTitle">我的标签</h3>
<ul>
<li><a href="https://www.cnblogs.com/taosim/tag/cacti/">cacti</a>(1)</li><li><a href="https://www.cnblogs.com/taosim/tag/centos/">centos</a>(1)</li><li><a href="https://www.cnblogs.com/taosim/tag/nagios/">nagios</a>(1)</li>
</ul>
</div></div><div id="sidebar_categories">
<div id="sidebar_postcategory" class="catListPostCategory sidebar-block">
<h3 class="catListTitle">随笔分类</h3>

<ul>

<li><a id="CatList_LinkList_0_Link_0" href="https://www.cnblogs.com/taosim/category/288587.html">logs_日志笔记(49)</a> </li>

<li><a id="CatList_LinkList_0_Link_1" href="https://www.cnblogs.com/taosim/category/445796.html">MySite_nginx-django-python-go.etc(1)</a> </li>

<li><a id="CatList_LinkList_0_Link_2" href="https://www.cnblogs.com/taosim/category/381328.html">Net(11)</a> </li>

<li><a id="CatList_LinkList_0_Link_3" href="https://www.cnblogs.com/taosim/category/381326.html">Oracle_MySQL(MariaDB)_MongoDB(16)</a> </li>

<li><a id="CatList_LinkList_0_Link_4" href="https://www.cnblogs.com/taosim/category/381325.html">OS_About(45)</a> </li>

<li><a id="CatList_LinkList_0_Link_5" href="https://www.cnblogs.com/taosim/category/381327.html">Server_app(48)</a> </li>

<li><a id="CatList_LinkList_0_Link_6" href="https://www.cnblogs.com/taosim/category/486006.html">流量_网络_安全_攻防(8)</a> </li>

</ul>

</div>

<div id="sidebar_postarchive" class="catListPostArchive sidebar-block">
<h3 class="catListTitle">随笔档案</h3>

<ul>

<li><a id="CatList_LinkList_1_Link_0" href="https://www.cnblogs.com/taosim/archive/2016/11.html">2016年11月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_1" href="https://www.cnblogs.com/taosim/archive/2015/03.html">2015年3月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_2" href="https://www.cnblogs.com/taosim/archive/2015/02.html">2015年2月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_3" href="https://www.cnblogs.com/taosim/archive/2015/01.html">2015年1月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_4" href="https://www.cnblogs.com/taosim/archive/2014/12.html">2014年12月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_5" href="https://www.cnblogs.com/taosim/archive/2014/11.html">2014年11月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_6" href="https://www.cnblogs.com/taosim/archive/2014/10.html">2014年10月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_7" href="https://www.cnblogs.com/taosim/archive/2014/09.html">2014年9月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_8" href="https://www.cnblogs.com/taosim/archive/2014/06.html">2014年6月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_9" href="https://www.cnblogs.com/taosim/archive/2014/05.html">2014年5月 (11)</a> </li>

<li><a id="CatList_LinkList_1_Link_10" href="https://www.cnblogs.com/taosim/archive/2014/04.html">2014年4月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_11" href="https://www.cnblogs.com/taosim/archive/2014/03.html">2014年3月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_12" href="https://www.cnblogs.com/taosim/archive/2014/02.html">2014年2月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_13" href="https://www.cnblogs.com/taosim/archive/2014/01.html">2014年1月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_14" href="https://www.cnblogs.com/taosim/archive/2013/12.html">2013年12月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_15" href="https://www.cnblogs.com/taosim/archive/2013/11.html">2013年11月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_16" href="https://www.cnblogs.com/taosim/archive/2013/10.html">2013年10月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_17" href="https://www.cnblogs.com/taosim/archive/2013/09.html">2013年9月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_18" href="https://www.cnblogs.com/taosim/archive/2013/08.html">2013年8月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_19" href="https://www.cnblogs.com/taosim/archive/2013/06.html">2013年6月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_20" href="https://www.cnblogs.com/taosim/archive/2013/05.html">2013年5月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_21" href="https://www.cnblogs.com/taosim/archive/2013/04.html">2013年4月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_22" href="https://www.cnblogs.com/taosim/archive/2013/03.html">2013年3月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_23" href="https://www.cnblogs.com/taosim/archive/2013/02.html">2013年2月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_24" href="https://www.cnblogs.com/taosim/archive/2013/01.html">2013年1月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_25" href="https://www.cnblogs.com/taosim/archive/2012/12.html">2012年12月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_26" href="https://www.cnblogs.com/taosim/archive/2012/11.html">2012年11月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_27" href="https://www.cnblogs.com/taosim/archive/2012/09.html">2012年9月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_28" href="https://www.cnblogs.com/taosim/archive/2012/08.html">2012年8月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_29" href="https://www.cnblogs.com/taosim/archive/2012/07.html">2012年7月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_30" href="https://www.cnblogs.com/taosim/archive/2012/06.html">2012年6月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_31" href="https://www.cnblogs.com/taosim/archive/2012/05.html">2012年5月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_32" href="https://www.cnblogs.com/taosim/archive/2012/03.html">2012年3月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_33" href="https://www.cnblogs.com/taosim/archive/2011/06.html">2011年6月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_34" href="https://www.cnblogs.com/taosim/archive/2011/05.html">2011年5月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_35" href="https://www.cnblogs.com/taosim/archive/2011/03.html">2011年3月 (1)</a> </li>

</ul>

</div>

<div id="sidebar_articlecategory" class="catListArticleCategory sidebar-block">
<h3 class="catListTitle">文章分类</h3>

<ul>

<li><a id="CatList_LinkList_2_Link_0" href="https://www.cnblogs.com/taosim/category/389308.html">000_架构与思路及规划(3)</a> </li>

<li><a id="CatList_LinkList_2_Link_1" href="https://www.cnblogs.com/taosim/category/491980.html">ab_qps(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_2" href="https://www.cnblogs.com/taosim/category/294469.html">AIX(2)</a> </li>

<li><a id="CatList_LinkList_2_Link_3" href="https://www.cnblogs.com/taosim/category/295057.html">Apache-Tomcat-Weblogic-PHP(33)</a> </li>

<li><a id="CatList_LinkList_2_Link_4" href="https://www.cnblogs.com/taosim/category/288843.html">apt相关笔记(14)</a> </li>

<li><a id="CatList_LinkList_2_Link_5" href="https://www.cnblogs.com/taosim/category/288842.html">apt相关转载收藏(28)</a> </li>

<li><a id="CatList_LinkList_2_Link_6" href="https://www.cnblogs.com/taosim/category/502535.html">Arch_Gentoo_LFS</a> </li>

<li><a id="CatList_LinkList_2_Link_7" href="https://www.cnblogs.com/taosim/category/544704.html">BackTrack(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_8" href="https://www.cnblogs.com/taosim/category/622163.html">bind(named),DNS;智能DNS(5)</a> </li>

<li><a id="CatList_LinkList_2_Link_9" href="https://www.cnblogs.com/taosim/category/585059.html">cronolog(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_10" href="https://www.cnblogs.com/taosim/category/289262.html">DBA(oracle,mysql,mongodb,postgressql)(99)</a> </li>

<li><a id="CatList_LinkList_2_Link_11" href="https://www.cnblogs.com/taosim/category/627939.html">eclipse(python,lua,go,perl)(5)</a> </li>

<li><a id="CatList_LinkList_2_Link_12" href="https://www.cnblogs.com/taosim/category/447833.html">Erlang(RabbitMQ-PostGres)(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_13" href="https://www.cnblogs.com/taosim/category/421240.html">ESX4_OpenVPN_FreeBSD_django_flup(4)</a> </li>

<li><a id="CatList_LinkList_2_Link_14" href="https://www.cnblogs.com/taosim/category/299349.html">FreeBSD(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_15" href="https://www.cnblogs.com/taosim/category/516079.html">Freenx_Xmanager_VNC(2)</a> </li>

<li><a id="CatList_LinkList_2_Link_16" href="https://www.cnblogs.com/taosim/category/390897.html">FVWM_Gnome_Xfce_KDE(3)</a> </li>

<li><a id="CatList_LinkList_2_Link_17" href="https://www.cnblogs.com/taosim/category/520330.html">Git_github_个人wiki(3)</a> </li>

<li><a id="CatList_LinkList_2_Link_18" href="https://www.cnblogs.com/taosim/category/623569.html">GoldenGate(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_19" href="https://www.cnblogs.com/taosim/category/489151.html">go语言相关(2)</a> </li>

<li><a id="CatList_LinkList_2_Link_20" href="https://www.cnblogs.com/taosim/category/544624.html">HP_Unix(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_21" href="https://www.cnblogs.com/taosim/category/389310.html">iptables_(ciso,juniper)(15)</a> </li>

<li><a id="CatList_LinkList_2_Link_22" href="https://www.cnblogs.com/taosim/category/471785.html">Jenkins(Hudson)_Maven_Svn(2)</a> </li>

<li><a id="CatList_LinkList_2_Link_23" href="https://www.cnblogs.com/taosim/category/363741.html">kvm-xen-virtualbox-vmSphere-VwESX 4.0(13)</a> </li>

<li><a id="CatList_LinkList_2_Link_24" href="https://www.cnblogs.com/taosim/category/288588.html">logs_日志笔记(80)</a> </li>

<li><a id="CatList_LinkList_2_Link_25" href="https://www.cnblogs.com/taosim/category/367448.html">Longene--Wine(2)</a> </li>

<li><a id="CatList_LinkList_2_Link_26" href="https://www.cnblogs.com/taosim/category/294614.html">Memcache_Varnish(4)</a> </li>

<li><a id="CatList_LinkList_2_Link_27" href="https://www.cnblogs.com/taosim/category/512880.html">MongoDB(4)</a> </li>

<li><a id="CatList_LinkList_2_Link_28" href="https://www.cnblogs.com/taosim/category/297680.html">MonitorCheck(Zabbix_ganglia_icinga_Cacti-Nagios-Ntop)(41)</a> </li>

<li><a id="CatList_LinkList_2_Link_29" href="https://www.cnblogs.com/taosim/category/373587.html">nginx+django+python-flup+uwsgi_squeeze(28)</a> </li>

<li><a id="CatList_LinkList_2_Link_30" href="https://www.cnblogs.com/taosim/category/634314.html">node.js(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_31" href="https://www.cnblogs.com/taosim/category/623578.html">OpenTSDB</a> </li>

<li><a id="CatList_LinkList_2_Link_32" href="https://www.cnblogs.com/taosim/category/377593.html">OS_File(90)</a> </li>

<li><a id="CatList_LinkList_2_Link_33" href="https://www.cnblogs.com/taosim/category/503166.html">Pbuilder_chroot(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_34" href="https://www.cnblogs.com/taosim/category/492767.html">postfix_webmail,dovecot,extmail-extman,qmail(3)</a> </li>

<li><a id="CatList_LinkList_2_Link_35" href="https://www.cnblogs.com/taosim/category/548827.html">PowerDesigner(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_36" href="https://www.cnblogs.com/taosim/category/289242.html">Public收藏笔记(72)</a> </li>

<li><a id="CatList_LinkList_2_Link_37" href="https://www.cnblogs.com/taosim/category/299348.html">PXE-TFTP-无人值守</a> </li>

<li><a id="CatList_LinkList_2_Link_38" href="https://www.cnblogs.com/taosim/category/295046.html">Python-蛇(19)</a> </li>

<li><a id="CatList_LinkList_2_Link_39" href="https://www.cnblogs.com/taosim/category/288845.html">rpm相关笔记(13)</a> </li>

<li><a id="CatList_LinkList_2_Link_40" href="https://www.cnblogs.com/taosim/category/288844.html">rpm相关转载收藏(16)</a> </li>

<li><a id="CatList_LinkList_2_Link_41" href="https://www.cnblogs.com/taosim/category/464775.html">SaltStack_Puppet_ansible_chef_vagrant(15)</a> </li>

<li><a id="CatList_LinkList_2_Link_42" href="https://www.cnblogs.com/taosim/category/617972.html">screen_tmux_byobu(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_43" href="https://www.cnblogs.com/taosim/category/388040.html">Sersync_Inotify_Unison_Rsync(6)</a> </li>

<li><a id="CatList_LinkList_2_Link_44" href="https://www.cnblogs.com/taosim/category/361732.html">shell_awk.sed_powershell(26)</a> </li>

<li><a id="CatList_LinkList_2_Link_45" href="https://www.cnblogs.com/taosim/category/293334.html">Squid-varnish_HAproxy_lvs_keepalived_heartbeat-DG-GFS(24)</a> </li>

<li><a id="CatList_LinkList_2_Link_46" href="https://www.cnblogs.com/taosim/category/590977.html">SSL_htttps_加解密etc(2)</a> </li>

<li><a id="CatList_LinkList_2_Link_47" href="https://www.cnblogs.com/taosim/category/512411.html">uwsgi(uWSGI)__Fastcgi,cgi(2)</a> </li>

<li><a id="CatList_LinkList_2_Link_48" href="https://www.cnblogs.com/taosim/category/373516.html">Vi_Emacs_wget-curl(11)</a> </li>

<li><a id="CatList_LinkList_2_Link_49" href="https://www.cnblogs.com/taosim/category/449830.html">windowsServer(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_50" href="https://www.cnblogs.com/taosim/category/679423.html">zookeeper_hadoop_hbase_大数据-分布式</a> </li>

<li><a id="CatList_LinkList_2_Link_51" href="https://www.cnblogs.com/taosim/category/290815.html">比较文学(53)</a> </li>

<li><a id="CatList_LinkList_2_Link_52" href="https://www.cnblogs.com/taosim/category/295102.html">存储层(3)</a> </li>

<li><a id="CatList_LinkList_2_Link_53" href="https://www.cnblogs.com/taosim/category/290849.html">分布式&amp;缓存队列&amp;存储_redis_Mogilefs_fastdfs(8)</a> </li>

<li><a id="CatList_LinkList_2_Link_54" href="https://www.cnblogs.com/taosim/category/298095.html">镜像同步(2)</a> </li>

<li><a id="CatList_LinkList_2_Link_55" href="https://www.cnblogs.com/taosim/category/295675.html">开源基金会-GNU(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_56" href="https://www.cnblogs.com/taosim/category/619013.html">快捷方式_各种帅气优雅的键盘操作(5)</a> </li>

<li><a id="CatList_LinkList_2_Link_57" href="https://www.cnblogs.com/taosim/category/485975.html">流量,异常,监控(15)</a> </li>

<li><a id="CatList_LinkList_2_Link_58" href="https://www.cnblogs.com/taosim/category/601808.html">入侵_渗透_监测_追溯_内控(8)</a> </li>

<li><a id="CatList_LinkList_2_Link_59" href="https://www.cnblogs.com/taosim/category/532223.html">社会_政经(3)</a> </li>

<li><a id="CatList_LinkList_2_Link_60" href="https://www.cnblogs.com/taosim/category/519848.html">图片处理(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_61" href="https://www.cnblogs.com/taosim/category/295101.html">网络层(34)</a> </li>

<li><a id="CatList_LinkList_2_Link_62" href="https://www.cnblogs.com/taosim/category/587083.html">系统调优相关,mem,io,net,etc(7)</a> </li>

<li><a id="CatList_LinkList_2_Link_63" href="https://www.cnblogs.com/taosim/category/390577.html">协议_tcpip_ipv6_LACP(19)</a> </li>

<li><a id="CatList_LinkList_2_Link_64" href="https://www.cnblogs.com/taosim/category/662245.html">性能测试(2)</a> </li>

<li><a id="CatList_LinkList_2_Link_65" href="https://www.cnblogs.com/taosim/category/624386.html">性能瓶颈排查(4)</a> </li>

<li><a id="CatList_LinkList_2_Link_66" href="https://www.cnblogs.com/taosim/category/521040.html">音频处理(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_67" href="https://www.cnblogs.com/taosim/category/291144.html">硬件相关(18)</a> </li>

<li><a id="CatList_LinkList_2_Link_68" href="https://www.cnblogs.com/taosim/category/524975.html">永中，金山，Libre(1)</a> </li>

<li><a id="CatList_LinkList_2_Link_69" href="https://www.cnblogs.com/taosim/category/360301.html">重装系统后的重复苦力(14)</a> </li>

<li><a id="CatList_LinkList_2_Link_70" href="https://www.cnblogs.com/taosim/category/624999.html">抓包工具(1)</a> </li>

</ul>

</div>

<div id="sidebar_imagecategory" class="catListImageCategory sidebar-block">
<h3 class="catListTitle">相册</h3>

<ul>

<li><a id="CatList_LinkList_3_Link_0" href="https://www.cnblogs.com/taosim/gallery/389586.html" rel="nofollow">技术截图-写文插图(47)</a> </li>

</ul>

</div>

<div id="sidebar_本站点的python相关文章" class="catList本站点的python相关文章 sidebar-block">
<h3 class="catListTitle">python-cnblogs</h3>

<ul>

<li><a id="CatList_LinkList_4_Link_0" href="http://www.22455.com/index.php/category/Python">EvE's Blog</a> </li>
<li class="c_b_p_link_desc">一个很不错的技术博客；</li>
<li><a id="CatList_LinkList_4_Link_1" href="https://www.cnblogs.com/linyawen/archive/2011/09/22/2185361.html">python 入门 简明教程</a> </li>
<li class="c_b_p_link_desc">
http://sebug.net/paper/python/ch03s04.html#how</li>
<li><a id="CatList_LinkList_4_Link_2" href="https://www.cnblogs.com/wghao/archive/2011/09/22/2184640.html">Python编程之美 - 初识GUI程序</a> </li>

<li><a id="CatList_LinkList_4_Link_3" href="https://www.cnblogs.com/bitspace/archive/2011/09/18/2180454.html">Python极轻量HTTP服务器&amp;框架 Bottle</a> </li>

<li><a id="CatList_LinkList_4_Link_4" href="https://www.cnblogs.com/leether/archive/2011/10/07/2200717.html">如何在Python中操作数据库</a> </li>
<li class="c_b_p_link_desc">关系型数据库的强项在于数据的存储和数据的处理。但是它缺乏对于商业逻辑、界面等的操作能力。</li>
<li><a id="CatList_LinkList_4_Link_5" href="https://www.cnblogs.com/holbrook/archive/2012/03/05/2380398.html">使用Fabric自动化你的任务</a> </li>
<li class="c_b_p_link_desc">使用Fabric，你可以管理一系列host的SSH连接（包括主机名，用户，密码），定义一系列的任务函数，然后灵活的指定在哪些host上执行哪些任务。</li>
</ul>

</div>

<div id="sidebar_比如,在线农历,在线翻译,在线天气,在线测速,等等." class="catList比如,在线农历,在线翻译,在线天气,在线测速,等等. sidebar-block">
<h3 class="catListTitle">各种常用优良工具</h3>

<ul>

<li><a id="CatList_LinkList_5_Link_0" href="http://www.aixchina.net/club/forum-12-1.html" rel="nofollow">aixchina</a> </li>

<li><a id="CatList_LinkList_5_Link_1" href="http://cairographics.org/" rel="nofollow">cairographics</a> </li>

<li><a id="CatList_LinkList_5_Link_2" href="http://lee.kometo.com/archives/tag/debian" rel="nofollow">Emeric.Li 的简单生活</a> </li>

<li><a id="CatList_LinkList_5_Link_3" href="http://ftp.gnome.org/pub/GNOME/sources/" rel="nofollow">ftp.gnome.org</a> </li>

<li><a id="CatList_LinkList_5_Link_4" href="ftp://ftp.gtk.org/pub/gtk" rel="nofollow">ftp://ftp.gtk.org/pub/gtk</a> </li>
<li class="c_b_p_link_desc">ftp://ftp.gtk.org/pub/gtk</li>
<li><a id="CatList_LinkList_5_Link_5" href="http://bbs.loveunix.net/index.php" rel="nofollow">loveunix</a> </li>

<li><a id="CatList_LinkList_5_Link_6" href="http://www.itpub.net/forum-72-1.html" rel="nofollow">oralce电子文档</a> </li>

<li><a id="CatList_LinkList_5_Link_7" href="http://www.debian.org/distrib/packages" rel="nofollow">packages.debian.org/source</a> </li>

<li><a id="CatList_LinkList_5_Link_8" href="http://wiki.woodpecker.org.cn/moin/PyIDE" rel="nofollow">PyIDE</a> </li>

<li><a id="CatList_LinkList_5_Link_9" href="http://codingdao.com/wp/post/py-must-know-run-dev-env/" rel="nofollow">py-must-know-run-dev-env</a> </li>

<li><a id="CatList_LinkList_5_Link_10" href="http://remmina.sourceforge.net/" rel="nofollow">remmina.sourceforge.net</a> </li>

<li><a id="CatList_LinkList_5_Link_11" href="http://www.rpmfind.net/" rel="nofollow">rpmfind</a> </li>
<li class="c_b_p_link_desc">rpmfind</li>
<li><a id="CatList_LinkList_5_Link_12" href="http://search.debian.org/cgi-bin/omega?P=" rel="nofollow">search.debian.org</a> </li>

<li><a id="CatList_LinkList_5_Link_13" href="http://sourceforge.net/" rel="nofollow">sourceforge.net</a> </li>

<li><a id="CatList_LinkList_5_Link_14" href="http://www.ipmsg.org.cn/linux/" rel="nofollow">飞鸽linux版</a> </li>

<li><a id="CatList_LinkList_5_Link_15" href="http://www.speedtest.net/" rel="nofollow">好测速地址</a> </li>

<li><a id="CatList_LinkList_5_Link_16" href="http://lamp.linux.gov.cn/Apache/ApacheMenu/index.html" rel="nofollow">金步国apache文档</a> </li>

<li><a id="CatList_LinkList_5_Link_17" href="http://www.taobaodba.com/" rel="nofollow">淘宝DBA团队</a> </li>

<li><a id="CatList_LinkList_5_Link_18" href="http://www.ha97.com/" rel="nofollow">一个运维的博客</a> </li>

</ul>

</div>

<div id="sidebar_links520240" class="catList sidebar-block">
<h3 class="catListTitle">好地方</h3>

<ul>

<li><a id="CatList_LinkList_6_Link_0" href="http://cenalulu.github.io/" rel="nofollow" target="_blank">cenalulu.github.io</a> </li>
<li class="c_b_p_link_desc">cenalulu.github.io</li>
<li><a id="CatList_LinkList_6_Link_1" href="http://linuxtoy.org/" rel="nofollow">linuxToy</a> </li>

<li><a id="CatList_LinkList_6_Link_2" href="http://sjolzy.cn/" rel="nofollow">sjolzy.cn</a> </li>

<li><a id="CatList_LinkList_6_Link_3" href="http://www.zzinu.com/" rel="nofollow" target="_blank">挺牛的地方</a> </li>
<li class="c_b_p_link_desc">http://www.zzinu.com/</li>
<li><a id="CatList_LinkList_6_Link_4" href="http://www.xiaomastack.com/" rel="nofollow">小马-运维开发</a> </li>

<li><a id="CatList_LinkList_6_Link_5" href="http://blog.csdn.net/tianlesoftware" rel="nofollow">一个DBA的博客</a> </li>

<li><a id="CatList_LinkList_6_Link_6" href="http://www.shencan.net/" rel="nofollow" target="_blank">一个不错的地方</a> </li>

<li><a id="CatList_LinkList_6_Link_7" href="http://manual.phpv.net/regular_expression.html" rel="nofollow">正则</a> </li>

</ul>

</div>

<div id="sidebar_好东西" class="catList好东西 sidebar-block">
<h3 class="catListTitle">好东西</h3>

<ul>

<li><a id="CatList_LinkList_7_Link_0" href="http://blog.sina.com.cn/s/blog_665ba97a0100i8gf.html" rel="nofollow">aptitude工具辑</a> </li>

<li><a id="CatList_LinkList_7_Link_1" href="http://ipcn.chacuo.net/view/i_CHINANET" rel="nofollow">ip库</a> </li>

<li><a id="CatList_LinkList_7_Link_2" href="http://www.ituring.com.cn/" rel="nofollow">图灵社区</a> </li>

</ul>

</div>

</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap">
<div class="catListComment">
<h3 class="catListTitle">最新评论</h3>

	<div id="RecentCommentsBlock"><ul>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/taosim/articles/4383294.html#4013853">1. Re:postgresql初始化</a></li>
        <li class="recent_comment_body">mark~~~谢谢分享</li>
        <li class="recent_comment_author">--wizard_Q</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/taosim/articles/2640368.html#3978778">2. Re:nagios监控标准端口，非标准端口；监控httpd，监控weblogic；监控CPU,内存，硬盘，网卡流量</a></li>
        <li class="recent_comment_body">写的好乱啊  你的标题写的和内容真不是一条线 我只想知道server端监控client端怎么配置</li>
        <li class="recent_comment_author">--超我</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/taosim/articles/3760812.html#3955552">3. Re:saltstack 使用</a></li>
        <li class="recent_comment_body">好乱</li>
        <li class="recent_comment_author">--叮伱格斐呃</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/taosim/articles/4126815.html#3869114">4. Re:mysql命令行创建存储过程，mysqldump导出存储过程；</a></li>
        <li class="recent_comment_body">怎么感觉乱七八糟的。。。</li>
        <li class="recent_comment_author">--细嗅蔷薇</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/taosim/articles/3345303.html#3857727">5. Re:ffmpeg处理amr转mp3</a></li>
        <li class="recent_comment_body">博主你好 我的是centos7.4 按照你的教程 能够成功的把amr转为mp3且能够正常播放 但是在执行amr转mp3的命令时 出现了错误（/usr/local/resource/test/voice......</li>
        <li class="recent_comment_author">--sun.bky</li>
</ul>
</div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">阅读排行榜</h3>
	<div id="TopViewPostsBlock"><ul><li><a href="https://www.cnblogs.com/taosim/p/4000528.html">1. sed插入，替换指定行的特定字符串,删除指定行首的#(4054)</a></li><li><a href="https://www.cnblogs.com/taosim/p/3479668.html">2. undefined symbol: ap_log_rerror；apache2.4与weblogic点so文件(2742)</a></li><li><a href="https://www.cnblogs.com/taosim/archive/2012/05/03/2480321.html">3. shell配置，选择，环境变量修改（ORACLE_HOME,ORACLE_SID），无法使用sqlplus(2664)</a></li><li><a href="https://www.cnblogs.com/taosim/archive/2012/08/29/2662432.html">4. Forbidden_You don't have permission to access /cacti/index.php on this server.(2173)</a></li><li><a href="https://www.cnblogs.com/taosim/p/3753368.html">5. jenkins报错;自定义工作目录；(1615)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock"><ul><li><a href="https://www.cnblogs.com/taosim/archive/2012/06/08/cacti_nagios_on_centos.html">1. cacti_nagios&lt;at&gt;centos(redhat)整合安装简要记录(1)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap" style="display: none;">
<div class="catListView">
<h3 class="catListTitle">推荐排行榜</h3>
<div id="TopDiggPostsBlock"></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2019 陳聽溪
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->



</body></html>