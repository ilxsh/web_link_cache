<!DOCTYPE html>
<!-- saved from url=(0046)https://www.cnblogs.com/CakaSWM/p/5582236.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="referrer" content="origin">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <title>利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园</title>
    <meta property="og:description" content="一、目的： 通过云服务器的外网地址，将没有外网的服务器的端口地址转发到外网，使其能够通过外网进行访问。 二、原理： 1.虚拟专用网VPN 虚拟专用网VPN(virt ual pri">
    <link type="text/css" rel="stylesheet" href="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/bundle-KJC.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/bundle-KJC-mobile.css">
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/CakaSWM/rss">
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/CakaSWM/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/CakaSWM/wlwmanifest.xml">
    <script src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/amp4ads-host-v0.js.download"></script><script src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/pubads_impl_rendering_2019052001.js.download"></script><script async="" src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/analytics.js.download"></script><script src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/jquery-2.2.0.min.js.download"></script>
    <script>var currentBlogId=235774;var currentBlogApp='CakaSWM',cb_enable_mathjax=false;var isLogined=false;</script>
    <script src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/blog-common.js.download" type="text/javascript"></script>
<link rel="preload" href="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/f.txt" as="script"><script type="text/javascript" src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/f.txt"></script><script src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/pubads_impl_2019052001.js.download" async=""></script><link rel="prefetch" href="https://tpc.googlesyndication.com/safeframe/1-0-33/html/container.html"></head>
<body>
<a name="top"></a>


<table class="Framework" cellspacing="0" cellpadding="0" width="100%">
	<tbody><tr>
		<td colspan="3">
			
<div id="top">
<table cellpadding="10" cellspacing="0">
	<tbody><tr>
		<td nowrap="">
			<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/CakaSWM/">鹰如流星</a></h1>
			鹰如流星，唯以墨铭
		</td>
	</tr>
</tbody></table>
</div>
<div id="sub">
	<div id="sub-right"><div id="blog_stats">
<div class="BlogStats">posts - 1, comments - 0, trackbacks - 0, articles - 1</div></div></div>
	
&nbsp;
<a id="blog_nav_sitehome" href="https://www.cnblogs.com/">博客园</a>&nbsp;:: 
<a id="blog_nav_myhome" href="https://www.cnblogs.com/CakaSWM/">首页</a>&nbsp;::
<a id="blog_nav_newpost" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a>&nbsp;::
<a id="blog_nav_contact" accesskey="9" rel="nofollow" href="https://msg.cnblogs.com/send/%E5%A2%A8%E9%93%AD">联系</a>&nbsp;::
<a id="blog_nav_rss" href="https://www.cnblogs.com/CakaSWM/rss">订阅</a>
<a id="blog_nav_rss_image" class="XMLLink" href="https://www.cnblogs.com/CakaSWM/rss"><img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/xml.gif" alt="订阅"></a>&nbsp;::
<a id="blog_nav_admin" rel="nofollow" href="https://i.cnblogs.com/">管理</a>

</div>
		</td>
	</tr>
	<tr>
		<td class="LeftCell">
			<div id="leftmenu">
            	
		            <div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2019/04/01&#39;);return false;">&lt;</a></td><td align="center">2019年5月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2019/06/01&#39;);return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td class="CalWeekendDay" align="center">4</td></tr><tr><td class="CalWeekendDay" align="center">5</td><td align="center">6</td><td align="center">7</td><td align="center">8</td><td align="center">9</td><td align="center">10</td><td class="CalWeekendDay" align="center">11</td></tr><tr><td class="CalWeekendDay" align="center">12</td><td align="center">13</td><td align="center">14</td><td align="center">15</td><td align="center">16</td><td align="center">17</td><td class="CalWeekendDay" align="center">18</td></tr><tr><td class="CalWeekendDay" align="center">19</td><td align="center">20</td><td align="center">21</td><td align="center">22</td><td align="center">23</td><td align="center">24</td><td class="CalWeekendDay" align="center">25</td></tr><tr><td class="CalWeekendDay" align="center">26</td><td class="CalTodayDay" align="center">27</td><td align="center">28</td><td align="center">29</td><td align="center">30</td><td align="center">31</td><td class="CalOtherMonthDay" align="center">1</td></tr><tr><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td><td class="CalOtherMonthDay" align="center">7</td><td class="CalOtherMonthDay" align="center">8</td></tr>
</tbody></table></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
		            
<div id="cell">
<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon-group.jpg" hspace="5" align="left" vspace="2"><h3>公告</h3>
<div id="news">
	<div id="blog-news"><div id="profile_block">昵称：<a href="https://home.cnblogs.com/u/CakaSWM/">墨铭</a><br>园龄：<a href="https://home.cnblogs.com/u/CakaSWM/" title="入园时间：2015-07-13">3年10个月</a><br>粉丝：<a href="https://home.cnblogs.com/u/CakaSWM/followers/">5</a><br>关注：<a href="https://home.cnblogs.com/u/CakaSWM/followees/">9</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow(&#39;4ada06b2-fa28-e511-b908-9dcfd8948a71&#39;)">+加关注</a></div><script>getFollowStatus('4ada06b2-fa28-e511-b908-9dcfd8948a71')</script></div></div><script type="text/javascript">loadBlogNews();</script>
</div>
</div>

	            
	            <div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="cell">
<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon-group.jpg" hspace="5" align="left" vspace="2">
<h3 class="catListTitle">搜索</h3>
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk"></div>
</div></div><div id="sidebar_shortcut" class="sidebar-block">
<div id="cell">
<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon-group.jpg" hspace="5" align="left" vspace="2">
<h3>常用链接</h3>
<ul>
<li><a href="https://www.cnblogs.com/CakaSWM/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="https://www.cnblogs.com/CakaSWM/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="https://www.cnblogs.com/CakaSWM/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="https://www.cnblogs.com/CakaSWM/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="https://www.cnblogs.com/CakaSWM/tag/" title="我的博客的标签列表">我的标签</a></li>
<li><a id="itemListLink" onclick="this.blur();WarpClass(&#39;itemListLink&#39;, &#39;itemListLin_con&#39;);return false;" href="https://www.cnblogs.com/CakaSWM/p/5582236.html#">更多链接</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">

</div>
</div></div><div id="sidebar_toptags" class="sidebar-block"></div><div id="sidebar_categories">
		<div id="cell">
		<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon-group.jpg" hspace="5" align="left" vspace="2"><h3>随笔分类</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_0_Link_0" href="https://www.cnblogs.com/CakaSWM/category/820264.html">C</a>
				</li>
			
				<li><a id="CatList_LinkList_0_Link_1" href="https://www.cnblogs.com/CakaSWM/category/820266.html">OO</a>
				</li>
			
				<li><a id="CatList_LinkList_0_Link_2" href="https://www.cnblogs.com/CakaSWM/category/820265.html">SOA</a>
				</li>
			
				<li><a id="CatList_LinkList_0_Link_3" href="https://www.cnblogs.com/CakaSWM/category/848604.html">Web开发</a>
				</li>
			
				<li><a id="CatList_LinkList_0_Link_4" href="https://www.cnblogs.com/CakaSWM/category/840796.html">网络配置(1)</a>
				</li>
			
				<li><a id="CatList_LinkList_0_Link_5" href="https://www.cnblogs.com/CakaSWM/category/961913.html">小程序</a>
				</li>
			
				</ul>
			</div>
	
		<div id="cell">
		<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon-group.jpg" hspace="5" align="left" vspace="2"><h3>随笔档案</h3>
		
				<ul>
			
				<li><a id="CatList_LinkList_1_Link_0" href="https://www.cnblogs.com/CakaSWM/archive/2016/06.html">2016年6月 (1)</a>
				</li>
			
				</ul>
			</div>
	</div><div id="recent_comments_wrap" style="display: none;">
    <div id="cell">
        <img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon-group.jpg" hspace="5" align="left" vspace="2">
        <h3>最新评论</h3>
        <div class="RecentComment">
            <div id="RecentCommentsBlock"></div>
        </div>
    </div>
</div>
<div id="topview_posts_wrap">
    <div id="cell">
        <img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon-group.jpg" hspace="5" align="left" vspace="2">
        <h3>阅读排行榜</h3>
        <div class="RecentComment">
            <div id="TopViewPostsBlock"><ul><li><a href="https://www.cnblogs.com/CakaSWM/p/5582236.html">1. 利用云服务器通过OpenVPN将内网的地址发布到外网(11803)</a></li></ul></div>
        </div>
    </div>
</div><div id="topfeedback_posts_wrap" style="display: none;">
    <div id="cell">
        <img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon-group.jpg" hspace="5" align="left" vspace="2">
        <h3>评论排行榜</h3>
        <div class="RecentComment">
            <div id="TopFeedbackPostsBlock"></div>
        </div>
    </div>    
</div>
<div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<div id="cell">
<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon-group.jpg" hspace="5" align="left" vspace="2"><h3>推荐排行榜</h3>
<div class="RecentComment">
	<div id="TopDiggPostsBlock"><ul><li><a href="https://www.cnblogs.com/CakaSWM/p/5582236.html">1. 利用云服务器通过OpenVPN将内网的地址发布到外网(1)</a></li></ul></div>
</div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
		</td>
		<td class="MainCell">
			<div id="main">
				
        <div id="post_detail">
	<div class="post">
		<div class="posthead">
			<h2>
				<a id="cb_post_title_url" class="singleposttitle" href="https://www.cnblogs.com/CakaSWM/p/5582236.html">利用云服务器通过OpenVPN将内网的地址发布到外网</a>
			</h2>
 			Posted on <span id="post-date">2016-06-13 22:04</span> <a href="https://www.cnblogs.com/CakaSWM/">墨铭</a> 阅读(<span id="post_view_count">11803</span>) 评论(<span id="post_comment_count">0</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=5582236" rel="nofollow">编辑</a> <a href="https://www.cnblogs.com/CakaSWM/p/5582236.html#" onclick="AddToWz(5582236);return false;">收藏</a>
			<script type="text/javascript">var allowComments=true,cb_blogId=235774,cb_entryId=5582236,cb_blogApp=currentBlogApp,cb_blogUserGuid='4ada06b2-fa28-e511-b908-9dcfd8948a71',cb_entryCreatedDate='2016/6/13 22:04:00';loadViewCount(cb_entryId);var cb_postType=1;var isMarkdown=false;</script>
			
		</div>
		<div class="postbody"><div id="cnblogs_post_body" class="blogpost-body"><p><span style="font-size: 18px;"><strong>一、目的：</strong></span></p>
<p style="margin-left: 30px;">通过云服务器的外网地址，将没有外网的服务器的端口地址转发到外网，使其能够通过外网进行访问。</p>
<p><span style="font-size: 18px;"><strong>二、原理：</strong></span></p>
<p>　　1.虚拟专用网VPN</p>
<p>　　虚拟专用网VPN(virt&nbsp;ual&nbsp;private&nbsp;network)是在公共网络中建立的安全网络连接，这个网络连接和普通意义上的网络连接不同之处在于，它采用了专有的隧道协议，实现了数据的加密和完整性的检验、用户的身份认证，从而保证了信息在传输中不被偷看、篡改、复制，从网络连接的安全性角度来看，就类似于再公共网络中建立了一个专线网络一样，只补过这个专线网络是逻辑上的而不是物理的所以称为虚拟专用网。VPN系统的结构图1所示，包括VPN服务器，VPN客户机和隧道。由于使用Internet进行传输相对于租用专线来说，费用极为低廉，所以VPN的出现使企业通过Internet既安全又经济的传输私有的机密信息成为可能。</p>
<p>　　　　　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612205419371-1410256724.jpg" alt=""></p>
<p>　　2.Windows操作系统中利用OpenVPN配置VPN</p>
<p>　　OpenVPN是一个用于创建虚拟专用网络加密通道的软件包，最早由James Yonan编写。OpenVPN允许创建的VPN使用公开密钥、电子证书、或者用户名／密码来进行身份验证。</p>
<p>　　3.Windows自带的端口转发工具netsh</p>
<p>　　微软Windows的netsh是一个命令行脚本实用工具。使用netsh工具 ，可以查看或更改本地计算机或远程计算机的网络配置。不仅可以在本地计算机上运行这些命令，而且可以在网络上的远程计算机上运行。</p>
<p><span style="font-size: 18px;"><strong>三、环境及软件：</strong></span></p>
<p style="margin-left: 30px;">1.本文基于Windows下的环境配置。</p>
<p>　　 2.软件OpenVPN（本文使用<a href="https://openvpn.net/index.php/open-source/downloads.html">openvpn-install-2.3.11-I601-x86_64.exe</a>&nbsp;64位安装文件）。</p>
<p><span style="font-size: 18px;"><strong>四、步骤：</strong></span></p>
<p>　　1.安装OpenVPN，实现内网服务器和云服务器变为一个局域网（<strong><span style="color: #ff0000;">a.b.c.d.e.f.g</span></strong> 在云服务器完成，<strong><span style="color: #ff0000;">h</span></strong> 在内网服务器完成）</p>
<p>　　　　a.云服务器安装OpenVPN；</p>
<p>　　　　b.初始化配置；</p>
<p>　　　　c.生成根CA；</p>
<p>　　　　d.生成dh1024.pem文件；</p>
<p>　　　　e.生成服务器端证书、客户端证书和TA证书；（<strong><span style="color: #ff0000;">以上cmd命令必须在一个cmd完成</span></strong>）</p>
<p>　　　　f.对服务器端和客户端配置文件文件进行配置；</p>
<p>　　　　g.配置服务器端，为客户端连接做准备；</p>
<p>　　　　h.配置客户端，连接服务器端，使内网服务器和云服务器变为一个局域网；</p>
<p>　　2.配置端口转发，实现内网服务器对外网的发布</p>
<p><span style="font-size: 18px;"><strong>五、步骤内容：</strong></span></p>
<p>&nbsp;　　<span style="font-size: 16px;"><strong>1.安装OpenVPN，实现内网服务器和云服务器变为一个局域网。</strong></span></p>
<p>　　　　<span style="font-family: 宋体; font-size: 16px;"><span style="color: #ff0000; background-color: #ffffff;"><strong>a.</strong></span><strong>云服务器安装OpenVPN</strong></span></p>
<p>　　　　　　双击<a href="https://openvpn.net/index.php/open-source/downloads.html">openvpn-install-2.3.11-I601-x86_64.exe</a>开始安装：</p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612210641574-222267045.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612210920043-1423951798.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612211102777-1875579938.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612211349449-166097915.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612211603136-1325797917.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612211728043-1192122003.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612211824386-1017740228.jpg" alt=""></p>
<p>　　　　　　安装完毕后，打开 控制面板-&gt;网络和 Internet-&gt;网络和共享中心-&gt;更改适配器设置&nbsp;</p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612214914058-1545162005.jpg" alt=""></p>
<p>　　　　　　出现虚拟网卡为TAP-Windows Adapter V9的新本地连接，将其改名为OpenVPN。</p>
<p>　　　　　　（注：如果没有出现新的本地连接，请双击C:\Program Files\TAP-Windows\bin目录下的addtap.bat&nbsp;文件，来手动添加一个）</p>
<p>　　　　<span style="font-size: 16px;"><strong><span style="color: #ff0000;">b.</span>初始化配置</strong></span></p>
<p>　　　　　　（一）使用写字板打开&nbsp;<span class="cnblogs_code" style="color: #ff0000;">OpenVPN安装目录\easy-rsa\vars.bat.sample</span>&nbsp;文件容（最好用写字板打开，以免记事本打开会破坏文档格式），如下：</p>
<p>　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612220802386-1036374158.jpg" alt=""></p>
<p>　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160612221146183-2088316945.jpg" alt=""></p>
<p style="margin-left: 110px;">　 注：上面文件信息可以不予更改。但是，由于稍后给客户端生成对应加密证书和私钥时，程序会要求我们输入一些注册信息。如果你需要配置多个客户端，并且许多信息都相同(比如国家、省市、地址、公司名称等)你还可以修改vars.bat.sample文件后面的一些相关变量的默认值，这样在稍后生成客户端证书的时候，如果该信息项不输入就会采用默认值。</p>
<p>　　　　　　　（二）运行DOS命令，初始化执行环境。</p>
<p>　　　　　　　　打开&nbsp;<span class="cnblogs_code" style="color: #ff0000;">%OpenVPN的安装目录%\easy-rsa</span>&nbsp;目录，按住&nbsp;<span class="cnblogs_code" style="color: #ff0000;">Shift</span>&nbsp;+&nbsp;<span class="cnblogs_code" style="color: #ff0000;">右键</span>&nbsp;选择&nbsp;<span class="cnblogs_code" style="color: #ff0000;">在此处打开命令窗口</span>&nbsp;，</p>
<p>　　　　　　　　然后依次输入并执行以下命令：</p>
<table style="margin-left: 110px; line-height: 120%; border: 1px solid #e6db55; height: 21px; width: 687px; background-color: #ffffe0; border-color: #e6db55; border-width: 1px;" border="1" cellspacing="1" cellpadding="10">
<tbody>
<tr align="left">
<td><span style="font-family: 宋体; font-size: 14px;"><strong><span style="color: #ff0000;">init-config</span></strong>(初始化配置，将vars.bat.sample文件的内容复制到vars.bat。实际上，你也可以直接双击执行easy-rsa目录下的init-config.bat文件来代替这一步。)</span><br><span style="font-family: 宋体; font-size: 14px;"><strong><span style="color: #ff0000;">vars</span></strong>(设置相应的局部环境变量，就是我们在vars.bat.sample文件中设置的内容)</span><br><span style="font-family: 宋体; font-size: 14px;"><strong><span style="color: #ff0000;">clean-all</span></strong>(相关设置和清理工作)</span></td>








































</tr>








































</tbody>








































</table>
<p>　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613143923745-689838363.jpg" alt=""></p>
<p>　　　　<span style="font-size: 16px;"><strong><span style="color: #ff0000;">c.</span>生成根证书CA</strong>：<strong>build-ca</strong></span></p>
<p>　　　　　　 &nbsp;<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613145146448-765986575.jpg" alt=""></p>
<p style="margin-left: 80px;">　　如上图所示，在build-ca的时候需要输入一些注册信息。在输入信息的时候，如果你不输入任何信息，就表示采用默认值(前面[]中的内容就是默认值)；如果你输入&nbsp;<span class="cnblogs_code">.（点号）</span>&nbsp;，则表示当前信息项留空白。值得注意的是，上图中紫色框中的OpenVPN_CA是证书的通用名称(Common Name),相当于我们常说的账号，你也可以自行输入其他名称。</p>
<p>　　　　<span style="font-size: 16px;"><strong><span style="color: #ff0000;">d.</span>生成dh1024.pem文件(创建迪菲·赫尔曼密钥)</strong>:<strong>build-dh</strong></span></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613150510479-548965158.jpg" alt=""></p>
<p style="margin-left: 80px;">　　迪菲·赫尔曼密钥交换(Diffie–Hellman key exchange，简称「D–H」) 是一种安全协议。它可以让双方在完全没有对方任何预先信息的条件下通过不安全信道创建起一个密钥。这个密钥可以在后续的通讯中作为对称密钥来加密通讯内容。</p>
<p>　　　　<span style="font-size: 16px;"><strong><span style="color: #ff0000;">e.</span></strong>生成服务器端证书、客户端证书和TA证书</span></p>
<p>　　　　　（一）生成服务端证书：<strong>build-key-server server</strong></p>
<p><strong>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613154005026-494154801.jpg" alt=""></strong></p>
<p style="margin-left: 90px;">　　如上图所示，命令中的参数server指的是生成的证书文件名称，你可以按照自己的需要进行修改，不过后面的Common Name也应保持一致。第三个红色矩形框中是输入的密码，你也可以根据意愿自行输入。最后程序会询问你是否注册并提交证书，两次均输入y即可。</p>
<p>　　　　　（二）生成客户端证书：<strong>build-key&nbsp;CdtsmClient</strong></p>
<p><strong>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613153657213-1429471920.jpg" alt=""></strong></p>
<p style="margin-left: 90px;">　　如上图所示，命令中的参数client表示生成的证书文件名称，你可以按照自己的需要进行修改，不过后面的Common Name也应保持一致。第三个红色矩形框中是输入的密码，你也可以根据意愿自行输入。最后程序会询问你是否注册并提交证书，两次均输入y即可。</p>
<p style="margin-left: 90px;">　　如果你想创建多个不同的客户端证书，只需要重复此步骤即可。切记，<span style="color: #ff0000;">Common Name不要重复，这是OpenVPN用来区分不同客户端的关键所在。</span></p>
<p>　　　　　（三）生成TA证书：<strong>openvpn --genkey --secret keys/ta.key</strong></p>
<p><strong>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613160134792-632221713.jpg" alt=""></strong></p>
<p style="margin-left: 90px;">　　这一步其实是可选操作，生成的ta.key主要用于防御DoS、UDP淹没等恶意攻击。命令中的第3个参数keys/ta.key表示生成的文件路径(含文件名)。</p>
<p style="margin-left: 60px;">　　<span style="color: #ff0000;"><strong>非常重要的提醒</strong></span>：<strong>以上命令都是在同一个DOS窗口中执行的，如果你以后需要打开新窗口来执行命令(比如创建新的客户端证书)：你不需要再执行init-config命令，除非你再次改动了vars.bat.sample文件；每一次打开新窗口时都需要先执行vars命令，后面才能执行其他命令。</strong></p>
<p>　　　　<span style="font-size: 16px;"><strong><span style="color: #ff0000;">f.</span>对服务器端和客户端配置文件进行配置</strong></span></p>
<p style="margin-left: 70px;">　　上面我们已经创建了OpenVPN配置所需要的各种证书和私钥，现在我们开始为服务器和客户端编写对应的配置文件，文件目录为&nbsp;<strong><span class="cnblogs_code" style="color: #ff0000;">OpenVPN安装目录\sample-config</span></strong>&nbsp;。</p>
<p style="margin-left: 70px;">　　对于一个刚刚接触OpenVPN的人来说，我们应该配置些什么呢，又该从哪里入手呢？别着急，OpenVPN已经考虑到了这一点。在OpenVPN的安装目录的sample-config文件夹中存放有3个示例模板文件：server.ovpn、client.ovpn、sample.ovpn。其中，server.ovpn是服务器的配置模板，client.ovpn是客户端的配置模板(sample.ovpn也可用作客户端配置模板，不过配置比较简单，不够全面。按照官方的说法，client.ovpn可用于连接具有多个客户端的服务器端配置文件)。</p>
<p style="margin-left: 70px;">在OpenVPN的配置文件中，前面带「<strong><span style="color: #ff0000;">#</span></strong>」或「<strong><span style="color: #ff0000;">;</span></strong>」的表示<strong><span style="color: #ff0000;">注释</span></strong>内容。</p>
<p style="margin-left: 70px;">　（一）配置服务端文件：<strong>server.ovpn</strong></p>
<table style="margin-left: 80px; line-height: 120%; border: 1px solid #778855; height: 189px; width: 960px; background-color: #f5f5f5;" border="1">
<tbody>
<tr>
<td>
<p><span style="font-family: 宋体; font-size: 15px;">local 192.168.0.2　　　　#指定监听的本机IP(因为有些计算机具备多个IP地址)，该命令是可选的，默认监听所有IP地址。</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">port 1194　　　　　　　　#指定监听的本机端口号</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">proto udp　　　　　　　　#指定采用的传输协议，可以选择tcp或udp</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">dev tun　　　　　　　　　#指定创建的通信隧道类型，可选tun或tap</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">ca ca.crt 　　　　　　　            #指定CA证书的文件路径</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">cert server.crt 　　　&nbsp;#指定服务器端的证书文件路径</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">key server.key 　　　　   	  #指定服务器端的私钥文件路径</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">dh dh1024.pem 　　　　&nbsp;#指定迪菲赫尔曼参数的文件路径</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">server 10.8.0.0 255.255.255.0   #指定虚拟局域网占用的IP地址段和子网掩码，此处配置的服务器自身占用10.8.0.1。</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">ifconfig-pool-persist ipp.txt   #服务器自动给客户端分配IP后，客户端下次连接时，仍然采用上次的IP地址(第一次分配的IP保存在ipp.txt中，下一次分配其中保存的IP)。</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">client-to-client 　　　#允许客户端与客户端相连接，默认情况下客户端只能与服务器相连接。</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">keepalive 10 120 　　　#每10秒ping一次，连接超时时间设为120秒。</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">tls-auth ta.key 0 　　    #开启TLS，使用ta.key防御攻击。服务器端的第二个参数值为0，客户端的为1。</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">comp-lzo 　　　　　　　#开启VPN连接压缩，如果服务器端开启，客户端也必须开启</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">persist-key</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">persist-tun 　　　　　#持久化选项可以尽量避免访问在重启时由于用户权限降低而无法访问的某些资源。</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">status openvpn-status.log    #指定记录OpenVPN状态的日志文件路径</span></p>
<p><span style="font-family: 宋体; font-size: 15px;">verb 3 　　　　　　　               #指定日志文件的记录详细级别，可选0-9，等级越高日志内容越详细</span>


</p>

















</td>





















</tr>





















</tbody>





















</table>
<p>　　　　　　实际修改内容参见下面的截图。</p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613213408323-1867308764.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613213315229-1944421488.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613213351651-1792033420.png" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613214307870-2069231450.jpg" alt=""></p>
<p>　　　　　（二）客户端配置文件：<strong>client.ovpn</strong></p>
<table style="margin-left: 80px; line-height: 120%; border-color: #778855; border-width: 1px; height: 21px; width: 959px; background-color: #f5f5f5;" border="1">
<tbody>
<tr>
<td>
<p><span style="font-family: 宋体; font-size: 15px;">client 　　　　　　　　　　#指定当前VPN是客户端</span><br><span style="font-family: 宋体; font-size: 15px;">dev tun　　　　　　　　　　#必须与服务器端的保持一致</span><br><span style="font-family: 宋体; font-size: 15px;">proto udp 　　 　　　　　　#必须与服务器端的保持一致</span><br><span style="font-family: 宋体; font-size: 15px;">remote 192.168.0.2 1194 　#指定连接的远程服务器的实际IP地址和端口号</span><br><span style="font-family: 宋体; font-size: 15px;">resolv-retry infinite 　　#断线自动重新连接，在网络不稳定的情况下(例如：笔记本电脑无线网络)非常有用。</span><br><span style="font-family: 宋体; font-size: 15px;">nobind 　　　　　　　　　　#不绑定特定的本地端口号</span><br><span style="font-family: 宋体; font-size: 15px;">persist-key</span><br><span style="font-family: 宋体; font-size: 15px;">persist-tun</span><br><span style="font-family: 宋体; font-size: 15px;">ca ca.crt 　　　　　　　　     #指定CA证书的文件路径</span><br><span style="font-family: 宋体; font-size: 15px;">cert client.crt 　　　　　#指定当前客户端的证书文件路径</span><br><span style="font-family: 宋体; font-size: 15px;">key client.key　　　　　　#指定当前客户端的私钥文件路径</span><br><span style="font-family: 宋体; font-size: 15px;">remote-cert-tls server&nbsp;　#指定采用服务器校验方式</span><br><span style="font-family: 宋体; font-size: 15px;">tls-auth ta.key 1 　　　&nbsp;#如果服务器设置了防御DoS等攻击的ta.key，则必须每个客户端开启；如果未设置，则注释掉这一行；</span><br><span style="font-family: 宋体; font-size: 15px;">comp-lzo 　　　　　　　　             #与服务器保持一致</span><br><span style="font-family: 宋体; font-size: 15px;">verb 3　　　　　　　　　　#指定日志文件的记录详细级别，可选0-9，等级越高日志内容越详细</span></p>
















</td>
















</tr>
















</tbody>
















</table>
<p>　　　　　　实际修改内容参见下面的截图。</p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160629214651656-222430996.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613215920588-613924275.jpg" alt=""></p>
<p>　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160613215930542-1169475316.jpg" alt=""></p>
<p><span style="font-size: 16px;"><strong><span style="color: #ff0000;">　　　　g.</span>配置服务器端，为客户端连接做准备</strong></span></p>
<p><span style="font-size: 16px;">　　　　　（一）把配置文件server.ovpn复制到<strong><span style="color: #ff0000;">服务器端</span></strong>&nbsp;<span style="font-size: 18px;"><strong><span class="cnblogs_code" style="color: #ff0000;">OpenVPN安装目录\config</span></strong></span>&nbsp;下</span></p>
<p><span style="font-size: 16px;">　　　　　（二）把<span style="color: #ff0000;"><strong><span class="cnblogs_code">OpenVPN安装目录\easy-rsa\keys</span></strong></span>目录下的</span></p>
<p>　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614133923432-687694212.jpg" alt=""></p>
<p><span style="font-size: 16px;">　　　　　　　　复制到<span style="color: #ff0000;"><strong><span class="cnblogs_code">OpenVPN安装目录\config</span></strong></span>目录下</span></p>
<p><span style="font-size: 16px;">　　　　　　　（三）打开OpenVPN GUI.exe</span></p>
<p><span style="font-size: 16px;">　　　　　　　　此时在任务栏的右下角将会出现如下图所示的白色小图标，右键该图标，点击connect</span></p>
<p><span style="font-size: 16px;">　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614153939088-2055664295.jpg" alt=""></span></p>
<p><span style="font-size: 16px;">　　　　　　　　紧接着，就会自动弹出如下窗口，右下角图标变为黄色。</span></p>
<p><span style="font-size: 16px;">　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614155213682-219008465.jpg" alt=""><br>　　　　　　　　连接成功后，窗口自动关闭，右下角的图标变为绿色。<br></span></p>
<p><span style="font-size: 16px;">　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614154033917-1998254122.jpg" alt=""></span></p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong><span style="color: #ff0000;">　　　　h.</span>配置客户端，连接服务器端，使内网服务器和云服务器变为一个局域网</strong></span></p>
<p>　　　　　（一）把配置文件client.ovpn复制到<strong><span style="color: #ff0000;">客户端</span></strong>&nbsp;<span style="color: #ff0000;"><strong><span class="cnblogs_code">OpenVPN安装目录\config</span></strong></span>&nbsp;下</p>
<p>&nbsp;</p>
<p>　　　　　（二）把<span style="color: #ff0000;"><strong><span class="cnblogs_code">OpenVPN安装目录\easy-rsa\keys</span></strong></span>目录下的</p>
<p>　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614161250760-1889696963.jpg" alt=""></p>
<p>　　　　　　　　　　复制到<span style="color: #ff0000;"><strong><span class="cnblogs_code">OpenVPN安装目录\config</span></strong></span>目录下</p>
<p>　　　　　　　　　　（三）打开OpenVPN GUI.exe</p>
<p>　　　　　　　　　　　　和服务器端一样，图标为绿色表示成功。</p>
<p>　　　　　　　　　　（四）验证局域网是否成功</p>
<p>　　　　　　　　　　　　在服务器端<strong><span style="color: #000000;">ping</span></strong>客户端地址</p>
<p>　　　　　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614161717792-1607019710.jpg" alt=""></p>
<p>　　　　　　　　　　　　在客户端ping服务器端地址</p>
<p>　　　　　　　　　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614161920385-193404538.jpg" alt=""></p>
<p style="margin-left: 70px;">　　<strong><span style="color: #ff0000;">注：</span>如果ping不通，看防火墙是否关闭。</strong>这里的OpenVPN设置是为了实现端口转发，如果内网服务器需要通过云服务器上网，请打开云服务器的本地连接的共享（不是OpenVPN的适配器，是云服务器联网的适配器）。</p>
<p><span style="font-size: 16px;">　　<strong>2.配置端口转发，实现内网服务器对外网的发布</strong></span></p>
<p><span style="font-size: 16px;"><strong>　　　　</strong>在云服务器端打开Dos命令窗口，</span></p>
<p><span style="font-size: 16px;">　　　　例，将内网服务器的80端口转发到云服务器的14941端口</span></p>
<p><span style="font-size: 16px;">　　　　我们在cmd里执行&nbsp;</span><strong><span class="cnblogs_code">netsh <span style="color: #0000ff;">interface</span> portproxy add v4tov4 listenport=<span style="color: #800080;">14941</span> connectaddress=<span style="color: #800080;">10.8</span>.<span style="color: #800080;">0.6</span> connectport=<span style="color: #800080;">80</span></span></strong><span style="font-size: 16px;">&nbsp;实现端口转移。</span></p>
<p><span style="font-size: 16px;">　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614163937885-537048573.jpg" alt=""></span></p>
<p>　　　　　如果需要查看那些端口已经被转移，则在cmd执行&nbsp;<strong><span class="cnblogs_code">netsh <span style="color: #0000ff;">interface</span> portproxy show all</span></strong>&nbsp;</p>
<p>　　　　　如果需要删除那些端口转移，则在cmd执行&nbsp;<strong><span class="cnblogs_code">netsh <span style="color: #0000ff;">interface</span> portproxy delete v4tov4 listenport=<span style="color: #800080;">14941</span></span></strong>&nbsp;</p>
<p><span style="font-size: 16px;">　　　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614163523510-1332706917.jpg" alt=""><br></span></p>
<p><span style="font-size: 18px;"><strong>六、结果演示</strong></span></p>
<p>&nbsp;　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160614171305604-839626770.jpg" alt=""></p>
<p>　　　这里将<strong><span style="color: #ff0000;">80</span></strong>设为<span style="color: #ff0000;"><strong>14980</strong></span></p>
<p><strong>　　<img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/784641-20160629214611812-1455559839.jpg" alt="" width="776" height="249"></strong></p>
<p>&nbsp;</p>
<pre>注：本文参考多个博客实现，<br><a href="http://www.cnblogs.com/sunzhouyi/archive/2010/08/11/1797088.html" target="_blank">http://www.cnblogs.com/sunzhouyi/archive/2010/08/11/1797088.html</a><br><a href="http://www.365mini.com/page/14.htm" target="_blank">http://www.365mini.com/page/14.htm</a><br><a href="http://www.jb51.net/article/66582.htm" target="_blank">http://www.jb51.net/article/66582.htm</a>  等博客。</pre>
<p>&nbsp;</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory">分类: <a href="https://www.cnblogs.com/CakaSWM/category/840796.html" target="_blank">网络配置</a></div>
<div id="EntryTag"></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(5582236,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
            <a id="green_channel_follow" onclick="follow(&#39;4ada06b2-fa28-e511-b908-9dcfd8948a71&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/CakaSWM/" target="_blank"><img src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/20150713091644.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/CakaSWM/">墨铭</a><br>
            <a href="https://home.cnblogs.com/u/CakaSWM/followees">关注 - 9</a><br>
            <a href="https://home.cnblogs.com/u/CakaSWM/followers">粉丝 - 5</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow(&#39;4ada06b2-fa28-e511-b908-9dcfd8948a71&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(5582236,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">1</span>
    </div>
    <div class="buryit" onclick="votePost(5582236,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
<script type="text/javascript">
    currentDiggType = 0;
</script></div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>

</div>
	</div></div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="https://www.cnblogs.com/CakaSWM/p/5582236.html#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/CakaSWM/p/5582236.html#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login(&#39;commentform&#39;);">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-工控&#39;)">【推荐】超50万C++/C#源码: 大型实时仿真组态图形源码</a><br><a href="https://ke.qq.com/adActivity.html?name=xiangxueketang2" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-享学&#39;)">【推荐】Java工作两年，一天竟收到33份面试通知</a><br><a href="https://q.cnblogs.com/" target="_blank" onclick="ga(&#39;send&#39;, &#39;event&#39;, &#39;Link&#39;, &#39;click&#39;, &#39;T2-博问&#39;)">【推荐】程序员问答平台，解决您开发中遇到的技术难题</a><br></div>
<div id="opt_under_post"></div>
<script async="async" src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/gpt.js.download"></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id="cnblogs_c1" class="c_ad_block">
    <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;" data-google-query-id="CKiWg_reueICFReblgodt8gOqQ"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C1_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C1_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="1" data-load-complete="true" src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/saved_resource.html"></iframe></div></div>
</div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>相关博文：</b><br>·  <a href="https://www.cnblogs.com/airoot/p/7201227.html" target="_blank" onclick="clickRecomItmem(7201227)">OpenVPN下载、安装、配置及使用详解</a><br>·  <a href="https://www.cnblogs.com/wuhg/p/9799111.html" target="_blank" onclick="clickRecomItmem(9799111)">学习openvpn04</a><br>·  <a href="https://www.cnblogs.com/killclock048/p/9817273.html" target="_blank" onclick="clickRecomItmem(9817273)">OpenVPN下载、安装、配置及使用详解</a><br>·  <a href="https://www.cnblogs.com/wuchangsoft/p/9792016.html" target="_blank" onclick="clickRecomItmem(9792016)">centos7+openvpn+easy3.0</a><br>·  <a href="https://www.cnblogs.com/caibaofei/p/9584678.html" target="_blank" onclick="clickRecomItmem(9584678)">阿里云centos7系统搭建openvpn</a><br></div></div>
<div id="cnblogs_c2" class="c_ad_block">
    <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;" data-google-query-id="CKmWg_reueICFReblgodt8gOqQ"><div id="google_ads_iframe_/1090369/C2_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C2_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C2_0" width="468" height="60" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="2" data-load-complete="true" src="./利用云服务器通过OpenVPN将内网的地址发布到外网 - 墨铭 - 博客园_files/saved_resource(1).html"></iframe></div></div>
</div>
<div id="under_post_kb"><div class="itnews c_ad_block"><b>最新新闻</b>：<br> ·  <a href="https://news.cnblogs.com/n/625906/" target="_blank">一线丨中国铁塔4年：节省投资1148亿元 共享率升至75%</a><br> ·  <a href="https://news.cnblogs.com/n/625905/" target="_blank">全球亿万富豪地图出炉！有钱人最多的城市是...</a><br> ·  <a href="https://news.cnblogs.com/n/625904/" target="_blank">为何要去探测太阳——专访帕克太阳探针号首席科学家Marco Velli</a><br> ·  <a href="https://news.cnblogs.com/n/625903/" target="_blank">邬贺铨谈华为事件：华为已熟练掌握ARM架构修改</a><br> ·  <a href="https://news.cnblogs.com/n/625902/" target="_blank">独角兽Palantir上市受阻 IPO日期或延至2020年</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
			</div>
		</td>
	</tr>
	<tr>
		<td colspan="2" class="FooterCell">
			
<p id="footer">
	Powered by: 
	<br>
	
	<a id="Footer1_Hyperlink3" name="Hyperlink1" href="https://www.cnblogs.com/" style="font-family:Verdana;font-size:12px;">博客园</a>
	<br>
	Copyright © 墨铭
</p>

		</td>
	</tr>
</tbody></table>




</body></html>