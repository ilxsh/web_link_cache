<!DOCTYPE html>
<!-- saved from url=(0060)https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=11,IE=10,IE=9,IE=8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
<title>VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志</title>
<link rel="dns-prefetch" href="https://www.centos.bz/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Linux运维日志 » VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器评论Feed" href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/feed/">
<link rel="stylesheet" id="dwqa-style-css" href="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="dwqa-rtl-css" href="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/rtl.css" type="text/css" media="all">
<link rel="stylesheet" id="main-css" href="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/style(1).css" type="text/css" media="all">
<script src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/osd.js.download"></script><script src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/ca-pub-7207924189700482.js.download"></script><script src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/hm.js.download"></script><script type="text/javascript" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/jquery.js.download"></script>
<link rel="https://api.w.org/" href="https://www.centos.bz/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.centos.bz/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.centos.bz/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="如何使用UFW配置防火墙" href="https://www.centos.bz/2016/10/how-to-configure-firewall-with-ufw/">
<link rel="next" title="VPN配置第二部分 – 设置你的流量走OpenVPN通道" href="https://www.centos.bz/2016/10/establish-a-tunnel-with-openvpn/">
<meta name="generator" content="WordPress 4.9">
<link rel="canonical" href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/">
<link rel="shortlink" href="https://www.centos.bz/?p=5677">
<link rel="alternate" type="application/json+oembed" href="https://www.centos.bz/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.centos.bz%2F2016%2F10%2Fdebian-8-setup-secure-openvpn%2F">
<link rel="alternate" type="text/xml+oembed" href="https://www.centos.bz/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.centos.bz%2F2016%2F10%2Fdebian-8-setup-secure-openvpn%2F&amp;format=xml">
<link rel="stylesheet" href="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/coolcode.css">
<script type="text/javascript" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/coolcode.js.download"></script>
<link rel="stylesheet" href="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/style(2).css" type="text/css" media="all">
<meta name="keywords" content="openvpn, 服务器安全">
<meta name="description" content="OpenVPN软件选择  目前openvpn有两个软件供选择： 一个是OpenVPN Community Edition,社区版本，它的服务端和客户端的配置文件">
<link rel="shortcut icon" href="https://www.centos.bz/favicon.ico">
<!--[if lt IE 9]><script src="https://www.centos.bz/wp-content/themes/xiu/js/html5.js"></script><![endif]-->
<link rel="preload" href="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/f(6).txt" as="script"><script type="text/javascript" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/f(6).txt"></script><link rel="preload" href="https://pagead2.googlesyndication.com/pagead/js/r20190522/r20190131/show_ads_impl.js" as="script"></head>
<body class="post-template-default single single-post postid-5677 single-format-standard post_p_indent excerpt_thumb_left ui-navtop" style="">
<header class="header">
<div class="container">
	<div class="logo"><a href="https://www.centos.bz/" title="Linux运维日志-关于CentOS和Ubuntu等系统的运维"><img src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/logo.png" alt="Linux运维日志">Linux运维日志</a></div>	<ul class="nav"><li class="navmore"></li><li id="menu-item-16868" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16868"><a href="https://www.centos.bz/tag/docker/">Docker</a></li>
<li id="menu-item-16869" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16869"><a href="https://www.centos.bz/tag/nginx-2/">Nginx</a></li>
<li id="menu-item-17892" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17892"><a href="https://www.centos.bz/tag/apache/">Apache</a></li>
<li id="menu-item-16870" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16870"><a href="https://www.centos.bz/tag/mysql-2/">MySQL</a></li>
<li id="menu-item-16871" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16871"><a href="https://www.centos.bz/tag/zabbix/">Zabbix</a></li>
<li id="menu-item-16872" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16872"><a href="https://www.centos.bz/tag/saltstack/">SaltStack</a></li>
<li id="menu-item-16873" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16873"><a href="https://www.centos.bz/tag/kubernetes/">K8S</a></li>
<li id="menu-item-16876" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-16876"><a href="https://www.centos.bz/tag/openresty/">OpenResty</a></li>
<li id="menu-item-17893" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17893"><a href="https://www.centos.bz/tag/wordpress/">WordPress</a></li>
</ul>	<form method="get" class="search-form" action="https://www.centos.bz/"><input class="form-control" name="s" type="text" placeholder="输入关键字" value=""><input class="btn" type="submit" value="搜索"></form>		<div class="feeds">
			</div>
	<div class="slinks">
			</div>

	</div>
</header>
<section class="container">
<div class="content-wrap">
	<div class="content">
				<header class="article-header">
						<div class="breadcrumbs"><span class="text-muted">当前位置：</span><a href="https://www.centos.bz/">Linux运维日志</a> <small>&gt;</small> <a href="https://www.centos.bz/category/server-security/">服务器安全</a> <small>&gt;</small> <span class="text-muted">正文</span></div>
						<h1 class="article-title"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/">VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器</a></h1>
			<ul class="article-meta">
								<li>朱 茂海 发布于 2016-10-14</li>
				<li>分类：<a href="https://www.centos.bz/category/server-security/" rel="category tag" data-original-title="" title="">服务器安全</a></li>
				<li><span class="post-views">阅读(3703)</span></li>
				<li>评论(1)</li>
				<li></li>
			</ul>
		</header>
				<article class="article-content">
		<!-- <blockquote><p>有运维或运维开发方面的需求，可以联系博主QQ 452336092或Email:admin#centos.bz(收费)</p></blockquote> -->

			<div id="content-index" class="content-index" style="margin:0 0 10px 10px;float:right;"><div class="content-index-title">文章目录</div><span class="content-index-toctoggle">[<a id="content-index-togglelink" href="javascript:content_index_toggleToc()">隐藏</a>]</span>
<script type="text/javascript" language="javascript">
window.content_index_showTocToggle=true;function content_index_toggleToc(){var tts="显示";var tth="隐藏";if(window.content_index_showTocToggle){window.content_index_showTocToggle=false;document.getElementById("content-index-contents").style.display="none";document.getElementById("content-index-togglelink").innerHTML=tts}else{window.content_index_showTocToggle=true;document.getElementById("content-index-contents").style.display="block";document.getElementById("content-index-togglelink").innerHTML=tth}}
</script>
<ul id="content-index-contents"><li class="content-index-level-1"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#OpenVPN%E8%BD%AF%E4%BB%B6%E9%80%89%E6%8B%A9" title="OpenVPN软件选择"><span>OpenVPN软件选择</span></a></li><li class="content-index-level-1"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E7%BD%91%E7%BB%9C%E8%A7%84%E5%88%99" title="网络规则"><span>网络规则</span></a><ul class="children"><li class="content-index-level-2"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#IPv4%E9%98%B2%E7%81%AB%E5%A2%99" title="IPv4防火墙"><span>IPv4防火墙</span></a></li><li class="content-index-level-2"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E7%A6%81%E7%94%A8IPv6" title="禁用IPv6"><span>禁用IPv6</span></a></li></ul></li><li class="content-index-level-1"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEOpenVPN" title="安装配置OpenVPN"><span>安装配置OpenVPN</span></a></li><li class="content-index-level-1"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E7%94%9F%E6%88%90Diffie-Hellman%20PEM" title="生成Diffie-Hellman PEM"><span>生成Diffie-Hellman PEM</span></a></li><li class="content-index-level-1"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E5%8A%A0%E5%9B%BAOpenVPN" title="加固OpenVPN"><span>加固OpenVPN</span></a></li><li class="content-index-level-1"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E8%AF%81%E4%B9%A6%E5%92%8C%E5%AF%86%E9%92%A5%E5%AF%B9" title="证书和密钥对"><span>证书和密钥对</span></a><ul class="children"><li class="content-index-level-2"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%87%AD%E6%8D%AE" title="服务器凭据"><span>服务器凭据</span></a></li><li class="content-index-level-2"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%87%AD%E6%8D%AE" title="客户端凭据"><span>客户端凭据</span></a></li></ul></li><li class="content-index-level-1"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" title="客户端配置文件"><span>客户端配置文件</span></a></li><li class="content-index-level-1"><a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/#%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8" title="设置开机启动"><span>设置开机启动</span></a></li></ul></div>
<h2 id="OpenVPN软件选择">OpenVPN软件选择</h2>
<p><br\><br>
目前<a href="https://www.centos.bz/tag/openvpn/">openvpn</a>有两个软件供选择：<br>
一个是OpenVPN Community Edition,社区版本，它的服务端和客户端的配置文件需要手动编辑，客户端凭据需要使用SCP或者SFTP复制到各自的设备。<br>
另一个是OpenVPN Access <a href="https://www.centos.bz/tag/server/">Server</a>，服务端应用程序，允许你使用浏览器来配置OpenVPN。<br>
对于小场景下应用，OpenVPN Access Server可能是较好的选择，因为它配置简单，用户体验好。<br>
不过免费版本只允许两个并发用户。我们这里介绍OpenVPN Community Edition的使用。</br\></p>
<h2 id="网络规则">网络规则</h2>
<p><br\><br>
OpenVPN目前不支持单个实例同时使用IPv4和IPv6。只能选择其中一个。</br\></p>
<h3 id="IPv4防火墙">IPv4防火墙</h3>
<p>1.清除任何系统可能预先存在的规则和非标准的规则链</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">sudo iptables -F &amp;&amp; sudo iptables -X</li></ol></div>
<p>2.使用如下规则：<br>
/tmp/v4：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">*filter</li>
<li>&nbsp;</li>
<li># Allow all loopback (lo) traffic and reject anything</li>
<li># to localhost that does not originate from lo.</li>
<li>-A INPUT -i lo -j ACCEPT</li>
<li>-A INPUT ! -i lo -s 127.0.0.0/8 -j REJECT</li>
<li>-A OUTPUT -o lo -j ACCEPT</li>
<li>&nbsp;</li>
<li># Allow ping and ICMP error returns.</li>
<li>-A INPUT -p icmp -m state --state NEW --icmp-type 8 -j ACCEPT</li>
<li>-A INPUT -p icmp -m state --state ESTABLISHED,RELATED -j ACCEPT</li>
<li>-A OUTPUT -p icmp -j ACCEPT</li>
<li>&nbsp;</li>
<li># Allow SSH.</li>
<li>-A INPUT -i eth0 -p tcp -m state --state NEW,ESTABLISHED --dport 22 -j ACCEPT</li>
<li>-A OUTPUT -o eth0 -p tcp -m state --state ESTABLISHED --sport 22 -j ACCEPT</li>
<li>&nbsp;</li>
<li># Allow UDP traffic on port 1194.</li>
<li>-A INPUT -i eth0 -p udp -m state --state NEW,ESTABLISHED --dport 1194 -j ACCEPT</li>
<li>-A OUTPUT -o eth0 -p udp -m state --state ESTABLISHED --sport 1194 -j ACCEPT</li>
<li>&nbsp;</li>
<li># Allow DNS resolution and limited HTTP/S on eth0.</li>
<li># Necessary for updating the server and keeping time.</li>
<li>-A INPUT -i eth0 -p udp -m state --state ESTABLISHED --sport 53 -j ACCEPT</li>
<li>-A OUTPUT -o eth0 -p udp -m state --state NEW,ESTABLISHED --dport 53 -j ACCEPT</li>
<li>-A INPUT -i eth0 -p tcp -m state --state ESTABLISHED --sport 80 -j ACCEPT</li>
<li>-A INPUT -i eth0 -p tcp -m state --state ESTABLISHED --sport 443 -j ACCEPT</li>
<li>-A OUTPUT -o eth0 -p tcp -m state --state NEW,ESTABLISHED --dport 80 -j ACCEPT</li>
<li>-A OUTPUT -o eth0 -p tcp -m state --state NEW,ESTABLISHED --dport 443 -j ACCEPT</li>
<li>&nbsp;</li>
<li># Allow traffic on the TUN interface.</li>
<li>-A INPUT -i tun0 -j ACCEPT</li>
<li>-A OUTPUT -o tun0 -j ACCEPT</li>
<li>&nbsp;</li>
<li># Log any packets which don't fit the rules above...</li>
<li># (optional but useful)</li>
<li>-A INPUT -m limit --limit 3/min -j LOG --log-prefix "iptables_INPUT_denied: " --log-level 4</li>
<li>-A FORWARD -m limit --limit 3/min -j LOG --log-prefix "iptables_FORWARD_denied: " --log-level 4</li>
<li>-A OUTPUT -m limit --limit 3/min -j LOG --log-prefix "iptables_OUTPUT_denied: " --log-level 4</li>
<li>&nbsp;</li>
<li># then reject them.</li>
<li>-A INPUT -j REJECT</li>
<li>-A FORWARD -j REJECT</li>
<li>-A OUTPUT -j REJECT</li>
<li>&nbsp;</li>
<li>COMMIT</li></ol></div>
<blockquote><p>
注意：<br>
TUN虚拟接口是OpenVPN用来与你的硬件网卡eth0通信的。
</p></blockquote>
<p>你可以使用sudo <a href="https://www.centos.bz/tag/iptables/">iptables</a> -S来加载上面的规则。</p>
<h3 id="禁用IPv6">禁用IPv6</h3>
<p>如果你的VPN仅仅使用IPv4，IPv6应该禁用掉。<br>
1.在文件/etc/sysctl.d/99-sysctl.conf增加如下行</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">net.ipv6.conf.all.disable_ipv6 = 1</li>
<li>net.ipv6.conf.default.disable_ipv6 = 1</li>
<li>net.ipv6.conf.lo.disable_ipv6 = 1</li>
<li>net.ipv6.conf.eth0.disable_ipv6 = 1</li></ol></div>
<p>2.激活上面的配置：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">sudo sysctl -p</li></ol></div>
<p>3.编辑/etc/hosts，注释localhost的IPv6解析<br>
/etc/hosts：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">#::1&nbsp; &nbsp; &nbsp;localhost ip6-localhost ip6-loopback</li></ol></div>
<p>4.增加ip6tables规则集来拒绝所有v6流量。rules.v6文件如下：<br>
/etc/iptables/rules.v6：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">*filter</li>
<li>&nbsp;</li>
<li>-A INPUT -j REJECT</li>
<li>-A FORWARD -j REJECT</li>
<li>-A OUTPUT -j REJECT</li>
<li>&nbsp;</li>
<li>COMMIT</li></ol></div>
<p>6.强制规则立即生效</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">sudo ip6tables-restore &lt; /etc/iptables/rules.v6</li></ol></div>
<h2 id="安装配置OpenVPN">安装配置OpenVPN</h2>
<p><br\><br>
1.开始安装OpenVPN</br\></p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">apt-get install openvpn</li></ol></div>
<p>2.OpenVPN的服务端配置文件/etc/openvpn/server.conf从一个压缩文件解压出：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">gunzip -c /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz &gt; /etc/openvpn/server.conf</li></ol></div>
<p>3.使用make-cadir脚本来从/usr/share/doc/openvpn/examples/复制必要的文件并创建工作目录。</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">make-cadir /etc/openvpn/easy-rsa &amp;&amp; cd /etc/openvpn/easy-rsa/</li></ol></div>
<p>4.创建一个软链接</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">ln -s openssl-1.0.0.cnf openssl.cnf</li></ol></div>
<p>5./etc/openvpn/easy-rsa/keys的权限为0700，它不允许组和其它用户来访问。基于此原因，我们在server.conf的key设置绝对路径。<br>
/etc/openvpn/server.conf：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline"># Any X509 key management system can be used.</li>
<li># OpenVPN can also use a PKCS #12 formatted key file</li>
<li># (see "pkcs12" directive in man page).</li>
<li>ca /etc/openvpn/easy-rsa/keys/ca.crt</li>
<li>cert /etc/openvpn/easy-rsa/keys/server.crt</li>
<li>key /etc/openvpn/easy-rsa/keys/server.key&nbsp; # This file should be kept secret</li>
<li>&nbsp;</li>
<li># Diffie hellman parameters.</li>
<li># Generate your own with:</li>
<li>#&nbsp; &nbsp;openssl dhparam -out dh1024.pem 1024</li>
<li># Substitute 2048 for 1024 if you are using</li>
<li># 2048 bit keys.</li>
<li>dh /etc/openvpn/dh4096.pem</li></ol></div>
<p>6./etc/openvpn/easy-rsa/vars文件用来指定OpenVPN服务器的证书颁发机构的标识信息，然后将其传递到客户端证书。 更改这些字段是可选的，你可以保持不变以减小工作量。<br>
/etc/openvpn/easy-rsa/vars：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline"># These are the default values for fields</li>
<li># which will be placed in the certificate.</li>
<li># Don't leave any of these fields blank.</li>
<li>export KEY_COUNTRY="US"</li>
<li>export KEY_PROVINCE="CA"</li>
<li>export KEY_CITY="SanFrancisco"</li>
<li>export KEY_ORG="Fort-Funston"</li>
<li>export KEY_EMAIL="me@myhost.mydomain"</li>
<li>export KEY_OU="MyOrganizationalUnit"</li></ol></div>
<p>7.在easy-rsa目录，导入vars脚本</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">cd /etc/openvpn/easy-rsa &amp;&amp; source ./vars</li></ol></div>
<p>8.运行clean-all脚本确保在keys目录中没有使用样本文件或模板<br>
./clean-all</p>
<h2 id="生成Diffie-Hellman PEM">生成Diffie-Hellman PEM</h2>
<p><br\><br>
Diffie-Hellman参数是在创建客户端的会话密钥期间当建立加密连接时使用的随机生成的数据的块。 我们将在/etc/openvpn/dh*.pem创建文件，其中*表示Diffie-Hellman密钥的位长度。 2048位是默认值，但在这里我们将使用4096位的密钥。<br>
使用如下命令创建pem文件</br\></p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">openssl dhparam 4096 &gt; /etc/openvpn/dh4096.pem</li></ol></div>
<p>将输出：</p>
<blockquote><p>Generating DH parameters, 4096 bit long safe prime, generator 2<br>
This is going to take a long time</p></blockquote>
<h2 id="加固OpenVPN">加固OpenVPN</h2>
<p><br\><br>
1.对服务器和连接客户端之间的TLS握手涉及的所有数据包都需要匹配HMAC签名,没有此签名的数据包将被丢弃。 取消注释（通过删除;）并编辑行：tls-auth ta.key 0＃This file is secret。<br>
/etc/openvpn/server.conf：</br\></p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline"># For extra security beyond that provided</li>
<li># by SSL/TLS, create an "HMAC firewall"</li>
<li># to help block DoS attacks and UDP port flooding.</li>
<li>#</li>
<li># Generate with:</li>
<li>#&nbsp; &nbsp;openvpn --genkey --secret ta.key</li>
<li>#</li>
<li># The server and each client must have</li>
<li># a copy of this key.</li>
<li># The second parameter should be '0'</li>
<li># on the server and '1' on the clients.</li>
<li>tls-auth /etc/openvpn/easy-rsa/keys/ta.key 0 # This file is secret</li></ol></div>
<p>生成HMAC密钥文件，之后我们会传输到每一个客户端设备</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">openvpn --genkey --secret /etc/openvpn/easy-rsa/keys/ta.key</li></ol></div>
<p>2.设置使用一个有权限限制的用户来运行OpenVPN</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">adduser --system --shell /usr/sbin/nologin --no-create-home openvpn_server</li></ol></div>
<p>取消user和group行的注释，并编辑user行，使用以上建立的用户名。这告诉OpenVPN启动时不使用root权限而切换到openvpn_server用户。<br>
/etc/openvpn/server.conf:</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline"># It's a good idea to reduce the OpenVPN</li>
<li># daemon's privileges after initialization.</li>
<li>#</li>
<li># You can uncomment this out on</li>
<li># non-Windows systems.</li>
<li>user openvpn_server</li>
<li>group nogroup</li></ol></div>
<p>3.在CBC模式下，更改VPN的数据通道以使用256位密钥的AES。 Blowfish-128是默认值，但是AES_CBC通常被认为是OpenVPN支持的最安全的密码和模式组合（见openvpn –show-ciphers），并且可以利用AES-NI提高性能。</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">echo 'cipher AES-256-CBC' &gt;&gt; /etc/openvpn/server.conf</li></ol></div>
<p>4.将数据通道的认证摘要更改为SHA-512，一个SHA-2散列函数。 SHA-1是默认值; 请参阅openvpn –show-digest，了解所有支持的摘要。</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">echo 'auth SHA512' &gt;&gt; /etc/openvpn/server.conf</li></ol></div>
<p>5.将VPN的控制通道限制为强密码套件。 建议在这里尽可能限制，但不是所有的密码套件都可以与所有版本的OpenVPN一起使用。 通过使用SHA 2的TLS 1.2在GCM模式下将池限制为AES，并且在CBC模式下使用SHA 1在TLS 1.0上的AES和Camellia。<br>
echo ‘tls-cipher TLS-DHE-RSA-WITH-AES-256-GCM-SHA384:TLS-DHE-RSA-WITH-AES-128-GCM-SHA256:TLS-DHE-RSA-WITH-AES-256-CBC-SHA:TLS-DHE-RSA-WITH-CAMELLIA-256-CBC-SHA:TLS-DHE-RSA-WITH-AES-128-CBC-SHA:TLS-DHE-RSA-WITH-CAMELLIA-128-CBC-SHA’ &gt;&gt; /etc/openvpn/server.conf        </p>
<h2 id="证书和密钥对">证书和密钥对</h2>
<p><br\><br>
开始之前，先进入easy-rsa目录</br\></p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">cd /etc/openvpn/easy-rsa</li></ol></div>
<h3 id="服务器凭据">服务器凭据</h3>
<p>1.根证书（有时也称为证书颁发机构）是证书和密钥对，用于生成客户端密钥对。 在每个提示下，添加或编辑要在证书中使用的信息（或将其留空）。 使用服务器的主机名或其他标识符作为公用名，并将挑战密码留空。</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">./build-ca</li></ol></div>
<p>2.然后创建服务器的私钥; 再次根据需要在信息提示处添加或编辑：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">/build-key-server server</li></ol></div>
<h3 id="客户端凭据">客户端凭据</h3>
<p>连接到VPN的每个客户端设备应该有自己的唯一密钥。 此外，每个密钥应该有自己的标识符（client1，client2等），但所有其他证书信息可以保持不变。 如果您稍后需要添加用户，只需重复此步骤即可。</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">cd /etc/openvpn/easy-rsa &amp;&amp; source ./vars &amp;&amp; ./build-key client1</li></ol></div>
<h2 id="客户端配置文件">客户端配置文件</h2>
<p><br\><br>
1.复制client.conf模板文件并将其打开以进行编辑。 大多数客户端需要.ovpn文件格式而不是.conf，并且文件扩展名可以在提取期间更改：</br\></p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">cp /usr/share/doc/openvpn/examples/sample-config-files/client.conf /etc/openvpn/easy-rsa/keys/client.ovpn</li></ol></div>
<p>2.指定OpenVPN的服务器IP<br>
/etc/openvpn/easy-rsa/keys/client.ovpn:</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline"># The hostname/IP and port of the server.</li>
<li># You can have multiple remote entries</li>
<li># to load balance between the servers.</li>
<li>&nbsp;</li>
<li>remote 192.0.2.0 1194</li></ol></div>
<p>3.使用普通用户启动openvpn客户端（非<a href="https://www.centos.bz/category/other-system/windows/">windows</a>系统使用）<br>
/etc/openvpn/easy-rsa/keys/client.ovpn：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline"># Downgrade privileges after initialization (non-Windows only)</li>
<li>user nobody</li>
<li>group nogroup</li></ol></div>
<p>4.指定crt,key文件路径<br>
/etc/openvpn/easy-rsa/keys/client.ovpn：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline"># SSL/TLS parms.</li>
<li># See the server config file for more</li>
<li># description.&nbsp; It's best to use</li>
<li># a separate .crt/.key file pair</li>
<li># for each client.&nbsp; A single ca</li>
<li># file can be used for all clients.</li>
<li>ca /path/to/ca.crt</li>
<li>cert /path/to/client1.crt</li>
<li>key /path/to/client1.key</li></ol></div>
<p>5.告诉客户端使用先前生成的HMAC密钥。 如有必要，再次指定路径。<br>
/etc/openvpn/easy-rsa/keys/client.ovpn：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline"># If a tls-auth key is used on the server</li>
<li># then every client must also have the key.</li>
<li>tls-auth /path/to/ta.key 1</li></ol></div>
<p>6.由于VPN服务器被告知在其配置文件中强制某些加密设置，客户端必须具有相同的设置。 将这些行添加到client.ovpn的末尾：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">cipher AES-256-CBC</li>
<li>auth SHA512</li></ol></div>
<p>如果有为控制通道指定密码套件，将这些行添加到client.ovpn：</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">tls-cipher TLS-DHE-RSA-WITH-AES-256-GCM-SHA384:TLS-DHE-RSA-WITH-AES-128-GCM-SHA256:TLS-DHE-RSA-WITH-AES-256-CBC-SHA:TLS-DHE-RSA-WITH-CAMELLIA-256-CBC-SHA:TLS-DHE-RSA-WITH-AES-128-CBC-SHA:TLS-DHE-RSA-WITH-CAMELLIA-128-CBC-SHA</li></ol></div>
<p>7.将所有必要的客户端文件打包到一个tarball准备传输。 具体文件有：<br>
/etc/openvpn/easy-rsa/keys/ca.crt<br>
/etc/openvpn/easy-rsa/keys/client1.crt<br>
/etc/openvpn/easy-rsa/keys/client1.key<br>
/etc/openvpn/easy-rsa/keys/client.ovpn<br>
/etc/openvpn/easy-rsa/keys/ta.key</p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">tar -C /etc/openvpn/easy-rsa/keys -cvzf /etc/openvpn/client1.tar.gz {ca.crt,client1.crt,client1.key,client.ovpn,ta.key}</li></ol></div>
<h2 id="设置开机启动">设置开机启动</h2>
<p><br\></br\></p>
<div class="hl-surround"><ol class="hl-main ln-show" title="Double click to hide line number." ondblclick="linenumber(this)"><li class="hl-firstline">sudo systemctl enable openvpn.service &amp;&amp; sudo systemctl start openvpn.service</li></ol></div>			        	<p class="post-copyright">转载请保留原文链接：<a href="https://www.centos.bz/">Linux运维日志</a> » <a href="https://www.centos.bz/2016/10/debian-8-setup-secure-openvpn/">VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器</a></p>		</article>
		           <div class="gave">
            <p><a href="javascript:;" id="gave">打赏</a></p>
<p>如果此文对你有所帮助，请随意打赏鼓励作者^_^</p>
            <div class="code" id="wechatCode" style="display: none;">
                <img src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/weixin_reward.jpg" alt="微信扫一扫支付" data-tag="bdshare">
                <div><img src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/ico-wechat.jpg" alt="微信logo" class="ico-wechat" data-tag="bdshare">微信扫一扫，打赏作者吧～</div>
            </div>
        </div>
       
				
		<div class="article-tags">
			标签：<a href="https://www.centos.bz/tag/openvpn/" rel="tag" data-original-title="" title="">openvpn</a>		</div>
		<nav class="article-nav">
			<span class="article-nav-prev">上一篇<br><a href="https://www.centos.bz/2016/10/how-to-configure-firewall-with-ufw/" rel="prev">如何使用UFW配置防火墙</a></span>
			<span class="article-nav-next">下一篇<br><a href="https://www.centos.bz/2016/10/establish-a-tunnel-with-openvpn/" rel="next">VPN配置第二部分 – 设置你的流量走OpenVPN通道</a></span>
		</nav>
		<div class="ads ads-content ads-related"><script async="" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/f(7).txt"></script>
<!-- 全站文章顶部728*90 -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-7207924189700482" data-ad-slot="4668235082" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0px;width:728px;height:90px;" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/saved_resource.html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>		<div class="relates relates-model-thumb"><h3 class="title"><strong>相关推荐</strong></h3><ul><li><a href="https://www.centos.bz/2017/10/%e5%9f%ba%e4%ba%8eiptables%e4%b8%8bopenvpn%e8%ae%bf%e9%97%ae%e6%9d%83%e9%99%90%e6%8e%a7%e5%88%b6/"><img data-original="https://www.centos.bz/wp-content/uploads/2017/10/1-26.png" class="thumb" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/1-26.png" style="display: inline;">基于iptables下OpenVPN访问权限控制</a></li><li><a href="https://www.centos.bz/2016/10/establish-a-tunnel-with-openvpn/"><span><img data-original="https://www.centos.bz/wp-content/themes/xiu/images/thumbnail.png" class="thumb" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/thumbnail.png" style="display: inline;"></span>VPN配置第二部分 – 设置你的流量走OpenVPN通道</a></li><li><a href="https://www.centos.bz/2011/03/how-to-install-openvpn-on-openvz/"><span><img data-original="https://www.centos.bz/wp-content/uploads/2011/03/openvpn.jpg" class="thumb" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/openvpn.jpg" style="display: inline;"></span>如何在openvz上安装openvpn</a></li><li><a href="https://www.centos.bz/2017/07/fail2ban-protect-wordpress-xmlrpc-php-cc/"><span><img data-original="https://www.centos.bz/wp-content/themes/xiu/images/thumbnail.png" class="thumb" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/thumbnail.png" style="display: inline;"></span>Fail2ban防止WordPress受到xmlrpc.php CC攻击</a></li><li><a href="https://www.centos.bz/2017/07/iptables-9-example/"><span><img data-original="https://www.centos.bz/wp-content/themes/xiu/images/thumbnail.png" class="thumb" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/thumbnail.png" style="display: inline;"></span>9个常用iptables配置实例</a></li><li><a href="https://www.centos.bz/2017/07/iptables-allow-php-9000/"><img data-original="https://www.centos.bz/wp-content/uploads/2017/07/iptables-1.jpg" class="thumb" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/iptables-1.jpg" style="display: inline;">iptables配置只允许PHP 9000端口访问</a></li><li><a href="https://www.centos.bz/2017/07/linux-desktop-iptables/"><img data-original="https://www.centos.bz/wp-content/uploads/2017/07/iptables.jpg" class="thumb" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/iptables.jpg" style="display: inline;">Linux桌面系统iptables安全配置</a></li><li><a href="https://www.centos.bz/2017/06/httpguard-installation/"><span><img data-original="https://www.centos.bz/wp-content/themes/xiu/images/thumbnail.png" class="thumb" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/thumbnail.png" style="display: inline;"></span>CDNFly安装</a></li></ul></div>							</div>
</div>
<aside class="sidebar">	
<div class="widget widget_ads affix" style="top: 100px;"><div class="widget_ads_inner"><script async="" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/f(7).txt"></script>
<!-- 右侧300x250 -->
<ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-7207924189700482" data-ad-slot="9461374684" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0px;width:300px;height:250px;" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/saved_resource(1).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div><div class="widget widget_tags affix" style="top: 375px;"><h3 class="title"><strong>热门标签</strong></h3><ul class="widget_tags_inner"><li><a title="" href="https://www.centos.bz/tag/docker/" data-original-title="395个话题">docker</a></li><li><a title="" href="https://www.centos.bz/tag/nginx-2/" data-original-title="350个话题">nginx</a></li><li><a title="" href="https://www.centos.bz/tag/mysql-2/" data-original-title="271个话题">mysql</a></li><li><a title="" href="https://www.centos.bz/tag/linux/" data-original-title="207个话题">Linux</a></li><li><a title="" href="https://www.centos.bz/tag/centos/" data-original-title="206个话题">CentOS</a></li><li><a title="" href="https://www.centos.bz/tag/ubuntu/" data-original-title="114个话题">ubuntu</a></li><li><a title="" href="https://www.centos.bz/tag/zabbix/" data-original-title="112个话题">zabbix</a></li><li><a title="" href="https://www.centos.bz/tag/python-3/" data-original-title="100个话题">python</a></li><li><a title="" href="https://www.centos.bz/tag/redis/" data-original-title="95个话题">redis</a></li><li><a title="" href="https://www.centos.bz/tag/apache/" data-original-title="92个话题">apache</a></li><li><a title="" href="https://www.centos.bz/tag/git/" data-original-title="91个话题">git</a></li><li><a title="" href="https://www.centos.bz/tag/kubernetes/" data-original-title="88个话题">kubernetes</a></li><li><a title="" href="https://www.centos.bz/tag/mongodb/" data-original-title="83个话题">mongodb</a></li><li><a title="" href="https://www.centos.bz/tag/wordpress/" data-original-title="79个话题">wordpress</a></li><li><a title="" href="https://www.centos.bz/tag/tomcat/" data-original-title="74个话题">tomcat</a></li><li><a title="" href="https://www.centos.bz/tag/php/" data-original-title="72个话题">PHP</a></li><li><a title="" href="https://www.centos.bz/tag/ansible/" data-original-title="72个话题">ansible</a></li><li><a title="" href="https://www.centos.bz/tag/mariadb/" data-original-title="70个话题">MariaDB</a></li><li><a title="" href="https://www.centos.bz/tag/jenkins/" data-original-title="70个话题">Jenkins</a></li><li><a title="" href="https://www.centos.bz/tag/ssh/" data-original-title="69个话题">SSH</a></li><li><a title="" href="https://www.centos.bz/tag/flask/" data-original-title="67个话题">flask</a></li><li><a title="" href="https://www.centos.bz/tag/saltstack/" data-original-title="61个话题">saltstack</a></li><li><a title="" href="https://www.centos.bz/tag/gitlab/" data-original-title="51个话题">gitlab</a></li><li><a title="" href="https://www.centos.bz/tag/iptables/" data-original-title="50个话题">Iptables</a></li><li><a title="" href="https://www.centos.bz/tag/k8s/" data-original-title="50个话题">k8s</a></li><li><a title="" href="https://www.centos.bz/tag/rsync/" data-original-title="49个话题">rsync</a></li><li><a title="" href="https://www.centos.bz/tag/awk/" data-original-title="46个话题">awk</a></li><li><a title="" href="https://www.centos.bz/tag/crontab/" data-original-title="43个话题">crontab</a></li><li><a title="" href="https://www.centos.bz/tag/https/" data-original-title="41个话题">https</a></li><li><a title="" href="https://www.centos.bz/tag/php-fpm/" data-original-title="38个话题">php-fpm</a></li><li><a title="" href="https://www.centos.bz/tag/docker-compose/" data-original-title="37个话题">docker compose</a></li><li><a title="" href="https://www.centos.bz/tag/supervisor/" data-original-title="36个话题">supervisor</a></li><li><a title="" href="https://www.centos.bz/tag/nfs/" data-original-title="34个话题">NFS</a></li><li><a title="" href="https://www.centos.bz/tag/django/" data-original-title="32个话题">Django</a></li><li><a title="" href="https://www.centos.bz/tag/haproxy/" data-original-title="32个话题">haproxy</a></li><li><a title="" href="https://www.centos.bz/tag/openresty/" data-original-title="31个话题">OpenResty</a></li><li><a title="" href="https://www.centos.bz/tag/uwsgi/" data-original-title="31个话题">uWSGI</a></li><li><a title="" href="https://www.centos.bz/tag/memcached/" data-original-title="30个话题">memcached</a></li><li><a title="" href="https://www.centos.bz/tag/kvm/" data-original-title="30个话题">KVM</a></li><li><a title="" href="https://www.centos.bz/tag/postgresql/" data-original-title="29个话题">PostgreSQL</a></li><li><a title="" href="https://www.centos.bz/tag/lvm/" data-original-title="28个话题">LVM</a></li><li><a title="" href="https://www.centos.bz/tag/lua/" data-original-title="28个话题">lua</a></li><li><a title="" href="https://www.centos.bz/tag/keepalived/" data-original-title="27个话题">keepalived</a></li><li><a title="" href="https://www.centos.bz/tag/yum/" data-original-title="27个话题">yum</a></li><li><a title="" href="https://www.centos.bz/tag/innodb/" data-original-title="27个话题">innodb</a></li></ul></div><div class="widget widget_postlist"><h3 class="title"><strong>随便看看</strong></h3><ul class="items-03">		<li><a href="https://www.centos.bz/2013/07/shell-script-make-tetris-game/"><span class="text">shell脚本制作俄罗斯方块游戏</span><span class="text-muted post-views">阅读(2807)</span></a></li>
				<li><a href="https://www.centos.bz/2017/09/ssh-upload-download-with-sz-rz/"><span class="text">利用SSH上传、下载（使用sz与rz命令）</span><span class="text-muted post-views">阅读(3704)</span></a></li>
				<li><a href="https://www.centos.bz/2016/12/docker-network-command/"><span class="text">Docker用户指南(11) – Docker网络命令</span><span class="text-muted post-views">阅读(707)</span></a></li>
				<li><a href="https://www.centos.bz/2017/03/nginx-limit_rate-limit_conn-download-speed/"><span class="text">Nginx使用limit_rate limit_conn限制文件下载速度</span><span class="text-muted post-views">阅读(3641)</span></a></li>
				<li><a href="https://www.centos.bz/2011/09/linux-ext2ed/"><span class="text">Linux ext2ed ext2文件系统编辑程序命令详解</span><span class="text-muted post-views">阅读(462)</span></a></li>
				<li><a href="https://www.centos.bz/2017/08/virtualbox-centos7-nat-bridge/"><span class="text">Virtualbox的centos7 nat和桥接网络配置</span><span class="text-muted post-views">阅读(7044)</span></a></li>
		</ul></div></aside>
</section>
<footer class="footer">
	    © 2019 <a href="https://www.centos.bz/">Linux运维日志</a> &nbsp;
<a href="https://www.centos.bz/sitemap.xml">网站地图</a> | <a href="https://www.centos.bz/tags/">所有标签</a> | <a href="http://www.miitbeian.gov.cn/">粤ICP备15110427号-1</a>    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?245337fe2a5eec764f81f87e3d0180a7";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</footer>

<script>
window.jui = {
	uri: 'https://www.centos.bz/wp-content/themes/xiu',
	roll: '1 2',
	ajaxpager: '0'
}
</script>
<link rel="stylesheet" id="wechat-reward-css" href="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/wechat-reward.css" type="text/css" media="all">
<script type="text/javascript" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/bootstrap.js.download"></script>
<script type="text/javascript" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/custom.js.download"></script><div class="rollto" style="display: block;"><a href="javascript:;"></a></div>
<script type="text/javascript" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/wp-embed.min.js.download"></script>
<script type="text/javascript" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/wechat-reward.js.download"></script>


<iframe id="google_osd_static_frame_3377420433544" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/saved_resource(2).html"></iframe></body><iframe id="google_shimpl" style="display: none;" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/saved_resource(3).html"></iframe><iframe id="google_esf" name="google_esf" src="./VPN配置第一部分 – Debian 8安装配置安全的OpenVPN服务器-Linux运维日志_files/zrt_lookup.html" data-ad-client="ca-pub-7207924189700482" style="display: none;"></iframe></html>