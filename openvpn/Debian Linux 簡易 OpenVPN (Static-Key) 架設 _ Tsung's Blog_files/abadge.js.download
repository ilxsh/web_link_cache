var SiteTag3=SiteTag3||{},SiteTag=SiteTag||{isTrackExisted:!1};SiteTag3.config=SiteTag3.config||{prefix:"sitetag",pubhost:"https://pub.sitetag.us/",statichost:"https://static.sitetag.us/",logoHtml:"SiteTag",filename:"abadge.js",apihost:"https://realtime.sitetag.us/",lang:"zh-tw",realtrack:!1,total:0};
SiteTag3.lang=SiteTag3.lang||{en:{title:"Your website tags generator.",waiting:"which is collecting data, please wait for a moment......",head:"Prompt article list",get:"get widget",sec:"sec(s) ago",min:" min(s) ago",hour:" hour(s) ago",day:" day(s) ago",mouth:" mouth(s) ago",year:" year(s) ago",keyword:"keyword",at:"at",from:"from"},tw:{title:"\u7db2\u7ad9\u6a19\u7c64\u7522\u751f\u5668",waiting:"\u8cc7\u6599\u8490\u96c6\u4e2d\uff0c\u8acb\u7a0d\u5f8c......",head:"\u5373\u6642\u6587\u7ae0\u5217\u8868",
get:"\u53d6\u5f97\u5916\u639b",sec:"\u79d2\u524d",min:"\u5206\u524d",hour:"\u5c0f\u6642\u524d",day:"\u5929\u524d",mouth:"\u6708\u524d",year:"\u5e74\u524d",keyword:"\u95dc\u9375\u5b57",at:"\u65bc",from:"\u4f86\u81ea"},cn:{title:"\u7f51\u7ad9\u6807\u7c64\u4ea7\u751f\u5668",waiting:"\u8d44\u6599\u8490\u96c6\u4e2d\uff0c\u8bf7\u7a0d\u540e......",head:"\u5373\u65f6\u6587\u7ae0\u5217\u8868",get:"\u53d6\u5f97\u5916\u6302",sec:"\u79d2\u524d",min:"\u5206\u524d",hour:"\u5c0f\u65f6\u524d",day:"\u5929\u524d",
mouth:"\u6708\u524d",year:"\u5e74\u524d",keyword:"\u5173\u952e\u5b57",at:"\u4e8e",from:"\u6765\u81ea"}};String.prototype.toCamel||(String.prototype.toCamel=function(){return String(this).replace(/[-_\s]\D/gi,function(e){return e.charAt(e.length-1).toUpperCase()})});
(function(){SiteTag3.util=SiteTag3.util||{};var e=SiteTag3.util,h=SiteTag3.util,b;if(!(b=SiteTag3.util.Dom))b=document.uniqueID?function(a,c){var d=c.prop.toCamel(),b=c.val;if(a)switch(d){case "opacity":if(a.style.filter&&(a.style.filter="alpha(opacity="+100*b+")",!a.currentStyle||!a.currentStyle.hasLayout))a.style.zoom=1;break;case "float":d="styleFloat";default:a.style[d]=b}}:function(a,c){var d=c.prop.toCamel(),b=c.val;a&&("float"==d&&(d="cssFloat"),a.style[d]=b)},b={_reClassNameCache:{},_getClassRegEx:function(a){var c=
e.Dom._reClassNameCache[a];c||(c=RegExp("(?:^|\\s+)"+a+"(?:\\s+|$)"),e.Dom._reClassNameCache[a]=c);return c},getElementsByClassName:function(a,c,d,b){d=d||document;var h=[];c=d.getElementsByTagName(c||"*");a=e.Dom._getClassRegEx(a);d=0;for(var j=c.length;d<j;d++)a.test(c[d].className)&&(h[h.length]=c[d],b&&b.call(c[d],c[d]));return h},batch:function(a,c,d,b){var e=[];b=b?d:window;if(a&&c){if(a.tagName||void 0===a.length)return c.call(b,a,d);for(var h=0;h<a.length;h++)e[e.length]=c.call(b,a[h],d)}else return!1;
return e},hasClass:function(a,c){return e.Dom.batch(a,e.Dom._hasClass,c)},_hasClass:function(a,c){var d=!1;a&&c&&(d=a.className||"",d=c.exec?c.test(d):c&&-1<(" "+d+" ").indexOf(" "+c+""));return d},addClass:function(a,c){return e.Dom.batch(a,e.Dom._addClass,c)},_addClass:function(a,c){var d=!1,b;a&&c&&(b=a.className||"",e.Dom._hasClass(a,c)||(a.className=b+" "+c,d=!0));return d},removeClass:function(a,c){return e.Dom.batch(a,e.Dom._removeClass,c)},_removeClass:function(a,c){var d=!1;a&&c&&(d=a.className||
"",a.className=d.replace(e.Dom._getClassRegEx(c),""),d=!0);return d},setStyle:function(a,c,d){e.Dom.batch(a,e.Dom._setStyle,{prop:c,val:d})},_setStyle:b};h.Dom=b;SiteTag3.util.Event=SiteTag3.util.Event||{preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1}}})();
(function(){var e=SiteTag3.util.Dom;SiteTag3.util.createEl=SiteTag3.util.createEl||{get:function(e,b,a){e=document.createElement(e);for(var c in b)e[c]=b[c];a&&(e.innerHTML=a);this.append(e);return e},append:function(e){(document.getElementsByTagName("head")[0]||document.body).appendChild(e)},remove:function(e){setTimeout(function(){e.parentNode.removeChild(e);e=null},0)},js:function(e,b){var a=this.get("script",{src:e,type:"text/javascript"},null);b&&a.setAttribute("charset",b);return a},css:function(e,
b){b||(b="all");return this.get("link",{href:e,rel:"stylesheet",type:"text/css",media:b},null,"head")},template:function(h,b){h.className=h.className||SiteTag3.config.prefix;document.write('<iframe allowtransparency="true" frameborder="no" frameBorder="no" marginWidth="0" marginHeight="0" border="0" scrolling="no" width="100%" height="137" src="about:blank" class="'+h.className+'"></iframe>');var a=e.getElementsByClassName(h.className,"iframe")[0];e.setStyle(a,"margin-bottom","10px");var c=a.contentWindow;
b&&(c.document.open(),c.document.write(b),c.document.close());return a}}})();
(function(){var e=SiteTag3.util,h=document.getElementsByTagName("head")[0];SiteTag3.util.JSONP=SiteTag3.util.JSONP||{_oRequests:{},request:function(b){var a="req_"+(new Date).getTime(),c={};c.sRequestId=a;c.callback=function(c){e.JSONP.callback(a,c)};c.realCallback=b.callback;c.onTimeout=b.onTimeout;b.callback="SiteTag3.util.JSONP._oRequests."+a+".callback";-1==b.url.indexOf("?")&&(b.url+="?");var d="";""==d&&(d+="&");d+="callback="+b.callback;b.url+=d;d=document.createElement("script");c.script=
d;d.setAttribute("src",b.url);d.setAttribute("type","text/javascript");c.timeout=setTimeout(function(){e.JSONP.timeoutClear(a)},5E3);h.appendChild(d);e.JSONP._oRequests[a]=c},callback:function(b,a){var c=e.JSONP._oRequests[b];c&&clearTimeout(c.timeout);c.realCallback(a);delete e.JSONP._oRequests[b]},timeoutClear:function(b){var a=e.JSONP._oRequests[b];if(a){var c={};c.sRequestId=a.sRequestId;c.oConfig={};for(var d in a.oConfig)c.oConfig[d]=a.oConfig[d];d=a.onTimeout;delete a[b];d&&d(c)}}}})();
(function(){SiteTag3.config.total=!SiteTag3.config.total?0:SiteTag3.config.total;SiteTag3.config.total++;var e=SiteTag3.util.Dom,h=SiteTag3.util.Event,b=function(a,c){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var d=RegExp("[\\?&]"+a+"=([^&#]*)");return!d.exec(c)?"":d.exec(c)[1]},a=function(a){try{return a.replace(/^\s+|\s+$/g,"")}catch(c){return a}},c=function(a){return"yahoo"==a?'<img src="https://www.yahoo.com/favicon.ico" alt="Yahoo" width="16" height="16">':"google"==a?'<img src="https://www.google.com.tw/favicon.ico" alt="Google" width="16" height="16">':
"baidu"==a?'<img src="https://www.baidu.com/favicon.ico" alt="Baidu" width="16" height="16">':"bing"==a?'<img src="https://www.bing.com/sa/simg/bing_p_rr.ico" alt="Bing" width="16" height="16">':'<img src="https://static.sitetag.us/favicon.ico" alt="SiteTag">'};dScripts=document.body.getElementsByTagName("script");var d,r,f,j,s,m,u,H=!1,I=dScripts[dScripts.length-1],k=I.src.toString(),A=/\/(\w+\.js)\?/;A.exec(k);if(I.src&&RegExp.$1===SiteTag3.config.filename){d=b("hash",k);if(!d)return;f=(f=b("background_color",k))?"#"+f:"#fff";b("width",k);s=(s=b("border_width",
k))?s+"px":"4px";j=(j=b("border_color",k))?"#"+j:"#999";m=(m=b("limit",k))?m:"5";u=(u=b("inner_background_color",k))?"#"+u:"#ffc";r=navigator.browserLanguage?navigator.browserLanguage:navigator.userLanguage?navigator.userLanguage:navigator.language;SiteTag3.config.lang=r.toLowerCase();r=(r=b("type",k))?r:"xx";H=!0}if(H){switch(SiteTag3.config.lang){case "en":var v=SiteTag3.lang.en.title,w=SiteTag3.lang.en.waiting,b=SiteTag3.lang.en.head,k=SiteTag3.lang.en.get,B=SiteTag3.lang.en.sec,C=SiteTag3.lang.en.min,
D=SiteTag3.lang.en.hour,E=SiteTag3.lang.en.day,F=SiteTag3.lang.en.mouth,G=SiteTag3.lang.en.year,x=SiteTag3.lang.en.from,y=SiteTag3.lang.en.at,z=SiteTag3.lang.en.keyword;break;case "zh-cn":v=SiteTag3.lang.cn.title;w=SiteTag3.lang.cn.waiting;b=SiteTag3.lang.cn.head;k=SiteTag3.lang.cn.get;B=SiteTag3.lang.cn.sec;C=SiteTag3.lang.cn.min;E=SiteTag3.lang.cn.day;D=SiteTag3.lang.cn.hour;F=SiteTag3.lang.cn.mouth;G=SiteTag3.lang.cn.year;x=SiteTag3.lang.cn.from;y=SiteTag3.lang.cn.at;z=SiteTag3.lang.cn.keyword;
break;default:v=SiteTag3.lang.tw.title,w=SiteTag3.lang.tw.waiting,b=SiteTag3.lang.tw.head,k=SiteTag3.lang.tw.get,B=SiteTag3.lang.tw.sec,C=SiteTag3.lang.tw.min,D=SiteTag3.lang.tw.hour,E=SiteTag3.lang.tw.day,F=SiteTag3.lang.tw.mouth,G=SiteTag3.lang.tw.year,x=SiteTag3.lang.tw.from,y=SiteTag3.lang.tw.at,z=SiteTag3.lang.tw.keyword}var J=function(a){if("string"===typeof a){var c=a.split(" ");a=c[0].split("-");c=c[1].split(":");a=(new Date(a[0],a[1]-1,a[2],c[0],c[1],c[2])).getTime();c=(new Date).getTime();
a=parseInt((c-a)/1E3);a=0>a?0:a;return 60>a?a+B:3600>a?parseInt(a/60)+C:24>a/3600?parseInt(a/3600)+D:30>a/86400?parseInt(a/86400)+E:12>a/2592E3?parseInt(a/2592E3)+F:parseInt(a/31104E3)+G}};f=["<!doctype html public '-//W3C//DTD HTML 4.01//EN' 'http://www.w3.org/TR/html4/strict.dtd'>","<html>","<head>",'<base target="_top">','<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />','<link rel="stylesheet" type="text/css" href="//static.sitetag.us/reset-fonts-grids.css">',
'<style type="text/css">',"html {background-color:"+f+";}","body {background-color:"+f+";}",".sitetag {width:100%;-moz-border-radius:5px;-webkit-border-radius:5px;background:"+j+";}",".sitetag-hd {text-align:left;}",".sitetag-hd h3 {margin:0 5px 0;padding:5px;color:#ffcc00;letter-spacing:1px;}",".sitetag-bd {zoom:1;text-align:left;margin:0 "+s+" 2px !important;background:"+u+";border:solid 1px #000;border-width:1px 1px 1px 1px;border-right-color:#fff;border-bottom-color:#fff;-moz-border-radius:5px;-webkit-border-radius:5px;}",
".sitetag-bd div {padding:5px;line-height:1.5;}",".sitetag-bd a:link,",".sitetag-bd a:visited {color:#0d09b2;}",".sitetag-bd ul li {line-height:1.5;border-bottom:1px solid #d5d5d5;padding:10px 5px;}",".sitetag-bd ul li h3 {margin-bottom:5px;}",".sitetag-bd ul li h3 a {margin-bottom:5px;word-break:break-all;}",".sitetag-bd ul li cite {display:block;text-align:right;}",".sitetag-bd ul li cite * {verticala-align:bottom;}",".sitetag-bd ul li cite em {font-style:normal;word-break:break-all;display:inline-block;}",
".sitetag-bd ul li strong em {font-size:70%;}",".sitetag-bd ul li cite span {color:#999;font-size:70%;}",".sitetag-bd ul li cite a.tag {position:relative;top:-2px;background:#00549A;font-weight:bold;color:#fff !important;disply:inline-block;padding:3px;text-decoration:none;font-size:85%;}",".sitetag-bd ul li cite a:hover {color:yellow !important;}",".sitetag-bd ul li#last {border:none;}",".sitetag-bd .empty {text-align:center;}",".sitetag-bd .loading {background:url(https://static.sitetag.us/loading.gif) center center no-repeat;height:70px;}",
".sitetag-ft {text-align:left;zoom:1;}",'.sitetag-ft:after {content:"";display:block;clear:both;visibility:hidden;height:0;}',".sitetag-ft img {border:none;}",".sitetag-ft cite {float:left;display:block;padding:"+parseInt(s)/2+"px 5px "+parseInt(s)/2+"px;color:#71ae6f;font:normal 85% Verdana;text-decoration:none;}",".sitetag-ft cite a:link,.sitetag-ft cite a:visited {color:#ffcc00;font-family:Georgia !important;font-weight:bold;font-style:italic !important;}",".sitetag-ft span {float:right;margin-right:10px;}",
".sitetag-ft span a {font-size:93%;text-decoration:none;padding:5px 0;color:#d5d5d5;display:block;}",".sitemajiad {background-color:#fff8e7;margin:5px;position:relative;}",".sitemajiad h3 {padding-bottom:12px;}",".sitemajiad h3 {padding-bottom:12px;}",".sitemajiad h3 a {color:#12c;}",".sitemajiad span {color:#767676;font-size:85%;position:absolute;right:3px;bottom:3px;}","</style>","</head>","<body>",'<div class="'+SiteTag3.config.prefix+'">','<div class="'+SiteTag3.config.prefix+'-hd"><h3>'+b+'<a href="#" title="reload" id="reload"><img src="https://static.sitetag.us/ico_refresh.png" alt="reload"></a></h3></div>',
'<div class="'+SiteTag3.config.prefix+'-bd">','<div class="'+SiteTag3.config.prefix+'-bd-container loading">',"</div>",'<div class="sitemajiad">',"</div>","</div>",'<div class="'+SiteTag3.config.prefix+'-ft">','<cite><a target="_blank" href="http://blog.sitetag.us/">News</a></cite>','<span><a target="_blank" href="http://sitetag.us/register">'+k+"</a></span>","</div>","</div>","</body>","</html>"];var l=SiteTag3.util.createEl.template({className:SiteTag3.config.prefix+"-abadge-iframe-"+SiteTag3.config.total},
f.join(""));f=null;var n,p;(new Date).getFullYear();n=e.getElementsByClassName(SiteTag3.config.prefix,"div",l.contentWindow.document)[0];var t={url:SiteTag3.config.apihost+"sites.php?h="+d+"&n="+m+"&b=0",callback:function(b){var f;if(b&&0!==b.length){f=["<ul>"];for(var g=0,h=b.length;g<h;g++){var j=0!==b[g].num?"\u7b2c"+b[g].num+"\u7b46":"";f[f.length]="<li"+(g==b.length-1?' id="last"':"")+'><h3><a target="_blank" title="\u4f86\u81ea'+b[g].engine.substring(0,1).toUpperCase()+b[g].engine.substring(1)+
j+'" href="'+b[g].url+'">'+b[g].title+'</a></h3><cite><em><a title="'+z+'" class="tag" target="_blank" href="http://sitetag.us/'+d+"/"+encodeURIComponent(b[g].tag)+'?from=realtime">'+a(b[g].tag.replace(/\+/g," "))+"</a></em> "+x+' <strong><a target="_blank" title="'+j+'" href="'+b[g].refurl+'">'+c(b[g].engine)+"</a><em>&nbsp;&nbsp;\u7b2c"+b[g].page+"\u9801 </em></strong><span> "+y+J(b[g].created)+"</span></cite></li>";if(g==m-1)break}f.push("</ul>")}else f=['<div class="empty">','<span id="last"><a style="font-family:Georgia;font-size:123.1%;font-style:italic;" target="_blank" href="http://sitetag.us">SiteTag</a> - <em style="font-style:normal;">'+
v+"</em><br/>"+w+"</span>","</div>"];(function(){l.contentWindow.document.body?(p=e.getElementsByClassName(SiteTag3.config.prefix+"-bd-container","div",n)[0],p.innerHTML=f.join(""),e.removeClass(p,"loading"),e.setStyle(l,"height",n.offsetHeight+"px")):setTimeout(arguments.callee,1)})()}};SiteTag3.adShow=function(a){var c="";if(a[0]){var c=Math.floor(Math.random()*a.length),b=e.getElementsByClassName("sitemajiad","div",n)[0],c='<h3><a href= "'+a[c].adurl+'" target="_blank">'+a[c].adtitle+"</a></h3><span>\u8d0a\u52a9\u5ee3\u544a</span>";
b.innerHTML=c;(function(){l.contentWindow.document.body?e.setStyle(l,"height",n.offsetHeight+"px"):setTimeout(arguments.callee,1)})()}};"onload"==r?document.uniqueID&&document.expando?window.attachEvent("onload",function(){SiteTag3.util.JSONP.request(t);t=null;SiteTag3.util.createEl.js("https://ssl.sitemaji.com/badgead.json")}):window.addEventListener("load",function(){SiteTag3.util.JSONP.request(t);t=null;SiteTag3.util.createEl.js("https://ssl.sitemaji.com/badgead.json")},
!1):(SiteTag3.util.JSONP.request(t),t=null,SiteTag3.util.createEl.js("https://ssl.sitemaji.com/badgead.json"));f=l.contentWindow.document.getElementById("reload");SiteTag3.ReloadFn=function(b){var f;if(b&&0!==b.length){f=["<ul>"];for(var g=0,h=b.length;g<h;g++){var j=0!==b[g].num?"\u7b2c"+b[g].num+"\u7b46":"";f[f.length]="<li"+(g==b.length-1?' id="last"':"")+'><h3><a target="_blank" title="\u4f86\u81ea'+b[g].engine.substring(0,1).toUpperCase()+b[g].engine.substring(1)+j+'" href="'+b[g].url+'">'+b[g].title+
'</a></h3><cite><em><a title="'+z+'" class="tag" target="_blank" href="http://sitetag.us/'+d+"/"+encodeURIComponent(b[g].tag)+'?from=realtime">'+a(b[g].tag.replace(/\+/g," "))+"</a></em> "+x+' <strong><a target="_blank" title="'+j+'" href="'+b[g].refurl+'">'+c(b[g].engine)+"</a><em>&nbsp;&nbsp;\u7b2c"+b[g].page+"\u9801 </em></strong><span> "+y+J(b[g].created)+"</span></cite></li>";if(g==m-1)break}f.push("</ul>")}else f=['<div class="empty">','<span id="last"><a style="font-family:Georgia;font-size:123.1%;font-style:italic;" target="_blank" href="http://sitetag.us">SiteTag</a> - <em style="font-style:normal;">'+
v+"</em><br/>"+w+"</span>","</div>"];p.innerHTML=f.join("");e.removeClass(p,"loading");e.setStyle(l,"height",n.offsetHeight+"px")};f.onclick=function(a){h.preventDefault(a||l.contentWindow.event);p.innerHTML="";e.addClass(p,"loading");e.setStyle(l,"height",n.offsetHeight+"px");SiteTag3.util.createEl.js(SiteTag3.config.apihost+"sites.php?h="+d+"&n="+m+"&b=0&callback=SiteTag3.ReloadFn")};if(!SiteTag3.config.realtrack&&(document.referrer&&""!=document.referrer)&&(A=/(google)|(bing)|(baidu)|(sitetag)|(yahoo)/,
A.test(document.referrer))){j=f=null;f={title:encodeURIComponent(document.title),refurl:document.referrer&&""!=document.referrer?encodeURIComponent(document.referrer):""};j=[];for(var q in f)j[j.length]=q+"="+f[q];f=SiteTag3.config.apihost+"track.php?h="+d+"&url="+encodeURIComponent(location.href)+"&"+j.join("&");SiteTag3.util.createEl.js(f);if(!SiteTag.isTrackExisted){f={agent:encodeURIComponent(navigator.userAgent.toLowerCase()),version:encodeURIComponent(navigator.appVersion.toLowerCase()),cpu:navigator.cpuClass?
encodeURIComponent(navigator.cpuClass):encodeURIComponent(navigator.oscpu),platform:encodeURIComponent(navigator.platform),language:navigator.browserLanguage?navigator.browserLanguage:navigator.userLanguage?navigator.userLanguage:navigator.language,appname:encodeURIComponent(navigator.appName),timezone:-1*(new Date).getTimezoneOffset(),resolution:[screen.width,screen.height],colordepth:screen.colorDepth,title:encodeURIComponent(document.title),location:encodeURIComponent(document.location),referrer:document.referrer&&
""!=document.referrer?encodeURIComponent(document.referrer):"",product:void 0!==navigator.product?encodeURIComponent(navigator.product):"",productsub:void 0!==navigator.productSub?encodeURIComponent(navigator.product):"",vendor:void 0!==navigator.vendor?encodeURIComponent(navigator.vendor):"",vendorsub:void 0!==navigator.vendorSub?encodeURIComponent(navigator.vendorSub):""};j=[];for(q in f)j[j.length]=q+"="+f[q];q="https://trackd.sitetag.us/track.php?hash="+d+"&"+j.join("&");SiteTag3.util.createEl.js(q)}SiteTag.isTrackExisted=
!0;SiteTag3.config.realtrack=!0}}})();
