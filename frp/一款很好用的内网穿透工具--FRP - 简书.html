<!DOCTYPE html>
<!--[if IE 6]><html class="ie lt-ie8"><![endif]-->
<!--[if IE 7]><html class="ie lt-ie8"><![endif]-->
<!--[if IE 8]><html class="ie ie8"><![endif]-->
<!--[if IE 9]><html class="ie ie9"><![endif]-->
<!--[if !IE]><!-->
<html><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">

  <!-- Start of Baidu Transcode -->
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta name="applicable-device" content="pc,mobile">
  <meta name="MobileOptimized" content="width">
  <meta name="HandheldFriendly" content="true">
  <meta name="mobile-agent" content="format=html5;url=https://www.jianshu.com/p/00c79df1aaf0">
  <!-- End of Baidu Transcode -->

    <meta name="description" content="一款很好用的内网穿透工具--FRP 前言 对于没有公网 IP 的内网用户来说，远程管理或在外网访问内网机器上的服务是一个问题。 今天给大家介绍一款好用内网穿透工具 FRP，FRP 全名：Fast Reverse Proxy。FRP 是一个使用 Go 语言开发的高性能的反向代理应用，可以帮助您轻松地进行内网穿透，对外网提供服务。FRP 支持 TCP、UDP、HTTP、HTTPS等协议类型，并且...">

  <meta name="360-site-verification" content="604a14b53c6b871206001285921e81d8">
  <meta property="wb:webmaster" content="294ec9de89e7fadb">
  <meta property="qc:admins" content="104102651453316562112116375">
  <meta property="qc:admins" content="11635613706305617">
  <meta property="qc:admins" content="1163561616621163056375">
  <meta name="google-site-verification" content="cV4-qkUJZR6gmFeajx_UyPe47GW9vY6cnCrYtCHYNh4">
  <meta name="google-site-verification" content="HF7lfF8YEGs1qtCE-kPml8Z469e2RHhGajy6JPVy5XI">
  <meta http-equiv="mobile-agent" content="format=html5; url=https://www.jianshu.com/p/00c79df1aaf0">

  <!-- Apple -->
  <meta name="apple-mobile-web-app-title" content="简书">

    <!--  Meta for Smart App Banner -->
  <meta name="apple-itunes-app" content="app-id=888237539, app-argument=jianshu://notes/29013351">
  <!-- End -->

  <!--  Meta for Twitter Card -->
  <meta content="summary" property="twitter:card">
  <meta content="@jianshucom" property="twitter:site">
  <meta content="一款很好用的内网穿透工具--FRP" property="twitter:title">
  <meta content="一款很好用的内网穿透工具--FRP 前言 对于没有公网 IP 的内网用户来说，远程管理或在外网访问内网机器上的服务是一个问题。 今天给大家介绍一款好用内网穿透工具 FRP，F..." property="twitter:description">
  <meta content="https://www.jianshu.com/p/00c79df1aaf0" property="twitter:url">
  <!-- End -->

  <!--  Meta for OpenGraph -->
  <meta property="fb:app_id" content="865829053512461">
  <meta property="og:site_name" content="简书">
  <meta property="og:title" content="一款很好用的内网穿透工具--FRP">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://www.jianshu.com/p/00c79df1aaf0">
  <meta property="og:description" content="一款很好用的内网穿透工具--FRP 前言 对于没有公网 IP 的内网用户来说，远程管理或在外网访问内网机器上的服务是一个问题。 今天给大家介绍一款好用内网穿透工具 FRP，FRP 全名：Fast...">
  <!-- End -->

  <!--  Meta for Facebook Applinks -->
  <meta property="al:ios:url" content="jianshu://notes/29013351">
  <meta property="al:ios:app_store_id" content="888237539">
  <meta property="al:ios:app_name" content="简书">

  <meta property="al:android:url" content="jianshu://notes/29013351">
  <meta property="al:android:package" content="com.jianshu.haruki">
  <meta property="al:android:app_name" content="简书">
  <!-- End -->


    <title>一款很好用的内网穿透工具--FRP - 简书</title>

  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="GTR1Ij/3uiTZKzIj2WViPjj8JqooXsGLNtd1vJkgxE6+X2YcEtaJJuS93IVFoJG6aH79DmdgzsvGXEcX0vOpKA==">

  <link rel="stylesheet" media="all" href="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/web-30728a1164102859481d.css">
  
  <link rel="stylesheet" media="all" href="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/entry-aa75deb505b1b600256a.css">

  <link href="https://cdn2.jianshu.io/assets/favicons/favicon-e743bfb1821442341c3ab15bdbe804f7ad97676bd07a770ccc9483473aa76f06.ico" rel="shortcut icon" type="image/x-icon">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/57-a6f1f1ee62ace44f6dc2f6a08575abd3c3b163288881c78dd8d75247682a4b27.png" sizes="57x57">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/72-fb9834bcfce738fd7b9c5e31363e79443e09a81a8e931170b58bc815387c1562.png" sizes="72x72">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/76-49d88e539ff2489475d603994988d871219141ecaa0b1a7a9a1914f4fe3182d6.png" sizes="76x76">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/114-24252fe693524ed3a9d0905e49bff3cbd0228f25a320aa09053c2ebb4955de97.png" sizes="114x114">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/120-1bb7371f5e87f93ce780a5f1a05ff1b176828ee0d1d130e768575918a2e05834.png" sizes="120x120">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/152-bf209460fc1c17bfd3e2b84c8e758bc11ca3e570fd411c3bbd84149b97453b99.png" sizes="152x152">

  <!-- Start of 访问统计 -->
    <script src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/push.js"></script><script src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/hm.js"></script><script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?0c0e9d9b1e7d617b3e6842e85b9fb068";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

  <!-- End of 访问统计 -->
<style type="text/css">@charset "UTF-8";.image-package .image-container .image-view-error:after,.image-package .image-container .image-view-maintain:after{position:absolute;top:50%;left:50%;width:100%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);color:#888;font-size:14px}.image-package .image-container{position:relative;z-index:2;background-color:#eee;-webkit-transition:background-color .1s linear;-o-transition:background-color .1s linear;transition:background-color .1s linear;margin:0 auto}body.reader-night-mode .image-package .image-container{background-color:#545454}.image-package .image-container-fill{z-index:1}.image-package .image-container .image-view{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.image-package .image-container .image-view-error:after{content:"图片获取失败，请点击重试"}.image-package .image-container .image-view-maintain:after{content:"系统维护中，图片暂时无法加载"}.image-package .image-container .image-view img.image-loading{opacity:.3}.image-package .image-container .image-view img{-webkit-transition:all .15s linear;-o-transition:all .15s linear;transition:all .15s linear;z-index:2;opacity:1}</style><style type="text/css">fieldset[disabled] .multiselect {
  pointer-events: none;
}

.multiselect__spinner {
  position: absolute;
  right: 1px;
  top: 1px;
  width: 48px;
  height: 35px;
  background: #fff;
  display: block;
}

.multiselect__spinner:after,
.multiselect__spinner:before {
  position: absolute;
  content: "";
  top: 50%;
  left: 50%;
  margin: -8px 0 0 -8px;
  width: 16px;
  height: 16px;
  border-radius: 100%;
  border-color: #41b883 transparent transparent;
  border-style: solid;
  border-width: 2px;
  box-shadow: 0 0 0 1px transparent;
}

.multiselect__spinner:before {
  animation: a 2.4s cubic-bezier(.41,.26,.2,.62);
  animation-iteration-count: infinite;
}

.multiselect__spinner:after {
  animation: a 2.4s cubic-bezier(.51,.09,.21,.8);
  animation-iteration-count: infinite;
}

.multiselect__loading-enter-active,
.multiselect__loading-leave-active {
  transition: opacity .4s ease-in-out;
  opacity: 1;
}

.multiselect__loading-enter,
.multiselect__loading-leave-active {
  opacity: 0;
}

.multiselect,
.multiselect__input,
.multiselect__single {
  font-family: inherit;
  font-size: 14px;
  -ms-touch-action: manipulation;
  touch-action: manipulation;
}

.multiselect {
  box-sizing: content-box;
  display: block;
  position: relative;
  width: 100%;
  min-height: 40px;
  text-align: left;
  color: #35495e;
}

.multiselect * {
  box-sizing: border-box;
}

.multiselect:focus {
  outline: none;
}

.multiselect--disabled {
  opacity: .6;
}

.multiselect--active {
  z-index: 1;
}

.multiselect--active:not(.multiselect--above) .multiselect__current,
.multiselect--active:not(.multiselect--above) .multiselect__input,
.multiselect--active:not(.multiselect--above) .multiselect__tags {
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

.multiselect--active .multiselect__select {
  transform: rotate(180deg);
}

.multiselect--above.multiselect--active .multiselect__current,
.multiselect--above.multiselect--active .multiselect__input,
.multiselect--above.multiselect--active .multiselect__tags {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

.multiselect__input,
.multiselect__single {
  position: relative;
  display: inline-block;
  min-height: 20px;
  line-height: 20px;
  border: none;
  border-radius: 5px;
  background: #fff;
  padding: 0 0 0 5px;
  width: 100%;
  transition: border .1s ease;
  box-sizing: border-box;
  margin-bottom: 8px;
  vertical-align: top;
}

.multiselect__tag~.multiselect__input,
.multiselect__tag~.multiselect__single {
  width: auto;
}

.multiselect__input:hover,
.multiselect__single:hover {
  border-color: #cfcfcf;
}

.multiselect__input:focus,
.multiselect__single:focus {
  border-color: #a8a8a8;
  outline: none;
}

.multiselect__single {
  padding-left: 6px;
  margin-bottom: 8px;
}

.multiselect__tags-wrap {
  display: inline;
}

.multiselect__tags {
  min-height: 40px;
  display: block;
  padding: 8px 40px 0 8px;
  border-radius: 5px;
  border: 1px solid #e8e8e8;
  background: #fff;
}

.multiselect__tag {
  position: relative;
  display: inline-block;
  padding: 4px 26px 4px 10px;
  border-radius: 5px;
  margin-right: 10px;
  color: #fff;
  line-height: 1;
  background: #41b883;
  margin-bottom: 5px;
  white-space: nowrap;
  overflow: hidden;
  max-width: 100%;
  text-overflow: ellipsis;
}

.multiselect__tag-icon {
  cursor: pointer;
  margin-left: 7px;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  font-weight: 700;
  font-style: normal;
  width: 22px;
  text-align: center;
  line-height: 22px;
  transition: all .2s ease;
  border-radius: 5px;
}

.multiselect__tag-icon:after {
  content: "\D7";
  color: #266d4d;
  font-size: 14px;
}

.multiselect__tag-icon:focus,
.multiselect__tag-icon:hover {
  background: #369a6e;
}

.multiselect__tag-icon:focus:after,
.multiselect__tag-icon:hover:after {
  color: #fff;
}

.multiselect__current {
  min-height: 40px;
  overflow: hidden;
  padding: 8px 12px 0;
  padding-right: 30px;
  white-space: nowrap;
  border-radius: 5px;
  border: 1px solid #e8e8e8;
}

.multiselect__current,
.multiselect__select {
  line-height: 16px;
  box-sizing: border-box;
  display: block;
  margin: 0;
  text-decoration: none;
  cursor: pointer;
}

.multiselect__select {
  position: absolute;
  width: 40px;
  height: 38px;
  right: 1px;
  top: 1px;
  padding: 4px 8px;
  text-align: center;
  transition: transform .2s ease;
}

.multiselect__select:before {
  position: relative;
  right: 0;
  top: 65%;
  color: #999;
  margin-top: 4px;
  border-style: solid;
  border-width: 5px 5px 0;
  border-color: #999 transparent transparent;
  content: "";
}

.multiselect__placeholder {
  color: #adadad;
  display: inline-block;
  margin-bottom: 10px;
  padding-top: 2px;
}

.multiselect--active .multiselect__placeholder {
  display: none;
}

.multiselect__content-wrapper {
  position: absolute;
  display: block;
  background: #fff;
  width: 100%;
  max-height: 240px;
  overflow: auto;
  border: 1px solid #e8e8e8;
  border-top: none;
  border-bottom-left-radius: 5px;
  border-bottom-right-radius: 5px;
  z-index: 1;
  -webkit-overflow-scrolling: touch;
}

.multiselect__content {
  list-style: none;
  display: inline-block;
  padding: 0;
  margin: 0;
  min-width: 100%;
  vertical-align: top;
}

.multiselect--above .multiselect__content-wrapper {
  bottom: 100%;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
  border-bottom: none;
  border-top: 1px solid #e8e8e8;
}

.multiselect__content::webkit-scrollbar {
  display: none;
}

.multiselect__element {
  display: block;
}

.multiselect__option {
  display: block;
  padding: 12px;
  min-height: 40px;
  line-height: 16px;
  text-decoration: none;
  text-transform: none;
  vertical-align: middle;
  position: relative;
  cursor: pointer;
  white-space: nowrap;
}

.multiselect__option:after {
  top: 0;
  right: 0;
  position: absolute;
  line-height: 40px;
  padding-right: 12px;
  padding-left: 20px;
}

.multiselect__option--highlight {
  background: #41b883;
  outline: none;
  color: #fff;
}

.multiselect__option--highlight:after {
  content: attr(data-select);
  background: #41b883;
  color: #fff;
}

.multiselect__option--selected {
  background: #f3f3f3;
  color: #35495e;
  font-weight: 700;
}

.multiselect__option--selected:after {
  content: attr(data-selected);
  color: silver;
}

.multiselect__option--selected.multiselect__option--highlight {
  background: #ff6a6a;
  color: #fff;
}

.multiselect__option--selected.multiselect__option--highlight:after {
  background: #ff6a6a;
  content: attr(data-deselect);
  color: #fff;
}

.multiselect--disabled {
  background: #ededed;
  pointer-events: none;
}

.multiselect--disabled .multiselect__current,
.multiselect--disabled .multiselect__select,
.multiselect__option--disabled {
  background: #ededed;
  color: #a6a6a6;
}

.multiselect__option--disabled {
  cursor: text;
  pointer-events: none;
}

.multiselect__option--disabled.multiselect__option--highlight {
  background: #dedede!important;
}

.multiselect-enter-active,
.multiselect-leave-active {
  transition: all .15s ease;
}

.multiselect-enter,
.multiselect-leave-active {
  opacity: 0;
}

.multiselect__strong {
  margin-bottom: 8px;
  line-height: 20px;
  display: inline-block;
  vertical-align: top;
}

[dir=rtl] .multiselect {
  text-align: right;
}

[dir=rtl] .multiselect__select {
  right: auto;
  left: 1px;
}

[dir=rtl] .multiselect__tags {
  padding: 8px 8px 0 40px;
}

[dir=rtl] .multiselect__content {
  text-align: right;
}

[dir=rtl] .multiselect__option:after {
  right: auto;
  left: 0;
}

[dir=rtl] .multiselect__clear {
  right: auto;
  left: 12px;
}

[dir=rtl] .multiselect__spinner {
  right: auto;
  left: 1px;
}

@keyframes a {
  0% {
    transform: rotate(0);
  }

  to {
    transform: rotate(2turn);
  }
}</style><style type="text/css">
#free-reward-panel .reward-users-modal main {
  padding: 0;
}
</style><style type="text/css">
@charset "UTF-8";
/*
 * 变量
*/
.reward-note-modal .v-modal {
  width: 620px;
  text-align: center;
}
.reward-note-modal .v-modal form {
    margin: 0 auto 25px auto;
    padding: 0 40px;
}
.reward-note-modal .v-modal .reward-intro {
    margin-top: 20px;
    margin-bottom: 20px;
    font-size: 16px;
}
.reward-note-modal .v-modal .reward-intro .avatar {
      cursor: default !important;
      width: 36px;
      height: 36px;
      margin-right: 10px;
      display: inline-block;
}
.reward-note-modal .v-modal .reward-intro .intro {
      margin-right: 5px;
      font-weight: bold;
      vertical-align: middle;
}
.reward-note-modal .v-modal .reward-intro i {
      color: #EA6F5A;
      vertical-align: middle;
}
.reward-note-modal .v-modal .main-inputs {
    margin: 25px 0;
}
.reward-note-modal .v-modal .main-inputs .amount-group {
      margin: 0 -5px;
}
.reward-note-modal .v-modal .main-inputs .amount-group input {
        display: none;
}
.reward-note-modal .v-modal .main-inputs .amount-group input:checked + .option {
        color: #EA6F5A;
        border-color: #EA6F5A;
}
.reward-note-modal .v-modal .main-inputs .amount-group .custom-amount:checked + .option .custom-text {
        opacity: 0;
}
.reward-note-modal .v-modal .main-inputs .amount-group .custom-amount:checked + .option .custom-amount-input {
        opacity: 1;
}
.reward-note-modal .v-modal .main-inputs .amount-group .option {
        position: relative;
        margin: 0 5px 15px;
        width: 156px;
        height: 56px;
        line-height: 54px;
        border: 1px solid #E6E6E6;
        border-radius: 4px;
        font-weight: normal;
        color: #999999;
        cursor: pointer;
}
.reward-note-modal .v-modal .main-inputs .amount-group .option i {
          font-size: 16px;
          vertical-align: middle;
}
.reward-note-modal .v-modal .main-inputs .amount-group .option .amount {
          font-size: 28px;
          vertical-align: middle;
}
.reward-note-modal .v-modal .main-inputs .amount-group .option .piece {
          font-size: 13px;
          vertical-align: sub;
}
.reward-note-modal .v-modal .main-inputs .amount-group .option .custom-amount-input {
          position: absolute;
          top: 0;
          z-index: -1;
          width: 100%;
          opacity: 0;
}
.reward-note-modal .v-modal .main-inputs .amount-group .option .custom-amount-input i {
            position: absolute;
            top: 0;
            left: 10px;
}
.reward-note-modal .v-modal .main-inputs .amount-group .option .custom-amount-input .piece {
            position: absolute;
            top: 4px;
            right: 10px;
}
.reward-note-modal .v-modal .main-inputs .amount-group .option .custom-amount-input input {
            display: block;
            margin: 0 auto;
            width: 80px;
            height: 54px;
            line-height: 54px;
            border: none;
            font-size: 28px;
            text-align: center;
            background: transparent;
            -moz-appearance: textfield;
}
.reward-note-modal .v-modal .main-inputs .amount-group .option .custom-amount-input input::-webkit-outer-spin-button, .reward-note-modal .v-modal .main-inputs .amount-group .option .custom-amount-input input::-webkit-inner-spin-button {
              -webkit-appearance: none !important;
}
.reward-note-modal .v-modal .main-inputs .message {
      padding: 15px 20px;
      margin-bottom: 0;
      font-size: 14px;
      border: 1px solid #E6E6E6;
      color: #333333;
      border-radius: 4px;
      background-color: rgba(180, 180, 180, 0.1);
}
.reward-note-modal .v-modal .main-inputs .message textarea {
        width: 100%;
        height: 44px;
        padding: 0;
        margin: 0;
        resize: none;
        background: none !important;
        border: none !important;
        -webkit-box-sizing: border-box;
                box-sizing: border-box;
        -webkit-box-shadow: none;
                box-shadow: none;
}
.reward-note-modal .v-modal .main-inputs .message textarea:focus {
          outline: none;
}
.reward-note-modal .v-modal .reward-info .amount {
    font-size: 28px;
    font-weight: bold;
    color: #EA6F5A;
}
.reward-note-modal .v-modal .reward-info .pay-method {
    font-size: 14px;
}
.reward-note-modal .v-modal .reward-info .pay-method a {
      color: #3194D0;
}
.reward-note-modal .v-modal .choose-pay {
    margin: 0 -5px;
}
.reward-note-modal .v-modal .choose-pay input {
      display: none;
}
.reward-note-modal .v-modal .choose-pay input:checked + .option {
      color: #EA6F5A;
      border-color: #EA6F5A;
}
.reward-note-modal .v-modal .choose-pay .option {
      margin: 20px 5px 10px;
      width: 156px;
      height: 56px;
      line-height: 54px;
      text-align: center;
      border: 1px solid #E6E6E6;
      border-radius: 4px;
      cursor: pointer;
}
.reward-note-modal .v-modal .choose-pay .option img {
        height: 30px;
}
.reward-note-modal .v-modal .choose-pay .option img.day.alipay, .reward-note-modal .v-modal .choose-pay .option img.night.alipay {
        min-width: 85px;
}
.reward-note-modal .v-modal .choose-pay .option img.day.wechat, .reward-note-modal .v-modal .choose-pay .option img.night.wechat {
        min-width: 112px;
}
.reward-note-modal .v-modal .choose-pay .option img.night {
        display: none;
}
body.reader-night-mode .reward-note-modal .v-modal .choose-pay .option img.night {
        display: inline-block;
}
body.reader-night-mode .reward-note-modal .v-modal .choose-pay .option img.day {
        display: none;
}
.reward-note-modal .v-modal .choose-pay .tooltip {
      width: 230px;
}
.reward-note-modal .v-modal .modal-footer {
    padding: 0 15px 20px;
    border: none;
    background-color: transparent;
    text-align: center;
}
.reward-note-modal .v-modal .modal-footer .btn {
      padding: 8px 45px;
      font-size: 24px;
}
.reward-note-modal .v-modal .btn-pay {
    padding: 8px 25px;
    font-size: 16px;
    color: #ffffff;
    background-color: #F5A623;
}
.weixin-pay, .success-pay {
  text-align: center;
}
.weixin-pay .v-modal, .success-pay .v-modal {
    width: 350px;
}
.weixin-pay .ic-successed, .success-pay .ic-successed {
    font-size: 60px;
    color: #3db922;
}
.weixin-pay h2, .weixin-pay h3, .success-pay h2, .success-pay h3 {
    margin-bottom: 20px;
    color: #333333;
}
.weixin-pay h2, .success-pay h2 {
    margin: 0 0 40px 0;
    font-size: 24px;
}
.weixin-pay .bind-text, .success-pay .bind-text {
    position: relative;
    margin-bottom: 30px;
    font-size: 14px;
    color: #999999;
}
.weixin-pay .bind-text:before, .weixin-pay .bind-text:after, .success-pay .bind-text:before, .success-pay .bind-text:after {
      content: "";
      border-top: 1px solid #999;
      display: block;
      position: absolute;
      width: 40px;
      top: 8px;
}
.weixin-pay .bind-text:before, .success-pay .bind-text:before {
      left: 30px;
}
.weixin-pay .bind-text:after, .success-pay .bind-text:after {
      right: 30px;
}
.weixin-pay .share-bind, .success-pay .share-bind {
    display: block;
    margin-bottom: 30px;
}
.weixin-pay .share-bind i, .success-pay .share-bind i {
      margin-right: 4px;
      font-size: 22px;
      vertical-align: middle;
}
.weixin-pay .share-bind.wechat i, .success-pay .share-bind.wechat i {
      color: #00BB29;
}
.weixin-pay .share-bind.weibo i, .success-pay .share-bind.weibo i {
      color: #E05244;
}
.weixin-pay .wx-qr-code, .success-pay .wx-qr-code {
    display: inline-block;
}
.weixin-pay .wx-qr-code img, .success-pay .wx-qr-code img {
      margin: 0 auto;
      padding: 10px;
      width: 200px;
      background-color: #ffffff;
}
.weixin-pay .pay-amount, .success-pay .pay-amount {
    margin: 20px 0;
    color: #787878;
}
.weixin-pay .pay-amount span, .success-pay .pay-amount span {
      color: #F5A623;
}
</style><style type="text/css">
@charset "UTF-8";
/*
 * 变量
*/
.v-modal-wrap {
  position: fixed;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  background-color: transparent;
}
.v-modal-wrap.modal-leave-active {
    -webkit-transition: opacity 0.3s;
    -o-transition: opacity 0.3s;
    transition: opacity 0.3s;
}
.v-modal-wrap.modal-enter-active .v-modal-mask, .v-modal-wrap.modal-leave-active .v-modal-mask {
    opacity: 0;
}
.v-modal-wrap.modal-enter-active .v-modal, .v-modal-wrap.modal-leave-active .v-modal {
    -webkit-transform: translate(-50%, -70%);
        -ms-transform: translate(-50%, -70%);
            transform: translate(-50%, -70%);
    opacity: 0;
}
.v-modal-wrap .v-modal-mask {
    background-color: rgba(255, 255, 255, 0.7);
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    -webkit-transition: opacity 0.3s;
    -o-transition: opacity 0.3s;
    transition: opacity 0.3s;
    opacity: 1;
}
.v-modal-wrap .v-modal {
    position: absolute;
    left: 50%;
    top: 50%;
    -webkit-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
    border-radius: 6px;
    border: 1px solid rgba(0, 0, 0, 0.1);
    background-color: #fff;
    -webkit-box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
    -webkit-transition: opacity 0.3s, -webkit-transform 0.3s;
    transition: opacity 0.3s, -webkit-transform 0.3s;
    -o-transition: opacity 0.3s, transform 0.3s;
    transition: opacity 0.3s, transform 0.3s;
    transition: opacity 0.3s, transform 0.3s, -webkit-transform 0.3s;
    opacity: 1;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -webkit-flex-direction: column;
        -ms-flex-direction: column;
            flex-direction: column;
    overflow: hidden;
}
.v-modal-wrap .v-modal > header:before, .v-modal-wrap .v-modal > header:after, .v-modal-wrap .v-modal > main:before, .v-modal-wrap .v-modal > main:after, .v-modal-wrap .v-modal > footer:before, .v-modal-wrap .v-modal > footer:after {
      content: '';
      clear: both;
      display: table;
}
.v-modal-wrap .v-modal > header {
      padding: 20px;
      border-bottom: 1px solid #F0F0F0;
}
.v-modal-wrap .v-modal > header h4 {
        margin: 0;
        color: #333;
        text-align: left;
}
.v-modal-wrap .v-modal .close {
      position: absolute;
      right: 16px;
      top: 20px;
      font-size: 26px;
      line-height: 20px;
      color: rgba(0, 0, 0, 0.8);
}
.v-modal-wrap .v-modal .close:hover {
        color: #000000;
}
.v-modal-wrap .v-modal > main {
      padding: 20px 20px 20px 20px;
      font-size: 15px;
      color: #333;
      -webkit-box-flex: 1;
      -webkit-flex-grow: 1;
          -ms-flex-positive: 1;
              flex-grow: 1;
      overflow-x: hidden;
      overflow-y: auto;
}
.v-modal-wrap .v-modal > footer {
      padding: 20px;
      background-color: #fff;
}
.v-modal-wrap .v-modal > footer button {
        padding: 0;
        margin: 0;
        background-color: transparent;
        border: 0;
        float: right;
}
.v-modal-wrap .v-modal > footer button:focus {
          outline: 0;
}
.v-modal-wrap .v-modal > footer .submit {
        padding: 4px 12px;
        border: 1px solid;
        border-radius: 20px;
}
.v-modal-wrap .v-modal > footer .cancel {
        margin-top: 5px;
}
.v-modal-wrap .v-modal > footer .cancel:hover {
          color: #333333;
}
.reader-night-mode .v-modal-wrap .v-modal-mask {
  background-color: rgba(63, 63, 63, 0.7);
}
.reader-night-mode .v-modal-wrap .v-modal {
  background-color: #3f3f3f;
}
.reader-night-mode .v-modal-wrap .v-modal header {
    border-color: #2F2F2F;
}
.reader-night-mode .v-modal-wrap .v-modal header h4 {
      color: #C8C8C8;
}
.reader-night-mode .v-modal-wrap .v-modal .close {
    color: #C8C8C8;
}
.reader-night-mode .v-modal-wrap .v-modal .close:hover {
      color: #ffffff;
}
.reader-night-mode .v-modal-wrap .v-modal main {
    color: #C8C8C8;
}
.reader-night-mode .v-modal-wrap .v-modal footer {
    background-color: #3f3f3f;
}
.reader-night-mode .v-modal-wrap .v-modal footer .cancel:hover {
      color: #C8C8C8;
}
</style><style type="text/css">
.nqzzJ71pC-jOnJKAfdtr6_0 {
  float: right;
  height: 55px;
  padding: 15px 0px;
  margin: 0 12px;
}
._3tScN0zmSdGLaUAH4SxTbM_0 {
    width: 100%;
    height: 100%;
}
.nqzzJ71pC-jOnJKAfdtr6_0 ._3f806byixOPpOPWnx8HiQP_0 {
    height: 25px;
}
.nqzzJ71pC-jOnJKAfdtr6_0 ._2MIQ6sBppQZAKea91We0qf_0 {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: 100%;
    background-color: #000;
    opacity: 0.6;
    z-index: 1000;
}
.nqzzJ71pC-jOnJKAfdtr6_0 ._1RppgOJ_CQiXgzd3ke-sbJ_0 {
    position: fixed;
    left: -webkit-calc( 50% - 190px);
    left: calc( 50% - 190px);
    top: -webkit-calc( 50% - 300px);
    top: calc( 50% - 300px);
    width: 380px;
    height: 425px;
    background-color: #fff;
    padding: 40px 72px 0;
    -webkit-box-align: center;
    -webkit-align-items: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-box-pack: center;
    -webkit-justify-content: center;
        -ms-flex-pack: center;
            justify-content: center;
    z-index: 1000;
    text-align: center;
}
body.reader-night-mode .nqzzJ71pC-jOnJKAfdtr6_0 ._1RppgOJ_CQiXgzd3ke-sbJ_0 {
      background-color: #3f3f3f;
      color: #c8c8c8;
}
.nqzzJ71pC-jOnJKAfdtr6_0 ._1RppgOJ_CQiXgzd3ke-sbJ_0 h4 {
      margin: 0;
      line-height: 25px;
}
.nqzzJ71pC-jOnJKAfdtr6_0 ._1RppgOJ_CQiXgzd3ke-sbJ_0 h4 span {
        color: #e9634c;
}
.nqzzJ71pC-jOnJKAfdtr6_0 ._1RppgOJ_CQiXgzd3ke-sbJ_0 img {
      width: 190px;
      height: 190px;
      margin: 12px 0 8px 0;
}
.nqzzJ71pC-jOnJKAfdtr6_0 ._1RppgOJ_CQiXgzd3ke-sbJ_0 p {
      font-size: 14px;
      line-height: 20px;
      margin: 0;
}
.nqzzJ71pC-jOnJKAfdtr6_0 ._1RppgOJ_CQiXgzd3ke-sbJ_0 ._2WUz9DZJO5DIC_O5sD1kac_0 {
      background-color: #e9634c;
      color: #fff;
      margin: 25px auto 0;
      width: 190px;
      height: 40px;
      border-radius: 20px;
      line-height: 40px;
      font-size: 14px;
      cursor: pointer;
      -webkit-user-select: none;
         -moz-user-select: none;
          -ms-user-select: none;
              user-select: none;
}
</style><style type="text/css">
@charset "UTF-8";
/*
 * 变量
*/
.youdao-fixed-ad {
  display: block;
  position: relative;
  width: 180px;
  height: 180px;
  border: 1px solid #e8eae9;
}
.youdao-fixed-ad .img {
    display: block;
    width: 100%;
    height: 100%;
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
}
.youdao-fixed-ad .ad-badge {
    position: absolute;
    bottom: 0;
    right: 0;
    display: block;
    font-size: 12px;
    padding: 2px 5px 0 6px;
    background-color: rgba(0, 0, 0, 0.5);
    color: #fff;
    cursor: pointer;
}
.qingteng-ads {
  border: 1px solid #e8e8e8;
  width: 180px;
}
</style><style type="text/css">
.yuxi-fixed-ad {
  position: relative;
  width: 180px;
  height: 180px;
}
.yuxi-fixed-ad .img {
    display: block;
    width: 100%;
    height: 100%;
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    background-image: url(//cdn2.jianshu.io/assets/web/yuxi-ads-d73b364baf42dfeca32d518c819a0136.jpg);
}
.yuxi-fixed-ad .ad-badge {
    position: absolute;
    bottom: 0;
    right: 0;
    display: block;
    font-size: 12px;
    padding: 2px 5px 0 6px;
    background-color: rgba(0, 0, 0, 0.5);
    color: #fff;
    cursor: pointer;
}
</style><style type="text/css">
@charset "UTF-8";
/*
 * 变量
*/
.like[data-v-6ddd02c6] {
  display: inline-block;
}
.like .like-group[data-v-6ddd02c6] {
    position: relative;
    padding: 13px 0 15px 0;
    font-size: 0;
    border: 1px solid #EA6F5A;
    border-radius: 40px;
}
.like .like-group[data-v-6ddd02c6]:hover {
      background-color: rgba(236, 97, 73, 0.05);
}
.like .like-group .btn-like[data-v-6ddd02c6] {
      display: inline-block;
      font-size: 19px;
}
.like .like-group .btn-like[data-v-6ddd02c6]:before {
        content: '';
        position: absolute;
        left: 12px;
        top: 2px;
        width: 50px;
        height: 50px;
        background-image: url(//cdn2.jianshu.io/assets/web/like_animation_steps-62a00a7b52377d3069927cdb8e61fd34.png);
        background-position: left;
        background-repeat: no-repeat;
        background-size: 1000px 50px;
}
.like .like-group .btn-like a[data-v-6ddd02c6] {
        position: relative;
        padding: 18px 30px 18px 55px;
        color: #EA6F5A;
}
.like .like-group .modal-wrap[data-v-6ddd02c6] {
      font-size: 18px;
      border-left: 1px solid rgba(236, 97, 73, 0.4);
      display: inline-block;
      margin-left: -15px;
}
.like .like-group .modal-wrap a[data-v-6ddd02c6] {
        color: #EA6F5A;
        padding: 18px 26px 18px 18px;
}
.like .like-group.like-animation[data-v-6ddd02c6], .like .like-group.active[data-v-6ddd02c6] {
      background-color: #EA6F5A;
}
.like .like-group.like-animation .btn-like a[data-v-6ddd02c6], .like .like-group.active .btn-like a[data-v-6ddd02c6] {
        color: white;
}
.like .like-group.like-animation .modal-wrap[data-v-6ddd02c6], .like .like-group.active .modal-wrap[data-v-6ddd02c6] {
        border-left: 1px solid white;
}
.like .like-group.like-animation .modal-wrap a[data-v-6ddd02c6], .like .like-group.active .modal-wrap a[data-v-6ddd02c6] {
          color: white;
}
.like .like-group.like-animation .btn-like[data-v-6ddd02c6]:before {
      -webkit-animation: likeBlast-data-v-6ddd02c6 0.6s 1 steps(19);
              animation: likeBlast-data-v-6ddd02c6 0.6s 1 steps(19);
      background-position: right;
}
@-webkit-keyframes likeBlast {
0% {
    background-position: left;
}
100% {
    background-position: right;
}
}
@keyframes likeBlast-data-v-6ddd02c6 {
0% {
    background-position: left;
}
100% {
    background-position: right;
}
}
.like .like-group.active .btn-like[data-v-6ddd02c6]:before {
      background-position: right;
}
</style><style type="text/css">
@charset "UTF-8";
/*
 * 变量
*/
.main {
  position: relative;
  margin: 0 auto;
  padding: 0 0 30px 0;
  width: 620px;
}
.main .title {
    padding-left: 8px;
    border-left: 3px solid #EA6F5A;
    line-height: 1;
    font-size: 15px;
}
.main .collection-settings {
    position: absolute;
    top: 2px;
    right: 0;
    font-size: 13px;
    color: #A0A0A0;
}
.main .collection-settings span {
      padding-left: 4px;
}
.main .include-collection {
    width: 100%;
    padding-top: 20px;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: horizontal;
    -webkit-box-direction: normal;
    -webkit-flex-direction: row;
        -ms-flex-direction: row;
            flex-direction: row;
    -webkit-box-pack: start;
    -webkit-justify-content: flex-start;
        -ms-flex-pack: start;
            justify-content: flex-start;
    -webkit-box-align: center;
    -webkit-align-items: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
            flex-wrap: wrap;
}
.main .include-collection .item {
      display: inline-block;
      margin: 0 12px 12px 0;
      min-height: 32px;
      background-color: white;
      border: 1px solid #DCDCDC;
      border-radius: 4px;
      vertical-align: top;
      overflow: hidden;
}
.main .include-collection .item img {
        width: 32px;
        height: 32px;
}
.main .include-collection .item .name {
        display: inline-block;
        padding: 0 10px;
        font-size: 14px;
}
.main .include-collection .add-collection-wrap {
      margin: 0 12px 12px 0;
}
.main .include-collection .add-collection {
      padding: 8px 12px;
      font-size: 14px;
      border: 1px solid #DCDCDC;
      border-radius: 4px;
}
.main .include-collection .add-collection i {
        margin-right: 4px;
        color: #969696;
}
.main .recommend-note a {
    position: relative;
    margin: 20px 2px 0 0;
    width: 200px;
    height: 160px;
    display: inline-block;
}
.main .recommend-note a:after {
      content: "";
      position: absolute;
      width: 200px;
      height: 160px;
      border-radius: 0 0 4px 4px;
      -webkit-box-shadow: inset 0px -80px 50px -22px rgba(0, 0, 0, 0.6);
              box-shadow: inset 0px -80px 50px -22px rgba(0, 0, 0, 0.6);
      top: 0;
      left: 0;
      z-index: 1;
}
.main .recommend-note .name {
    position: absolute;
    bottom: 40px;
    left: 10px;
    right: 10px;
    font-size: 17px;
    font-weight: bold;
    color: #ffffff;
    z-index: 2;
}
.main .recommend-note .author {
    position: absolute;
    bottom: 10px;
    left: 10px;
    right: 10px;
    z-index: 2;
}
.main .recommend-note .avatar {
    width: 20px;
    height: 20px;
    display: inline-block;
}
.main .recommend-note .avatar img {
      border-radius: 50%;
}
.main .recommend-note .author-name {
    font-size: 12px;
    color: #ffffff;
    display: inline-block;
    vertical-align: -1px;
}
.main .show-more {
    margin: 0 12px 12px 0;
    font-size: 14px;
    color: #A0A0A0;
}
</style></head>

  <!-- 只给10%的用户添加代码 -->
  <!-- ###第四范式-智能推荐：代码直接复制 无需修改参数### -->
  <!-- ###功能：上报内容并反馈用户行为### -->
  <!--
  -->
  <body class="reader-black-font" lang="zh-CN">
    <!-- 全局顶部导航栏 -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="width-limit">
    <!-- 左上方 Logo -->
    <a class="logo" href="https://www.jianshu.com/"><img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/nav-logo-4c7bbafe27adc892f3046e6978459bac.png" alt="Nav logo"></a>

    <!-- 右上角 -->
      <!-- 未登录显示登录/注册/写文章 -->
      <a class="btn write-btn" target="_blank" href="https://www.jianshu.com/writer#/">
        <i class="iconfont ic-write"></i>写文章
</a>      <a class="btn sign-up" id="sign_up" href="https://www.jianshu.com/sign_up">注册</a>
      <a class="btn log-in" id="sign_in" href="https://www.jianshu.com/sign_in">登录</a>

    <!-- 如果用户登录，显示下拉菜单 -->

    <div class="nqzzJ71pC-jOnJKAfdtr6_0"><a class="_3tScN0zmSdGLaUAH4SxTbM_0"><img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/nav_jsds_beta-eeb44d165b8ba37680fdb7e65ae17ae4.png" class="_3f806byixOPpOPWnx8HiQP_0"></a> <!----></div>

    <div class="style-mode"><a class="style-mode-btn"><i class="iconfont ic-navigation-mode"></i></a> <div class="popover-modal" style="left: 0px; display: none;"><div class="meta"><i class="iconfont ic-navigation-night"></i><span>夜间模式</span></div> <div class="switch day-night-group"><a class="switch-btn">开</a> <a class="switch-btn active">关</a></div> <hr> <div class="switch font-family-group"><a class="switch-btn font-song">宋体</a> <a class="switch-btn font-hei active">黑体</a></div> <div class="switch"><a class="switch-btn active">简</a> <a class="switch-btn">繁</a></div></div></div>
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu" aria-expanded="false">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse" id="menu">
        <ul class="nav navbar-nav">
            <li class="tab ">
              <a href="https://www.jianshu.com/">
                <span class="menu-text">首页</span><i class="iconfont ic-navigation-discover menu-icon"></i>
</a>            </li>
            <li class="tab ">
              <a id="web-nav-app-download-btn" class="app-download-btn" href="https://www.jianshu.com/apps?utm_medium=desktop&amp;utm_source=navbar-apps"><span class="menu-text">下载App</span><i class="iconfont ic-navigation-download menu-icon"></i></a>
            </li>
          <li class="search">
            <form target="_blank" action="/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="✓">
              <input type="text" name="q" id="q" autocomplete="off" placeholder="搜索" class="search-input">
              <a class="search-btn" href="javascript:void(null)"><i class="iconfont ic-search"></i></a>
</form>          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

    
<div class="note">
  <div id="note-fixed-ad-container">
    <div id="fixed-ad-container">
      <div style="display: block;"><a target="_blank" href="https://www.jianshu.com/apps/redirect?utm_source=side-banner-click" id="web-note-ad-fixed"><span class="close">×</span></a></div>
      <div><!----> <!----></div>
      <a href="http://e.cn.miaozhen.com/r/k=2110413&amp;p=7L9Gn&amp;dx=__IPDX__&amp;rt=2&amp;ns=__IP__&amp;ni=__IESID__&amp;v=__LOC__&amp;xa=__ADPLATFORM__&amp;tr=__REQUESTID__&amp;mo=__OS__&amp;m0=__OPENUDID__&amp;m0a=__DUID__&amp;m1=__ANDROIDID1__&amp;m1a=__ANDROIDID__&amp;m2=__IMEI__&amp;m4=__AAID__&amp;m5=__IDFA__&amp;m6=__MAC1__&amp;m6a=__MAC__&amp;vo=3f2e070eb&amp;vr=2&amp;o=https%3A%2F%2Fwww.jianshu.com%2Fp%2Fee05f7eff678" target="_blank" class="yuxi-fixed-ad" style="display: none;"><div class="img"></div> <span class="ad-badge">广告</span></a>
      <div id="_so_pdsBy_0"></div>
    </div>
  </div>
  <div class="post">
    <div class="article">
        <h1 class="title">一款很好用的内网穿透工具--FRP</h1>

        <!-- 作者区域 -->
        <div class="author">
          <a class="avatar" href="https://www.jianshu.com/u/80188f451b08">
            <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/eb9343b6d1c6.jpeg" alt="96">
</a>          <div class="info">
            <span class="name"><a href="https://www.jianshu.com/u/80188f451b08">forwardlee</a></span>
            <!-- 关注用户按钮 -->
            <a class="btn btn-success follow"><i class="iconfont ic-follow"></i><span>关注</span></a>
            <!-- 文章数据信息 -->
            <div class="meta">
              <!-- 简书钻 -->
                <span class="jsd-meta">
                  <i class="iconfont ic-paid1"></i> 2.7
                </span>
              <!-- 如果文章更新时间大于发布时间，那么使用 tooltip 显示更新时间 -->
                <span class="publish-time" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="最后编辑于 2018.06.26 17:50">2018.06.04 12:24*</span>
              <span class="wordage">字数 4960</span>
            <span class="views-count">阅读 32397</span><span class="comments-count">评论 4</span><span class="likes-count">喜欢 115</span></div>
          </div>
          <!-- 如果是当前作者，加入编辑按钮 -->
        </div>


        <!-- 文章内容 -->
        <div data-note-content="" class="show-content">
          <div class="show-content-free">
            <h1>一款很好用的内网穿透工具--FRP</h1>
<h2>前言</h2>
<ol>
<li><p>对于没有公网 IP 的内网用户来说，远程管理或在外网访问内网机器上的服务是一个问题。</p></li>
<li><p>今天给大家介绍一款好用内网穿透工具 FRP，FRP 全名：Fast Reverse Proxy。FRP 是一个使用 Go 
语言开发的高性能的反向代理应用，可以帮助您轻松地进行内网穿透，对外网提供服务。FRP 支持 
TCP、UDP、HTTP、HTTPS等协议类型，并且支持 Web 服务根据域名进行路由转发。</p></li>
</ol>
<blockquote>
<p>FRP 项目地址：<a href="https://github.com/fatedier/frp" target="_blank" rel="nofollow">https://github.com/fatedier/frp</a></p>
</blockquote>
<h2>FRP 的作用</h2>
<ol>
<li><p>利用处于内网或防火墙后的机器，对外网环境提供 HTTP 或 HTTPS 服务。</p></li>
<li><p>对于 HTTP, HTTPS 服务支持基于域名的虚拟主机，支持自定义域名绑定，使多个域名可以共用一个 80 端口。</p></li>
<li><p>利用处于内网或防火墙后的机器，对外网环境提供 TCP 和 UDP 服务，例如在家里通过 SSH 访问处于公司内网环境内的主机。</p></li>
</ol>
<h2>FRP 安装</h2>
<p>FRP 采用 Go 语言开发，支持 Windows、Linux、MacOS、ARM等多平台部署。FRP 安装非常容易，只需下载对应系统平台的软件包，并解压就可用。</p>
<p>这里以 Linux 为例，为了方便管理我们把解压后的目录重命名为 frp ：</p>
<pre class="hljs ruby"><code class="ruby"> wget <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/fatedier</span><span class="hljs-regexp">/frp/releases</span><span class="hljs-regexp">/download/v</span><span class="hljs-number">0</span>.<span class="hljs-number">15.1</span>/frp_<span class="hljs-number">0</span>.<span class="hljs-number">15.1_</span>linux_amd64.tar.gz
 tar xzvf frp_<span class="hljs-number">0</span>.<span class="hljs-number">15.1_</span>linux_amd64.tar.gz
 mv frp_<span class="hljs-number">0</span>.<span class="hljs-number">15.1_</span>linux_amd64 frp
</code></pre>
<blockquote>
<p>更多平台的软件包下载地址：<a href="https://github.com/fatedier/frp/releases" target="_blank" rel="nofollow">https://github.com/fatedier/frp/releases</a></p>
</blockquote>
<h2>FRP 服务端配置</h2>
<p>配置 FRP 服务端的前提条件是需要一台具有**公网 IP **的设备，得益于 FRP 是 Go 语言开发的，具有良好的跨平台特性。你可以在 Windows、Linux、MacOS、ARM等几乎任何可联网设备上部署。</p>
<p>这里以 Linux 为例，FRP 默认给出两个服务端配置文件，一个是简版的 frps.ini，另一个是完整版本 frps_full.ini。<br>
我们先来看看简版的 frps.ini，通过这个配置可以快速的搭建起一个 FRP 服务端。</p>
<pre class="hljs ruby"><code class="ruby">$ cat frps.ini

[common]
bind_port = <span class="hljs-number">7000</span> 
默认配置中监听的是 <span class="hljs-number">7000</span> 端口，可根据自己实际情况修改。

启动 FRP 服务端
$ ./frps -c ./frps.ini
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span><span class="hljs-symbol">:</span><span class="hljs-number">45</span> [I] [service.<span class="hljs-symbol">go:</span><span class="hljs-number">96</span>] frps tcp listen on <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">7000</span>
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span><span class="hljs-symbol">:</span><span class="hljs-number">45</span> [I] [main.<span class="hljs-symbol">go:</span><span class="hljs-number">112</span>] Start frps success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">10</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span><span class="hljs-symbol">:</span><span class="hljs-number">45</span> [I] [main.<span class="hljs-symbol">go:</span><span class="hljs-number">114</span>] PrivilegeMode is enabled, you should pay more attention to security issues
</code></pre>
<p>通过上面简单的两步就可以成功启动一个监听在 7000 端口的 FRP 服务端。</p>
<h2>FRP 客户端配置</h2>
<p>和 FRP 服务端类似，FRP 默认也给出两个客户端配置文件，一个是简版的 frpc.ini，另一个是完整版本 frpc_full.ini。<br>
这里同样以简版的 frpc.ini 文件为例，假设 FRP 服务端所在服务器的公网 IP 为 4.3.2.1。</p>
<pre class="hljs ruby"><code class="ruby">$ vim frpc.ini

[common]
<span class="hljs-comment"># server_addr 为 FRP 服务端的公网 IP</span>
server_addr = <span class="hljs-number">4.3</span>.<span class="hljs-number">2.1</span>
<span class="hljs-comment"># server_port 为 FRP 服务端监听的端口</span>
server_port = <span class="hljs-number">7000</span>
启动 FRP 客户端
$ ./frpc -c ./frpc.ini
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">11</span><span class="hljs-symbol">:</span><span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">49</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">284</span>] proxy <span class="hljs-symbol">removed:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">11</span><span class="hljs-symbol">:</span><span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">49</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">294</span>] proxy <span class="hljs-symbol">added:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">11</span><span class="hljs-symbol">:</span><span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">49</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">317</span>] visitor <span class="hljs-symbol">removed:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">11</span><span class="hljs-symbol">:</span><span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">49</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">326</span>] visitor <span class="hljs-symbol">added:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">11</span><span class="hljs-symbol">:</span><span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">49</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">240</span>] [<span class="hljs-number">83775</span>d7388b8e7d9] login to server success, get run id [<span class="hljs-number">83775</span>d7388b8e7d9], server udp port [<span class="hljs-number">0</span>]
</code></pre>
<p>这样就可以成功在 FRP 服务端上成功建立一个客户端连接，当然现在还并不能对外提供任何内网机器上的服务，因为我们并还没有在 FRP 服务端注册任何内网服务的端口。</p>
<h2>FRP 使用实例</h2>
<p>下面我们就来看几个常用的例子，通过这些例子来了解下 FRP 是如何实现内网服务穿透的。</p>
<h3>通过 TCP 访问内网机器</h3>
<p>这里以访问 SSH 服务为例， 修改 FRP 客户端配置文件 frpc.ini 文件并增加如下内容：</p>
<pre class="hljs ruby"><code class="ruby">$ cat frpc.ini

[ssh]
type = tcp
local_ip = <span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>
local_port = <span class="hljs-number">22</span>
remote_port = <span class="hljs-number">6000</span>
启动 FRP 客户端
$ ./frpc -c ./frpc.ini
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">21</span><span class="hljs-symbol">:</span><span class="hljs-number">23</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">284</span>] proxy <span class="hljs-symbol">removed:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">21</span><span class="hljs-symbol">:</span><span class="hljs-number">23</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">294</span>] proxy <span class="hljs-symbol">added:</span> [ssh]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">21</span><span class="hljs-symbol">:</span><span class="hljs-number">23</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">317</span>] visitor <span class="hljs-symbol">removed:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">21</span><span class="hljs-symbol">:</span><span class="hljs-number">23</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">326</span>] visitor <span class="hljs-symbol">added:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">21</span><span class="hljs-symbol">:</span><span class="hljs-number">23</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">240</span>] [<span class="hljs-number">3</span>b468a55191341cb] login to server success, get run id [<span class="hljs-number">3</span>b468a55191341cb], server udp port [<span class="hljs-number">0</span>]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">21</span><span class="hljs-symbol">:</span><span class="hljs-number">23</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">165</span>] [<span class="hljs-number">3</span>b468a55191341cb] [ssh] start proxy success
</code></pre>
<p>这样就在 FRP 服务端上成功注册了一个端口为 6000 的服务，接下来我们就可以通过这个端口访问内网机器上 SSH 服务，假设用户名为 mike：<br>
$ ssh -oPort=6000 mike@4.3.2.1</p>
<h3>通过自定义域名访问部署于内网的 Web 服务</h3>
<p>有时需要在公有网络通过域名访问我们在本地环境搭建的 Web 服务，但是由于本地环境机器并没有公网 IP，无法将域名直接解析到本地的机器。<br>
现在通过 FRP 就可以很容易实现这一功能，这里以 HTTP 服务为例：首先修改 FRP 服务端配置文件，通过 vhost_http_port 参数来设置 HTTP 访问端口，这里将 HTTP 访问端口设为 8080。</p>
<pre class="hljs ruby"><code class="ruby">$ vim frps.ini
[common]
bind_port = <span class="hljs-number">7000</span>
vhost_http_port = <span class="hljs-number">8080</span>
启动 FRP 服务端
$ ./frps -c ./frps.ini
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">33</span><span class="hljs-symbol">:</span><span class="hljs-number">26</span> [I] [service.<span class="hljs-symbol">go:</span><span class="hljs-number">96</span>] frps tcp listen on <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">7000</span>
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">33</span><span class="hljs-symbol">:</span><span class="hljs-number">26</span> [I] [service.<span class="hljs-symbol">go:</span><span class="hljs-number">125</span>] http service listen on <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">8080</span>
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">33</span><span class="hljs-symbol">:</span><span class="hljs-number">26</span> [I] [main.<span class="hljs-symbol">go:</span><span class="hljs-number">112</span>] Start frps success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">33</span><span class="hljs-symbol">:</span><span class="hljs-number">26</span> [I] [main.<span class="hljs-symbol">go:</span><span class="hljs-number">114</span>] PrivilegeMode is enabled, you should pay more attention to security issues
其次我们在修改 FRP 客户端配置文件并增加如下内容：
$ vim frpc.ini

[web]
type = http
local_port = <span class="hljs-number">80</span>
custom_domains = **.***.com
这里通过 local_port 和 custom_domains 参数来设置本地机器上 Web 服务对应的端口和自定义的域名，这里我们分别设置端口为 <span class="hljs-number">80</span>，对应域名为 **.***.com。
启动 FRP 客户端
$ ./frpc -c ./frpc.ini
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">56</span><span class="hljs-symbol">:</span><span class="hljs-number">11</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">284</span>] proxy <span class="hljs-symbol">removed:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">56</span><span class="hljs-symbol">:</span><span class="hljs-number">11</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">294</span>] proxy <span class="hljs-symbol">added:</span> [web ssh]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">56</span><span class="hljs-symbol">:</span><span class="hljs-number">11</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">317</span>] visitor <span class="hljs-symbol">removed:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">56</span><span class="hljs-symbol">:</span><span class="hljs-number">11</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">326</span>] visitor <span class="hljs-symbol">added:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">56</span><span class="hljs-symbol">:</span><span class="hljs-number">11</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">240</span>] [<span class="hljs-number">296</span>fe9e31a551e07] login to server success, get run id [<span class="hljs-number">296</span>fe9e31a551e07], server udp port [<span class="hljs-number">0</span>]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">56</span><span class="hljs-symbol">:</span><span class="hljs-number">11</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">165</span>] [<span class="hljs-number">296</span>fe9e31a551e07] [web] start proxy success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">56</span><span class="hljs-symbol">:</span><span class="hljs-number">11</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">165</span>] [<span class="hljs-number">296</span>fe9e31a551e07] [ssh] start proxy success
</code></pre>
<p>最后将 <strong>.</strong><em>.com 的域名 A 记录解析到 FRP 服务器的公网 IP 上，现在便可以通过 http://</em><strong>.</strong>*.com:8080 这个 URL 访问到处于内网机器上对应的 Web 服务。</p>
<blockquote>
<p>HTTPS 服务配置方法类似，只需将 vhost_http_port 替换为 vhost_https_port， type 设置为 https 即可。</p>
</blockquote>
<h3>通过密码保护你的 Web 服务</h3>
<p>由于所有客户端共用一个 FRP 服务端的 HTTP 服务端口，任何知道你的域名和 URL 的人都能访问到你部署在内网的 Web 服务，但是在某些场景下需要确保只有限定的用户才能访问。<br>
FRP 支持通过 HTTP Basic Auth 来保护你的 Web 服务，使用户需要通过用户名和密码才能访问到你的服务。需要实现此功能主要需要在 FRP 客户端的配置文件中添加用户名和密码的设置。</p>
<pre class="hljs bash"><code class="bash">$ vim frpc.ini

[web]
<span class="hljs-built_in">type</span> = http
local_port = 80
custom_domains = **.***.com


<span class="hljs-comment">## 设置认证的用户名</span>


http_user = abc


<span class="hljs-comment">## 设置认证的密码</span>


http_pwd = abc
</code></pre>
<p>这时访问 http://<strong>.</strong>*.com:8080 这个 URL 时就需要输入配置的用户名和密码才能访问。<br>
该功能目前仅限于 HTTP 类型的代理。</p>
<h3>给 Web 服务增加自定义二级域名</h3>
<p>在多人同时使用一个 FRP 服务端实现 Web 服务时，通过自定义二级域名的方式来使用会更加方便。<br>
通过在 FRP 服务端的配置文件中配置 subdomain_host参数就可以启用该特性。之后在 FRP 客户端的 http、https 类型的代理中可以不配置 custom_domains，而是配置一个 subdomain 参数。<br>
然后只需要将 *.{subdomain_host} 解析到 FRP 服务端所在服务器。之后用户可以通过 subdomain 自行指定自己的 
Web 服务所需要使用的二级域名，并通过 {subdomain}.{subdomain_host} 来访问自己的 Web 服务。<br>
首先我们在 FRP 服务端配置 subdomain_host 参数：</p>
<pre class="hljs bash"><code class="bash">$ vim frps.ini
[common]
subdomain_host = ***.com
其次在 FRP 客户端配置文件配置 subdomain 参数：
$ vim frpc.ini
[web]
<span class="hljs-built_in">type</span> = http
local_port = 80
subdomain = <span class="hljs-built_in">test</span>
</code></pre>
<p>然后将泛域名 <em>.com 解析到 FRP 服务端所在服务器的公网 IP 地址。FRP 服务端 和 FRP 客户端都启动成功后，通过 test.</em>**.com 就可以访问到内网的 Web 服务。</p>
<p>同一个 HTTP 或 HTTPS 类型的代理中 custom_domains 和 subdomain 可以同时配置。</p>
<p>需要注意的是如果 FPR 服务端配置了 subdomain_host，则 custom_domains 中不能是属于 subdomain_host 的子域名或者泛域名。</p>
<h3>修改 Host Header</h3>
<p>通常情况下 FRP 不会修改转发的任何数据。但有一些后端服务会根据 HTTP 请求 header 中的 host 
字段来展现不同的网站，例如 Nginx 的虚拟主机服务，启用 host-header 的修改功能可以动态修改 HTTP 请求中的 host 
字段。<br>
实现此功能只需要在 FRP 客户端配置文件中定义 host_header_rewrite 参数。</p>
<pre class="hljs bash"><code class="bash">$ vim frpc.ini
[web]
<span class="hljs-built_in">type</span> = http
local_port = 80
custom_domains = <span class="hljs-built_in">test</span>.***.com
host_header_rewrite = dev.***.com
原来 HTTP 请求中的 host 字段 <span class="hljs-built_in">test</span>.***.com 转发到后端服务时会被替换为 dev.***.com。
</code></pre>
<p>该功能仅限于 HTTP 类型的代理。</p>
<h3>URL 路由</h3>
<p>FRP 支持根据请求的 URL 路径路由转发到不同的后端服务。要实现这个功能可通过 FRP 客户端配置文件中的 locations 字段来指定。</p>
<pre class="hljs bash"><code class="bash">$ vim frpc.ini

[web01]
<span class="hljs-built_in">type</span> = http
local_port = 80
custom_domains = web.***.com
locations = /

[web02]
<span class="hljs-built_in">type</span> = http
local_port = 81
custom_domains = web.***.com
locations = /news,/about
</code></pre>
<p>按照上述的示例配置后，web.***.com 这个域名下所有以 /news 以及 /about 作为前缀的 URL 请求都会被转发到后端 web02 所在的后端服务，其余的请求会被转发到 web01 所在的后端服务。<br>
目前仅支持最大前缀匹配，之后会考虑支持正则匹配。</p>
<h3>通过 UDP 访问内网机器</h3>
<p>DNS 查询请求通常使用 UDP 协议，FRP 支持对内网 UDP 服务的穿透，配置方式和 TCP 基本一致。这里以转发到 Google 的 DNS 查询服务器 8.8.8.8 的 UDP 端口为例。<br>
首先修改 FRP 客户端配置文件，并增加如下内容：</p>
<pre class="hljs bash"><code class="bash">$ vim frpc.ini
[dns]
<span class="hljs-built_in">type</span> = udp
local_ip = 8.8.8.8
local_port = 53
remote_port = 6001
</code></pre>
<p>要转发到内网 DNS 服务器只需把 local_ip 改成对应 IP 即可。</p>
<p>其次重新启动 FRP 客户端：</p>
<pre class="hljs objectivec"><code class="objectivec">$ ./frpc -c ./frpc.ini
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">14</span>:<span class="hljs-number">54</span>:<span class="hljs-number">17</span> [I] [proxy_manager.go:<span class="hljs-number">284</span>] proxy removed: []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">14</span>:<span class="hljs-number">54</span>:<span class="hljs-number">17</span> [I] [proxy_manager.go:<span class="hljs-number">294</span>] proxy added: [ssh web dns]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">14</span>:<span class="hljs-number">54</span>:<span class="hljs-number">17</span> [I] [proxy_manager.go:<span class="hljs-number">317</span>] visitor removed: []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">14</span>:<span class="hljs-number">54</span>:<span class="hljs-number">17</span> [I] [proxy_manager.go:<span class="hljs-number">326</span>] visitor added: []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">14</span>:<span class="hljs-number">54</span>:<span class="hljs-number">17</span> [I] [control.go:<span class="hljs-number">240</span>] [<span class="hljs-number">33e1</span>de8a771112a6] login to server success, get run <span class="hljs-keyword">id</span> [<span class="hljs-number">33e1</span>de8a771112a6], server udp port [<span class="hljs-number">0</span>]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">14</span>:<span class="hljs-number">54</span>:<span class="hljs-number">17</span> [I] [control.go:<span class="hljs-number">165</span>] [<span class="hljs-number">33e1</span>de8a771112a6] [ssh] start proxy success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">14</span>:<span class="hljs-number">54</span>:<span class="hljs-number">17</span> [I] [control.go:<span class="hljs-number">165</span>] [<span class="hljs-number">33e1</span>de8a771112a6] [web] start proxy success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">14</span>:<span class="hljs-number">54</span>:<span class="hljs-number">17</span> [I] [control.go:<span class="hljs-number">165</span>] [<span class="hljs-number">33e1</span>de8a771112a6] [dns] start proxy success
</code></pre>
<p>最后通过 dig 命令测试 UDP 包转发是否成功，预期会返回 <a href="http://www.google.com/" target="_blank" rel="nofollow">www.google.com</a> 域名的解析结果：</p>
<pre class="hljs ruby"><code class="ruby">$ dig @4.<span class="hljs-number">3.2</span>.<span class="hljs-number">1</span> -p <span class="hljs-number">6001</span> www.google.com
...

;; QUESTION <span class="hljs-symbol">SECTION:</span>
;www.google.com. IN A

;; ANSWER <span class="hljs-symbol">SECTION:</span>
www.google.com. <span class="hljs-number">79</span> IN A <span class="hljs-number">69.63</span>.<span class="hljs-number">184.30</span>

</code></pre>
<h3>转发 Unix 域套接字</h3>
<p>通过 TCP 端口访问内网的 Unix 域套接字，这里以和本地机器上的 Docker Daemon 通信为例。<br>
首先修改 FRP 客户端配置文件，并增加如下内容：</p>
<pre class="hljs bash"><code class="bash">$ vim frpc.ini
[unix_domain_socket]
<span class="hljs-built_in">type</span> = tcp
remote_port = 6002
plugin = unix_domain_socket
plugin_unix_path = /var/run/docker.sock
这里主要是使用 plugin 和 plugin_unix_path 两个参数启用了 unix_domain_socket 插件和配置对应的套接字路径。
</code></pre>
<p>其次重新启动 FRP 客户端：</p>
<pre class="hljs objectivec"><code class="objectivec">$ ./frpc -c ./frpc.ini

<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">15</span>:<span class="hljs-number">09</span>:<span class="hljs-number">33</span> [I] [proxy_manager.go:<span class="hljs-number">284</span>] proxy removed: []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">15</span>:<span class="hljs-number">09</span>:<span class="hljs-number">33</span> [I] [proxy_manager.go:<span class="hljs-number">294</span>] proxy added: [ssh web dns unix_domain_socket]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">15</span>:<span class="hljs-number">09</span>:<span class="hljs-number">33</span> [I] [proxy_manager.go:<span class="hljs-number">317</span>] visitor removed: []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">15</span>:<span class="hljs-number">09</span>:<span class="hljs-number">33</span> [I] [proxy_manager.go:<span class="hljs-number">326</span>] visitor added: []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">15</span>:<span class="hljs-number">09</span>:<span class="hljs-number">33</span> [I] [control.go:<span class="hljs-number">240</span>] [f6424f0deb8b6ff7] login to server success, get run <span class="hljs-keyword">id</span> [f6424f0deb8b6ff7], server udp port [<span class="hljs-number">0</span>]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">15</span>:<span class="hljs-number">09</span>:<span class="hljs-number">33</span> [I] [control.go:<span class="hljs-number">165</span>] [f6424f0deb8b6ff7] [ssh] start proxy success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">15</span>:<span class="hljs-number">09</span>:<span class="hljs-number">33</span> [I] [control.go:<span class="hljs-number">165</span>] [f6424f0deb8b6ff7] [web] start proxy success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">15</span>:<span class="hljs-number">09</span>:<span class="hljs-number">33</span> [I] [control.go:<span class="hljs-number">165</span>] [f6424f0deb8b6ff7] [dns] start proxy success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">15</span>:<span class="hljs-number">09</span>:<span class="hljs-number">33</span> [I] [control.go:<span class="hljs-number">165</span>] [f6424f0deb8b6ff7] [unix_domain_socket] start proxy success
</code></pre>
<p>最后通过 curl 命令查看 Docker 版本信息进行测试：</p>
<pre class="hljs ruby"><code class="ruby">$ curl <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/4.3.2.1:6002/version</span>

{<span class="hljs-string">"Platform"</span><span class="hljs-symbol">:</span>{<span class="hljs-string">"Name"</span><span class="hljs-symbol">:<span class="hljs-string">""</span></span>},<span class="hljs-string">"Components"</span><span class="hljs-symbol">:</span>[{<span class="hljs-string">"Name"</span><span class="hljs-symbol">:<span class="hljs-string">"Engine"</span></span>,<span class="hljs-string">"Version"</span><span class="hljs-symbol">:<span class="hljs-string">"17.12.0-ce"</span></span>,<span class="hljs-string">"Details"</span><span class="hljs-symbol">:</span>{<span class="hljs-string">"ApiVersion"</span><span class="hljs-symbol">:<span class="hljs-string">"1.35"</span></span>,<span class="hljs-string">"Arch"</span><span class="hljs-symbol">:<span class="hljs-string">"amd64"</span></span>,<span class="hljs-string">"BuildTime"</span><span class="hljs-symbol">:<span class="hljs-string">"2017-12-27T20:12:29.000000000+00:00"</span></span>,<span class="hljs-string">"Experimental"</span><span class="hljs-symbol">:<span class="hljs-string">"true"</span></span>,<span class="hljs-string">"GitCommit"</span><span class="hljs-symbol">:<span class="hljs-string">"c97c6d6"</span></span>,<span class="hljs-string">"GoVersion"</span><span class="hljs-symbol">:<span class="hljs-string">"go1.9.2"</span></span>,<span class="hljs-string">"KernelVersion"</span><span class="hljs-symbol">:<span class="hljs-string">"4.9.60-linuxkit-aufs"</span></span>,<span class="hljs-string">"MinAPIVersion"</span><span class="hljs-symbol">:<span class="hljs-string">"1.12"</span></span>,<span class="hljs-string">"Os"</span><span class="hljs-symbol">:<span class="hljs-string">"linux"</span></span>}}],<span class="hljs-string">"Version"</span><span class="hljs-symbol">:<span class="hljs-string">"17.12.0-ce"</span></span>,<span class="hljs-string">"ApiVersion"</span><span class="hljs-symbol">:<span class="hljs-string">"1.35"</span></span>,<span class="hljs-string">"MinAPIVersion"</span><span class="hljs-symbol">:<span class="hljs-string">"1.12"</span></span>,<span class="hljs-string">"GitCommit"</span><span class="hljs-symbol">:<span class="hljs-string">"c97c6d6"</span></span>,<span class="hljs-string">"GoVersion"</span><span class="hljs-symbol">:<span class="hljs-string">"go1.9.2"</span></span>,<span class="hljs-string">"Os"</span><span class="hljs-symbol">:<span class="hljs-string">"linux"</span></span>,<span class="hljs-string">"Arch"</span><span class="hljs-symbol">:<span class="hljs-string">"amd64"</span></span>,<span class="hljs-string">"KernelVersion"</span><span class="hljs-symbol">:<span class="hljs-string">"4.9.60-linuxkit-aufs"</span></span>,<span class="hljs-string">"Experimental"</span><span class="hljs-symbol">:true</span>,<span class="hljs-string">"BuildTime"</span><span class="hljs-symbol">:<span class="hljs-string">"2017-12-27T20:12:29.000000000+00:00"</span></span>}
</code></pre>
<p>FRP 从 1.5 版本开始支持客户端热加载配置文件，并不用每次都重启客户端程序。具体方法在后文 FRP 客户端热加载配置文件部分讲解。</p>
<h2>FRP 高级进阶</h2>
<h3>给 FRP 服务端增加一个 Dashboard</h3>
<p>通过 Dashboard 可以方便的查看 FRP 的状态以及代理统计信息展示，要使用这个功能首先需要在 FRP 服务端配置文件中指定 Dashboard 服务使用的端口：</p>
<pre class="hljs ruby"><code class="ruby">$ vim frps.ini

[common]

<span class="hljs-comment"># 指定 Dashboard 的监听的 IP 地址</span>
dashboard_addr = <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>

<span class="hljs-comment"># 指定 Dashboard 的监听的端口</span>
dashboard_port = <span class="hljs-number">7500</span>

<span class="hljs-comment"># 指定访问 Dashboard 的用户名</span>
dashboard_user = admin

<span class="hljs-comment"># 指定访问 Dashboard 的端口</span>
dashboard_pwd = admin
其次重新启动 FRP 服务端：
$ ./frps -c ./frps.ini

<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">39</span><span class="hljs-symbol">:</span><span class="hljs-number">29</span> [I] [service.<span class="hljs-symbol">go:</span><span class="hljs-number">96</span>] frps tcp listen on <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">7000</span>
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">39</span><span class="hljs-symbol">:</span><span class="hljs-number">29</span> [I] [service.<span class="hljs-symbol">go:</span><span class="hljs-number">125</span>] http service listen on <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">8080</span>
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">39</span><span class="hljs-symbol">:</span><span class="hljs-number">29</span> [I] [service.<span class="hljs-symbol">go:</span><span class="hljs-number">164</span>] Dashboard listen on <span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><span class="hljs-symbol">:</span><span class="hljs-number">7500</span>
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">39</span><span class="hljs-symbol">:</span><span class="hljs-number">29</span> [I] [main.<span class="hljs-symbol">go:</span><span class="hljs-number">112</span>] Start frps success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">39</span><span class="hljs-symbol">:</span><span class="hljs-number">29</span> [I] [main.<span class="hljs-symbol">go:</span><span class="hljs-number">114</span>] PrivilegeMode is enabled, you should pay more attention to security issues
</code></pre>
<p>最后通过 http://[server_addr]:7500 访问 Dashboard 界面，用户名密码默认都为 admin。</p>
<h3>给 FRP 服务端加上身份验证</h3>
<p>默认情况下只要知道 FRP 服务端开放的端口，任意 FRP 客户端都可以随意在服务端上注册端口映射，这样对于在公网上的 FRP 
服务来说显然不太安全。FRP 提供了身份验证机制来提高 FRP 服务端的安全性。要启用这一特性也很简单，只需在 FRP 服务端和 FRP 
客户端的 common 配置中启用 privilege_token 参数就行。</p>
<pre class="hljs undefined"><code>[common]
privilege_token = 12345678
</code></pre>
<p>启用这一特性后，只有 FRP 服务端和 FRP 客户端的 common 配置中的 privilege_token 参数一致身份验证才会通过，FRP 客户端才能成功在 FRP 服务端注册端口映射。否则就会注册失败，出现类似下面的错误：</p>
<pre class="hljs undefined"><code>2018/01/25 17:29:27 [I] [proxy_manager.go:284] proxy removed: []
2018/01/25 17:29:27 [I] [proxy_manager.go:294] proxy added: [ssh web dns unix_domain_socket]
2018/01/25 17:29:27 [I] [proxy_manager.go:317] visitor removed: []
2018/01/25 17:29:27 [I] [proxy_manager.go:326] visitor added: []
2018/01/25 17:29:27 [E] [control.go:230] authorization failed
2018/01/25 17:29:27 [W] [control.go:109] login to server failed: authorization failed
authorization failed
</code></pre>
<p>需要注意的是 FRP 客户端所在机器和 FRP 服务端所在机器的时间相差不能超过 15 
分钟，因为时间戳会被用于加密验证中，防止报文被劫持后被其他人利用。这个超时时间可以在配置文件中通过 authentication_timeout
 这个参数来修改，单位为秒，默认值为 900，即 15 分钟。如果修改为 0，则 FRP 服务端将不对身份验证报文的时间戳进行超时校验。</p>
<h3>FRP 客户端热加载配置文件</h3>
<p>当修改了 FRP 客户端中的配置文件，从 0.15 版本开始可以通过 frpc reload 命令来动态加载配置文件，通常会在 10 秒内完成代理的更新。<br>
启用此功能需要在 FRP 客户端配置文件中启用 admin 端口，用于提供 API 服务。配置如下：<br>
$ vim frpc.ini</p>
<p>[common]<br>
admin_addr = 127.0.0.1<br>
admin_port = 7400<br>
重启 FRP 客户端，以后就可通过热加载方式进行 FRP 客户端配置变更了。</p>
<pre class="hljs ruby"><code class="ruby">$ ./frpc -c ./frpc.ini
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">18</span><span class="hljs-symbol">:</span><span class="hljs-number">04</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">326</span>] visitor <span class="hljs-symbol">added:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">18</span><span class="hljs-symbol">:</span><span class="hljs-number">04</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">240</span>] [<span class="hljs-number">3653</span>b9a878f8acc7] login to server success, get run id [<span class="hljs-number">3653</span>b9a878f8acc7], server udp port [<span class="hljs-number">0</span>]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">18</span><span class="hljs-symbol">:</span><span class="hljs-number">04</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span> [I] [service.<span class="hljs-symbol">go:</span><span class="hljs-number">49</span>] admin server listen on <span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span><span class="hljs-symbol">:</span><span class="hljs-number">7400</span>
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">18</span><span class="hljs-symbol">:</span><span class="hljs-number">04</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">165</span>] [<span class="hljs-number">3653</span>b9a878f8acc7] [ssh] start proxy success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">18</span><span class="hljs-symbol">:</span><span class="hljs-number">04</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">165</span>] [<span class="hljs-number">3653</span>b9a878f8acc7] [web] start proxy success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">18</span><span class="hljs-symbol">:</span><span class="hljs-number">04</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">165</span>] [<span class="hljs-number">3653</span>b9a878f8acc7] [dns] start proxy success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">25</span> <span class="hljs-number">18</span><span class="hljs-symbol">:</span><span class="hljs-number">04</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">165</span>] [<span class="hljs-number">3653</span>b9a878f8acc7] [unix_domain_socket] start proxy success

$ ./frpc reload -c ./frpc.ini
reload success
</code></pre>
<p>等待一段时间后客户端会根据新的配置文件创建、更新、删除代理。<br>
需要注意的是 [common] 中的参数除了 start 外目前无法被修改。</p>
<p>启用 admin_addr 后，还可以通过 frpc status -c ./frpc.ini 命令在 FRP 客户端很方便的查看当前代理状态信息。</p>
<pre class="hljs javascript"><code class="javascript">$ ./frpc status -c ./frpc.ini

<span class="hljs-built_in">Proxy</span> Status...
TCP
Name Status LocalAddr Plugin RemoteAddr <span class="hljs-built_in">Error</span>
ssh running <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">22</span> <span class="hljs-number">4.3</span><span class="hljs-number">.2</span><span class="hljs-number">.1</span>:<span class="hljs-number">6000</span>
unix_domain_socket running unix_domain_socket <span class="hljs-number">4.3</span><span class="hljs-number">.2</span><span class="hljs-number">.1</span>:<span class="hljs-number">6002</span>

UDP
Name Status LocalAddr Plugin RemoteAddr <span class="hljs-built_in">Error</span>
dns running <span class="hljs-number">8.8</span><span class="hljs-number">.8</span><span class="hljs-number">.8</span>:<span class="hljs-number">53</span> <span class="hljs-number">4.3</span><span class="hljs-number">.2</span><span class="hljs-number">.1</span>:<span class="hljs-number">6001</span>

HTTP
Name Status LocalAddr Plugin RemoteAddr <span class="hljs-built_in">Error</span>
</code></pre>
<p>web running 127.0.0.1:80 <strong>.</strong>*.com:8080</p>
<h3>给 FRP 服务端增加端口白名单</h3>
<p>为了防止 FRP 端口被滥用，FRP 提供了指定允许哪些端口被分配的功能。可通过 FRP 服务端的配置文件中 privilege_allow_ports 参数来指定：</p>
<pre class="hljs ruby"><code class="ruby">$ vim frps.ini

[common]
privilege_allow_ports = <span class="hljs-number">2000</span>-<span class="hljs-number">3000</span>,<span class="hljs-number">3001</span>,<span class="hljs-number">3003</span>,<span class="hljs-number">4000</span>-<span class="hljs-number">5000</span>
</code></pre>
<p>privilege_allow_ports 可以配置允许使用的某个指定端口或者是一个范围内的所有端口，以 , 分隔，指定的范围以 - 分隔。<br>
当使用不允许的端口注册时，就会注册失败。出现类似以下错误：</p>
<pre class="hljs ruby"><code class="ruby">$ ./frpc status -c ./frpc.ini
Proxy Status...
TCP
Name Status LocalAddr Plugin RemoteAddr Error
ssh start error <span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span><span class="hljs-symbol">:</span><span class="hljs-number">22</span> <span class="hljs-number">4.3</span>.<span class="hljs-number">2.1</span><span class="hljs-symbol">:</span><span class="hljs-number">60000</span> port <span class="hljs-keyword">not</span> allowed
unix_domain_socket start error unix_domain_socket <span class="hljs-number">4.3</span>.<span class="hljs-number">2.1</span><span class="hljs-symbol">:</span><span class="hljs-number">60002</span> port <span class="hljs-keyword">not</span> allowed
</code></pre>
<h3>启用 TCP 多路复用</h3>
<p>从 v0.10.0 版本开始，客户端和服务器端之间的连接支持多路复用，不再需要为每一个用户请求创建一个连接，使连接建立的延迟降低，并且避免了大量文件描述符的占用，使 FRP 可以承载更高的并发数。<br>
该功能默认启用，如需关闭可以在 FRP 服务端配置文件和 FRP 客户端配置文件中配置，该配置项在服务端和客户端必须一致：</p>
<pre class="hljs bash"><code class="bash"><span class="hljs-comment"># frps.ini 和 frpc.ini 中</span>
[common]
tcp_mux = falseFRP 
</code></pre>
<h3>底层通信启用 KCP 协议</h3>
<p>FRP 从 v0.12.0 版本开始，底层通信协议支持选择 KCP 协议，在弱网络环境下传输效率会提升明显，但是会有一些额外的流量消耗。<br>
要开启 KCP 协议支持，首先要在 FRP 服务端配置文件中启用 KCP 协议支持：</p>
<pre class="hljs ruby"><code class="ruby">$ vim frps.ini
[common]
bind_port = <span class="hljs-number">7000</span>
<span class="hljs-comment"># 指定一个 UDP 端口用于接收客户端请求 KCP 绑定的是 UDP 端口，可以和 bind_port 一样</span>
kcp_bind_port = <span class="hljs-number">7000</span>
其次是在 FRP 客户端配置文件指定需要使用的协议类型，目前只支持 TCP 和 KCP。其它代理配置不需要变更：
$ vim frpc.ini
[common]
server_addr = <span class="hljs-number">4.3</span>.<span class="hljs-number">2.1</span>
<span class="hljs-comment"># server_port 指定为 FRP 服务端里 kcp_bind_port 指定的端口</span>
server_port = <span class="hljs-number">7000</span>
<span class="hljs-comment"># 指定需要使用的协议类型，默认类型为 TCP</span>
protocol = kcp
</code></pre>
<p>需要注意开放相关机器上的 UDP 端口的访问权限。</p>
<h3>给 FRP 服务端配置连接池</h3>
<p>默认情况下，当用户请求建立连接后，FRP 服务端才会请求 FRP 客户端主动与后端服务建立一个连接。<br>
当为指定的 FRP 服务端启用连接池功能后，FRP 会预先和后端服务建立起指定数量的连接，每次接收到用户请求后，会从连接池中取出一个连接和用户连接关联起来，避免了等待与后端服务建立连接以及 FRP 客户端 和 FRP 服务端之间传递控制信息的时间。<br>
首先需要在 FRP 服务端配置文件中设置每个代理可以创建的连接池上限，避免大量资源占用，客户端设置超过此配置后会被调整到当前值：</p>
<pre class="hljs ruby"><code class="ruby">$ vim frps.ini
[common]
max_pool_count = <span class="hljs-number">5</span>
其次在 FRP 客户端配置文件中为客户端启用连接池，指定预创建连接的数量：
$ vim frpc.ini
[common]
pool_count = <span class="hljs-number">1</span>
    * 
</code></pre>
<p>此功能比较适合有大量短连接请求时开启。</p>
<h3>加密与压缩</h3>
<p>如果公司内网防火墙对外网访问进行了流量识别与屏蔽，例如禁止了 SSH 协议等，可通过设置 use_encryption = true，将 FRP 客户端 与 FRP 服务端之间的通信内容加密传输，将会有效防止流量被拦截。<br>
如果传输的报文长度较长，通过设置 use_compression = true 对传输内容进行压缩，可以有效减小 FRP 客户端 与 FRP 服务端之间的网络流量，来加快流量转发速度，但是会额外消耗一些 CPU 资源。<br>
这两个功能默认是不开启的，需要在 FRP 客户端配置文件中通过配置来为指定的代理启用加密与压缩的功能，压缩算法使用的是 snappy。</p>
<pre class="hljs bash"><code class="bash">$ vim frpc.ini

[ssh]
<span class="hljs-built_in">type</span> = tcp
local_port = 22
remote_port = 6000
use_encryption = <span class="hljs-literal">true</span>
use_compression = <span class="hljs-literal">true</span>
</code></pre>
<h3>通过 FRP 客户端代理其它内网机器访问外网</h3>
<p>FRP 客户端内置了 http_proxy 和 socks5 插件，通过这两个插件可以使其它内网机器通过 FPR 客户端的的网络访问互联网。<br>
要启用此功能，首先需要在 FRP 客户端配置文件中启用相关插件，这里以 http_proxy 插件为例：</p>
<pre class="hljs bash"><code class="bash">$ vim frpc.ini

[common]
server_addr = 4.3.2.1
server_port = 7000

[http_proxy]
<span class="hljs-built_in">type</span> = tcp
remote_port = 6000
plugin = http_proxy
</code></pre>
<p>其次将需要通过这个代理访问外网的内部机器的代理地址设置为 4.3.2.1:6000，这样就可以通过 FRP 客户端机器的网络访问互联网了。<br>
http_proxy 插件也支持认证机制，如果需要启用认证可通过配置参数 plugin_http_user 和 plugin_http_passwd 启用。<br>
如需启用 Socks5 代理，只需将 plugin 的值更换为 socks5 即可。</p>
<h3>通过代理连接 FRP 服务端</h3>
<p>在只能通过代理访问外网的环境内，FRP 客户端支持通过 HTTP_PROXY 参数来配置代理和 FRP 
服务端进行通信。要使用此功能可以通过设置系统环境变量 HTTP_PROXY 或者通过在 FRP 客户端的配置文件中设置 http_proxy 
参数来使用此功能。</p>
<pre class="hljs bash"><code class="bash">$ vim frpc.ini

[common]
server_addr = 4.3.2.1
server_port = 7000
protocol = tcp
http_proxy = http://user:<span class="hljs-built_in">pwd</span>@4.3.2.2:8080
</code></pre>
<p>仅在 protocol = tcp 时生效，暂时不支持 kcp 协议。</p>
<h3>安全地暴露内网服务</h3>
<p>对于一些比较敏感的服务如果直接暴露于公网上将会存在安全隐患，FRP 也提供了一种安全的转发方式 STCP。使用 STCP (secret 
tcp) 类型的代理可以避免让任何人都能访问到穿透到公网的内网服务，要使用 STCP 模式访问者需要单独运行另外一个 FRP 客户端。<br>
下面就以创建一个只有自己能访问到的 SSH 服务代理为例，FRP 服务端和其它的部署步骤相同，主要区别是在 FRP 客户端上。<br>
首先配置 FRP 客户端，和常规 TCP 转发不同的是这里不需要指定远程端口。</p>
<pre class="hljs bash"><code class="bash">
$ vim frpc.ini
[common]
server_addr = 4.3.2.1
server_port = 7000

[secret_ssh]
<span class="hljs-built_in">type</span> = stcp

<span class="hljs-comment"># 只有 sk 一致的用户才能访问到此服务</span>
sk = abcdefg
local_ip = 127.0.0.1
local_port = 22
</code></pre>
<p>其次在要访问这个服务的机器上启动另外一个 FRP 客户端，配置如下：</p>
<pre class="hljs bash"><code class="bash">$ vim frpc.ini
[common]
server_addr = 4.3.2.1
server_port = 7000

[secret_ssh_visitor]
<span class="hljs-built_in">type</span> = stcp
<span class="hljs-comment"># STCP 的访问者</span>
role = visitor
<span class="hljs-comment"># 要访问的 STCP 代理的名字，和前面定义的相同。</span>
server_name = secret_ssh
<span class="hljs-comment"># 和前面定义的要一致</span>
sk = abcdefg
<span class="hljs-comment"># 绑定本地端口用于访问 ssh 服务</span>
bind_addr = 127.0.0.1
bind_port = 6005
</code></pre>
<p>最后在本机启动一个 FRP 客户端，这样就可以通过本机 6005 端口对内网机器 SSH 服务进行访问，假设用户名为 mike：</p>
<pre class="hljs ruby"><code class="ruby">$ ./frpc -c ./frpc.ini
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span><span class="hljs-symbol">:</span><span class="hljs-number">24</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">284</span>] proxy <span class="hljs-symbol">removed:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span><span class="hljs-symbol">:</span><span class="hljs-number">24</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">294</span>] proxy <span class="hljs-symbol">added:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span><span class="hljs-symbol">:</span><span class="hljs-number">24</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">317</span>] visitor <span class="hljs-symbol">removed:</span> []
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span><span class="hljs-symbol">:</span><span class="hljs-number">24</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">326</span>] visitor <span class="hljs-symbol">added:</span> [secret_ssh_visitor]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span><span class="hljs-symbol">:</span><span class="hljs-number">24</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">240</span>] [<span class="hljs-number">60</span>d2af2f68196537] login to server success, get run id [<span class="hljs-number">60</span>d2af2f68196537], server udp port [<span class="hljs-number">0</span>]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span><span class="hljs-symbol">:</span><span class="hljs-number">24</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">235</span>] [<span class="hljs-number">60</span>d2af2f68196537] try to start visitor [secret_ssh_visitor]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">03</span><span class="hljs-symbol">:</span><span class="hljs-number">24</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">243</span>] [secret_ssh_visitor] start visitor success

$ ssh -oPort=<span class="hljs-number">6005</span> mike@127.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>
</code></pre>
<h3>点对点内网穿透</h3>
<p>在传输大量数据时如果都经过服务器中转的话，这样会对服务器端带宽压力比较大。FRP 提供了一种新的代理类型 XTCP 来解决这个问题，XTCP 模式下可以在传输大量数据时让流量不经过服务器中转。<br>
使用方式同 STCP 类似，需要在传输数据的两端都部署上 FRP 客户端上用于建立直接的连接。<br>
首先在 FRP 服务端配置上增加一个 UDP 端口用于支持该类型的客户端:</p>
<pre class="hljs ruby"><code class="ruby">$ vim frps.ini
bind_udp_port = <span class="hljs-number">7001</span>
其次配置 FRP 客户端，和常规 TCP 转发不同的是这里不需要指定远程端口。
$ vim frpc.ini

[common]
server_addr = <span class="hljs-number">4.3</span>.<span class="hljs-number">2.1</span>
server_port = <span class="hljs-number">7000</span>

[p2p_ssh]
type = xtcp

<span class="hljs-comment"># 只有 sk 一致的用户才能访问到此服务</span>
sk = abcdefg
local_ip = <span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>
local_port = <span class="hljs-number">22</span>
然后在要访问这个服务的机器上启动另外一个 FRP 客户端，配置如下：
$ vim frpc.ini
[common]
server_addr = <span class="hljs-number">4.3</span>.<span class="hljs-number">2.1</span>
server_port = <span class="hljs-number">7000</span>

[p2p_ssh_visitor]
type = xtcp
<span class="hljs-comment"># XTCP 的访问者</span>
role = visitor
<span class="hljs-comment"># 要访问的 XTCP 代理的名字</span>
server_name = p2p_ssh
sk = abcdefg
<span class="hljs-comment"># 绑定本地端口用于访问 ssh 服务</span>
bind_addr = <span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>
bind_port = <span class="hljs-number">6006</span>
最后在本机启动一个 FRP 客户端，这样就可以通过本机 <span class="hljs-number">6006</span> 端口对内网机器 SSH 服务进行访问，假设用户名为 mike：
$ ./frpc -c ./frpc.ini

<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">01</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">326</span>] visitor <span class="hljs-symbol">added:</span> [p2p_ssh_visitor secret_ssh_visitor]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">01</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span> [I] [control.<span class="hljs-symbol">go:</span><span class="hljs-number">240</span>] [<span class="hljs-number">7</span>c7e06878e11cc3c] login to server success, get run id [<span class="hljs-number">7</span>c7e06878e11cc3c], server udp port [<span class="hljs-number">7001</span>]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">01</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">235</span>] [<span class="hljs-number">7</span>c7e06878e11cc3c] try to start visitor [p2p_ssh_visitor]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">01</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">243</span>] [p2p_ssh_visitor] start visitor success
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">01</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">235</span>] [<span class="hljs-number">7</span>c7e06878e11cc3c] try to start visitor [secret_ssh_visitor]
<span class="hljs-number">2018</span>/<span class="hljs-number">01</span>/<span class="hljs-number">26</span> <span class="hljs-number">16</span><span class="hljs-symbol">:</span><span class="hljs-number">01</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span> [I] [proxy_manager.<span class="hljs-symbol">go:</span><span class="hljs-number">243</span>] [secret_ssh_visitor] start visitor success

$ ssh -oPort=<span class="hljs-number">6006</span> mike@127.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>
</code></pre>
<p>目前 XTCP 模式还处于开发的初级阶段，并不能穿透所有类型的 NAT 设备，所以穿透成功率较低。穿透失败时可以尝试 STCP 的方式。</p>
<p>FRP 的部署安装比较简单，项目官方也没有提供相应的管理脚本。不过好在开源项目总是有网友热心提供部署和管理脚本。如果你觉得手动部署太麻烦，还可以使用.</p>
<h2>一键安装脚本</h2>
<p>项目地址：<a href="https://github.com/clangcn/onekey-install-shell/" target="_blank" rel="nofollow">https://github.com/clangcn/onekey-install-shell/</a>下载一键部署脚本<br>
$ wget --no-check-certificate <a href="https://raw.githubusercontent.com/clangcn/onekey-install-shell/master/frps/install-frps.sh" target="_blank" rel="nofollow">https://raw.githubusercontent.com/clangcn/onekey-install-shell/master/frps/install-frps.sh</a> -O ./<a href="http://install-frps.sh/" target="_blank" rel="nofollow">install-frps.sh</a><br>
$ chmod 700 ./install-frps.sh安装 FRP 服务端<br>
这个一键部署脚本比较好用，为了提高国内用户下载安装包速度还提供了阿里云节点的安装源。整个脚本使用起来也比较简单，对一些常用的 FRP 
服务端配置参数都做了交互式选择让用户可以方便的根据自己实际情况进行选择。脚本比较贴心的一点是对默认的公网地址进行了检测，省去了手动输入的麻烦。</p>
<pre class="hljs php"><code class="php">$ ./install-frps.sh install

Please select frps download url:
[<span class="hljs-number">1</span>].aliyun (<span class="hljs-keyword">default</span>)
[<span class="hljs-number">2</span>].github
Enter your choice (<span class="hljs-number">1</span>, <span class="hljs-number">2</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">exit</span>. <span class="hljs-keyword">default</span> [aliyun]):
---------------------------------------
Your select: aliyun
---------------------------------------
Loading network version <span class="hljs-keyword">for</span> frps, please wait...
frps Latest release file frp_0<span class="hljs-number">.15</span><span class="hljs-number">.1</span>_linux_amd64.tar.gz
Loading You Server IP, please wait...
You Server IP:<span class="hljs-number">12.34</span><span class="hljs-number">.56</span><span class="hljs-number">.78</span>
Please input your server setting:

Please input frps bind_port [<span class="hljs-number">1</span><span class="hljs-number">-65535</span>](<span class="hljs-keyword">Default</span> Server Port: <span class="hljs-number">5443</span>):<span class="hljs-number">7000</span>
frps bind_port: <span class="hljs-number">7000</span>

Please input frps vhost_http_port [<span class="hljs-number">1</span><span class="hljs-number">-65535</span>](<span class="hljs-keyword">Default</span> vhost_http_port: <span class="hljs-number">80</span>):<span class="hljs-number">8080</span>
frps vhost_http_port: <span class="hljs-number">8080</span>

Please input frps vhost_https_port [<span class="hljs-number">1</span><span class="hljs-number">-65535</span>](<span class="hljs-keyword">Default</span> vhost_https_port: <span class="hljs-number">443</span>):
frps vhost_https_port: <span class="hljs-number">443</span>

Please input frps dashboard_port [<span class="hljs-number">1</span><span class="hljs-number">-65535</span>](<span class="hljs-keyword">Default</span> dashboard_port: <span class="hljs-number">6443</span>):<span class="hljs-number">7500</span>
frps dashboard_port: <span class="hljs-number">7500</span>

Please input dashboard_user (<span class="hljs-keyword">Default</span>: admin):
frps dashboard_user: admin

Please input dashboard_pwd (<span class="hljs-keyword">Default</span>: IY0p1bOg):admin
frps dashboard_pwd: admin

Please input privilege_token (<span class="hljs-keyword">Default</span>: <span class="hljs-number">9</span>BqswPpd1R0TfGR5):mike
frps privilege_token: mike

Please input frps max_pool_count [<span class="hljs-number">1</span><span class="hljs-number">-200</span>]
(<span class="hljs-keyword">Default</span> max_pool_count: <span class="hljs-number">50</span>):
frps max_pool_count: <span class="hljs-number">50</span>

<span class="hljs-comment">##### Please select log_level #####</span>
<span class="hljs-number">1</span>: info (<span class="hljs-keyword">default</span>)
<span class="hljs-number">2</span>: warn
<span class="hljs-number">3</span>: error
<span class="hljs-number">4</span>: debug
<span class="hljs-comment">#####################################################</span>
Enter your choice (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">exit</span>. <span class="hljs-keyword">default</span> [<span class="hljs-number">1</span>]):
log_level: info

Please input frps log_max_days [<span class="hljs-number">1</span><span class="hljs-number">-30</span>]
(<span class="hljs-keyword">Default</span> log_max_days: <span class="hljs-number">3</span> day):
frps log_max_days: <span class="hljs-number">3</span>

<span class="hljs-comment">##### Please select log_file #####</span>
<span class="hljs-number">1</span>: enable (<span class="hljs-keyword">default</span>)
<span class="hljs-number">2</span>: disable
<span class="hljs-comment">#####################################################</span>
Enter your choice (<span class="hljs-number">1</span>, <span class="hljs-number">2</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">exit</span>. <span class="hljs-keyword">default</span> [<span class="hljs-number">1</span>]):
log_file: enable

<span class="hljs-comment">##### Please select tcp_mux #####</span>
<span class="hljs-number">1</span>: enable (<span class="hljs-keyword">default</span>)
<span class="hljs-number">2</span>: disable
<span class="hljs-comment">#####################################################</span>
Enter your choice (<span class="hljs-number">1</span>, <span class="hljs-number">2</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">exit</span>. <span class="hljs-keyword">default</span> [<span class="hljs-number">1</span>]):
tcp_mux: <span class="hljs-keyword">true</span>

<span class="hljs-comment">##### Please select kcp support #####</span>
<span class="hljs-number">1</span>: enable (<span class="hljs-keyword">default</span>)
<span class="hljs-number">2</span>: disable
<span class="hljs-comment">#####################################################</span>
Enter your choice (<span class="hljs-number">1</span>, <span class="hljs-number">2</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">exit</span>. <span class="hljs-keyword">default</span> [<span class="hljs-number">1</span>]):
kcp support: <span class="hljs-keyword">true</span>

============== Check your input ==============
You Server IP : <span class="hljs-number">12.34</span><span class="hljs-number">.56</span><span class="hljs-number">.78</span>
Bind port : <span class="hljs-number">7000</span>
kcp support : <span class="hljs-keyword">true</span>
vhost http port : <span class="hljs-number">8080</span>
vhost https port : <span class="hljs-number">443</span>
Dashboard port : <span class="hljs-number">7500</span>
Dashboard user : admin
Dashboard password : admin
Privilege token : mike
tcp_mux : <span class="hljs-keyword">true</span>
Max Pool count : <span class="hljs-number">50</span>
Log level : info
Log max days : <span class="hljs-number">3</span>
Log file : enable
==============================================

Press any key to start...<span class="hljs-keyword">or</span> Press Ctrl+c to cancel

frps install path:/usr/local/frps
config file <span class="hljs-keyword">for</span> frps ... done
download frps ... done
download /etc/init.d/frps... done
setting frps boot... done

+--------------------------------------------------+
| Manager <span class="hljs-keyword">for</span> Frps, Written by Clang |
+--------------------------------------------------+
| Intro: http:<span class="hljs-comment">//koolshare.cn/thread-65379-1-1.html |</span>
+--------------------------------------------------+

Starting Frps(<span class="hljs-number">0.15</span><span class="hljs-number">.1</span>)... done
Frps (pid <span class="hljs-number">3325</span>)is running.

+---------------------------------------------------------+
| frps <span class="hljs-keyword">for</span> Linux Server, Written by Clang |
+---------------------------------------------------------+
| A tool to auto-compile &amp; install frps on Linux |
+---------------------------------------------------------+
| Intro: http:<span class="hljs-comment">//koolshare.cn/thread-65379-1-1.html |</span>
+---------------------------------------------------------+

Congratulations, frps install completed!
==============================================
You Server IP : <span class="hljs-number">12.34</span><span class="hljs-number">.56</span><span class="hljs-number">.78</span>
Bind port : <span class="hljs-number">7000</span>
KCP support : <span class="hljs-keyword">true</span>
vhost http port : <span class="hljs-number">8080</span>
vhost https port : <span class="hljs-number">443</span>
Dashboard port : <span class="hljs-number">7500</span>
Privilege token : mike
tcp_mux : <span class="hljs-keyword">true</span>
Max Pool count : <span class="hljs-number">50</span>
Log level : info
Log max days : <span class="hljs-number">3</span>
Log file : enable
==============================================
frps Dashboard : http:<span class="hljs-comment">//12.34.56.78:7500/</span>
Dashboard user : admin
Dashboard password : admin
</code></pre>
<h3>配置 FRP</h3>
<p>$ ./install-frps.sh config更新 FRP 服务端<br>
$ ./install-frps.sh update卸载 FRP 服务端<br>
$ ./install-frps.sh uninstallFRP 服务端日常管理<br>
FRP 服务端安装完成后，一键部署脚本还提供了一个日常管理 FRP 服务端的管理脚本来进行日常的启动、重启、停止等操作，非常的方便。<br>
Usage: /etc/init.d/frps {start|stop|restart|status|config|version}</p>
<blockquote>
<p>参考文档</p>
</blockquote>
<pre class="hljs cpp"><code class="cpp">http:<span class="hljs-comment">//www.google.com</span>

https:<span class="hljs-comment">//github.com/fatedier/frp</span>

http:<span class="hljs-comment">//koolshare.cn/thread-65379-1-1.html</span>

https:<span class="hljs-comment">//mp.weixin.qq.com/s?__biz=MzI3MTI2NzkxMA==&amp;mid=2247485670&amp;idx=1&amp;sn=df62f2df93f112a7bc0b8d7e843bbc16&amp;chksm=eac529cfddb2a0d9b0fb22324f3eaf5cffeb8e0a56d16efb87ad97d3cca6479e96e12c68eb88&amp;mpshare=1&amp;scene=23&amp;srcid=0131VDjF0WIqduxU6j5sc9sg#rd</span>
</code></pre>
<hr>
<div class="image-package">
<div class="image-container" style="max-width: 551px; max-height: 492px;">
<div class="image-container-fill" style="padding-bottom: 89.29%;"></div>
<div class="image-view" data-width="551" data-height="492"><img data-original-src="//upload-images.jianshu.io/upload_images/1355519-ac2a49f3037ceb1b.jpg" data-original-width="551" data-original-height="492" data-original-format="image/jpeg" data-original-filesize="47001" style="cursor: zoom-in;" class="image-loading"></div>
</div>
<div class="image-caption">欢迎关注</div>
</div>

          </div>
        </div>
    </div>

    <!-- 如果是付费文章，未购买，则显示购买按钮 -->

    <!-- 连载目录项 -->

    <!-- 如果是付费文章 -->
      <!-- 如果是付费连载，已购买，且作者允许赞赏，则显示付费信息和赞赏 -->
        <div id="free-reward-panel" class="support-author"><p>如果文章帮助了你，请我吃个手抓饼吧。</p> <div class="btn btn-pay">赞赏支持</div> <div class="supporter"><ul class="support-list"></ul> <!----></div> <!----> <!----></div>

      <div class="show-foot">
        <a class="notebook" href="https://www.jianshu.com/nb/2763496">
          <i class="iconfont ic-search-notebook"></i>
          <span>日记本</span>
</a>        <div class="copyright" data-toggle="tooltip" data-html="true" data-original-title="转载请联系作者获得授权，并标注“简书作者”。">
          © 著作权归作者所有
        </div>
        <div class="modal-wrap" data-report-note="">
          <a id="report-modal">举报文章</a>
        </div>
      </div>

      <!-- 文章底部作者信息 -->
        <div class="follow-detail">
          <div class="info">
            <a class="avatar" href="https://www.jianshu.com/u/80188f451b08">
              <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/eb9343b6d1c6.jpeg" alt="96">
</a>            <a class="btn btn-success follow"><i class="iconfont ic-follow"></i><span>关注</span></a>
            <a class="title" href="https://www.jianshu.com/u/80188f451b08">forwardlee</a>
              <i class="iconfont ic-man"></i>
          <p>写了 8132 字，被 40 人关注，获得了 131 个喜欢</p></div>
            <div class="signature">知之者不如好之者，好之者不如乐之者。</div>
        </div>

    <div class="meta-bottom">
      <div data-v-6ddd02c6="" class="like"><div data-v-6ddd02c6="" class="btn like-group"><div data-v-6ddd02c6="" class="btn-like"><a data-v-6ddd02c6="">喜欢</a></div> <div data-v-6ddd02c6="" class="modal-wrap"><a data-v-6ddd02c6="">115</a></div></div> <!----></div>
      <div class="share-group">
        <a class="share-circle" data-action="weixin-share" data-toggle="tooltip" data-original-title="分享到微信">
          <i class="iconfont ic-wechat"></i>
        </a>
        <a class="share-circle" data-action="weibo-share" data-toggle="tooltip" href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f='http://v.t.sina.com.cn/share/share.php?appkey=1881139527',u=z||d.location,p=['&amp;url=',e(u),'&amp;title=',e(t||d.title),'&amp;source=',e(r),'&amp;sourceUrl=',e(l),'&amp;content=',c||'gb2312','&amp;pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=440,height=430,left=',(s.width-440)/2,',top=',(s.height-430)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','', '%E6%8E%A8%E8%8D%90 @%E7%88%B1%E7%94%9F%E6%B4%BB%E7%88%B1%E4%BA%8C%E5%93%A5zip %E7%9A%84%E6%96%87%E7%AB%A0%E3%80%8A%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%E3%80%8B%EF%BC%88 %E5%88%86%E4%BA%AB%E8%87%AA @%E7%AE%80%E4%B9%A6 %EF%BC%89','https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=weibo','%E9%A1%B5%E9%9D%A2%E7%BC%96%E7%A0%81gb2312|utf-8%E9%BB%98%E8%AE%A4gb2312'));" data-original-title="分享到微博">
          <i class="iconfont ic-weibo"></i>
        </a>
        <a class="share-circle" data-toggle="tooltip" id="longshare" target="_blank" data-original-title="" title="">
            <div class="qrcode" id="qrcode">
             <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/download-index-side-qrcode-cb13fc9106a478795f8d10f9f632fccf.png" alt="Download index side qrcode">
             <p>下载app生成长微博图片</p>
             </div>
          <i class="iconfont ic-picture"></i>
        </a>
        <a class="share-circle more-share" tabindex="0" data-toggle="popover" data-placement="top" data-html="true" data-trigger="focus" href="javascript:void(0);" data-content="
          &lt;ul class=&quot;share-list&quot;&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r='http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url='+e('https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=qzone')+'&amp;title='+e('推荐 forwardlee 的文章《一款很好用的内网穿透工具--FRP》'),x=function(){if(!window.open(r,'qzone','toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600'))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-zone&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到QQ空间&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r='https://twitter.com/share?url='+e('https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=twitter')+'&amp;text='+e('推荐 forwardlee 的文章《一款很好用的内网穿透工具--FRP》（ 分享自 @jianshucom ）')+'&amp;related='+e('jianshucom'),x=function(){if(!window.open(r,'twitter','toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600'))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-twitter&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到Twitter&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r='https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=facebook',x=function(){if(!window.open(r,'facebook','toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330'))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-facebook&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到Facebook&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r='https://plus.google.com/share?url='+e('https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=google_plus'),x=function(){if(!window.open(r,'google_plus','toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330'))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-google&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到Google+&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:'',r='http://www.douban.com/recommend/?url='+e('https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=douban')+'&amp;title='+e('一款很好用的内网穿透工具--FRP')+'&amp;sel='+e(s)+'&amp;v=1',x=function(){if(!window.open(r,'douban','toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330'))location.href=r+'&amp;r=1'};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-douban&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到豆瓣&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
          &lt;/ul&gt;
        " data-original-title="" title="">更多分享</a>
      </div>
    </div>

      <a id="web-note-ad-1" target="_blank" href="https://www.jianshu.com/apps/redirect?utm_source=note-bottom-click"><img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/web-note-ad-1-c2e1746859dbf03abe49248893c9bea4.png" alt="Web note ad 1"></a>

    <!--
    <div id="note-comment-above-ad-container">
      <span id="youdao-comment-ad" class="ad-badge">广告</span>
    </div>
    -->
    <div id="vue_comment"></div>
  </div>

  <div class="side-tool"><ul><li data-placement="left" data-toggle="tooltip" data-container="body" data-original-title="回到顶部" style=""><a class="function-button"><i class="iconfont ic-backtop"></i></a></li> <!----> <!----> <!----> <!----> <li data-placement="left" data-toggle="tooltip" data-container="body" data-original-title="分享文章" id="share"><a tabindex="0" role="button" data-toggle="popover" data-placement="left" data-html="true" data-trigger="focus" href="javascript:void(0);" data-content="&lt;ul class='share-list' style=&quot;width:220px&quot;&gt;
                  &lt;li&gt;&lt;a class=&quot;weixin-share&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-weixin&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到微信&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f='http://v.t.sina.com.cn/share/share.php?appkey=1881139527',u=z||d.location,p=['&amp;url=',e(u),'&amp;title=',e(t||d.title),'&amp;source=',e(r),'&amp;sourceUrl=',e(l),'&amp;content=',c||'gb2312','&amp;pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=440,height=430,left=',(s.width-440)/2,',top=',(s.height-430)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','', '推荐 @爱生活爱二哥zip 的文章《一款很好用的内网穿透工具--FRP》（ 分享自 @简书 ）','https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=weibo','页面编码gb2312|utf-8默认gb2312'));&quot;&gt;&lt;i class='social-icon-sprite social-icon-weibo'&gt;&lt;/i&gt;&lt;span&gt;分享到微博&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                  
                  &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r='http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url='+e('https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=qzone')+'&amp;title='+e('推荐 forwardlee 的文章《一款很好用的内网穿透工具--FRP》'),x=function(){if(!window.open(r,'qzone','toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600'))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class='social-icon-sprite social-icon-zone'&gt;&lt;/i&gt;&lt;span&gt;分享到QQ空间&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r='https://twitter.com/share?url='+e('https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=twitter')+'&amp;text='+e('推荐 forwardlee 的文章《一款很好用的内网穿透工具--FRP》（ 分享自 @jianshucom ）')+'&amp;related='+e('jianshucom'),x=function(){if(!window.open(r,'twitter','toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600'))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class='social-icon-sprite social-icon-twitter'&gt;&lt;/i&gt;&lt;span&gt;分享到Twitter&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r='https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=facebook',x=function(){if(!window.open(r,'facebook','toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330'))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class='social-icon-sprite social-icon-facebook'&gt;&lt;/i&gt;&lt;span&gt;分享到Facebook&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r='https://plus.google.com/share?url='+e('https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=google_plus'),x=function(){if(!window.open(r,'google_plus','toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330'))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class='social-icon-sprite social-icon-google'&gt;&lt;/i&gt;&lt;span&gt;分享到Google+&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:'',r='http://www.douban.com/recommend/?url='+e('https://www.jianshu.com/p/00c79df1aaf0?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=douban')+'&amp;title='+e('一款很好用的内网穿透工具--FRP')+'&amp;sel='+e(s)+'&amp;v=1',x=function(){if(!window.open(r,'douban','toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330'))location.href=r+'&amp;r=1'};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()&quot;&gt;&lt;i class='social-icon-sprite social-icon-douban'&gt;&lt;/i&gt;&lt;span&gt;分享到豆瓣&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;" data-original-title="" title="" class="function-button"><i class="iconfont ic-share"></i></a> <!----></li> <!----></ul></div>
</div>
<div class="note-bottom">
  <div><div class="main"><div class="title">被以下专题收入，发现更多相似内容</div> <!----> <div class="include-collection"><!----> <a href="https://www.jianshu.com/c/2dc1249b0f76?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/a.png"><div class="name">服务器网络</div></a><a href="https://www.jianshu.com/c/a8bb0920b32d?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/sci-math.png"><div class="name">科研服务</div></a><a href="https://www.jianshu.com/c/b706f9994571?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/linux.jpg"><div class="name">Linux研究</div></a><a href="https://www.jianshu.com/c/c178cdb3f32c?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/1555638071.jpg"><div class="name">NetSkill</div></a><a href="https://www.jianshu.com/c/d56612b44cd0?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/crop1551963007527.png"><div class="name">内网穿透</div></a> <!----></div></div> <!----> <!----></div>
  <div data-vcomp="recommended-notes" data-note-id="29013351"></div>

  <!-- 相关文章 -->
      <!-- 未登录用户 -->
      <div class="seo-recommended-notes">

            <div class="note have-img">
              <a class="cover" target="_blank" href="https://www.jianshu.com/p/46fd0faecac1?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/7328262-54f7992145380c10.png" alt="240">
</a>              <a class="title" target="_blank" href="https://www.jianshu.com/p/46fd0faecac1?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">Spring Cloud</a>
              <p class="description">Spring 
Cloud为开发人员提供了快速构建分布式系统中一些常见模式的工具（例如配置管理，服务发现，断路器，智能路由，微代理，控制总线）。分布式系统的协调
导致了样板模式, 使用Spring Cloud开发人员可以快速地支持实现这些模式的服务和应用程序。他们将在任何分布式...</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/d90908cb0d85?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/2-9636b13945b9ccf345bc98d0d81074eb.jpg" alt="48">
                </div>
                <span class="name">卡卡罗2017</span>
</a>            </div>

            <div class="note ">
                            <a class="title" target="_blank" href="https://www.jianshu.com/p/e8e26bcc6fe6?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">使用frp实现内网穿透</a>
              <p class="description">群晖NAS+frp发挥更大作用Posted by SunnyRx on
 October 21, 
2016原文地址：http://www.sunnyrx.com/2016/10/21/simple-to-use-frp/ 
该文章于2018年7月7日将frp版本从0.13.0更...</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/096d750b4329?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/b0ba38679528.png" alt="48">
                </div>
                <span class="name">热心人士</span>
</a>            </div>

            <div class="note ">
                            <a class="title" target="_blank" href="https://www.jianshu.com/p/fb7d48083e5e?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">Java面试宝典Beta5.0</a>
              <p class="description">pdf下载地址：Java面试宝典 第一章内容介绍	20 
第二章JavaSE基础	21 一、Java面向对象	21 1. 面向对象都有哪些特性以及你对这些特性的理解	21 2. 
访问权限修饰符public、private、protected, 以及不写（默认）时的区别(201...</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/773a782d9d83?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/e7eb1b5f-9375-4d65-a47f-f46719569b93.jpeg" alt="48">
                </div>
                <span class="name">王震阳</span>
</a>            </div>

            <div class="note have-img">
              <a class="cover" target="_blank" href="https://www.jianshu.com/p/c6e4d7de6e0a?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/6967706-5e75a1e75e64cd0f.png" alt="240">
</a>              <a class="title" target="_blank" href="https://www.jianshu.com/p/c6e4d7de6e0a?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">Spring Framework 5 MVC 官方手册译文</a>
              <p class="description">Spring Web MVC Spring Web MVC 是包含在 
Spring 框架中的 Web 框架，建立于 Servlet API 之上。 DispatcherServlet Spring MVC 
和许多其他 Web 框架一样，是围绕前端控制器模式设计的。中心 Se...</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/635d13667ce5?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/89de17e0-0348-4e8a-b9cb-c3ab8f2fd0b2.jpg" alt="48">
                </div>
                <span class="name">Hsinwong</span>
</a>            </div>

            <div class="note ">
                            <a class="title" target="_blank" href="https://www.jianshu.com/p/94caedb70f65?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">面向对象的用电信息数据交换协议</a>
              <p class="description">国家电网公司企业标准（Q/GDW）- 面向对象的用电信息数据交换协议 -
 报批稿：20170802 前言： 排版 by Dr_Ting公众号：庭说移步 tingtalk.me 获得更友好的阅读体验 Q/GDW 
XXXX-201X《面向对象的用电信息数据交换协议》是根据《国家...</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/a0d04c114c89?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/48a02cf0-e479-49d5-9494-c67625de1959.png" alt="48">
                </div>
                <span class="name">庭说</span>
</a>            </div>

            <div class="note have-img">
              <a class="cover" target="_blank" href="https://www.jianshu.com/p/daf4dd83dbdf?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/4874535-a75996f5d4739707.jpeg" alt="240">
</a>              <a class="title" target="_blank" href="https://www.jianshu.com/p/daf4dd83dbdf?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">呵呵，世间所有的胖，都是没有吃对食物！</a>
              <p class="description">点击“关注”，订阅火火健身，每天给你新鲜实用的健身指导 
减肥两个字，说起来简单，做起来，真的是好难好难。 锻炼+节食+坚持~~有这毅力的话，我早就读到圣斗士了~ 其实，减肥比念书更简单。 
减肥的误区—— “晚饭不吃了！我要减肥！” 火火君身边的小公举们最爱挂在嘴上的一句话，...</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/5269a05d07e6?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/6af19114-5d52-489f-a75c-5ef1dc542650.jpg" alt="48">
                </div>
                <span class="name">御行健身</span>
</a>            </div>

            <div class="note ">
                            <a class="title" target="_blank" href="https://www.jianshu.com/p/ca94d9617308?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">记录下使用resttemplate的乱码问题</a>
              <p class="description">如题，lz在做springboot 
服务调用的时候，发现使用resttemplate 做服务调用的时候传输带中文的参数，在服务接收数据方中文竟然乱码了。 
无奈进入resttemplate 源码发现其中端倪，由于传输参数为字符串。对于resttemplate这个类的构造其中 ...</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/83d9f0333c52?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/14-0651acff782e7a18653d7530d6b27661.jpg" alt="48">
                </div>
                <span class="name">Corbett</span>
</a>            </div>

            <div class="note have-img">
              <a class="cover" target="_blank" href="https://www.jianshu.com/p/eb0b57f6bc82?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/4003530-19f69897f913af56.jpg" alt="240">
</a>              <a class="title" target="_blank" href="https://www.jianshu.com/p/eb0b57f6bc82?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">何不早5分钟</a>
              <p class="description">今天早晨我睡得正酣，突然我的手机闹钟响了。然后我迅速从床上爬起来，关掉
了桌上讨厌的手机闹钟，时间已经是05:30。虽然我从桌上爬起来了，还走了几步，但我的脑袋并没有因此完全恢复清醒。实在是感觉困乏，我索性又在床沿坐
了大约1分钟。担心自己再次睡着，我立刻站了起来，并在原地站立...</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/cda1bda3551d?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/29cfc3824e16.jpg" alt="48">
                </div>
                <span class="name">肖潇2016</span>
</a>            </div>

            <div class="note ">
                            <a class="title" target="_blank" href="https://www.jianshu.com/p/ae04973284b2?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">空</a>
              <p class="description">一粒没有落土的种子 生成的愁绪密密麻麻 天是空的，地是空的 心是空的，连我也是空的 瞧，树上的老鸦笑了 又一个纸短愁长</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/c68fb490f78d?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/2c071160-cf0e-43c3-8361-1c6af14a8a16.jpeg" alt="48">
                </div>
                <span class="name">唐春元</span>
</a>            </div>

            <div class="note ">
                            <a class="title" target="_blank" href="https://www.jianshu.com/p/f3be552ba3aa?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">总有些情绪，无处安放</a>
              <p class="description">在外人眼里，我坚强乐观，积极向上。每天充满了能量，充满了干劲，对工作充
满激情，对生活充满热情，可有谁知，我的内心，我的那些小情绪反反复复，无处安放? 
明明很反感身边的一切，却无力改变，一切都是那么苍白无力。明明很讨厌一些人，却又会迎合对方。 也许是自己太软弱，也许是因为承压...</p>
              <a class="author" target="_blank" href="https://www.jianshu.com/u/9e9bc26b5b93?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
                <div class="avatar">
                  <img src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/84792309-5075-4d68-bf1c-383f91809471.jpg" alt="48">
                </div>
                <span class="name">问女何所思</span>
</a>            </div>
      </div>
</div>

    <script type="application/json" data-name="page-data">{"user_signed_in":false,"locale":"zh-CN","os":"linux","read_mode":"day","read_font":"font2","note_show":{"is_author":false,"is_following_author":false,"is_liked_note":false,"follow_state":0,"uuid":"837ee6a8-4cff-441c-a1aa-8d730c9a964f"},"note":{"id":29013351,"slug":"00c79df1aaf0","user_id":1355519,"notebook_id":2763496,"commentable":true,"likes_count":115,"views_count":32397,"public_wordage":4960,"comments_count":4,"featured_comments_count":0,"total_rewards_count":0,"is_author":false,"paid_type":"free","paid":false,"paid_content_accessible":false,"author":{"nickname":"forwardlee","total_wordage":8132,"followers_count":40,"total_likes_count":131}}}</script>
    
    <script src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/babel-polyfill-d171e3dec4b6c15634dd.js" crossorigin="anonymous"></script>
    <script src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/web-base-76b160d41496610061e7.js" crossorigin="anonymous"></script>
<script src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/web-5d50dc991372d45c3c0e.js" crossorigin="anonymous"></script>
    
    <script src="%E4%B8%80%E6%AC%BE%E5%BE%88%E5%A5%BD%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7--FRP%20-%20%E7%AE%80%E4%B9%A6_files/entry-79f25afb8c7cae826fef.js" crossorigin="anonymous"></script>
    <script>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
</script>

  

<!----><!----></body></html>