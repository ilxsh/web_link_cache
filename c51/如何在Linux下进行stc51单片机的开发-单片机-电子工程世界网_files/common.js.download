//eeworld common js

if(location.href.indexOf("eeworld.com")<0){
	window.location.href = "http://www.eeworld.com.cn";
}

;$(function(){
	$('.eeworldadvs').css("visibility","visible");	
});

if(/AppleWebKit.*mobile/i.test(navigator.userAgent) || (/iphone|android|phone|mobile|wap|netfront|java|opera mobi|opera mini|ucweb|windows ce|symbian|series|webos|sony|blackberry|dopod|nokia|samsung|palmsource|xda|pieplus|meizu|midp|cldc|motorola|foma|docomo|up.browser|up.link|blazer|helio|hosin|huawei|novarra|coolpad|webos|techfaith|palmsource|alcatel|amoi|ktouch|nexian|ericsson|philips|sagem|wellcom|bunjalloo|maui|smartphone|iemobile|spice|bird|zte-|longcos|pantech|gionee|portalmmm|jig browser|hiptop|benq|haier|^lct|320x320|240x320|176x220|windows phone|MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/i.test(navigator.userAgent))){
    if(window.location.href.indexOf("news.eeworld.com.cn")>0&&window.location.href.indexOf("?v")<0&&navigator.userAgent.indexOf("Baiduspider")<0){
        try{
            if(typeof(mobile_web_url)=='undefined'){
				window.location.href = "http://m.eeworld.com.cn";
			}else{
				window.location.href = mobile_web_url;
			}
			
        }catch(e){}
    }
}



var timeaddhead = 500;
var hideaddhead = 0;
function addCount()
{
	if(timeaddhead>0)
	{
		timeaddhead--;
		hideaddhead = hideaddhead+20;
	}else{
		return;
	}
	
	if(hideaddhead>500)  
	{
		return;
	}
	
	getRoadBlockOne().style.display = "";
	getRoadBlockOne().style.height = hideaddhead+"px";
	setTimeout("addCount()",30);
}


$(function(){
   if($("#roadblock .eeworldadvs").size()>0&&typeof(mobile_web_url)!='undefined'){
	   if(parseInt(getRoadBlockOne().offsetHeight)>300){
		   setTimeout("noneadsHead()",14000);
	   } 
   }
});

function getRoadBlockOne(){
	$("#roadblock .eeworldadvs").css('overflow','hidden');
	return $("#roadblock .eeworldadvs").get(0);
}
  
var TimeHead = 500;
var NoteHead = 500; 
function noneadsHead()
{
	if(TimeHead>0)
	{
		TimeHead--;
		NoteHead = NoteHead-15;
	}
	else
	{
		return;
	}
	if(NoteHead<0)
	{
		getRoadBlockOne().style.display = "none";
		return;
	}
	
	getRoadBlockOne().style.height = NoteHead+"px";
	setTimeout("noneadsHead()",30);
}

	