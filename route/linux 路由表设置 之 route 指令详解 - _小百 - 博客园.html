
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="never" />
    <meta property="og:description" content="转载于：http://blog.csdn.net/chenlycly/article/details/52141854 使用下面的 route 命令可以查看 Linux 内核路由表。 [cpp] vi" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <title>linux 路由表设置 之 route 指令详解 - _小百 - 博客园</title>
    
    <link rel="stylesheet" href="/css/blog-common.min.css?v=sqi5FxOybx6gjGoG6Zfy1wD-0AwznLNLYOVx7Y9tIN0" />
    <link id="MainCss" rel="stylesheet" href="/skins/summergarden/bundle-summergarden.min.css?v=X4bFXeVITa4R62KibBcxY9PyNj-MkkV0-IpC8y8yg_Q" />
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/summergarden/bundle-summergarden-mobile.min.css?v=-QJralHuYdZVDw2zivi4j5fUWp9jAHwpSH6TIdmjbwI" />
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/baiduboy/rss" />
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/baiduboy/rsd.xml" />
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/baiduboy/wlwmanifest.xml" />
    <script src="https://common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script src="/js/blog-common.min.js?v=W8J2DYaUeAZPX2Lx1iRh00kAY9PXrT8UdrrPQB3gEXU"></script>
    <script>
        var currentBlogId = 307556;
        var currentBlogApp = 'baiduboy';
        var cb_enable_mathjax = false;
        var isLogined = false;
    </script>
    
    
    
</head>
<body>
    <a name="top"></a>
    
    
<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a href="https://www.cnblogs.com/baiduboy/"><img id="blogLogo" src="/skins/custom/images/logo.gif" alt="返回主页" /></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/baiduboy/">_小百</a>
</h1>
<h2>

</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		

			<ul id="navList">
				<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
</li>
				<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/baiduboy/">
首页</a>
</li>
				<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
				<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/_%E5%B0%8F%E7%99%BE">
联系</a></li>
				<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
				<li>
<a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/baiduboy/rss/">
订阅</a>
				
<a id="blog_nav_rss_image" href="https://www.cnblogs.com/baiduboy/rss/">
    <img src="/skins/summergarden/images/xml.gif" alt="订阅" />
</a></li>
			</ul>



		<div class="blogStats">
			
			<!--done-->
随笔 - 
113&nbsp;
文章 - 
0&nbsp;
评论 - 
1&nbsp;



			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class = "postTitle">
			
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/baiduboy/p/7278715.html">linux 路由表设置 之 route 指令详解</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			
<div id="cnblogs_post_body" class="blogpost-body ">
    <p>转载于：http://blog.csdn.net/chenlycly/article/details/52141854</p>
<p>使用下面的 route 命令可以查看 <a class="replace_word" style="color: #df3434; font-weight: bold;" title="Linux知识库" href="http://lib.csdn.net/base/linux" target="_blank">Linux</a> 内核路由表。</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/vevenlcf/article/details/48026965#" target="_blank">view plain</a> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/vevenlcf/article/details/48026965#" target="_blank">copy</a></div>
</div>
<ol class="dp-cpp" start="1">
<li class="alt"><span class="preprocessor">#&nbsp;route&nbsp;&nbsp;</span></li>
<li>Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li class="alt">192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>169.254.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt"><span class="keyword">default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.0.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp; </span></li>
</ol>
<div class="save_code tracking-ad" style="display: none;" data-mod="popu_249"><a target="_blank"><img src="http://static.blog.csdn.net/images/save_snippets.png" alt="" /></a></div>
</div>
<p>route 命令的输出项说明</p>
<p>输出项 说明</p>
<table class="ke-zeroborder      " border="0">
<tbody>
<tr>
<td>Destination</td>
<td>目标网段或者主机</td>
</tr>
<tr>
<td>Gateway</td>
<td>网关地址，&rdquo;*&rdquo; 表示目标是本主机所属的网络，不需要路由</td>
</tr>
<tr>
<td>Genmask</td>
<td>网络掩码</td>
</tr>
<tr>
<td>Flags</td>
<td>标记。一些可能的标记如下：</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>U &mdash; 路由是活动的</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>H &mdash; 目标是一个主机</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>G &mdash; 路由指向网关</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>R &mdash; 恢复动态路由产生的表项</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>D &mdash; 由路由的后台程序动态地安装</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>M &mdash; 由路由的后台程序修改</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>! &mdash; 拒绝路由</td>
</tr>
<tr>
<td>Metric</td>
<td>路由距离，到达指定网络所需的中转数（linux 内核中没有使用）</td>
</tr>
<tr>
<td>Ref</td>
<td>路由项引用次数（linux 内核中没有使用）</td>
</tr>
<tr>
<td>Use</td>
<td>此路由项被路由软件查找的次数</td>
</tr>
<tr>
<td>Iface</td>
<td>该路由表项对应的输出接口</td>
</tr>
</tbody>
</table>
<h3><a name="t0" target="_blank"></a><span style="color: #000099;"><a name="t0" target="_blank"></a><a target="_blank">3 种路由类型</a></span></h3>
<h4><a name="t1" target="_blank"></a><span style="color: #000099;"><a name="t1" target="_blank"></a><a target="_blank">主机路由</a></span></h4>
<div>
<p>主机路由是路由选择表中指向单个IP地址或主机名的路由记录。主机路由的Flags字段为H。例如，在下面的示例中，本地主机通过IP地址192.168.1.1的路由器到达IP地址为10.0.0.10的主机。</p>
<pre>Destination    Gateway       Genmask Flags     Metric    Ref    Use    Iface
-----------    -------     -------            -----     ------    ---    ---    -----
10.0.0.10     192.168.1.1    255.255.255.255   UH       0    0      0    eth0</pre>
</div>
<h4><a name="t2" target="_blank"></a><a name="t2" target="_blank"></a><span style="color: #000099;"><a target="_blank">网络路由</a></span></h4>
<div>
<p>网络路由是代表主机可以到达的网络。网络路由的Flags字段为N。例如，在下面的示例中，本地主机将发送到网络192.19.12的数据包转发到IP地址为192.168.1.1的路由器。</p>
<pre>Destination    Gateway       Genmask Flags    Metric    Ref     Use    Iface
-----------    -------     -------         -----    -----   ---    ---    -----
192.19.12     192.168.1.1    255.255.255.0      UN      0       0     0    eth0</pre>
</div>
<h4><a name="t3" target="_blank"></a><a name="t3" target="_blank"></a><span style="color: #000099;"><a target="_blank">默认路由</a></span></h4>
<div>
<p>当主机不能在路由表中查找到目标主机的IP地址或网络路由时，数据包就被发送到默认路由（默认网关）上。默认路由的Flags字段为G。例如，在下面的示例中，默认路由是IP地址为192.168.1.1的路由器。</p>
<pre>Destination    Gateway       Genmask Flags     Metric    Ref    Use    Iface
-----------    -------     ------- -----      ------    ---    ---    -----
default       192.168.1.1     0.0.0.0    UG       0        0     0    eth0</pre>
</div>
<h2><a name="t4" target="_blank"></a><span style="color: #000099;"><a name="t4" target="_blank"></a><a target="_blank">配置静态路由</a></span></h2>
<h3><a name="t5" target="_blank"></a><span style="color: #000099;"><a name="t5" target="_blank"></a><a target="_blank">route 命令</a></span></h3>
<div>
<p>设置和查看路由表都可以用 route 命令，设置内核路由表的命令格式是：</p>
<pre># route  [add|del] [-net|-host] target [netmask Nm] [gw Gw] [[dev] If]</pre>
<p>其中：</p>
<ul>
<li>add : 添加一条路由规则</li>
<li>del : 删除一条路由规则</li>
<li>-net : 目的地址是一个网络</li>
<li>-host : 目的地址是一个主机</li>
<li>target : 目的网络或主机</li>
<li>netmask : 目的地址的网络掩码</li>
<li>gw : 路由数据包通过的网关</li>
<li>dev : 为路由指定的网络接口</li>
</ul>
</div>
<h3><a name="t6" target="_blank"></a><a name="t6" target="_blank"></a><span style="color: #000099;"><a target="_blank">route 命令使用举例</a></span></h3>
<div>
<p>添加到主机的路由</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt"><span class="preprocessor">#&nbsp;route&nbsp;add&nbsp;-host&nbsp;192.168.1.2&nbsp;dev&nbsp;eth0&nbsp;&nbsp;&nbsp;</span></li>
<li><span class="preprocessor">#&nbsp;route&nbsp;add&nbsp;-host&nbsp;10.20.30.148&nbsp;gw&nbsp;10.20.30.40&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#添加到10.20.30.148的网管&nbsp;&nbsp;</span></li>
</ol></div>
<pre name="code" class="cpp"># route add -host 192.168.1.2 dev eth0 
# route add -host 10.20.30.148 gw 10.20.30.40     #添加到10.20.30.148的网管</pre>
<p>&nbsp;</p>
<p>添加到网络的路由</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt"><span class="preprocessor">#&nbsp;route&nbsp;add&nbsp;-net&nbsp;10.20.30.40&nbsp;netmask&nbsp;255.255.255.248&nbsp;eth0&nbsp;&nbsp;&nbsp;#添加10.20.30.40的网络&nbsp;&nbsp;</span></li>
<li><span class="preprocessor">#&nbsp;route&nbsp;add&nbsp;-net&nbsp;10.20.30.48&nbsp;netmask&nbsp;255.255.255.248&nbsp;gw&nbsp;10.20.30.41&nbsp;#添加10.20.30.48的网络&nbsp;&nbsp;</span></li>
<li class="alt"><span class="preprocessor">#&nbsp;route&nbsp;add&nbsp;-net&nbsp;192.168.1.0/24&nbsp;eth1&nbsp;&nbsp;</span></li>
</ol></div>
<pre name="code" class="cpp"># route add -net 10.20.30.40 netmask 255.255.255.248 eth0   #添加10.20.30.40的网络
# route add -net 10.20.30.48 netmask 255.255.255.248 gw 10.20.30.41 #添加10.20.30.48的网络
# route add -net 192.168.1.0/24 eth1</pre>
<p>&nbsp;</p>
<p>添加默认路由</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt"><span class="preprocessor">#&nbsp;route&nbsp;add&nbsp;default&nbsp;gw&nbsp;192.168.1.1&nbsp;&nbsp;</span></li>
</ol></div>
<pre name="code" class="cpp"># route add default gw 192.168.1.1</pre>
<p>&nbsp;</p>
<p>删除路由</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt"><span class="preprocessor">#&nbsp;route&nbsp;del&nbsp;-host&nbsp;192.168.1.2&nbsp;dev&nbsp;eth0:0&nbsp;&nbsp;</span></li>
<li><span class="preprocessor">#&nbsp;route&nbsp;del&nbsp;-host&nbsp;10.20.30.148&nbsp;gw&nbsp;10.20.30.40&nbsp;&nbsp;</span></li>
<li class="alt"><span class="preprocessor">#&nbsp;route&nbsp;del&nbsp;-net&nbsp;10.20.30.40&nbsp;netmask&nbsp;255.255.255.248&nbsp;eth0&nbsp;&nbsp;</span></li>
<li><span class="preprocessor">#&nbsp;route&nbsp;del&nbsp;-net&nbsp;10.20.30.48&nbsp;netmask&nbsp;255.255.255.248&nbsp;gw&nbsp;10.20.30.41&nbsp;&nbsp;</span></li>
<li class="alt"><span class="preprocessor">#&nbsp;route&nbsp;del&nbsp;-net&nbsp;192.168.1.0/24&nbsp;eth1&nbsp;&nbsp;</span></li>
<li><span class="preprocessor">#&nbsp;route&nbsp;del&nbsp;default&nbsp;gw&nbsp;192.168.1.1&nbsp;&nbsp;</span></li>
</ol></div>
<pre name="code" class="cpp"># route del -host 192.168.1.2 dev eth0:0
# route del -host 10.20.30.148 gw 10.20.30.40
# route del -net 10.20.30.40 netmask 255.255.255.248 eth0
# route del -net 10.20.30.48 netmask 255.255.255.248 gw 10.20.30.41
# route del -net 192.168.1.0/24 eth1
# route del default gw 192.168.1.1</pre>
</div>
<h3><a name="t7" target="_blank"></a><span style="color: #000099;"><a name="t7" target="_blank"></a><a target="_blank">设置包转发</a></span></h3>
<p>在 CentOS 中默认的内核配置已经包含了路由功能，但默认并没有在系统启动时启用此功能。开启 <a class="replace_word" style="color: #df3434; font-weight: bold;" title="Linux知识库" href="http://lib.csdn.net/base/linux" target="_blank">linux</a> 的路由功能可以通过调整内核的网络参数来实现。要配置和调整内核参数可以使用 sysctl 命令。例如：要开启 Linux 内核的数据包转发功能可以使用如下的命令。</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt"><span class="preprocessor">#&nbsp;sysctl&nbsp;-w&nbsp;net.ipv4.ip_forward=1&nbsp;&nbsp;</span></li>
</ol></div>
<pre name="code" class="cpp"># sysctl -w net.ipv4.ip_forward=1</pre>
<p>&nbsp;</p>
<p>这样设置之后，当前系统就能实现包转发，但下次启动计算机时将失效。为了使在下次启动计算机时仍然有效，需要将下面的行写入配置文件/etc/sysctl.conf。</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt"><span class="preprocessor">#&nbsp;vi&nbsp;/etc/sysctl.conf&nbsp;&nbsp;</span></li>
<li>net.ipv4.ip_forward&nbsp;=&nbsp;1&nbsp;&nbsp;</li>
</ol></div>
<pre name="code" class="cpp"># vi /etc/sysctl.conf
net.ipv4.ip_forward = 1</pre>
<p>&nbsp;</p>
<p>用户还可以使用如下的命令查看当前系统是否支持包转发。</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt"><span class="preprocessor">#&nbsp;sysctl&nbsp;net.ipv4.ip_forward&nbsp;&nbsp;</span></li>
</ol></div>
<pre name="code" class="cpp"># sysctl net.ipv4.ip_forward</pre>
<p>&nbsp;</p>
<p>route 命令：</p>
<p style="margin: 0pt auto; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">Linux系统的r<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">oute命令用于显示和操作IP路由表（show&nbsp;/&nbsp;manipulate&nbsp;the&nbsp;IP&nbsp;routing&nbsp;table）。要实现两个不同的子网之间的通信，需要一台连接两个网络的路由器，或者同时位于两个网络的网关来实现。在Linux系统中，设置路由通常是为了解决以下问题：该Linux系统在一个局域网中，局域网中有一个网关，能够让机器访问Internet，那么就需要将这台机器的IP地址设置为Linux机器的默认路由。要注意的是，直接在命令行下执行route命令来添加路由，不会永久保存，当网卡重启或者机器重启之后，该路由就失效了；可以在/etc/rc.local中添加route命令来保证该路由设置永久有效<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">。</span></span></span></p>
<p style="margin: 0pt auto; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 'Times New Roman'; font-size: 10.5pt;"><strong>1．</strong><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>命令格式：</strong></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 'Times New Roman'; font-size: 10.5pt;">route&nbsp;[-f]&nbsp;[-p]&nbsp;[Command&nbsp;[Destination]&nbsp;[mask&nbsp;Netmask]&nbsp;[Gateway]&nbsp;[metric&nbsp;Metric]]&nbsp;[if&nbsp;Interface]]&nbsp;</span></p>
<p style="margin: 0pt auto; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 'Times New Roman'; font-size: 10.5pt;"><strong>2．</strong><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>命令功能：</strong></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">Route<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">命令是用于<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">操作基于内核ip路由表，它的主要作用是创建一个静态路由让指定一个主机或者一个网络通过一个网络接口，如eth0。当使用"add"或者"del"参数时，路由表被修改，如果没有参数，则显示路由表当前的内容。</span></span></span></p>
<p style="margin: 0pt auto; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 'Times New Roman'; font-size: 10.5pt;"><strong>3．</strong><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>命令参数：</strong></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">-c&nbsp;显示更多信息</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">-n&nbsp;不解析名字</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">-v&nbsp;显示详细的处理信息</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">-F&nbsp;显示发送信息</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">-C&nbsp;显示路由缓存</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">-f&nbsp;清除所有网关入口的路由表。&nbsp;</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">-p&nbsp;与&nbsp;add&nbsp;命令一起使用时使路由具有永久性。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">add:添加一条新路由。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">del:删除一条路由。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">-net:目标地址是一个网络。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">-host:目标地址是一个主机。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">netmask:当添加一个网络路由时，需要使用网络掩码。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">gw:路由数据包通过网关。注意，你指定的网关必须能够达到。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">metric：设置路由跳数。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">Command&nbsp;指定您想运行的命令&nbsp;(Add/Change/Delete/Print)。&nbsp;</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">Destination&nbsp;指定该路由的网络目标。&nbsp;</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">mask&nbsp;Netmask&nbsp;指定与网络目标相关的网络掩码（也被称作子网掩码）。&nbsp;</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">Gateway&nbsp;指定网络目标定义的地址集和子网掩码可以到达的前进或下一跃点&nbsp;IP&nbsp;地址。&nbsp;</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">metric&nbsp;Metric&nbsp;为路由指定一个整数成本值标（从&nbsp;1&nbsp;至&nbsp;9999），当在路由表(与转发的数据包目标地址最匹配)的多个路由中进行选择时可以使用。&nbsp;</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">if&nbsp;Interface&nbsp;为可以访问目标的接口指定接口索引。若要获得一个接口列表和它们相应的接口索引，使用&nbsp;route&nbsp;print&nbsp;命令的显示功能。可以使用十进制或十六进制值进行接口索引。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 0pt auto; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 'Times New Roman'; font-size: 10.5pt;"><strong>4．</strong><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>使用实例：</strong></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>实例1：</strong><span style="margin: 0px; padding: 0px; font-family: 'Times New Roman'; font-size: 10.5pt;"><strong>显示当前路由</strong></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>命令：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">r<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">oute</span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">route&nbsp;-n</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>输出：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 10px auto; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt">[root@localhost&nbsp;~]#&nbsp;route&nbsp;&nbsp;</li>
<li>Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;</li>
<li class="alt">Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li>192.168.120.0&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">e192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt"><span class="keyword">default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.240&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</span></li>
<li>[root@localhost&nbsp;~]#&nbsp;route&nbsp;-n&nbsp;&nbsp;</li>
<li class="alt">Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;</li>
<li>Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li class="alt">192.168.120.0&nbsp;&nbsp;&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.240&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
</ol></div>
<pre name="code" class="cpp">[root@localhost ~]# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.120.0   *               255.255.255.0   U     0      0        0 eth0
e192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0
10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0
default         192.168.120.240 0.0.0.0         UG    0      0        0 eth0
[root@localhost ~]# route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.120.0   0.0.0.0         255.255.255.0   U     0      0        0 eth0
192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0
10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0
0.0.0.0         192.168.120.240 0.0.0.0         UG    0      0        0 eth0</pre>
<p>&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>说明：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">第一行表示主机所在网络的地址为192.168.<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">120<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">.0，若数据传送目标是在本局域网内通信，则可直接通过eth0转发数据包;</span></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">第<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">四<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">行表示数据传送目的是访问Internet，则由接口eth0，将数据包发送到网关192.168.<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">120.240</span></span></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">其中Flags为路由标志，标记当前网络节点的状态。</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">Flags标志说明<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">：</span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">U&nbsp;Up表示此路由当前为启动状态</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">H&nbsp;Host，表示此网关为一主机</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">G&nbsp;Gateway，表示此网关为一路由器</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">R&nbsp;Reinstate&nbsp;Route，使用动态路由重新初始化的路由</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">D&nbsp;Dynamically,此路由是动态性地写入</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">M&nbsp;Modified，此路由是由路由守护程序或导向器动态修改</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">!&nbsp;表示此路由当前为关闭状态</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">备注：</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; color: #454545; font-family: Tahoma; font-size: 10.5pt;">route&nbsp;-n&nbsp;(-n&nbsp;表示不解析名字,列出速度会比route&nbsp;快)</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>实例2：</strong><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>添加网关/设置网关</strong></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>命令：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">route&nbsp;add&nbsp;-net&nbsp;224.0.0.0&nbsp;netmask&nbsp;240.0.0.0&nbsp;dev&nbsp;eth0</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>输出：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt">[root@localhost&nbsp;~]#&nbsp;route&nbsp;add&nbsp;-net&nbsp;224.0.0.0&nbsp;netmask&nbsp;240.0.0.0&nbsp;dev&nbsp;eth0&nbsp;&nbsp;</li>
<li>[root@localhost&nbsp;~]#&nbsp;route&nbsp;&nbsp;</li>
<li class="alt">Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;</li>
<li>Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li class="alt">192.168.120.0&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>224.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;240.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt"><span class="keyword">default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.240&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</span></li>
</ol></div>
<pre name="code" class="cpp">[root@localhost ~]# route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0
[root@localhost ~]# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.120.0   *               255.255.255.0   U     0      0        0 eth0
192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0
10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0
224.0.0.0       *               240.0.0.0       U     0      0        0 eth0
default         192.168.120.240 0.0.0.0         UG    0      0        0 eth0</pre>
<p>&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; line-height: 1.5; font-family: 'Courier New';">[root@localhost&nbsp;~]<span style="margin: 0px; padding: 0px; line-height: 1.5; font-family: 'Courier New';">#<span style="margin: 0px; padding: 0px; line-height: 1.5; font-family: 'Courier New';">&nbsp;&nbsp;</span></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>说明：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">增加一条&nbsp;到达244.0.0.0的路由</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>实例3：屏蔽</strong><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>一条路由</strong></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>命令：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">route&nbsp;add&nbsp;-net&nbsp;224.0.0.0&nbsp;netmask&nbsp;240.0.0.0&nbsp;reject</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>输出：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 10px auto; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt">[root@localhost&nbsp;~]#&nbsp;route&nbsp;add&nbsp;-net&nbsp;224.0.0.0&nbsp;netmask&nbsp;240.0.0.0&nbsp;reject&nbsp;&nbsp;</li>
<li>[root@localhost&nbsp;~]#&nbsp;route&nbsp;&nbsp;</li>
<li class="alt">Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;</li>
<li>Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li class="alt">192.168.120.0&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>224.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;240.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;-&nbsp;&nbsp;</li>
<li class="alt">224.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;240.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li><span class="keyword">default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.240&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</span></li>
</ol></div>
<pre name="code" class="cpp">[root@localhost ~]# route add -net 224.0.0.0 netmask 240.0.0.0 reject
[root@localhost ~]# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.120.0   *               255.255.255.0   U     0      0        0 eth0
192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0
10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0
224.0.0.0       -               240.0.0.0       !     0      -        0 -
224.0.0.0       *               240.0.0.0       U     0      0        0 eth0
default         192.168.120.240 0.0.0.0         UG    0      0        0 eth0</pre>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>说明：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">增加一条屏蔽的路由<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">，<span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">目的地址为&nbsp;224.x.x.x&nbsp;将被拒绝</span></span></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>实例4：删除路由记录</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>命令：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">route&nbsp;del&nbsp;-net&nbsp;224.0.0.0&nbsp;netmask&nbsp;240.0.0.0</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">route&nbsp;del&nbsp;-net&nbsp;224.0.0.0&nbsp;netmask&nbsp;240.0.0.0&nbsp;reject</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>输出：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 10px auto; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt">[root@localhost&nbsp;~]#&nbsp;route&nbsp;&nbsp;</li>
<li>Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;</li>
<li class="alt">Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li>192.168.120.0&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">224.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;240.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;-&nbsp;&nbsp;</li>
<li>224.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;240.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt"><span class="keyword">default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.240&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</span></li>
<li>[root@localhost&nbsp;~]#&nbsp;route&nbsp;del&nbsp;-net&nbsp;224.0.0.0&nbsp;netmask&nbsp;240.0.0.0&nbsp;&nbsp;</li>
<li class="alt">[root@localhost&nbsp;~]#&nbsp;route&nbsp;&nbsp;</li>
<li>Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;</li>
<li class="alt">Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li>192.168.120.0&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">224.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;240.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;-&nbsp;&nbsp;</li>
<li><span class="keyword">default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.240&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</span></li>
<li class="alt">[root@localhost&nbsp;~]#&nbsp;route&nbsp;del&nbsp;-net&nbsp;224.0.0.0&nbsp;netmask&nbsp;240.0.0.0&nbsp;reject&nbsp;&nbsp;</li>
<li>[root@localhost&nbsp;~]#&nbsp;route&nbsp;&nbsp;</li>
<li class="alt">Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;</li>
<li>Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li class="alt">192.168.120.0&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li><span class="keyword">default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.240&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</span></li>
<li class="alt">[root@localhost&nbsp;~]#&nbsp;&nbsp;&nbsp;</li>
</ol></div>
<pre name="code" class="cpp">[root@localhost ~]# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.120.0   *               255.255.255.0   U     0      0        0 eth0
192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0
10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0
224.0.0.0       -               240.0.0.0       !     0      -        0 -
224.0.0.0       *               240.0.0.0       U     0      0        0 eth0
default         192.168.120.240 0.0.0.0         UG    0      0        0 eth0
[root@localhost ~]# route del -net 224.0.0.0 netmask 240.0.0.0
[root@localhost ~]# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.120.0   *               255.255.255.0   U     0      0        0 eth0
192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0
10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0
224.0.0.0       -               240.0.0.0       !     0      -        0 -
default         192.168.120.240 0.0.0.0         UG    0      0        0 eth0
[root@localhost ~]# route del -net 224.0.0.0 netmask 240.0.0.0 reject
[root@localhost ~]# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.120.0   *               255.255.255.0   U     0      0        0 eth0
192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0
10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0
default         192.168.120.240 0.0.0.0         UG    0      0        0 eth0
[root@localhost ~]# </pre>
<p>&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>说明：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>实例5：删除和添加设置默认网关</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>命令：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">route&nbsp;del&nbsp;default&nbsp;gw&nbsp;192.168.120.240</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;">route&nbsp;add&nbsp;default&nbsp;gw&nbsp;192.168.120.240</span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;"><span style="margin: 0px; padding: 0px; font-family: 宋体; font-size: 10.5pt;"><strong>输出：</strong></span></p>
<p style="margin: 0pt auto 0pt 21pt; color: #333333; line-height: 24px; text-indent: 21pt; padding-top: 0px; padding-bottom: 0px; font-family: Verdana,Arial,Helvetica,sans-serif; font-size: 13px;">&nbsp;</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt">[root@localhost&nbsp;~]#&nbsp;route&nbsp;del&nbsp;<span class="keyword">default&nbsp;gw&nbsp;192.168.120.240&nbsp;&nbsp;</span></li>
<li>[root@localhost&nbsp;~]#&nbsp;route&nbsp;&nbsp;</li>
<li class="alt">Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;</li>
<li>Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li class="alt">192.168.120.0&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>[root@localhost&nbsp;~]#&nbsp;route&nbsp;add&nbsp;<span class="keyword">default&nbsp;gw&nbsp;192.168.120.240&nbsp;&nbsp;</span></li>
<li class="alt">[root@localhost&nbsp;~]#&nbsp;route&nbsp;&nbsp;</li>
<li>Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;</li>
<li class="alt">Destination&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gateway&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Genmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;Iface&nbsp;&nbsp;</li>
<li>192.168.120.0&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt">192.168.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li>10.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.1&nbsp;&nbsp;&nbsp;255.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</li>
<li class="alt"><span class="keyword">default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.120.240&nbsp;0.0.0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UG&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;eth0&nbsp;&nbsp;</span></li>
<li>[root@localhost&nbsp;~]#&nbsp;&nbsp;&nbsp;</li>
</ol></div>
<pre name="code" class="cpp">[root@localhost ~]# route del default gw 192.168.120.240
[root@localhost ~]# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.120.0   *               255.255.255.0   U     0      0        0 eth0
192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0
10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0
[root@localhost ~]# route add default gw 192.168.120.240
[root@localhost ~]# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.120.0   *               255.255.255.0   U     0      0        0 eth0
192.168.0.0     192.168.120.1   255.255.0.0     UG    0      0        0 eth0
10.0.0.0        192.168.120.1   255.0.0.0       UG    0      0        0 eth0
default         192.168.120.240 0.0.0.0         UG    0      0        0 eth0
[root@localhost ~]# </pre>
<p>&nbsp;</p>
<div class="dp-highlighter bg_cpp">
<div class="bar">
<div class="tools"><strong>[cpp]</strong> <a class="ViewSource" title="view plain" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">view plain</a><span data-mod="popu_168"> <a class="CopyToClipboard" title="copy" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">copy</a><span data-mod="popu_169"> <a class="PrintSource" title="print" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">print</a><a class="About" title="?" href="http://blog.csdn.net/chenlycly/article/details/52141854#" target="_blank">?</a></span></span></div>
</div>
<ol class="dp-cpp">
<li class="alt">显示现在所有路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#route&nbsp;-n&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　root@Ubuntu:~#&nbsp;route&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　Kernel&nbsp;IP&nbsp;routing&nbsp;table&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　Destination&nbsp;Gateway&nbsp;Genmask&nbsp;Flags&nbsp;Metric&nbsp;Ref&nbsp;Use&nbsp;Iface&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　10.147.9.0&nbsp;*&nbsp;255.255.255.0&nbsp;U&nbsp;1&nbsp;0&nbsp;0&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　192.168.1.0&nbsp;*&nbsp;255.255.255.0&nbsp;U&nbsp;2&nbsp;0&nbsp;0&nbsp;wlan0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　192.168.122.0&nbsp;*&nbsp;255.255.255.0&nbsp;U&nbsp;0&nbsp;0&nbsp;0&nbsp;virbr0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　link-local&nbsp;*&nbsp;255.255.0.0&nbsp;U&nbsp;1000&nbsp;0&nbsp;0&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　192.168.0.0&nbsp;192.168.1.1&nbsp;255.255.0.0&nbsp;UG&nbsp;0&nbsp;0&nbsp;0&nbsp;wlan0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　<span class="keyword">default&nbsp;10.147.9.1&nbsp;0.0.0.0&nbsp;UG&nbsp;0&nbsp;0&nbsp;0&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　root@Ubuntu:~#&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　结果是自上而下，&nbsp;就是说，&nbsp;哪条在前面，&nbsp;哪条就有优先，&nbsp;前面都没有，&nbsp;就用最后一条<span class="keyword">default&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　举例，&nbsp;添加一条路由(发往192.168.62这个网段的全部要经过网关192.168.1.1)&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　route&nbsp;add&nbsp;-net&nbsp;192.168.62.0&nbsp;netmask&nbsp;255.255.255.0&nbsp;gw&nbsp;192.168.1.1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　删除一条路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　route&nbsp;del&nbsp;-net&nbsp;192.168.122.0&nbsp;netmask&nbsp;255.255.255.0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　删除的时候不用写网关&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　linux下添加路由的方法：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　一：使用&nbsp;route&nbsp;命令添加&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　使用route&nbsp;命令添加的路由，机器重启或者网卡重启后路由就失效了，方法：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　<span class="comment">//添加到主机的路由&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;route&nbsp;add&nbsp;&ndash;host&nbsp;192.168.168.110&nbsp;dev&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;route&nbsp;add&nbsp;&ndash;host&nbsp;192.168.168.119&nbsp;gw&nbsp;192.168.168.1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　<span class="comment">//添加到网络的路由&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;route&nbsp;add&nbsp;&ndash;net&nbsp;IP&nbsp;netmask&nbsp;MASK&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;route&nbsp;add&nbsp;&ndash;net&nbsp;IP&nbsp;netmask&nbsp;MASK&nbsp;gw&nbsp;IP&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;route&nbsp;add&nbsp;&ndash;net&nbsp;IP/24&nbsp;eth1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　<span class="comment">//添加默认网关&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;route&nbsp;add&nbsp;<span class="keyword">default&nbsp;gw&nbsp;IP&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　<span class="comment">//删除路由&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;route&nbsp;del&nbsp;&ndash;host&nbsp;192.168.168.110&nbsp;dev&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　二：在linux下设置永久路由的方法：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　1.在/etc/rc.local里添加&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　方法：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　route&nbsp;add&nbsp;-net&nbsp;192.168.3.0/24&nbsp;dev&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　route&nbsp;add&nbsp;-net&nbsp;192.168.2.0/24&nbsp;gw&nbsp;192.168.3.254&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　2.在/etc/sysconfig/network里添加到末尾&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　方法：GATEWAY=gw-ip&nbsp;或者&nbsp;GATEWAY=gw-dev&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　3./etc/sysconfig/<span class="keyword">static-router&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　any&nbsp;net&nbsp;x.x.x.x/24&nbsp;gw&nbsp;y.y.y.y&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>------------------------------------------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">--&nbsp;&nbsp;Route命令的正确用法&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>使用&nbsp;Route&nbsp;命令行工具查看并编辑计算机的&nbsp;IP&nbsp;路由表。Route&nbsp;命令和语法如下所示：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;[-f]&nbsp;[-p]&nbsp;[Command&nbsp;[Destination]&nbsp;[mask&nbsp;Netmask]&nbsp;[Gateway]&nbsp;[metric&nbsp;Metric]]&nbsp;[<span class="keyword">if&nbsp;Interface]]&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>-f&nbsp;清除所有网关入口的路由表。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">-p&nbsp;与&nbsp;add&nbsp;命令一起使用时使路由具有永久性。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>Command&nbsp;指定您想运行的命令&nbsp;(Add/Change/Delete/Print)。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">Destination&nbsp;指定该路由的网络目标。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>mask&nbsp;Netmask&nbsp;指定与网络目标相关的网络掩码（也被称作子网掩码）。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">Gateway&nbsp;指定网络目标定义的地址集和子网掩码可以到达的前进或下一跃点&nbsp;IP&nbsp;地址。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>metric&nbsp;Metric&nbsp;为路由指定一个整数成本值标（从&nbsp;1&nbsp;至&nbsp;ArrayArrayArrayArray），当在路由表(与转发的数据包目标地址最匹配)的多个路由中进行选择时可以使用。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt"><span class="keyword">if&nbsp;Interface&nbsp;为可以访问目标的接口指定接口索引。若要获得一个接口列表和它们相应的接口索引，使用&nbsp;route&nbsp;print&nbsp;命令的显示功能。可以使用十进制或十六进制值进行接口索引。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>/?&nbsp;&nbsp;在命令提示符处显示帮助。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">示例&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>若要显示&nbsp;IP&nbsp;路由表的全部内容，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;print&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>若要显示以&nbsp;10.&nbsp;起始的&nbsp;IP&nbsp;路由表中的路由，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;print&nbsp;10.*&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>若要添加带有&nbsp;1Array2.168.12.1&nbsp;默认网关地址的默认路由，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;add&nbsp;0.0.0.0&nbsp;mask&nbsp;0.0.0.0&nbsp;1Array2.168.12.1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>若要向带有&nbsp;255.255.0.0&nbsp;子网掩码和&nbsp;10.27.0.1&nbsp;下一跃点地址的&nbsp;10.41.0.0&nbsp;目标中添加一个路由，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;add&nbsp;10.41.0.0&nbsp;mask&nbsp;255.255.0.0&nbsp;10.27.0.1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>若要向带有&nbsp;255.255.0.0&nbsp;子网掩码和&nbsp;10.27.0.1&nbsp;下一跃点地址的&nbsp;10.41.0.0&nbsp;目标中添加一个永久路由，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;-p&nbsp;add&nbsp;10.41.0.0&nbsp;mask&nbsp;255.255.0.0&nbsp;10.27.0.1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>若要向带有&nbsp;255.255.0.0&nbsp;子网掩码、10.27.0.1&nbsp;下一跃点地址且其成本值标为&nbsp;7&nbsp;的&nbsp;10.41.0.0&nbsp;目标中添加一个路由，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;add&nbsp;10.41.0.0&nbsp;mask&nbsp;255.255.0.0&nbsp;10.27.0.1&nbsp;metric&nbsp;7&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>若要向带有&nbsp;255.255.0.0&nbsp;子网掩码、10.27.0.1&nbsp;下一跃点地址且使用&nbsp;0x3&nbsp;接口索引的&nbsp;10.41.0.0&nbsp;目标中添加一个路由，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;add&nbsp;10.41.0.0&nbsp;mask&nbsp;255.255.0.0&nbsp;10.27.0.1&nbsp;<span class="keyword">if&nbsp;0x3&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>若要删除到带有&nbsp;255.255.0.0&nbsp;子网掩码的&nbsp;10.41.0.0&nbsp;目标的路由，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;<span class="keyword">delete&nbsp;10.41.0.0&nbsp;mask&nbsp;255.255.0.0&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>若要删除以&nbsp;10.&nbsp;起始的&nbsp;IP&nbsp;路由表中的所有路由，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;<span class="keyword">delete&nbsp;10.*&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>若要将带有&nbsp;10.41.0.0&nbsp;目标和&nbsp;255.255.0.0&nbsp;子网掩码的下一跃点地址从&nbsp;10.27.0.1&nbsp;修改为&nbsp;10.27.0.25，请键入：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">route&nbsp;change&nbsp;10.41.0.0&nbsp;mask&nbsp;255.255.0.0&nbsp;10.27.0.25&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">-------------------------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　首先,先了解传统的网络配置命令:&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　1.&nbsp;使用ifconfig命令配置并查看网络接口情况&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:&nbsp;配置eth0的IP，同时激活设备:&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ifconfig&nbsp;eth0&nbsp;192.168.4.1&nbsp;netmask&nbsp;255.255.255.0&nbsp;up&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例2:&nbsp;配置eth0别名设备&nbsp;eth0:1&nbsp;的IP，并添加路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ifconfig&nbsp;eth0:1&nbsp;192.168.4.2&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;route&nbsp;add&nbsp;&ndash;host&nbsp;192.168.4.2&nbsp;dev&nbsp;eth0:1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例3:激活（禁用）设备&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ifconfig&nbsp;eth0:1&nbsp;up(down)&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例4:查看所有（指定）网络接口配置&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ifconfig&nbsp;(eth0)&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　2.&nbsp;使用route&nbsp;命令配置路由表&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:添加到主机路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;route&nbsp;add&nbsp;&ndash;host&nbsp;192.168.4.2&nbsp;dev&nbsp;eth0:1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;route&nbsp;add&nbsp;&ndash;host&nbsp;192.168.4.1&nbsp;gw&nbsp;192.168.4.250&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例2:添加到网络的路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;route&nbsp;add&nbsp;&ndash;net&nbsp;IP&nbsp;netmask&nbsp;MASK&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;route&nbsp;add&nbsp;&ndash;net&nbsp;IP&nbsp;netmask&nbsp;MASK&nbsp;gw&nbsp;IP&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;route&nbsp;add&nbsp;&ndash;net&nbsp;IP/24&nbsp;eth1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例3:添加默认网关&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;route&nbsp;add&nbsp;<span class="keyword">default&nbsp;gw&nbsp;IP&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　示例4:删除路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;route&nbsp;del&nbsp;&ndash;host&nbsp;192.168.4.1&nbsp;dev&nbsp;eth0:1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例5:查看路由信息&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;route&nbsp;或&nbsp;route&nbsp;-n&nbsp;(-n&nbsp;表示不解析名字,列出速度会比route&nbsp;快)&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　3.ARP&nbsp;管理命令&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:查看ARP缓存&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;arp&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例2:&nbsp;添加&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;arp&nbsp;&ndash;s&nbsp;IP&nbsp;MAC&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例3:&nbsp;删除&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;arp&nbsp;&ndash;d&nbsp;IP&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　4.&nbsp;ip是iproute2软件包里面的一个强大的网络配置工具，它能够替代一些传统的网络管理工具。例如：ifconfig、route等,&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　上面的示例完全可以用下面的ip命令实现,而且ip命令可以实现更多的功能.下面介绍一些示例:&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　4.0&nbsp;ip命令的语法&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　ip命令的用法如下：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　ip&nbsp;[OPTIONS]&nbsp;OBJECT&nbsp;[COMMAND&nbsp;[ARGUMENTS]]&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　4.1&nbsp;ip&nbsp;link&nbsp;set--改变设备的属性.&nbsp;缩写：set、s&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1：up/down&nbsp;起动／关闭设备。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;link&nbsp;set&nbsp;dev&nbsp;eth0&nbsp;up&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　这个等于传统的&nbsp;#&nbsp;ifconfig&nbsp;eth0&nbsp;up(down)&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例2：改变设备传输队列的长度。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　参数:txqueuelen&nbsp;NUMBER或者txqlen&nbsp;NUMBER&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;link&nbsp;set&nbsp;dev&nbsp;eth0&nbsp;txqueuelen&nbsp;100&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例3：改变网络设备MTU(最大传输单元)的值。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;link&nbsp;set&nbsp;dev&nbsp;eth0&nbsp;mtu&nbsp;1500&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例4：&nbsp;修改网络设备的MAC地址。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　参数:&nbsp;address&nbsp;LLADDRESS&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;link&nbsp;set&nbsp;dev&nbsp;eth0&nbsp;address&nbsp;00:01:4f:00:15:f1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　4.2&nbsp;ip&nbsp;link&nbsp;show--显示设备属性.&nbsp;缩写：show、list、lst、sh、ls、l&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　-s选项出现两次或者更多次，ip会输出更为详细的错误信息统计。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例:&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;-s&nbsp;-s&nbsp;link&nbsp;ls&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　eth0:&nbsp;mtu&nbsp;1500&nbsp;qdisc&nbsp;cbq&nbsp;qlen&nbsp;100&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　link/ether&nbsp;00:a0:cc:66:18:78&nbsp;brd&nbsp;ff:ff:ff:ff:ff:ff&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　RX:&nbsp;bytes&nbsp;packets&nbsp;errors&nbsp;dropped&nbsp;overrun&nbsp;mcast&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　2449949362&nbsp;2786187&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　RX&nbsp;errors:&nbsp;length&nbsp;crc&nbsp;fifo&nbsp;missed&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　TX:&nbsp;bytes&nbsp;packets&nbsp;errors&nbsp;dropped&nbsp;carrier&nbsp;collsns&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　178558497&nbsp;1783946&nbsp;332&nbsp;0&nbsp;332&nbsp;35172&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　TX&nbsp;errors:&nbsp;aborted&nbsp;fifo&nbsp;window&nbsp;heartbeat&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　0&nbsp;0&nbsp;0&nbsp;332&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　这个命令等于传统的&nbsp;ifconfig&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　5.1&nbsp;ip&nbsp;address&nbsp;add--添加一个新的协议地址.&nbsp;缩写：add、a&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例1：为每个地址设置一个字符串作为标签。为了和Linux-2.0的网络别名兼容，这个字符串必须以设备名开头，接着一个冒号，&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;addr&nbsp;add&nbsp;local&nbsp;192.168.4.1/28&nbsp;brd&nbsp;+&nbsp;label&nbsp;eth0:1&nbsp;dev&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例2:&nbsp;在以太网接口eth0上增加一个地址192.168.20.0，掩码长度为24位(155.155.155.0)，标准广播地址，标签为eth0:Alias：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;addr&nbsp;add&nbsp;192.168.4.2/24&nbsp;brd&nbsp;+&nbsp;dev&nbsp;eth1&nbsp;label&nbsp;eth1:1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　这个命令等于传统的:&nbsp;ifconfig&nbsp;eth1:1&nbsp;192.168.4.2&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　5.2&nbsp;ip&nbsp;address&nbsp;<span class="keyword">delete--删除一个协议地址.&nbsp;缩写：<span class="keyword">delete、del、d&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>
<li class="alt">　　#&nbsp;ip&nbsp;addr&nbsp;del&nbsp;192.168.4.1/24&nbsp;brd&nbsp;+&nbsp;dev&nbsp;eth0&nbsp;label&nbsp;eth0:Alias1&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　5.3&nbsp;ip&nbsp;address&nbsp;show--显示协议地址.&nbsp;缩写：show、list、lst、sh、ls、l&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;addr&nbsp;ls&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　5.4.ip&nbsp;address&nbsp;flush--清除协议地址.&nbsp;缩写：flush、f&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例1&nbsp;:&nbsp;删除属于私网10.0.0.0/8的所有地址：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;-s&nbsp;-s&nbsp;a&nbsp;f&nbsp;to&nbsp;10/8&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例2&nbsp;:&nbsp;取消所有以太网卡的IP地址&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;-4&nbsp;addr&nbsp;flush&nbsp;label&nbsp;<span class="string">"eth0"&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　6.&nbsp;ip&nbsp;neighbour--neighbour/arp表管理命令&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　缩写&nbsp;neighbour、neighbor、neigh、n&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　命令&nbsp;add、change、replace、<span class="keyword">delete、fulsh、show(或者list)&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>　　6.1&nbsp;ip&nbsp;neighbour&nbsp;add&nbsp;--&nbsp;添加一个新的邻接条目&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　ip&nbsp;neighbour&nbsp;change--修改一个现有的条目&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　ip&nbsp;neighbour&nbsp;replace--替换一个已有的条目&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　缩写：add、a；change、chg；replace、repl&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:&nbsp;在设备eth0上，为地址10.0.0.3添加一个permanent&nbsp;ARP条目：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;neigh&nbsp;add&nbsp;10.0.0.3&nbsp;lladdr&nbsp;0:0:0:0:0:1&nbsp;dev&nbsp;eth0&nbsp;nud&nbsp;perm&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例2:把状态改为reachable&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;neigh&nbsp;chg&nbsp;10.0.0.3&nbsp;dev&nbsp;eth0&nbsp;nud&nbsp;reachable&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　6.2.ip&nbsp;neighbour&nbsp;<span class="keyword">delete--删除一个邻接条目&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　示例1:删除设备eth0上的一个ARP条目10.0.0.3&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;neigh&nbsp;del&nbsp;10.0.0.3&nbsp;dev&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　6.3.ip&nbsp;neighbour&nbsp;show--显示网络邻居的信息.&nbsp;缩写：show、list、sh、ls&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:&nbsp;#&nbsp;ip&nbsp;-s&nbsp;n&nbsp;ls&nbsp;193.233.7.254&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　193.233.7.254.&nbsp;dev&nbsp;eth0&nbsp;lladdr&nbsp;00:00:0c:76:3f:85&nbsp;ref&nbsp;5&nbsp;used&nbsp;12/13/20&nbsp;nud&nbsp;reachable&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　6.4.ip&nbsp;neighbour&nbsp;flush--清除邻接条目.&nbsp;缩写：flush、f&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例1:&nbsp;(-s&nbsp;可以显示详细信息)&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;-s&nbsp;-s&nbsp;n&nbsp;f&nbsp;193.233.7.254&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　7.&nbsp;路由表管理&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　7.1.缩写&nbsp;route、ro、r&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　7.2.路由表&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　从Linux-2.2开始，内核把路由归纳到许多路由表中，这些表都进行了编号，编号数字的范围是1到255。另外，&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　为了方便，还可以在/etc/iproute2/rt_tables中为路由表命名。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　默认情况下，所有的路由都会被插入到表main(编号254)中。在进行路由查询时，内核只使用路由表main。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　7.3.ip&nbsp;route&nbsp;add&nbsp;--&nbsp;添加新路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　ip&nbsp;route&nbsp;change&nbsp;--&nbsp;修改路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　ip&nbsp;route&nbsp;replace&nbsp;--&nbsp;替换已有的路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　缩写：add、a；change、chg；replace、repl&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例1:&nbsp;设置到网络10.0.0/24的路由经过网关193.233.7.65&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;route&nbsp;add&nbsp;10.0.0/24&nbsp;via&nbsp;193.233.7.65&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例2:&nbsp;修改到网络10.0.0/24的直接路由，使其经过设备dummy&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;route&nbsp;chg&nbsp;10.0.0/24&nbsp;dev&nbsp;dummy&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例3:&nbsp;实现链路负载平衡.加入缺省多路径路由，让ppp0和ppp1分担负载(注意：scope值并非必需，它只不过是告诉内核，&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　这个路由要经过网关而不是直连的。实际上，如果你知道远程端点的地址，使用via参数来设置就更好了)。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;route&nbsp;add&nbsp;<span class="keyword">default&nbsp;scope&nbsp;global&nbsp;nexthop&nbsp;dev&nbsp;ppp0&nbsp;nexthop&nbsp;dev&nbsp;ppp1&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>　　#&nbsp;ip&nbsp;route&nbsp;replace&nbsp;<span class="keyword">default&nbsp;scope&nbsp;global&nbsp;nexthop&nbsp;dev&nbsp;ppp0&nbsp;nexthop&nbsp;dev&nbsp;ppp1&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　示例4:&nbsp;设置NAT路由。在转发来自192.203.80.144的数据包之前，先进行网络地址转换，把这个地址转换为193.233.7.83&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;route&nbsp;add&nbsp;nat&nbsp;192.203.80.142&nbsp;via&nbsp;193.233.7.83&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例5:&nbsp;实现数据包级负载平衡,允许把数据包随机从多个路由发出。weight&nbsp;可以设置权重.&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;route&nbsp;replace&nbsp;<span class="keyword">default&nbsp;equalize&nbsp;nexthop&nbsp;via&nbsp;211.139.218.145&nbsp;dev&nbsp;eth0&nbsp;weight&nbsp;1&nbsp;nexthop&nbsp;via&nbsp;211.139.218.145&nbsp;dev&nbsp;eth1&nbsp;weight&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　7.4.ip&nbsp;route&nbsp;<span class="keyword">delete--&nbsp;删除路由&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>　　缩写：<span class="keyword">delete、del、d&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　示例1:删除上一节命令加入的多路径路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;route&nbsp;del&nbsp;<span class="keyword">default&nbsp;scope&nbsp;global&nbsp;nexthop&nbsp;dev&nbsp;ppp0&nbsp;nexthop&nbsp;dev&nbsp;ppp1&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　7.5.ip&nbsp;route&nbsp;show&nbsp;--&nbsp;列出路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　缩写：show、list、sh、ls、l&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例1:&nbsp;计算使用gated/bgp协议的路由个数&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;route&nbsp;ls&nbsp;proto&nbsp;gated/bgp&nbsp;|wc&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　1413&nbsp;9891&nbsp;79010&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例2:&nbsp;计算路由缓存里面的条数，由于被缓存路由的属性可能大于一行，以此需要使用-o选项&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;-o&nbsp;route&nbsp;ls&nbsp;cloned&nbsp;|wc&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　159&nbsp;2543&nbsp;18707&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例3:&nbsp;列出路由表TABLEID里面的路由。缺省设置是table&nbsp;main。TABLEID或者是一个真正的路由表ID或者是/etc/iproute2/rt_tables文件定义的字符串，&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　或者是以下的特殊值：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　all&nbsp;--&nbsp;列出所有表的路由；&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　cache&nbsp;--&nbsp;列出路由缓存的内容。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　ip&nbsp;ro&nbsp;ls&nbsp;193.233.7.82&nbsp;tab&nbsp;cache&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例4:&nbsp;列出某个路由表的内容&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;route&nbsp;ls&nbsp;table&nbsp;fddi153&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例5:&nbsp;列出默认路由表的内容&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;route&nbsp;ls&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　这个命令等于传统的:&nbsp;route&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　7.6.ip&nbsp;route&nbsp;flush&nbsp;--&nbsp;擦除路由表&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:&nbsp;删除路由表main中的所有网关路由（示例：在路由监控程序挂掉之后）：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;-4&nbsp;ro&nbsp;flush&nbsp;scope&nbsp;global&nbsp;type&nbsp;unicast&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例2:清除所有被克隆出来的IPv6路由：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;-6&nbsp;-s&nbsp;-s&nbsp;ro&nbsp;flush&nbsp;cache&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例3:&nbsp;在gated程序挂掉之后，清除所有的BGP路由：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;-s&nbsp;ro&nbsp;f&nbsp;proto&nbsp;gated/bgp&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例4:&nbsp;清除所有ipv4路由cache&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;route&nbsp;flush&nbsp;cache&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　***&nbsp;IPv4&nbsp;routing&nbsp;cache&nbsp;is&nbsp;flushed.&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　7.7&nbsp;ip&nbsp;route&nbsp;get&nbsp;--&nbsp;获得单个路由&nbsp;.缩写：get、g&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　使用这个命令可以获得到达目的地址的一个路由以及它的确切内容。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　ip&nbsp;route&nbsp;get命令和ip&nbsp;route&nbsp;show命令执行的操作是不同的。ip&nbsp;route&nbsp;show命令只是显示现有的路由，而ip&nbsp;route&nbsp;get命令在必要时会派生出新的路由。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:&nbsp;搜索到193.233.7.82的路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;route&nbsp;get&nbsp;193.233.7.82&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　193.233.7.82&nbsp;dev&nbsp;eth0&nbsp;src&nbsp;193.233.7.65&nbsp;realms&nbsp;inr.ac&nbsp;cache&nbsp;mtu&nbsp;1500&nbsp;rtt&nbsp;300&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例2:&nbsp;搜索目的地址是193.233.7.82，来自193.233.7.82，从eth0设备到达的路由（这条命令会产生一条非常有意思的路由，这是一条到193.233.7.82的回环路由）&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　#&nbsp;ip&nbsp;r&nbsp;g&nbsp;193.233.7.82&nbsp;from&nbsp;193.233.7.82&nbsp;iif&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　193.233.7.82&nbsp;from&nbsp;193.233.7.82&nbsp;dev&nbsp;eth0&nbsp;src&nbsp;193.233.7.65&nbsp;realms&nbsp;inr.ac/inr.ac&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　cache&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">&nbsp;mtu&nbsp;1500&nbsp;rtt&nbsp;300&nbsp;iif&nbsp;eth0&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　8.&nbsp;ip&nbsp;route&nbsp;--&nbsp;路由策略数据库管理命令&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　命令&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　add、<span class="keyword">delete、show(或者list)&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　注意：策略路由(policy&nbsp;routing)不等于路由策略(rouing&nbsp;policy)。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　在某些情况下，我们不只是需要通过数据包的目的地址决定路由，可能还需要通过其他一些域：源地址、IP协议、传输层端口甚至数据包的负载。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　这就叫做：策略路由(policy&nbsp;routing)。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　8.1.&nbsp;ip&nbsp;rule&nbsp;add&nbsp;--&nbsp;插入新的规则&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　ip&nbsp;rule&nbsp;<span class="keyword">delete&nbsp;--&nbsp;删除规则&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>　　缩写：add、a；<span class="keyword">delete、del、d&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　示例1:&nbsp;通过路由表inr.ruhep路由来自源地址为192.203.80/24的数据包&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　ip&nbsp;ru&nbsp;add&nbsp;from&nbsp;192.203.80/24&nbsp;table&nbsp;inr.ruhep&nbsp;prio&nbsp;220&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例2:把源地址为193.233.7.83的数据报的源地址转换为192.203.80.144，并通过表1进行路由&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　ip&nbsp;ru&nbsp;add&nbsp;from&nbsp;193.233.7.83&nbsp;nat&nbsp;192.203.80.144&nbsp;table&nbsp;1&nbsp;prio&nbsp;320&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例3:删除无用的缺省规则&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　ip&nbsp;ru&nbsp;del&nbsp;prio&nbsp;32767&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　8.2.&nbsp;ip&nbsp;rule&nbsp;show&nbsp;--&nbsp;列出路由规则&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　缩写：show、list、sh、ls、l&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例1:&nbsp;#&nbsp;ip&nbsp;ru&nbsp;ls&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　0:&nbsp;from&nbsp;all&nbsp;lookup&nbsp;local&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　32762:&nbsp;from&nbsp;192.168.4.89&nbsp;lookup&nbsp;fddi153&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　32764:&nbsp;from&nbsp;192.168.4.88&nbsp;lookup&nbsp;fddi153&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　32766:&nbsp;from&nbsp;all&nbsp;lookup&nbsp;main&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　32767:&nbsp;from&nbsp;all&nbsp;lookup&nbsp;253&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　9.&nbsp;ip&nbsp;maddress&nbsp;--&nbsp;多播地址管理&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　缩写：show、list、sh、ls、l&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　9.1.ip&nbsp;maddress&nbsp;show&nbsp;--&nbsp;列出多播地址&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:&nbsp;#&nbsp;ip&nbsp;maddr&nbsp;ls&nbsp;dummy&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　9.2.&nbsp;ip&nbsp;maddress&nbsp;add&nbsp;--&nbsp;加入多播地址&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　ip&nbsp;maddress&nbsp;<span class="keyword">delete&nbsp;--&nbsp;删除多播地址&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　缩写：add、a；<span class="keyword">delete、del、d&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>　　使用这两个命令，我们可以添加／删除在网络接口上监听的链路层多播地址。这个命令只能管理链路层地址。&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例1:&nbsp;增加&nbsp;#&nbsp;ip&nbsp;maddr&nbsp;add&nbsp;33:33:00:00:00:01&nbsp;dev&nbsp;dummy&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例2:&nbsp;查看&nbsp;#&nbsp;ip&nbsp;-O&nbsp;maddr&nbsp;ls&nbsp;dummy&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　2:&nbsp;dummy&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　link&nbsp;33:33:00:00:00:01&nbsp;users&nbsp;2&nbsp;<span class="keyword">static&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　link&nbsp;01:00:5e:00:00:01&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例3:&nbsp;删除&nbsp;#&nbsp;ip&nbsp;maddr&nbsp;del&nbsp;33:33:00:00:00:01&nbsp;dev&nbsp;dummy&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　10.ip&nbsp;mroute&nbsp;--&nbsp;多播路由缓存管理&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　10.1.&nbsp;ip&nbsp;mroute&nbsp;show&nbsp;--&nbsp;列出多播路由缓存条目&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　缩写：show、list、sh、ls、l&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:查看&nbsp;#&nbsp;ip&nbsp;mroute&nbsp;ls&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　(193.232.127.6,&nbsp;224.0.1.39)&nbsp;Iif:&nbsp;unresolved&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　(193.232.244.34,&nbsp;224.0.1.40)&nbsp;Iif:&nbsp;unresolved&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　(193.233.7.65,&nbsp;224.66.66.66)&nbsp;Iif:&nbsp;eth0&nbsp;Oifs:&nbsp;pimreg&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例2:查看&nbsp;#&nbsp;ip&nbsp;-s&nbsp;mr&nbsp;ls&nbsp;224.66/16&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　(193.233.7.65,&nbsp;224.66.66.66)&nbsp;Iif:&nbsp;eth0&nbsp;Oifs:&nbsp;pimreg&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　9383&nbsp;packets,&nbsp;300256&nbsp;bytes&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　11.&nbsp;ip&nbsp;tunnel&nbsp;--&nbsp;通道配置&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　缩写&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　tunnel、tunl&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　11.1.ip&nbsp;tunnel&nbsp;add&nbsp;--&nbsp;添加新的通道&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　ip&nbsp;tunnel&nbsp;change&nbsp;--&nbsp;修改现有的通道&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　ip&nbsp;tunnel&nbsp;<span class="keyword">delete&nbsp;--&nbsp;删除一个通道&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li class="alt">　　缩写：add、a；change、chg；<span class="keyword">delete、del、d&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>　　示例1:建立一个点对点通道，最大TTL是32&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　#&nbsp;ip&nbsp;tunnel&nbsp;add&nbsp;Cisco&nbsp;mode&nbsp;sit&nbsp;remote&nbsp;192.31.7.104&nbsp;local&nbsp;192.203.80.1&nbsp;ttl&nbsp;32&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　11.2.ip&nbsp;tunnel&nbsp;show&nbsp;--&nbsp;列出现有的通道&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　缩写：show、list、sh、ls、l&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　示例1:&nbsp;#&nbsp;ip&nbsp;-s&nbsp;tunl&nbsp;ls&nbsp;Cisco&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　12.&nbsp;ip&nbsp;monitor和rtmon&nbsp;--&nbsp;状态监视&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li>　　ip命令可以用于连续地监视设备、地址和路由的状态。这个命令选项的格式有点不同，命令选项的名字叫做monitor，接着是操作对象：&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　ip&nbsp;monitor&nbsp;[&nbsp;file&nbsp;<span class="datatypes">FILE&nbsp;]&nbsp;[&nbsp;all&nbsp;|&nbsp;OBJECT-LIST&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;</span></li>
<li>　　示例1:&nbsp;#&nbsp;rtmon&nbsp;file&nbsp;/var/log/rtmon.log&nbsp;&nbsp;&nbsp;&nbsp;</li>
<li class="alt">　　示例2:&nbsp;#&nbsp;ip&nbsp;monitor&nbsp;file&nbsp;/var/log/rtmon.log&nbsp;r&nbsp;</li>
</ol></div>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
    <div id="blog_post_info"></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
		</div>
		<div class="postDesc">posted @ 
<span id="post-date">2017-08-03 11:20</span>&nbsp;<a href="https://www.cnblogs.com/baiduboy/">_小百</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>) <a href="https://i.cnblogs.com/EditPosts.aspx?postid=7278715" rel="nofollow"> 编辑</a> <a href="javascript:void(0)" onclick="AddToWz(7278715); return false;">收藏</a>
</div>
	</div>
	
	
</div>
<script src="https://common.cnblogs.com/highlight/9.12.0/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 307556, cb_blogApp = 'baiduboy', cb_blogUserGuid = '10316edb-5ffc-e511-9fc1-ac853d9f53cc';
    var cb_entryId = 7278715, cb_entryCreatedDate = '2017-08-03 11:20', cb_postType = 1; 
    loadViewCount(cb_entryId);
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container"></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;"></div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;">
            <script>
                if (new Date() >= new Date(2018, 9, 13)) {
                    googletag.cmd.push(function () { googletag.display("div-gpt-ad-1539008685004-0"); });
                }
            </script>
        </div>
    </div>
    <div id="under_post_kb"></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div></div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<div id="sidebar_news" class="newsItem">
            <script>loadBlogNews();</script>
</div>

			<div id="calendar"><div id="calendar"><div id="blog-calendar" style="display:none"></div></div>                
                    <script>loadBlogDefaultCalendar();</script></div>
			
			<DIV id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div>
                    <script>loadBlogSideColumn();</script>
			</DIV>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright &copy; 2019 _小百
<br /><span id="poweredby">Powered by .NET Core 3.0.0-preview9-19423-09 on Linux</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


    
</body>
</html>
