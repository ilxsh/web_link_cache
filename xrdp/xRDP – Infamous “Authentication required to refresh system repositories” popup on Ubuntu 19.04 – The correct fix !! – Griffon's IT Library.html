<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://c-nergy.be/blog/xmlrpc.php">

<title>xRDP – Infamous “Authentication required to refresh system repositories” popup on Ubuntu 19.04  &#8211; The correct fix !! &#8211; Griffon&#039;s IT Library</title>
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Griffon&#039;s IT Library &raquo; Feed" href="https://c-nergy.be/blog/?feed=rss2" />
<link rel="alternate" type="application/rss+xml" title="Griffon&#039;s IT Library &raquo; Comments Feed" href="https://c-nergy.be/blog/?feed=comments-rss2" />
<link rel="alternate" type="application/rss+xml" title="Griffon&#039;s IT Library &raquo; xRDP – Infamous “Authentication required to refresh system repositories” popup on Ubuntu 19.04  &#8211; The correct fix !! Comments Feed" href="https://c-nergy.be/blog/?feed=rss2&#038;p=14051" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/c-nergy.be\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.2.4"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='oria-bootstrap-css'  href='https://c-nergy.be/blog/wp-content/themes/oria/css/bootstrap/bootstrap.min.css?ver=1' type='text/css' media='all' />
<link rel='stylesheet' id='oria-style-css'  href='https://c-nergy.be/blog/wp-content/themes/oria/style.css?ver=5.2.4' type='text/css' media='all' />
<style id='oria-style-inline-css' type='text/css'>
.footer-widgets .widget-title,.owl-theme .owl-controls .owl-buttons div,.read-more,.entry-title a:hover,a, a:hover { color:#1e73be}
#preloader-inner,.oria-slider .slide-title a,.read-more:hover,.nav-previous:hover,.nav-next:hover, button,.button,input[type="button"],input[type="reset"],input[type="submit"] { background-color:#1e73be}
.widget-title { border-color:#1e73be}
.sidebar-toggle,.social-navigation li a:hover,.main-navigation a:hover {background-color:rgba(30,115,190,0.4);}
body, .widget a { color:#717376}
.site-title a, .site-title a:hover { color:#fff}
.site-description { color:#bbb}
.site-logo { max-width:200px; }
.site-branding { padding-top:80px;padding-bottom:80px; }
.site-title { font-size:62px; }
.site-description { font-size:18px; }
h1 { font-size:38px; }
body { font-size:15px; }

</style>
<link rel='stylesheet' id='oria-body-fonts-css'  href='//fonts.googleapis.com/css?family=Lato%3A400%2C700%2C400italic%2C700italic&#038;ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='oria-headings-fonts-css'  href='//fonts.googleapis.com/css?family=Oswald%3A300%2C700&#038;ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='oria-fontawesome-css'  href='https://c-nergy.be/blog/wp-content/themes/oria/fonts/font-awesome.min.css?ver=5.2.4' type='text/css' media='all' />
<script type='text/javascript' src='https://c-nergy.be/blog/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/themes/oria/js/jquery.fitvids.js?ver=1'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/themes/oria/js/jquery.slicknav.min.js?ver=1'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/themes/oria/js/parallax.min.js?ver=1'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/themes/oria/js/scripts.js?ver=1'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-includes/js/imagesloaded.min.js?ver=3.2.0'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-includes/js/masonry.min.js?ver=3.3.2'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/themes/oria/js/imagesloaded.pkgd.min.js?ver=1'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/themes/oria/js/masonry-init.js?ver=1'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/themes/oria/js/owl.carousel.min.js?ver=1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sliderOptions = {"slideshowspeed":"4000"};
/* ]]> */
</script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/themes/oria/js/slider-init.js?ver=1'></script>
<link rel='https://api.w.org/' href='https://c-nergy.be/blog/index.php?rest_route=/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://c-nergy.be/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://c-nergy.be/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='xRDP &#8211; Scripted installation for Ubuntu 16.04,18.04,19.04 &#038; 19.10' href='https://c-nergy.be/blog/?p=14029' />
<link rel='next' title='xRDP &#8211; Fixing Issue &#8220;You do not have permission&#8221; when installing Software from Software Center' href='https://c-nergy.be/blog/?p=14058' />
<meta name="generator" content="WordPress 5.2.4" />
<link rel="canonical" href="https://c-nergy.be/blog/?p=14051" />
<link rel='shortlink' href='https://c-nergy.be/blog/?p=14051' />
<link rel="alternate" type="application/json+oembed" href="https://c-nergy.be/blog/index.php?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=https%3A%2F%2Fc-nergy.be%2Fblog%2F%3Fp%3D14051" />
<link rel="alternate" type="text/xml+oembed" href="https://c-nergy.be/blog/index.php?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=https%3A%2F%2Fc-nergy.be%2Fblog%2F%3Fp%3D14051&#038;format=xml" />
<!-- <meta name="NextGEN" version="3.2.19" /> -->
<!--[if lt IE 9]>
<script src="https://c-nergy.be/blog/wp-content/themes/oria/js/html5shiv.js"></script>
<![endif]-->
<script type='text/javascript' src='https://c-nergy.be/blog/wp-includes/js/tw-sack.min.js?ver=1.6.1'></script>
		<style type="text/css">
			.site-header {
				background-image: url(https://c-nergy.be/blog/wp-content/uploads/cropped-c-nergyhd.png);
			}
		</style>
		<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
	<link rel='stylesheet' id='ngg_trigger_buttons-css'  href='https://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/nextgen_gallery_display/static/trigger_buttons.css?ver=3.2.19' type='text/css' media='all' />
<link rel='stylesheet' id='fancybox-0-css'  href='https://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/fancybox/jquery.fancybox-1.3.4.css?ver=3.2.19' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome_v4_shim_style-css'  href='https://use.fontawesome.com/releases/v5.3.1/css/v4-shims.css?ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-css'  href='https://use.fontawesome.com/releases/v5.3.1/css/all.css?ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='nextgen_basic_singlepic_style-css'  href='https://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/nextgen_basic_singlepic/static/nextgen_basic_singlepic.css?ver=3.2.19' type='text/css' media='all' />
<link rel='stylesheet' id='nggallery-css'  href='https://c-nergy.be/blog/wp-content/ngg_styles/nggallery.css?ver=3.2.19' type='text/css' media='all' />
</head>

<body class="post-template-default single single-post postid-14051 single-format-standard custom-background group-blog">

<div class="preloader"><div id="preloader-inner"><div class="preload">&nbsp;</div></div></div>
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<header id="masthead" class="site-header" role="banner">

		<div class="top-bar clearfix no-toggle">
					
					</div>

		<div class="container">
			<div class="site-branding">
				<h1 class="site-title"><a href="https://c-nergy.be/blog/" rel="home">Griffon&#039;s IT Library</a></h1><h2 class="site-description">Simple IT Library for the rest of us</h2>			</div><!-- .site-branding -->
		</div>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<div class="menu-oria-container"><ul id="primary-menu" class="menu clearfix"><li id="menu-item-8640" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8640"><a href="https://c-nergy.be/blog/?cat=22">Divers</a></li>
<li id="menu-item-8641" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-8641"><a href="https://c-nergy.be/blog/?cat=8">Linux</a>
<ul class="sub-menu">
	<li id="menu-item-8644" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-8644"><a href="https://c-nergy.be/blog/?cat=79">XRDP</a></li>
	<li id="menu-item-8643" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8643"><a href="https://c-nergy.be/blog/?cat=42">Ubuntu</a></li>
	<li id="menu-item-8645" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8645"><a href="https://c-nergy.be/blog/?cat=105">Zen Load Balancer</a></li>
</ul>
</li>
<li id="menu-item-8646" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-8646"><a href="https://c-nergy.be/blog/?cat=9">Microsoft</a>
<ul class="sub-menu">
	<li id="menu-item-8647" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8647"><a href="https://c-nergy.be/blog/?cat=35">Deploy Technics</a></li>
	<li id="menu-item-8648" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8648"><a href="https://c-nergy.be/blog/?cat=25">Exchange</a></li>
	<li id="menu-item-8649" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8649"><a href="https://c-nergy.be/blog/?cat=334">MDOP</a></li>
	<li id="menu-item-8652" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8652"><a href="https://c-nergy.be/blog/?cat=12">Scripting</a></li>
	<li id="menu-item-8672" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8672"><a href="https://c-nergy.be/blog/?cat=420">Windows OS</a></li>
</ul>
</li>
<li id="menu-item-8650" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8650"><a href="https://c-nergy.be/blog/?cat=49">Migration</a></li>
<li id="menu-item-8651" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8651"><a href="https://c-nergy.be/blog/?cat=292">RDS 2012/16/19</a></li>
<li id="menu-item-8661" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-8661"><a href="https://c-nergy.be/blog/?cat=3">Virtualization</a>
<ul class="sub-menu">
	<li id="menu-item-8662" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8662"><a href="https://c-nergy.be/blog/?cat=4">Hyper-V</a></li>
	<li id="menu-item-8664" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8664"><a href="https://c-nergy.be/blog/?cat=7">Others</a></li>
	<li id="menu-item-8665" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8665"><a href="https://c-nergy.be/blog/?cat=40">PROXMOX VE</a></li>
	<li id="menu-item-8666" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8666"><a href="https://c-nergy.be/blog/?cat=5">VMWare</a></li>
</ul>
</li>
<li id="menu-item-8658" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8658"><a href="https://c-nergy.be/blog/?cat=101">Storage</a></li>
</ul></div>		</nav><!-- #site-navigation -->
		<nav class="mobile-nav">
    </nav>
	</header><!-- #masthead -->
	
	
	<div id="content" class="site-content clearfix">
				<div class="container content-wrapper">
		
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-14051" class="post-14051 post type-post status-publish format-standard hentry category-xrdp tag-authentication-required tag-polkit tag-remote-desktop-services tag-ubuntu-19-04 tag-xrdp">

		
	<header class="entry-header">
		<h1 class="entry-title">xRDP – Infamous “Authentication required to refresh system repositories” popup on Ubuntu 19.04  &#8211; The correct fix !!</h1>
				<div class="entry-meta">
			<span class="posted-on"><a href="https://c-nergy.be/blog/?p=14051" rel="bookmark"><time class="entry-date published" datetime="2019-10-26T15:29:36+01:00">October 26, 2019</time><time class="updated" datetime="2019-10-26T23:55:07+01:00">October 26, 2019</time></a></span><span class="byline"> <span class="author vcard"><a class="url fn n" href="https://c-nergy.be/blog/?author=1">Griffon</a></span></span>		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		<p align="justify"><img class="alignnone size-medium wp-image-14068 aligncenter" src="http://c-nergy.be/blog/wp-content/uploads/Issues_softwareInstall5-300x230.png" alt="" width="300" height="230" srcset="https://c-nergy.be/blog/wp-content/uploads/Issues_softwareInstall5-300x230.png 300w, https://c-nergy.be/blog/wp-content/uploads/Issues_softwareInstall5.png 344w" sizes="(max-width: 300px) 100vw, 300px" /></p>
<p align="justify">&nbsp;</p>
<p align="justify">&nbsp;</p>
<p align="justify">Hello world,</p>
<p style="text-align: justify;" align="justify">In a previous post (<a href="http://c-nergy.be/blog/?p=13641">xRDP – New “Authentication Required…” Popup showing up in Ubuntu 19.04</a>), we have discussed about a minor issue that has been introduced with the release of <strong>Ubuntu 19.04.&nbsp;&nbsp;</strong>After installing <strong>xRDP on top of Ubuntu 19.04</strong> operating system, and when performing the remote connection, you would notice that a authentication popup is showing up.&nbsp; This popup will be showing up each time you perform a remote connection to your Ubuntu machine.&nbsp;</p>
<p style="text-align: justify;" align="justify">The issue was similar to the <a href="http://c-nergy.be/blog/?p=12073">&#8220;infamous Authentication required to create managed color device&#8221;</a> and same approach would be used to fix this new annoying popup dialog box.&nbsp; However, we have found that the proposed solution in our previous post (<a href="http://c-nergy.be/blog/?p=13641">xRDP – New “Authentication Required…” Popup showing up in Ubuntu 19.04</a>) was actually introducing a new issue.&nbsp; This issue was basically preventing software installation from remote sessions.&nbsp;</p>
<p style="text-align: justify;" align="justify">After some investigations, we have been able to identify the issue and we are now writing up a new post that would explain what to do in order to fix both issues (the authentication popup and the no permissions to perform software installation within remote Session.)&nbsp; &nbsp;</p>
<p align="justify">So, let’s quickly tackle this….</p>
<p style="text-align: justify;" align="justify"><em>Note :&nbsp; xrdp-installer-1.0.sh script already contains the fix and you can use the script to automate xRDP installation and provide the best remote session experience to your users&#8230;&nbsp;</em></p>
<h1 align="justify">Reminder&nbsp; &#8211; Quick Problem Description&nbsp;</h1>
<h2 align="justify"><span style="color: #800000;">All Ubuntu Releases</span></h2>
<p style="text-align: justify;" align="justify">If you are using <strong>xRDP on top of Ubuntu</strong> for a long time, you probably remember the infamous authentication popup annoyance (see <a href="http://c-nergy.be/blog/?p=12073">here</a>). If you have performed a manual installation of xRDP package on Ubuntu, when performing your remote connection, you would see an annoying authentication popup showing up. You can decide to enter your credentials or dismiss the popup but chances are that you will be prompted two or three times and the popup will be displayed again.&nbsp; This popup would appear each time that you perform a remote connection to your Ubuntu machine.</p>
<p style="text-align: center;"><a href="https://c-nergy.be/blog/wp-content/gallery/ubuntu19-04/manualxrdp_7.png"
   title=" "
   target="_self"   class="ngg-fancybox" rel="cab9a5beed5988b0445d65a398d13e01" data-image-id="3482" data-src="https://c-nergy.be/blog/wp-content/gallery/ubuntu19-04/manualxrdp_7.png" data-thumbnail="https://c-nergy.be/blog/wp-content/gallery/ubuntu19-04/cache/manualxrdp_7.png-nggid043482-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png" data-title="manualxrdp_7" data-description=" ">
	<img class="ngg-singlepic ngg-center"
         src="https://c-nergy.be/blog/wp-content/gallery/ubuntu19-04/cache/manualxrdp_7.png-nggid043482-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png"
         alt="manualxrdp_7"
         title="manualxrdp_7"/>
</a>
<span> </span></p>
<p style="text-align: center;"><em>Click on picture for better Resolution</em></p>
<p style="text-align: justify;" align="justify">Luckily, this issue is well known and we already provided a fix for it.&nbsp; You can find more information about this issue and the solution in the following posts</p>
<ul>
<li><a href="http://c-nergy.be/blog/?p=12073">xRDP &#8211; The Infamous &#8220;Authentication Required to create Managed color device&#8221; Explained&nbsp;</a></li>
<li><a href="http://c-nergy.be/blog/?p=12043">xRDP &#8211; How to Fix the Infamous system crash popups in Ubuntu 18.04 (and previous versions)</a></li>
</ul>
<p style="text-align: justify;" align="justify">If you are using our famous xRDP installation scripts, you do not need to perform these actions as they are carried out by the script.&nbsp; &nbsp;Our scripts is basically taking care of most of annoyances a user can get when performing a remote connection to Ubuntu through xRDP.&nbsp;</p>
<h2 align="justify"><span style="color: #800000;">Ubuntu 19.04 Release and later&nbsp;</span></h2>
<p style="text-align: justify;" align="justify">Since the <strong>release of Ubuntu 19.04,</strong> when installing xRDP software on top of it, a <strong>new authentication popup</strong> is showing up when performing a remote desktop connection. The new authentication popup is showing the following message</p>
<blockquote>
<pre><b>Authentication required to refresh system repositories. </b></pre>
</blockquote>
<p style="text-align: justify;" align="justify">This issue, started to show up in <strong>Ubuntu 19.04. Ubuntu 19.10,</strong> is also behaving in a similar way.</p>
<p style="text-align: center;"><a href="https://c-nergy.be/blog/wp-content/gallery/ubuntu19-04/manualxrdp_9.png"
   title=" "
   target="_self"   class="ngg-fancybox" rel="f5b17dcaf6af18a49ce7c8896075ba90" data-image-id="3484" data-src="https://c-nergy.be/blog/wp-content/gallery/ubuntu19-04/manualxrdp_9.png" data-thumbnail="https://c-nergy.be/blog/wp-content/gallery/ubuntu19-04/cache/manualxrdp_9.png-nggid043484-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png" data-title="manualxrdp_9" data-description=" ">
	<img class="ngg-singlepic ngg-center"
         src="https://c-nergy.be/blog/wp-content/gallery/ubuntu19-04/cache/manualxrdp_9.png-nggid043484-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png"
         alt="manualxrdp_9"
         title="manualxrdp_9"/>
</a>
<span> </span></p>
<p style="text-align: center;"><em>Click on picture for better Resolution</em></p>
<p style="text-align: justify;">We initially tackled this issue in the <a href="http://c-nergy.be/blog/?p=13641">following post&nbsp;</a> but this solution is generating another side effect.&nbsp; &nbsp;So, we have been working hard to find what was causing the side effect.&nbsp; After some investigations, we found out what the problem was and we are providing the correct way to fix this issue in this post. Keep reading and jump to the solution section&#8230;.</p>
<h1 align="justify">Fixing the issue the proper way&#8230;.&nbsp;</h1>
<p align="justify">Based on our previous posts about these kind of issues (see<a href="http://c-nergy.be/blog/?p=12073"> here</a>, <a href="http://c-nergy.be/blog/?p=12043">here</a> and <a href="http://c-nergy.be/blog/?p=13641">here</a>),&nbsp; we know that the problem is related to Polkit technology used within Ubuntu operating system.&nbsp; Polkit check if a user is authorized to perform a certain number of actions.&nbsp; Different Polkit rules are being applied when a user is logged on locally on a machine or when remotely connected to the system.&nbsp; Basically, when remotely connected, the Polkit rules are more restrictive and we need to create exceptions in order for the user to perform actions that would not prompt for authentication dialog box when locally connected on a computer.&nbsp;</p>
<p style="text-align: justify;" align="justify">To create these polkit exceptions, we will need to create some additional files that would override the default authorization rules.&nbsp; These files needs to be created in the following location ( you need to have admin rights to copy/create files in this location !!!)&nbsp;</p>
<blockquote>
<pre><span style="font-family: Courier New, serif;"><span style="font-size: small;"><span style="color: #333333;"><span style="font-family: Consolas, serif;">/etc/polkit-1/localauthority/50-local.d/</span></span></span></span></pre>
</blockquote>
<p style="text-align: justify;">We already know that to fix the &#8220;<strong>Authentication required to create managed color device&#8221;</strong> popup, we simply have created a file called <strong>45-allow-colord.pkla</strong> and populate it with the following content.&nbsp;</p>
<blockquote>
<pre><span style="font-family: Courier New, serif;"><span style="font-size: small;"><span style="color: #333333;"><span style="font-family: Consolas, serif;">[Allow Colord all Users]</span></span></span></span>
<span style="font-family: Courier New, serif;"><span style="font-size: small;"><span style="color: #333333;"><span style="font-family: Consolas, serif;">Identity=unix-user:*</span></span></span></span>
<span style="font-family: Courier New, serif;"><span style="font-size: small;"><span style="color: #333333;"><span style="font-family: Consolas, serif;">Action=org.freedesktop.color-manager.create-device;org.freedesktop.color-manager.create-profile;org.freedesktop.color-manager.delete-device;org.freedesktop.color-manager.delete-profile;org.freedesktop.color-manager.modify-device;org.freedesktop.color-manager.modify-profile</span></span></span></span>
<span style="font-family: Courier New, serif;"><span style="font-size: small;"><span style="color: #333333;"><span style="font-family: Consolas, serif;">ResultAny=no</span></span></span></span>
<span style="font-family: Courier New, serif;"><span style="font-size: small;"><span style="color: #333333;"><span style="font-family: Consolas, serif;">ResultInactive=no</span></span></span></span>
<span style="font-family: Courier New, serif;"><span style="font-size: small;"><span style="color: #333333;"><span style="font-family: Consolas, serif;">ResultActive=yes</span></span></span></span></pre>
</blockquote>
<p style="text-align: justify;">You should create this file on machines running <strong>Ubuntu 16.04 and later</strong> in order to avoid the authentication color device popup to show up.&nbsp; Again, as a reminder, using our famous installation script, this file will be created automatically for you and you should not experience the issue.&nbsp;</p>
<p style="text-align: justify;">The pkla file above only fixes the manage color device popup dialog box.&nbsp; &nbsp;To fix the <strong>&#8220;Infamous Authentication required to refresh system repositories&#8221;,&nbsp;</strong>we will be creating another&nbsp; polkit exception file that we have called <strong>46-allow-update-repo.pkla </strong>(also saved under /etc/polkit-1/localauthority/50-local.d).&nbsp; &nbsp;This file should contains the following information</p>
<blockquote>
<pre><span style="color: #333333;"><span style="font-family: Consolas, serif;"><span style="font-size: small;">[Allow Package Management all Users]</span></span></span>
<span style="color: #333333;"><span style="font-family: Consolas, serif;"><span style="font-size: small;">Identity=unix-user:*</span></span></span>
<span style="color: #333333;"><span style="font-family: Consolas, serif;"><span style="font-size: small;">Action=org.freedesktop.packagekit.system-sources-refresh</span></span></span>
<span style="color: #333333;"><span style="font-family: Consolas, serif;"><span style="font-size: small;">ResultAny=yes</span></span></span>
<span style="color: #333333;"><span style="font-family: Consolas, serif;"><span style="font-size: small;">ResultInactive=yes</span></span></span>
<span style="color: #333333;"><span style="font-family: Consolas, serif;"><span style="font-size: small;">ResultActive=yes</span></span></span></pre>
</blockquote>
<p align="justify">When done, try to perform a remote connection and if everything works as expected, you should have access to your remote desktop with no &#8220;Authentication Required popup&#8221; showing up.&nbsp; You are basically ready to work with no more annoying popups.</p>
<p align="justify">Compared to the previous fix, we simply simplified the polkit exception file and we are tackling only the<strong> system-sources-refresh</strong> rules with the new *.pkla file presented here above.&nbsp; This action has basically <strong>fixed the authentication issue</strong> but also allows now users t<strong>o perform software installation from software center</strong> within their remote session&#8230;.&nbsp; Please note that this specific file <strong>should be only created on Ubuntu 19.04 and later</strong> as previous versions of Ubuntu does not present such issue&#8230;.&nbsp;</p>
<h1 align="justify">Final Notes</h1>
<p class="western">This is it for this post !&nbsp;&nbsp;</p>
<p style="text-align: justify;">Based on user feedback and customer feedback, we have been able to identify a minor issue that was preventing users to perform software installation through software center.&nbsp; In this post, we have been specifically tackling the authentication popups that would show up on Ubuntu machines if no polkit exception files were not created.&nbsp; This post <strong>was focusing</strong> on the new Authentication popup showing up in <strong>Ubuntu 19.04</strong> and later and how t<strong>o deal correctly with it.&nbsp;</strong></p>
<p style="text-align: justify;">The proper fix has been implemented in the <a href="http://c-nergy.be/blog/?p=14029">new xrdp-installer-1.0.sh</a> script <strong>only</strong> !!!&nbsp; From now on, you should be only using a single script in order to perform either a <strong>standard</strong> installation or a <strong>custom installation</strong> of xRDP on top of <strong>Ubuntu 16.04 or later&#8230;.&nbsp;&nbsp;</strong>You should now be able to enjoy your remote connection to Ubuntu with no annoying popups showing up and with the possibility to install software from software center in the similar way you would do as if logged on locally&#8230;.. Enjoy !&nbsp;</p>
<p>The coming post will quickly cover the software install issue&#8230;.so everybody knows about the issue and the fix&#8230;</p>
<p>Till next time&nbsp;</p>
<p>See ya&nbsp;</p>
<h4><span style="color: #ff6600;">References :&nbsp;</span></h4>
<ul>
<li><span style="color: #0000ff;"><u><a href="http://c-nergy.be/blog/?p=12073"><span style="color: #1e73be;"><span style="font-family: Arial, serif;"><span style="font-size: medium;">xRDP – The infamous “ahtnetication Required to Create Managed color device explained</span></span></span></a></u></span></li>
<li><span style="color: #0000ff;"><u><a href="http://c-nergy.be/blog/?p=12043"><span style="color: #1e73be;"><span style="font-family: Arial, serif;"><span style="font-size: medium;">xRDP – How to fix the infamous system crash popups in Ubuntu 18.04 (and previous version)&nbsp;</span></span></span></a></u></span></li>
<li><a href="http://c-nergy.be/blog/?p=13641">xRDP – New “Authentication Required…” Popup showing up in Ubuntu 19.04</a></li>
</ul>
<p align="justify">&nbsp;</p>
			</div><!-- .entry-content -->

		<footer class="entry-footer">
		<span class="cat-links">Posted in <a href="https://c-nergy.be/blog/?cat=79" rel="category">XRDP</a></span><span class="tags-links">Tagged <a href="https://c-nergy.be/blog/?tag=authentication-required" rel="tag">authentication required</a>, <a href="https://c-nergy.be/blog/?tag=polkit" rel="tag">Polkit</a>, <a href="https://c-nergy.be/blog/?tag=remote-desktop-services" rel="tag">Remote Desktop Services</a>, <a href="https://c-nergy.be/blog/?tag=ubuntu-19-04" rel="tag">ubuntu 19.04</a>, <a href="https://c-nergy.be/blog/?tag=xrdp" rel="tag">XRDP</a></span>	</footer><!-- .entry-footer -->
	</article><!-- #post-## -->

			
	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://c-nergy.be/blog/?p=14029" rel="prev">xRDP &#8211; Scripted installation for Ubuntu 16.04,18.04,19.04 &#038; 19.10</a></div><div class="nav-next"><a href="https://c-nergy.be/blog/?p=14058" rel="next">xRDP &#8211; Fixing Issue &#8220;You do not have permission&#8221; when installing Software from Software Center</a></div></div>
	</nav>
			
<div id="comments" class="comments-area">

	
	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/?p=14051#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://c-nergy.be/blog/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
				<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='14051' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><input type="hidden" id="captchafree" name="captchafree" value="" />
<script type="text/javascript">
//<![CDATA[
	function gethash(){
		document.getElementById('captchafree').form.onsubmit = null;
		if(document.getElementById('submit')) document.getElementById('submit').value='Please wait...';
		var mysack = new sack("http://c-nergy.be/blog/wp-content/plugins/wp-captcha-free/captcha-free.php");
		mysack.execute = 1;
		mysack.method = 'POST';
		mysack.onError = function() { alert('Unable to get Captcha-Free Hash!') };
		mysack.setVar('post_id', 14051);
		mysack.runAJAX();
		return false;
	}
	function gothash(myhash){
		document.getElementById('captchafree').value = myhash;
		// Workaround for Wordpress' retarded choice of naming the submit button same as a JS function name >:-(
		document.getElementById('submit').click();
	}
	document.getElementById('captchafree').form.onsubmit = gethash;
//]]>
</script>
<noscript><p><strong>Please note:</strong> JavaScript is required to post comments.</p></noscript>
			</form>
			</div><!-- #respond -->
	
</div><!-- #comments -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

	
<div id="secondary" class="widget-area no-toggle" role="complementary">
	<span class="sidebar-close"><i class="fa fa-times"></i></span>
	<aside id="search-4" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://c-nergy.be/blog/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside><aside id="text-7" class="widget widget_text"><h4 class="widget-title">Copyrights &#038; Disclaimers</h4>			<div class="textwidget">This blog and its content are freely available to users but copyrights applies. The content is<b> copyright of c-nergy.be.</b> This means that you cannot duplicate or (...)<strong><br/><br/><a href=http://c-nergy.be/blog/?page_id=2030>Read more</a></strong></div>
		</aside><aside id="custom_html-3" class="widget_text widget widget_custom_html"><h4 class="widget-title">Brave Referral Program</h4><div class="textwidget custom-html-widget"><center><img src="wp-content/uploads/BraveLogo.png" alt>
<a href="https://brave.com/cne640"
style="color:#ff4f00" 	 
>Download FREE Brave Browser</a></center><br/>
<p align="justify">
This is part of Brave Referral Program. Brave will grant us a micropayment for each download performed through this blog.
</p>
<p align="justify">You can also support us by tipping us through Brave Browser</p></div></aside></div><!-- #secondary -->

		</div>
	</div><!-- #content -->

			
	
	<div id="sidebar-footer" class="footer-widgets" role="complementary">
		<div class="container">
							<div class="sidebar-column col-md-12">
					<aside id="text-10" class="widget widget_text">			<div class="textwidget"><p>This website and its content is copyright of <strong>c-nergy.be &#8211; © c-nergy.be &#8211; 2008 &#8211; 2019 &#8211; All rights reserved. </strong></p>
</div>
		</aside>				</div>
				
				
					</div>	
	</div>	
	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info container">
			<a href="http://wordpress.org/" rel="nofollow">Proudly powered by WordPress</a><span class="sep"> | </span>Theme: <a href="http://justfreethemes.com/oria" rel="nofollow">Oria</a> by JustFreeThemes.		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<!-- ngg_resource_manager_marker --><script type='text/javascript' src='https://c-nergy.be/blog/wp-content/themes/oria/js/skip-link-focus-fix.js?ver=20130115'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-includes/js/wp-embed.min.js?ver=5.2.4'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var photocrati_ajax = {"url":"https:\/\/c-nergy.be\/blog\/index.php?photocrati_ajax=1","wp_home_url":"https:\/\/c-nergy.be\/blog\/index.php","wp_site_url":"https:\/\/c-nergy.be\/blog\/index.php","wp_root_url":"https:\/\/c-nergy.be\/blog\/index.php","wp_plugins_url":"https:\/\/c-nergy.be\/blog\/wp-content\/plugins","wp_content_url":"https:\/\/c-nergy.be\/blog\/wp-content","wp_includes_url":"https:\/\/c-nergy.be\/blog\/wp-includes\/","ngg_param_slug":"nggallery"};
/* ]]> */
</script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/ajax/static/ajax.min.js?ver=3.2.19'></script>
<script type='text/javascript'>
/* <![CDATA[ */

var galleries = {};
galleries.gallery_cab9a5beed5988b0445d65a398d13e01 = {"id":null,"ids":null,"source":"galleries","src":"","container_ids":[],"gallery_ids":[],"album_ids":[],"tag_ids":[],"display_type":"photocrati-nextgen_basic_singlepic","display":"","exclusions":[],"order_by":"sortorder","order_direction":"ASC","entity_ids":["3482"],"tagcloud":false,"returns":"included","slug":null,"sortorder":[],"display_settings":{"width":"320","height":"240","link":"","float":"center","quality":"100","crop":"0","display_watermark":"0","display_reflection":"0","template":"\/customers\/6\/2\/f\/c-nergy.be\/httpd.www\/blog\/wp-content\/plugins\/nextgen-gallery\/products\/photocrati_nextgen\/modules\/ngglegacy\/view\/singlepic.php","use_lightbox_effect":true,"mode":"","ngg_triggers_display":"never","link_target":"_blank","_errors":[],"w":"320","h":"240"},"excluded_container_ids":[],"maximum_entity_count":500,"__defaults_set":true,"_errors":[],"ID":"cab9a5beed5988b0445d65a398d13e01"};
galleries.gallery_cab9a5beed5988b0445d65a398d13e01.wordpress_page_root = "https:\/\/c-nergy.be\/blog\/?p=14051";
var nextgen_lightbox_settings = {"static_path":"","context":"nextgen_images"};
galleries.gallery_f5b17dcaf6af18a49ce7c8896075ba90 = {"id":null,"ids":null,"source":"galleries","src":"","container_ids":[],"gallery_ids":[],"album_ids":[],"tag_ids":[],"display_type":"photocrati-nextgen_basic_singlepic","display":"","exclusions":[],"order_by":"sortorder","order_direction":"ASC","entity_ids":["3484"],"tagcloud":false,"returns":"included","slug":null,"sortorder":[],"display_settings":{"width":"320","height":"240","link":"","float":"center","quality":"100","crop":"0","display_watermark":"0","display_reflection":"0","template":"\/customers\/6\/2\/f\/c-nergy.be\/httpd.www\/blog\/wp-content\/plugins\/nextgen-gallery\/products\/photocrati_nextgen\/modules\/ngglegacy\/view\/singlepic.php","use_lightbox_effect":true,"mode":"","ngg_triggers_display":"never","link_target":"_blank","_errors":[],"w":"320","h":"240"},"excluded_container_ids":[],"maximum_entity_count":500,"__defaults_set":true,"_errors":[],"ID":"f5b17dcaf6af18a49ce7c8896075ba90"};
galleries.gallery_f5b17dcaf6af18a49ce7c8896075ba90.wordpress_page_root = "https:\/\/c-nergy.be\/blog\/?p=14051";
var nextgen_lightbox_settings = {"static_path":"","context":"nextgen_images"};
/* ]]> */
</script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/nextgen_gallery_display/static/common.js?ver=3.2.19'></script>
<script type='text/javascript'>
            var nggLastTimeoutVal = 1000;

			var nggRetryFailedImage = function(img) {
				setTimeout(function(){
					img.src = img.src;
				}, nggLastTimeoutVal);
			
				nggLastTimeoutVal += 500;
			}
        

            var nggLastTimeoutVal = 1000;

			var nggRetryFailedImage = function(img) {
				setTimeout(function(){
					img.src = img.src;
				}, nggLastTimeoutVal);
			
				nggLastTimeoutVal += 500;
			}
        
</script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/lightbox_context.js?ver=3.2.19'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/fancybox/jquery.easing-1.3.pack.js?ver=3.2.19'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/fancybox/jquery.fancybox-1.3.4.pack.js?ver=3.2.19'></script>
<script type='text/javascript' src='https://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/fancybox/nextgen_fancybox_init.js?ver=3.2.19'></script>
<script type='text/javascript' src='https://use.fontawesome.com/releases/v5.3.1/js/v4-shims.js?ver=5.3.1'></script>
<script type='text/javascript' defer integrity="sha384-kW+oWsYx3YpxvjtZjFXqazFpA7UP/MbiY4jvs+RWZo2+N94PFZ36T6TFkc9O3qoB" crossorigin="anonymous" data-auto-replace-svg="false" data-keep-original-source="false" data-search-pseudo-elements src='https://use.fontawesome.com/releases/v5.3.1/js/all.js?ver=5.3.1'></script>

</body>
</html>
