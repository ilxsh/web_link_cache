<!DOCTYPE html><html lang="zh"><head><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta charset="utf-8" /><title>server - How to configure XRDP to start  cinnamon as default desktop session_ubuntu_帮酷</title><meta http-equiv="Content-Language" content="zh-cn"><META NAME="ROBOTS" CONTENT="NOINDEX, FOLLOW"><meta name="Keywords" content="默认,XRDP,启动,服务器,登录"  /><meta name="Description" content="server - How to configure XRDP to start  cinnamon as default desktop session" /><meta name="author" content="帮酷" /><meta name="Copyright" content="帮酷版权所有" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" /><meta http-equiv="Cache-Control" content="no-transform" /> 
        <meta http-equiv="Cache-Control" content="no-siteapp" /><meta name="renderer" content="webkit|ie-comp|ie-stand"><meta name="applicable-device" content="pc,mobile"><meta property="og:type" content="article"/><meta property="og:image" content=""/><meta property="og:release_date" content="2018-09-18 11:00:35"/><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="alternate" hreflang="zh-hans" href="https://www.helplib.com/c/mutia_165425" /><link rel="alternate" hreflang="zh-hant" href="http://hant.helplib.com/c/mutia_165425" /><!-- bootstrap & fontawesome --><link rel="stylesheet" href="/assets/css_min/??font-awesome.min.css,ace-fonts.min.css" /><link rel="stylesheet" href="/css17_min/??bootstrap.min.css,ace.min.css" /><!--[if lte IE 9]><link rel="stylesheet" href="/assets/css_min/ace-part2.min.css" class="ace-main-stylesheet" /><![endif]--><!--[if lte IE 9]><link rel="stylesheet" href="/assets/css_min/ace-ie.min.css" /><![endif]--><!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="/css17_min/bootstrap3-ie7.css"><![endif]--><!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries --><!--[if lte IE 9]><script src="/assets/js_min/??html5shiv.min.js,respond.min.js"></script><![endif]-->        
        <link rel="stylesheet" href="/css17/custom.css" /><!-- LIBS --><script type="text/javascript"> 
			//document.domain="www.helplib.com";
          //定义常用到的量
            var now_url = 'aHR0cHM6Ly93d3cuaGVscGxpYi5jb20vYy9tdXRpYV8xNjU0MjU!`0^5@';
            var JS_SYSDEBUG='';
            var system_user_type1='';
            var yf_ui_language='zh_cn';
        </script>   
        <!-- ENDLIBS --><!--[if IE]><script type="text/javascript">                    window.onerror=function(){return true;}
            </script>        
        <![endif]--><link rel="stylesheet" type="text/css" href="/widgets/plugins/qtips2_custom/jquery.qtip.min.css"><link rel="stylesheet" type="text/css" href="/widgets/plugins/remodal/remodal.css"><link rel="stylesheet" type="text/css" href="/widgets/plugins/remodal/remodal-default-theme.css"><script language="JavaScript" type="text/javascript">var is_superuser='0';
	var is_show_ori_status=0;//是否处于显示原文的状态,0载入页面状态, 译文 1原文, 2译文
	var stitle = "server+-+How+to+configure+XRDP+to+start++cinnamon+as+default+desktop+session";
	var aid="165425";
	//get url string
	function GetQueryString(name)
	{
		 var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
		 var r = window.location.search.substr(1).match(reg);
		 if(r!=null)return  unescape(r[2]); return null;
	}</script><link href="/article/css/article.css" rel="stylesheet" type="text/css"><style> 
.pricing-box:hover{
	border:2px solid #fff;	
}
.adprice{
	font-size:18px;
	color:#F00;
	padding-right:5px;
	text-align:left;
}
#show_load {
	display: none;
	position: absolute;
	top: 30%;
	left: 50%;
}
.hide_commonts{
	display:none;
}
.img_hover{
	border:solid #900;
}</style><!--[if IE 6]><style>ul,ol,li{margin:0;padding:0; display:inline-block;white-space:nowrap;*display:inline;}
li{list-style:none; display:inline-block;vertical-align:top;*display:inline;*zoom:1;margin:0 10px 0 0;}
.breadcrumb{margin-left:20px;}</style><![endif]--></head><body class="no-skin" itemscope itemtype="http://schema.org/WebPage"><div id="show_load" ><img src="/widgets/theme/blue/blue-loading.gif" width="32" height="32"></div><input type="hidden" name="cur_mouse_span_id" id="cur_mouse_span_id" /><div class="container"> 
  <!--[if lt IE 8]><div class="alert alert-warning"><button type="button" class="close" data-dismiss="alert"><i class="ace-icon fa fa-times"></i></button><p>您的IE浏览器版本已经太旧了, 我们已经竭尽所能, 但仍旧无法完美显示网站的内容或者<strong>无法播放音频</strong>, 我们建议您使用又快又好的新一代浏览器,或者使用您的手机访问我们的网站, 推荐使用: <br /> 
     <a href="http://ie.sogou.com/" target="_blank" rel="nofollow"><u>搜狗浏览器</u></a>&nbsp;&nbsp;&nbsp;<a href="http://chrome.360.cn/" target="_blank" rel="nofollow"><u>360极速浏览器</u></a>&nbsp;&nbsp;&nbsp;<a href="http://www.google.cn/intl/zh-CN/chrome/browser/desktop/index.html" target="_blank" rel="nofollow"><u>Chrome浏览器</u></a></p></div><![endif]--><div class="row div_block_top_padding"><div class="col-lg-3 col-md-3 col-sm-3"><a href="https://www.helplib.com"><img src="/images/logo.png" width="104" height="60" alt="帮酷LOGO" border="0" class="png" /></a></div><div class="col-lg-9 col-md-9 col-sm-9" id="head-nav-big-right" style="width:468px; height:60px;"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:inline-block;width:468px;height:60px" data-ad-client="ca-pub-1467695179275159" data-ad-slot="1706817006"></ins>
<script>(adsbygoogle =window.adsbygoogle ||[]).push({});</script></div></div><!-- for Nav --><div class="row navbar3"><div class="navbar-container"> 
    <div class="navbar-header pull-left">    	 <ul class="nav ace-nav ace-nav3 nav_font_size"><li><a href="/" target="_self"> 首页 </a></li><li class=""><a href="https://ask.helplib.com" target="_self"> 知识库 </a></li><li class=""><a href="http://gongju.helplib.com" target="_blank"> 工具 </a></li>            
            <!--
            <li class=""><a href="https://doc.helplib.com" target="_blank"> 文档 </a></li><li class=""><a href="https://kb.helplib.com" target="_self"> 知识 </a></li>          --></ul></div><div class="navbar-buttons navbar-header pull-right hidden-xs hidden-sm" role="navigation"><ul class="nav ace-nav ace-nav3 nav_font_size"><li></li></ul></div></div></div> 
   <div class="row"><div class="col-xs-2"></div><div class="col-xs-7"> 
 	   </div><div class="col-xs-1"></div></div><div class="row"><ol class="breadcrumb" itemprop="breadcrumb">        当前位置:
        <li><a href="/">首页</a></li><li><a href="/article/c/diannao/7-0-0-0">电脑</a></li><li><a href="/article/c/Linux/50-0-0-0">Linux</a></li><li><a href="/article/c/ubuntu/60-0-0-0">ubuntu</a></li><li>正文</li></ol></div><!--AD--><div class="row"><div class="col-md-12">    
    </div></div><!--顶部功能区--><A name="docTitle"></A><input type="hidden" name="download_attchment_link" id="download_attchment_link" value="" /><div class="row"><div class="col-md-9 center"><h1 id="article_subject" itemprop="headline"><a href="/article_165425">server - How to configure XRDP to start  cinnamon as default desktop session</a></h1><h2>服务器如何配置XRDP以启动默认桌面会话</h2><div id="qa-trans_pannel"><div class="hide_mob" id="qa-readable" title=""><span id="qa-readable_num" ></span></div><div class="tips_translator" >将光标移到/点击文章中的句子上，可以查看译文。 <span class="trans_span" id="translatechoice_0"><input id="radio_translatechoice_0" type="radio" class="translatechoice" name="translatechoice" value="0" checked="checked" autocomplete="off">显示原文</span> &nbsp;&nbsp;&nbsp;&nbsp; <span class="trans_span" id="translatechoice_1"><input type="radio" class="translatechoice" id="radio_translatechoice_1" name="translatechoice" value="1" autocomplete="off">显示译文</span> &nbsp;&nbsp;&nbsp;&nbsp; <span class="trans_span" id="translatechoice_2"><input type="radio" class="translatechoice" id="radio_translatechoice_2" name="translatechoice" value="2" autocomplete="off">双语对照</span> 
				&nbsp;&nbsp;&nbsp;<a href="http://askubuntu.com/questions/135483/how-to-configure-xrdp-to-start-cinnamon-as-default-desktop-session" target="_blank" rel="nofollow">源址</a><input type="hidden" name="cur_mouse_span_id" id="cur_mouse_span_id" /></div></div><div id="show_load" style="display:none"><img src="https://ask.helplib.com/imgs/blue-loading.gif">语言切换进行中,请稍候...</div>   
        <hr></div>    
    <div class="col-md-3 ie67_hide"><!-- 几个功能按钮--><!--
 <a class="btn btn-app btn-danger btn-xs hand" id="fav_to_tubao" title="被收藏0次"><i class="ace-icon fa fa-bookmark-o bigger-120"></i><span id="fav_tubao_count">0</span> 收藏</a> 
 <a class="btn btn-app btn-success btn-xs hand" id="to_share_article" href="/article/share_165425" title="被分享0次" rel="nofollow"><i class="ace-icon fa fa-share bigger-120"></i>0 分享</a>  
            --><a class="btn btn-app btn-purple btn-xs hand" id="to_up_article" title="被赞0次"><i class="ace-icon fa fa-heart-o bigger-120"></i><span id="upcount">0</span> 赞</a>  
 <a class="btn btn-app btn-yellow btn-xs hand" href="#go_commens" title="被评论0次"><i class="ace-icon fa fa-comment-o bigger-120"></i>0 评论</a><!--
 <a class="btn btn-app btn-danger btn-xs hand" id="to_download_article" title="下载当前文章"><i class="ace-icon fa fa-download bigger-120"></i>0 下载</a>               
            end 功能按钮--></div>    
  </div><!--文章内容区--><div class="row"><div class="col-md-9 col-sm-12 col-xs-12"><!--left 内容--><div id="toolbar" class="ie67_hide"><!--工具条--><ul><li><i id="Zoom_In" class="fa fa fa-search-plus bigger-120 hand" title="放大字体"></i></li><li><i id="Zoom_Out" class="fa fa-search-minus bigger-120 hand" title="缩小字体"></i></li><li><i id="print_article" class="fa fa-print bigger-120 hand" title="打印当前文章"></i></li><li><a href="https://hant.helplib.com/c/mutia_165425"><img src="/images/data/zh-hant.gif"></a></li><li><a href="/ubuntu/article_165425"><img src="/images/data/tgtlan.gif" alt="显示内容"></a></li></ul></div><!--end工具条-->          
         <div class="Content_Viewer" id="Content_Viewer"><!--正文开始--> 				             
                文章标签:<a class="tag_link" href="/article/show_ftag/2598-0-0-1" target="_blank">xrdp</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/17636-0-0-1" target="_blank">DEF</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/6638-0-0-1" target="_blank">cinnamon</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/4347-0-0-1" target="_blank">Server</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/17002-0-0-1" target="_blank">Session</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/5137-0-0-1" target="_blank">STA</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/2839-0-0-1" target="_blank">ses</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/25651-0-0-1" target="_blank">默认</a>&nbsp;&nbsp;<br />                
                <br />                    
                    <!--
                     <a href="https://www.incasedo.com/activity/index.php"><img class="img-responsive" src="https://www.incasedo.com/activity/a2/300x250.gif"></a>                    --><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-format="fluid" data-ad-layout="in-article" data-ad-client="ca-pub-1467695179275159" data-ad-slot="8551426956"></ins>
<script>(adsbygoogle =window.adsbygoogle ||[]).push({});</script><div id="article_html_content" class="html_content">                      
                      <input id="o_yf_sen_165425_1" type="hidden" value="&lt;h1 id=&quot;1-yfsys&quot; id=&quot;1-yfsys&quot;&gt;问题:&lt;/h1&gt;"  /><input id="o_yf_sen_165425_2" type="hidden" value="在登录到 Ubuntu 12.04时，我想知道是否有一种方法使 in 1.4成为默认环境。"  /><input id="o_yf_sen_165425_3" type="hidden" value="安装肉桂 1.4没有问题，但是我尝试运行XRDP从 Windows 机器登录，并希望它在默认情况下启动&quot;肉桂 session&quot;而不是Unity会话。"  /><input id="o_yf_sen_165425_4" type="hidden" value="问题是，我如何让XRDP在登录时使用肉桂代替 Unity？"  /><input id="o_yf_sen_165425_5" type="hidden" value="XRDP似乎比任何基于VNC的服务器都能工作得更好。"  /><input id="o_yf_sen_165425_6" type="hidden" value="&lt;h1 id=&quot;2-yfsys&quot; id=&quot;2-yfsys&quot;&gt;回答 1:&lt;/h1&gt;"  /><input id="o_yf_sen_165425_7" type="hidden" value="在网上找到这个网址上的网址："  /><input id="o_yf_sen_165425_8" type="hidden" value="&lt;a href=&quot;http://sigkillit.com/tag/xrdp&quot; rel=&quot;noreferrer&quot;&gt;http://sigkillit.com/tag/xrdp&lt;/a&gt;"  /><input id="o_yf_sen_165425_9" type="hidden" value="自定义xRDP会话的桌面环境"  /><input id="o_yf_sen_165425_10" type="hidden" value="如果不想使用默认的桌面环境，可以通过在主目录中创建。xclients文件( X 是大写) 来启动桌面环境。"  /><input id="o_yf_sen_165425_11" type="hidden" value="为此，请打开终端并运行以下命令之一"  /><input id="o_yf_sen_165425_12" type="hidden" value="Gnome 3:"  /><input id="o_yf_sen_165425_13" type="hidden" value="Gnome回退："  /><input id="o_yf_sen_165425_14" type="hidden" value="KDE:"  /><input id="o_yf_sen_165425_15" type="hidden" value="伙伴："  /><input id="o_yf_sen_165425_16" type="hidden" value="肉桂色："  /><input id="o_yf_sen_165425_17" type="hidden" value="Xfce4:"  /><input id="o_yf_sen_165425_18" type="hidden" value="&lt;h1 id=&quot;3-yfsys&quot; id=&quot;3-yfsys&quot;&gt;回答 2:&lt;/h1&gt;"  /><input id="o_yf_sen_165425_19" type="hidden" value="你可以在 &lt;code&gt;/etc/xrdp/startwm.sh&lt;/code&gt; 中启动只需要 xrdp ( 本地登录)的环境"  /><input id="o_yf_sen_165425_20" type="hidden" value="例如要启动 xfce，我使用："  /><input id="o_yf_sen_165425_21" type="hidden" value="注释出，你可以看到启动 unity ( ubuntu会话) 和 unity 2的命令。"  /><input id="o_yf_sen_165425_22" type="hidden" value="你只需要注释出xfce命令并添加命令以启动 Cinnamon。"  /><input id="o_yf_sen_165425_23" type="hidden" value="我同意你的xrdp工作比它的他的远程桌面查看器更好，并且它工作得很好。"  /><input id="o_yf_sen_165425_24" type="hidden" value="我也在其他linux机器上使用Remmina客户端。"  /><input id="o_yf_sen_165425_25" type="hidden" value="要使用 xfce，你需要安装xubuntu桌面("  /><input id="o_yf_sen_165425_26" type="hidden" value=")"  /><input id="o_yf_sen_165425_27" type="hidden" value="&lt;h1 id=&quot;4-yfsys&quot; id=&quot;4-yfsys&quot;&gt;回答 3:&lt;/h1&gt;"  /><input id="o_yf_sen_165425_28" type="hidden" value="如果使用Lubuntu桌面( 在 12.04上测试)"  /><input id="o_yf_sen_165425_29" type="hidden" value="对于lx语法发现："  /><input id="o_yf_sen_165425_30" type="hidden" value="实现lx语法："  /><input id="o_yf_sen_165425_31" type="hidden" value="&lt;h1 id=&quot;5-yfsys&quot; id=&quot;5-yfsys&quot;&gt;回答 4:&lt;/h1&gt;"  /><input id="o_yf_sen_165425_32" type="hidden" value="对于 LXDE:"  /><input id="o_yf_sen_165425_33" type="hidden" value="安装LXDE公共："  /><input id="o_yf_sen_165425_34" type="hidden" value="在 &lt;code&gt;/etc/xrdp/startwm.sh&lt;/code&gt; 中进行如下更改："  /><input id="o_yf_sen_165425_35" type="hidden" value="&lt;h1 id=&quot;6-yfsys&quot; id=&quot;6-yfsys&quot;&gt;回答 5:&lt;/h1&gt;"  /><input id="o_yf_sen_165425_36" type="hidden" value="我必须承认，我没有个人 experince。"  /><input id="o_yf_sen_165425_37" type="hidden" value="尽管遵循这些准则可能会工作，但在登录时更改默认桌面环境："  /><input id="o_yf_sen_165425_38" type="hidden" value="&lt;a href=&quot;http://www.tejasbarot.com/2012/05/17/howto-change-default-user-session-ubuntu-12-04-lts-precise-pangolin-login-session-desktop-environment/&quot; rel=&quot;nofollow&quot;&gt;http://www.tejasbarot.com/2012/05/17/howto-change-default-user-session-ubuntu-12-04-lts-precise-pangolin-login-session-desktop-environment/&lt;/a&gt;"  /><input id="o_yf_sen_165425_39" type="hidden" value="&lt;h1 id=&quot;7-yfsys&quot; id=&quot;7-yfsys&quot;&gt;回答 6:&lt;/h1&gt;"  /><input id="o_yf_sen_165425_40" type="hidden" value="&lt;code&gt;systemctl&lt;/code&gt; 命令特定于 Fedora。"  /><input id="o_yf_sen_165425_41" type="hidden" value="对于 Ubuntu，命令应该是："  /><input id="o_yf_sen_165425_42" type="hidden" value="&lt;h1 id=&quot;8-yfsys&quot; id=&quot;8-yfsys&quot;&gt;回答 7:&lt;/h1&gt;"  /><input id="o_yf_sen_165425_43" type="hidden" value="这一切都太混乱了。"  /><input id="o_yf_sen_165425_44" type="hidden" value="你只需将文本放在名为 &lt;code&gt;.Xclients&lt;/code&gt;的文件中，即可以指定默认桌面。"  /><input id="o_yf_sen_165425_45" type="hidden" value="要查看系统上安装的内容并找出它们被调用的内容，请执行以下操作："  /><input id="o_yf_sen_165425_46" type="hidden" value="你将看到带有扩展 &lt;code&gt;.desktop&lt;/code&gt;的文件，例如 &lt;code&gt;mate.desktop&lt;/code&gt;"  /><input id="o_yf_sen_165425_47" type="hidden" value="如果你有一个文件或者在你的主文件夹中编辑 &lt;code&gt;.Xclients&lt;/code&gt;，你可以在主文件夹中编辑它，或者在你选择的桌面类型(。没有。desktop扩展名) 中添加一个附加的-session，然后创建一个："  /><input id="o_yf_sen_165425_48" type="hidden" value="我应该这么做。"  /><input id="o_yf_sen_165425_49" type="hidden" value="你可以注销并重新登录，或者你使用xrdp重新启动 xrdp，你可以重新登录，然后登录 xrdp 等等。"  /><input id="o_yf_sen_165425_50" type="hidden" value="忘记 switchdesk - 它在 Fedora 23中崩溃了。"  /><input id="o_yf_sen_165425_51" type="hidden" value="忘掉大多数网站上的内容，比如之前的Fedora版。"  /><input id="o_yf_sen_165425_52" type="hidden" value="of都没有。"  /><input id="o_yf_sen_165425_53" type="hidden" value="&lt;h1 id=&quot;9-yfsys&quot; id=&quot;9-yfsys&quot;&gt;回答 8:&lt;/h1&gt;"  /><input id="o_yf_sen_165425_54" type="hidden" value="首先，你的系统上应该有肉桂：)"  /><input id="o_yf_sen_165425_55" type="hidden" value="第二个问题是命令"  /><input id="o_yf_sen_165425_56" type="hidden" value="或者，如果要执行硬操作：执行以下操作："  /><input id="o_yf_sen_165425_57" type="hidden" value="编辑文件 &lt;code&gt;/etc/xrdp/startwm.sh&lt;/code&gt;"  /><input id="o_yf_sen_165425_58" type="hidden" value="在文件的末尾，你将找到以下行："  /><input id="o_yf_sen_165425_59" type="hidden" value="这些是对上函数的调用。"  /><input id="o_yf_sen_165425_60" type="hidden" value="因这里，为了使bean默认只放置 &lt;code&gt;#&lt;/code&gt; 在 &lt;code&gt;wm_start&lt;/code&gt; 之前评论它( 停止调用该会话的函数)。"  /><input id="o_yf_sen_165425_61" type="hidden" value="将以下行添加到上三行 &lt;code&gt;gnome-session --session=cinnamon&lt;/code&gt; 前面"  /><input id="o_yf_sen_165425_62" type="hidden" value="重新启动 xrdp"  />                      
                      <div class="space-10"></div>   
                      <div itemprop="text" id="inner_content"><br /><br /><div class="row" id="ad_content_out1"></div><div id="yf_165425" class="yf_trans_block_en"><span class="yf_sen_class_color" id="yf_sen_165425_1"><strong>Question :</strong></span><div id="hl_question"><p><span class="yf_sen_class_color" id="yf_sen_165425_2">I was wondering if there is a way to make Cinnamon 1.4 the default environment upon logging in to Ubuntu 12.04.</span><span class="yf_sen_class_color" id="yf_sen_165425_3">i can install Cinnamon 1.4 without any problems, but i am trying to run XRDP to log in from a Windows machine and would like it to start"Cinnamon session"instead of a Unity session by default.</span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_4">The question is, how can i tell XRDP to use Cinnamon instead of Unity upon logging in?</span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_5">XRDP seems to work much better than any VNC based servers.</span></p></div><hr class="quesions_hr" style="color:#036"><span class="yf_sen_class_color" id="yf_sen_165425_6"><strong>Answer 1 :</strong></span><div id="hl_question"><p><span class="yf_sen_class_color" id="yf_sen_165425_7">Found this on the net, on this url :</span><span class="yf_sen_class_color" id="yf_sen_165425_8"><a href="http://sigkillit.com/tag/xrdp" rel="noreferrer">http://sigkillit.com/tag/xrdp</a></span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_9">Customize Desktop Environment for xRDP Session</span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_10">If you do not want to use the default desktop environment, you can customize it by creating a. Xclients file (X is capital!!!) in your home directory to launch the desktop environment you want and making it executable.</span><span class="yf_sen_class_color" id="yf_sen_165425_11">in order to do this, open a terminal and run one of the following commands</span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_12">Gnome 3 :</span></p><pre class="prettyprint-override"><code>
echo"gnome-session"&gt; ~/.Xclients


chmod +x ~/.Xclients


sudo systemctl restart xrdp.service



</code></pre><p><span class="yf_sen_class_color" id="yf_sen_165425_13">Gnome Fallback :</span></p><pre class="prettyprint-override"><code>
echo"gnome-fallback"&gt; ~/.Xclients


chmod +x ~/.Xclients


sudo systemctl restart xrdp.service



</code></pre><p><span class="yf_sen_class_color" id="yf_sen_165425_14">KDE :</span></p><pre class="prettyprint-override"><code>
echo"startkde"&gt; ~/.Xclients


chmod +x ~/.Xclients


sudo systemctl restart xrdp.service



</code></pre><p><span class="yf_sen_class_color" id="yf_sen_165425_15">MATE :</span></p><pre class="prettyprint-override"><code>
echo"mate-session"&gt; ~/.Xclients


chmod +x ~/.Xclients


sudo systemctl restart xrdp.service



</code></pre><p><span class="yf_sen_class_color" id="yf_sen_165425_16">Cinnamon :</span></p><pre class="prettyprint-override"><code>
echo"cinnamon"&gt; ~/.Xclients


chmod +x ~/.Xclients


sudo systemctl restart xrdp.service



</code></pre><p><span class="yf_sen_class_color" id="yf_sen_165425_17">Xfce4 :</span></p><pre class="prettyprint-override"><code>
echo"startxfce4"&gt; ~/.Xclients


chmod +x ~/.Xclients


sudo systemctl restart xrdp.service



</code></pre></div><hr class="quesions_hr" style="color:#036"><span class="yf_sen_class_color" id="yf_sen_165425_18"><strong>Answer 2 :</strong></span><div id="hl_question"><p><span class="yf_sen_class_color" id="yf_sen_165425_19">You can start the environment you want only for xrdp (not for local login) in <code>/etc/xrdp/startwm.sh</code></span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_20">For example, to start xfce, i use :</span></p><pre class="prettyprint-override"><code>
#!/bin/sh


if [ -r/etc/default/locale ]; then


. /etc/default/locale


 export LANG LANGUAGE


fi



# default (= ubuntu)


#./etc/X11/Xsession



# unity 2d


#echo"gnome-session --session=ubuntu-2d"&gt; ~/.xsession


#./etc/X11/Xsession



# xfce


startxfce4



exit(0)



</code></pre><p><span class="yf_sen_class_color" id="yf_sen_165425_21">Commented out, you can see the commands to start unity (ubuntu session) and unity 2 d.</span><span class="yf_sen_class_color" id="yf_sen_165425_22">you only need to comment out xfce command and add the command to start Cinnamon (I didn't give it because i don't know how to start it manually).</span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_23">Obs : i agree with you xrdp works better than others remote desktop viewers i tried and it works very well with xfce.</span><span class="yf_sen_class_color" id="yf_sen_165425_24">i use it from other linux machines too with Remmina client.</span><span class="yf_sen_class_color" id="yf_sen_165425_25">to use it with xfce, you need to install xubuntu-desktop (</span><code>sudo apt-get install xubuntu-desktop</code><span class="yf_sen_class_color" id="yf_sen_165425_26">)</span></p></div><hr class="quesions_hr" style="color:#036"><span class="yf_sen_class_color" id="yf_sen_165425_27"><strong>Answer 3 :</strong></span><div id="hl_question"><p><span class="yf_sen_class_color" id="yf_sen_165425_28">If you're using Lubuntu Desktop (tested on 12.04 LTS )</span></p><ul><li><p><span class="yf_sen_class_color" id="yf_sen_165425_29">For lx syntax discovery :</span></p><pre class="lang-sh prettyprint-override"><code>
ps aux | grep lx



</code></pre></li><li><p><span class="yf_sen_class_color" id="yf_sen_165425_30">Implementing lx syntax :</span></p><pre class="lang-sh prettyprint-override"><code>
echo"lxsession -s Lubuntu -e LXDE"&gt; ~/.xsession 


sudo service xrdp restart



</code></pre></li></ul></div><hr class="quesions_hr" style="color:#036"><span class="yf_sen_class_color" id="yf_sen_165425_31"><strong>Answer 4 :</strong></span><div id="hl_question"><p><span class="yf_sen_class_color" id="yf_sen_165425_32">For LXDE :</span></p><ul><li><p><span class="yf_sen_class_color" id="yf_sen_165425_33">Install lxde-common :</span></p><pre class="prettyprint-override"><code>
sudo apt-get install lxde-common



</code></pre></li><li><p><span class="yf_sen_class_color" id="yf_sen_165425_34">Make changes in <code>/etc/xrdp/startwm.sh</code> like this :</span></p><pre class="prettyprint-override"><code>
#!/bin/sh



if [ -r/etc/default/locale ]; then


. /etc/default/locale


 export LANG LANGUAGE


fi



#./etc/X11/Xsession



startlxde



</code></pre></li></ul></div><hr class="quesions_hr" style="color:#036"><span class="yf_sen_class_color" id="yf_sen_165425_35"><strong>Answer 5 :</strong></span><div id="hl_question"><p><span class="yf_sen_class_color" id="yf_sen_165425_36">I must admit, i have no personal experince with XRDP.</span><span class="yf_sen_class_color" id="yf_sen_165425_37">although it might work if you followed these guidelines, to change your default desktop enviroment at login :</span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_38"><a href="http://www.tejasbarot.com/2012/05/17/howto-change-default-user-session-ubuntu-12-04-lts-precise-pangolin-login-session-desktop-environment/" rel="nofollow">http://www.tejasbarot.com/2012/05/17/howto-change-default-user-session-ubuntu-12-04-lts-precise-pangolin-login-session-desktop-environment/</a></span></p></div><hr class="quesions_hr" style="color:#036"><span class="yf_sen_class_color" id="yf_sen_165425_39"><strong>Answer 6 :</strong></span><div id="hl_question"><p><span class="yf_sen_class_color" id="yf_sen_165425_40">The <code>systemctl</code> command is specific to Fedora.</span><span class="yf_sen_class_color" id="yf_sen_165425_41">for Ubuntu, the command should be :</span></p><pre class="prettyprint-override"><code>
sudo service xrdp restart



</code></pre></div><hr class="quesions_hr" style="color:#036"><span class="yf_sen_class_color" id="yf_sen_165425_42"><strong>Answer 7 :</strong></span><div id="hl_question"><p><span class="yf_sen_class_color" id="yf_sen_165425_43">This is all too confusing.</span><span class="yf_sen_class_color" id="yf_sen_165425_44">all you have to do is put the text in a file called <code>.Xclients</code> in your home directory that will specify the default desktop.</span><span class="yf_sen_class_color" id="yf_sen_165425_45">to see what's installed on your system and find out what they are called do :</span></p><pre class="prettyprint-override"><code>
ls/user/share/xessions



</code></pre><p><span class="yf_sen_class_color" id="yf_sen_165425_46">you will see files with an extension <code>.desktop</code>, for example <code>mate.desktop</code></span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_47">to make mate your default desktop you can then edit <code>.Xclients</code> in your home folder, if you have such a file, or create one with nothing in it except your chosen desktop type (without the. desktop extension) with a -session appended :</span></p><pre class="prettyprint-override"><code>
echo mate-session&gt; ~/.Xclients 



</code></pre><p><span class="yf_sen_class_color" id="yf_sen_165425_48">should do this just fine.</span><span class="yf_sen_class_color" id="yf_sen_165425_49">you can then log off and log back in, or if you are connected using xrdp you can restart xrdp, which will log you off and then you can log back in, (just log off and log back in, its stupid to get confused by restarting xrdp etc... )</span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_50">Forget switchdesk - its broken in Fedora 23.</span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_51">Forget most of what's on the web for prior Fedora versions, Ubuntu etc... </span><span class="yf_sen_class_color" id="yf_sen_165425_52">none of it works.</span></p></div><hr class="quesions_hr" style="color:#036"><span class="yf_sen_class_color" id="yf_sen_165425_53"><strong>Answer 8 :</strong></span><div id="hl_question"><p><span class="yf_sen_class_color" id="yf_sen_165425_54">First you should have cinnamon on your system : )</span></p><p><span class="yf_sen_class_color" id="yf_sen_165425_55">Second issue the commands</span></p><pre class="prettyprint-override"><code>
echo"cinnamon"&gt; ~/.xsession 


sudo service xrdp restart



</code></pre><p><span class="yf_sen_class_color" id="yf_sen_165425_56">OR if you like to do it hard:) do the following :</span></p><ul><li><p><span class="yf_sen_class_color" id="yf_sen_165425_57">Edit the file <code>/etc/xrdp/startwm.sh</code></span></p><pre class="prettyprint-override"><code>
sudo -H gedit/etc/xrdp/startwm.sh



</code></pre></li><li><p><span class="yf_sen_class_color" id="yf_sen_165425_58">At the end of the file you will find the following lines :</span></p><pre class="prettyprint-override"><code>
pre_start


wm_start


post_start



</code></pre></li><li><p><span class="yf_sen_class_color" id="yf_sen_165425_59">These are calls to functions above.</span><span class="yf_sen_class_color" id="yf_sen_165425_60">so in order to make cinnamon the default just put <code>#</code> before <code>wm_start</code> to comment it (to stop calling the function which searches for the sessions )</span></p></li><li><p><span class="yf_sen_class_color" id="yf_sen_165425_61">Add the following line in front of the above three lines <code>gnome-session --session=cinnamon</code></span></p></li><li><p><span class="yf_sen_class_color" id="yf_sen_165425_62">restart xrdp</span><code>sudo service xrdp restart</code></p></li></ul></div><hr class="quesions_hr" style="color:#036"></div></div>                     
                     </div><br />                     
                     <br />                     文章标签:<a class="tag_link" href="/article/show_ftag/4347-0-0-1" target="_blank">Server</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/5137-0-0-1" target="_blank">STA</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/17636-0-0-1" target="_blank">DEF</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/8682-0-0-1" target="_blank">桌面</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/2839-0-0-1" target="_blank">ses</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/17002-0-0-1" target="_blank">Session</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/25651-0-0-1" target="_blank">默认</a>&nbsp;&nbsp;<a class="tag_link" href="/article/show_ftag/4533-0-0-1" target="_blank">CIN</a>&nbsp;&nbsp;<br />                     
                     <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-format="fluid" data-ad-layout="in-article" data-ad-client="ca-pub-1467695179275159" data-ad-slot="8551426956"></ins>
<script>(adsbygoogle =window.adsbygoogle ||[]).push({});</script></div><!--end Content_Viewer-->                   
   <!-------------------------评论---------------------------------------------------------->                      
        <div class="sameheight hidden-xs hidden-sm ie67_hide"><div id="documentinfo"><!--用户信息--><div class="lbox"><div class="lbCont rbox"><!--文档介绍--><div class="avt_cont borr"><h4>上传人</h4><span itemprop="author">Amith KK</span><P>分享于&nbsp;<span itemprop="dateCreated">2018-09-18 11:00:35<span></P>                  
                </div><!--文档介绍END--><!--分类--><div class="avt_cont bgn"><h4>栏目分类</h4><div class="listFl"><div id="fenleiDiv"><P><li><a href="/article/c/diannao/7-0-0-0">电脑</a></li><li><a href="/article/c/Linux/50-0-0-0">Linux</a></li><li><a href="/article/c/ubuntu/60-0-0-0">ubuntu</a></li></P></div><!--分类END--></div></div><!--用户信息END--><!--标签--><!--标签END--><!--文章信息--><div class="avt_cont bgn born"><h4>文章信息</h4><UL class=avt_tips><li class="d1">浏览:<span>0<span></li><li class="d2">评论:<span>0<span></li></UL><UL class="avt_tips"><li class="d3">&nbsp;赞:&nbsp;0<span></li><li class="d4">收藏:<SPAN >0<span></li><li class="d5"><a href="/article/doc_165425.doc" title="下载本文章的word文档格式">下载:</a><SPAN >0<span></li></UL></div><!--文章信息END-->    
              </div></div><!--文档信息END--></div><a name="go_commens"></a><div id="commonts" class="hide_commonts"><!--评论--><!-- 留言辅助对象 start --><INPUT id="plaid" type="hidden" value="165425" name="plaid"><INPUT id="messageCount" type="hidden" value="" name="messageCount">            
            <!-- 留言辅助对象 end --><div class="lbox"><div class="lbCont pl"><h4>评论<!--(注册用户加5积分)--> &nbsp;&nbsp;</h4><div class="validator fordocinend" id="checkCodeDiv" style="DISPLAY: none" name="checkCodeDiv"><STRONG>验证码:</STRONG>&nbsp;
                  <INPUT id=checkcode size="6"  name="checkcode" autocomplete="off" title="请在输入框内填写验证码."><img src="/images/authcode/show.php?sid=5ebca41c626369df42aae2bc0cb1fb82" id="regimg" alt="" name=regimg />请输入左侧字符
                  <A class="hand" id="change_auth_code">看不清楚,换张图片</A></div><div  class="list2"><div class="contPl"><TEXTAREA id="plmessage" name="plmessage"></TEXTAREA><div id=textarea_text>评论请遵纪守法并注意语言文明，多给一些支持。</div><P><BUTTON class="btn btn-sm btn-primary" id="insertUserMessage">提交评论</BUTTON></P><!--Ajax显示新留言 start--><div id="ajaxMessageTemplet" style="DISPLAY: none" name="ajaxMessageTemplet"><div class="listPl"><div class="cont"><P>帮酷网友(IP:) &nbsp;2019-10-24 16:00&nbsp;说：</P><P>userMessage</P></div><div class=shopPl><P>messageCount</P></div></div></div><div id="ajaxAddUserMessage"></div><div id="ajaxAddUserMessageBottom"></div><!--Ajax显示新留言 end-->    
                                            <!-- 回复浏览 start -->                                            
                                            <!-- 回复浏览 end -->    
                    <div class="clear"></div></div></div></div></div></div><!--end commonts--></div> 
        <!-- end sameheight--><!----------------------------------------------------------------------------------------------></div><!--end col-md-9-->   
    <div class="col-md-3 hidden-xs hidden-sm ie67_hide"><!--右侧栏开始-->    
    <div class="space-20"></div><!-- tab content --><h4><strong>文章目录</strong></h4><div class='toc_list'><ul><li class='toc-h1'><a href='#1-yfsys'>问题 </a></li><li class='toc-h1'><a href='#2-yfsys'>回答 1 </a></li><li class='toc-h1'><a href='#3-yfsys'>回答 2 </a></li><li class='toc-h1'><a href='#4-yfsys'>回答 3 </a></li><li class='toc-h1'><a href='#5-yfsys'>回答 4 </a></li><li class='toc-h1'><a href='#6-yfsys'>回答 5 </a></li><li class='toc-h1'><a href='#7-yfsys'>回答 6 </a></li><li class='toc-h1'><a href='#8-yfsys'>回答 7 </a></li><li class='toc-h1'><a href='#9-yfsys'>回答 8 </a></li></ul></div><!-- tab content -->    
    <!--相关文档开始--><h4>&nbsp;<strong>相关文档</strong></h4><div class="document_list"><ul>          
          <li><span class="digital_hs"></span><span><img alt="txt" src="/article/images/format/txt.png"><a title="Session.js 获取用户会话信息"  href="/article_76045" target=_blank>Session.js 获取用户会话信息</a>          
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><img alt="txt" src="/article/images/format/txt.png"><a title="在 Windows Http服务器API上，基于 ASP.NET 核心的web服务器"  href="/article_147873" target=_blank>在 Windows Http服务器API上，基于 ASP.NET 核心的web服务器</a>          
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><img alt="txt" src="/article/images/format/txt.png"><a title="如何设置肉桂桌面主题？"  href="/article_159430" target=_blank>如何设置肉桂桌面主题？</a>          
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><img alt="txt" src="/article/images/format/txt.png"><a title="启动时启动 1分钟时间，引导如何启动sudo命令？"  href="/article_159740" target=_blank>启动时启动 1分钟时间，引导如何启动sudo命令？</a>          
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><img alt="txt" src="/article/images/format/txt.png"><a title="使用xrdp连接到桌面会话"  href="/article_160101" target=_blank>使用xrdp连接到桌面会话</a>          
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><img alt="txt" src="/article/images/format/txt.png"><a title="我应该为默认应用程序修改哪些文件关联，两者之间的区别是什么？"  href="/article_160692" target=_blank>我应该为默认应用程序修改哪些文件关联，两者之间的区别是什么？</a>          
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><img alt="txt" src="/article/images/format/txt.png"><a title="11.10停止Nautilus管理我的桌面( XFCE桌面)"  href="/article_162675" target=_blank>11.10停止Nautilus管理我的桌面( XFCE桌面)</a>          
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><img alt="txt" src="/article/images/format/txt.png"><a title="Windows 7 Xrdp登录失败"  href="/article_163246" target=_blank>Windows 7 Xrdp登录失败</a>          
          </span> 
          </li>          
        </ul></div><!--链接问题开始--><h4>&nbsp;<strong>相关问题</strong></h4><div class="document_list"><ul>          
          <li><span class="digital_hs"></span><span><img alt="article" src="/article/images/format/article.png"><a   href="https://ask.helplib.com/others/post_5514479" target=_blank>闪亮服务器加载资源失败： 服务器响应的状态为 500 ( 内部服务器错误)</a></span></li>          
          <li><span class="digital_hs"></span><span><img alt="article" src="/article/images/format/article.png"><a   href="https://ask.helplib.com/others/post_10513671" target=_blank>Microsoft SQL Server 同步 SQL Server 2008 r2 ( 在本地服务器上运行) ( 运行在plesk面板服务器数据库上)</a></span></li>          
        </ul></div><!--专题--><h4>&nbsp;<strong><a href="/article/baglist/0-0-0-0" target="_blank">专题</a></strong></h4><div class="document_list"><ul>          
          <li><span class="digital_hs"></span><span><i class="ace-icon fa fa-file-text-o"></i><a title="Redmine"   href="/article/show_bag/2-34-3-0">Redmine</a>   
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><i class="ace-icon fa fa-file-text-o"></i><a title="vsFTPd"   href="/article/show_bag/2-33-3-0">vsFTPd</a>   
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><i class="ace-icon fa fa-file-text-o"></i><a title="InfluxDB"   href="/article/show_bag/2-32-3-0">InfluxDB</a>   
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><i class="ace-icon fa fa-file-text-o"></i><a title="Cachet"   href="/article/show_bag/2-29-3-0">Cachet</a>   
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><i class="ace-icon fa fa-file-text-o"></i><a title="HAProxy"   href="/article/show_bag/2-30-3-0">HAProxy</a>   
          </span> 
          </li>          
          <li><span class="digital_hs"></span><span><i class="ace-icon fa fa-file-text-o"></i><a title="Ghost"   href="/article/show_bag/2-31-3-0">Ghost</a>   
          </span> 
          </li>          
        </ul></div><!--专题END--><!--热门标签样式开始--><h4>&nbsp;<strong><a href="/article/ftag_list/0-0-0-1">热门标签</a></strong></h4><div class="document_list"><ul>          
        </ul></div><!--专题END--><!--广告-->        
        <!--END--></div><!--end col-md-3-->   
  </div><!--end row--></div><!--container--><div id="r_dialog" class="remodal ie67_hide" data-remodal-id="modal" role="dialog" aria-labelledby="modal1Title" aria-describedby="modal1Desc" data-remodal-options="hashTracking: false, closeOnOutsideClick: true" >    帮助我们修改翻译质量不高的句子
    <h2 id="edit_en" style="text-align:left"></h2><input id="edit_mode" type="hidden" value="" />  
    <input id="edit_val" type="hidden" value="" />   
    <textarea id="edit_cn" cols="85" rows=""></textarea><br><button data-remodal-action="cancel" class="remodal-cancel">取消</button><button id="edit_confirm" data-remodal-action="confirm" class="remodal-confirm">确认修改</button></div><div id="r_dialog_replace" class="remodal ie67_hide" data-remodal-id="modal_replace" role="dialog" aria-labelledby="modal1Title" aria-describedby="modal1Desc" data-remodal-options="hashTracking: false, closeOnOutsideClick: true" >    帮助我们替换术语翻译错误
    <form role="form"><div class="form-group"><input type="text" id="ori_word" name="ori_word" class="form-control" placeholder="请输入错误的单词或者术语"><input type="text" id="tgt_word" name="tgt_word" class="form-control" placeholder="请输入正确单词或者术语">                
            </div></form>    
  <button data-remodal-action="cancel" class="remodal-cancel">取消</button><button id="replace_confirm" data-remodal-action="confirm" class="remodal-confirm">确认替换</button></div><DIV class="clear"></DIV><div class="contextMenu ie67_hide" id="default_menu" style="display:none"><ul><li id="model_retrans">高精度译</li><li id="cm_edit">修订句子</li><li id="cm_replace">替换错词</li><!--<li id="cm_right">确认句子</li>--><li id="cm_delete">删除句子</li> 
         <li id="cm_del2end">删除之后</li><!--<li id="cm_orisen">原始句子</li>-->  
      </ul></div><!-- 左右广告--><div id="ad_left_top_div"  class="ad_left_common"><div >                
        </div></div><div id="ad_right_top_div"  class="ad_right_common"><div >                
        </div></div><!--end 正文main--><div class="clear"></div><div id="debug"></div><div class="row ie6_hide"> 
  <hr /><div class="col-xs-1"></div><div class="col-xs-10">             Copyright © 2011 HelpLib All rights reserved. &nbsp;&nbsp; <a href="/help/copyright.php" target="_blank" rel="nofollow">知识分享协议</a> 
             <a href="http://www.miibeian.gov.cn" target="_blank" rel="nofollow">京ICP备05059198号-3</a>             &nbsp;|&nbsp;             
             <a href="https://www.incasedo.cn" target="_blank">如果智培</a>             &nbsp;|&nbsp; 
             <a href="https://www.qeto.com" target="_blank">酷兔英语</a></div><div class="col-xs-1"></div></div></div><!-- /.main-container --><!-- basic scripts --><!--[if !IE]> --><script src="/assets/js_min/jquery.min.js"></script><!-- <![endif]--><!--[if IE]><script src="/assets/js_min/jquery1x.min.js"></script><![endif]--><script type="text/javascript">if('ontouchstart' in document.documentElement) document.write("<script src='/assets/js_min/jquery.mobile.custom.min.js'>"+"<"+"/script>");</script><script src="/assets/js_min/bootstrap.min.js"></script><!--[if lte IE 8]><script src="/assets/js_min/excanvas.min.js"></script><![endif]-->        
        <!-- global  scripts --><!--[if IE 6]><script src="/js17_min/png.min.js"></script><script type="text/javascript">            DD_belatedPNG.fix('.png');
          </script><![endif]--><!-- ace scripts --><script src="/assets/js_min/jquery.lazyload.min.js" type="text/javascript"></script><script src="/js17_min/ace.min.js"></script><script src="/assets/js_min/ace/??ace.sidebar.min.js,ace.submenu-hover.min.js"></script><script src="/assets/js_min/??bootbox.min.js,jquery.PrintArea.min.js"></script><script type="text/javascript">jQuery(function($){
			bootbox.setLocale(yf_ui_language); 
			$("img").lazyload({ threshold : 300,effect : "fadeIn",skip_invisible : true });
		});</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8f954ee5434eb2c31d06d982f3978708";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><script src="/??js17_min/clipboard.min.js,widgets/plugins/cookies/jquery.cookie.js,widgets/plugins/toast/jquery.toast.js,widgets/plugins/qtips2_custom/jquery.qtip.min.js,widgets/plugins/contextmenu/contextmenu.js,article/js/article.js" type="text/javascript"></script><script src="/widgets/plugins/remodal/remodal.min.js"></script><script src="/widgets/code-prettify/loader/run_prettify.js?autoload=true&amp;skin=doxy"></script><script language="JavaScript" type="text/javascript">//显示原始代码
function do_yf_ori_btn(sen_id){
	//alert(sen_id);
	/*
	var sinfo 	= sen_id.split("_");
	var postid 	= sinfo[2];
	var num 	= sinfo[3];
	var en = $('#o_'+sen_id).val();
	$.ajax({                     
				type: "POST",                           
				url: "/api/editor/do_yf_ori_btn.php",
				data: "postid="+postid+"&num="+num,
				success: function(msg){
						$("#edit_cn").val(msg);
					}
	});
    $('#edit_confirm').hide();
    var modal = $('[data-remodal-id=modal]').remodal();
	modal.open();
	*/
}		 
//gtrans
function do_model_retrans_btn(sen_id){
  if(is_show_ori_status==3){
	  $.Toast.showToast({title: "此模式下无法操作,请使用其他模式.",duration: 1000});
	   return false;
  }	
  if(sen_id.indexOf('yf_tag_li')!=-1){
  	var tmpid = sen_id.split("yf_tag_li");
	sen_id = tmpid[0];
  }
  //alert(sen_id);
  var sinfo 	= sen_id.split("_");
  var postid 	= sinfo[2];
  var num 	= sinfo[3];
  var en = $('#o_'+sen_id).val();
  var cn = $('#'+sen_id).html();
  //alert(en+postid);
  $.ajax({                     
		type: "POST",                           
		url: "/api/editor/do_model_retrans.php",
		data: "action=right&en="+en+"&cn="+cn+"&postid="+postid+"&num="+num,
		success: function(msg){
			if(msg!='-1'){
				  $.ajax({                     
						type: "POST",                           
						url: "/api/editor/do_article_edit_btn_confirm.php",
						data: "action=confirm&action_mode=edit&auto=1&en="+en+"&ocn="+cn+"&cn="+msg+"&postid="+postid+"&num="+num,
						success: function(msg2){
							if(msg=='-1'){
								alert("更新内容失败, 请联系管理员.");
							}else{
								$("#"+sen_id).css("background","#aafccb"); 
								$("#"+sen_id).html(msg);
							}
						}
				  }); 		
			}
			$("#"+sen_id).css("background","#fc9"); 
		}
  });  
}
//弹出编辑句子__对话框
function do_yf_edit_btn(sen_id){
  if(is_show_ori_status==3){
	  $.Toast.showToast({title: "此模式下无法校对,请使用其他模式.",duration: 1000});
	   return false;
  }
  if(sen_id.indexOf('yf_tag_li')!=-1){
  	var tmpid = sen_id.split("yf_tag_li");
	sen_id = tmpid[0];
  }  
  sen_id = sen_id.replace("#","");
  var sinfo 	= sen_id.split("_");
  var postid 	= sinfo[2];
  var num 	= sinfo[3];
  var en = $('#o_'+sen_id).val();
  var cn = $('#'+sen_id).html();
  var mode = GetQueryString('ddd_ccc_bbb_debug');
  //alert(cn);
  $('#edit_mode').val(mode);
  $('#edit_val').val(sen_id);
  if(mode==1){
	  if(is_show_ori_status==0 || is_show_ori_status==2){
		  $('#edit_en').html(en);
		  $('#edit_cn').val(cn);
	  }else{
		  $('#edit_en').html(cn);
		  $('#edit_cn').val(en);	  
	  }
  }else {
	  if(is_show_ori_status==0 || is_show_ori_status==2){
		  $('#edit_en').html(cn);
		  $('#edit_cn').val(en);
	  }else{
		  $('#edit_en').html(en);
		  $('#edit_cn').val(cn);  
	  }	  
  }  
  var Chreg=/([\u4e00-\u9fa5])/igm //is chinese?
  if( Chreg.test(en)){
		  $('#edit_en').html(cn);
		  $('#edit_cn').val(en);	
  }
  $('#edit_confirm').show();
  var modal = $('[data-remodal-id=modal]').remodal();
  modal.open();
  $('#r_dialog').show();
}
//弹出对话框里点"确认修改"按钮
function do_yf_edit_btn_confirm(sen_id,edit_cn,mode){
  var sinfo 	= sen_id.split("_");
  var postid 	= sinfo[2];
  var num 	= sinfo[3];
  if(mode==1){
	  if(is_show_ori_status==0 || is_show_ori_status==2){
		en = $('#o_'+sen_id).val();
		cn = $('#'+sen_id).html();			  
	  }else{
  	 	en = $('#'+sen_id).html();
  	 	cn = $('#o_'+sen_id).val();    
	  }
  }else {
	  if(is_show_ori_status==0 || is_show_ori_status==2){
  	 	en = $('#'+sen_id).html();
  	 	cn = $('#o_'+sen_id).val(); 
	  }else{
		en = $('#o_'+sen_id).val();
		cn = $('#'+sen_id).html();	
	  }	  
  }
  var Chreg=/([\u4e00-\u9fa5])/igm //is chinese?
  if( Chreg.test(en)){
	return false;
  }
  $.ajax({                     
		type: "POST",                           
		url: "/api/editor/do_article_edit_btn_confirm.php",
		data: "action=confirm&action_mode=edit&en="+en+"&ocn="+cn+"&cn="+edit_cn+"&postid="+postid+"&num="+num,
		success: function(msg){
			if(mode==1){
				$("#"+sen_id).html(edit_cn);
			}else{
				$.Toast.showToast({title: "谢谢您的提交, 我们将核对后更新.",duration: 500});
			}
			$("#"+sen_id).css("background","#aafccb"); 
		}
  });  
}
function do_yf_replace_btn_confirm(ori_word,tgt_word){
  var Chreg=/([\u4e00-\u9fa5])/igm //is chinese?
  if( Chreg.test(ori_word)){
  	//$.Toast.showToast({title: "源术语里不允许有中文字符,请确认输入是否正确",duration: 500});
	//return false;
  }
  $.ajax({                     
		type: "POST",                           
		url: "/api/editor/do_article_edit_btn_confirm.php",
		data: "action=replace&ori_word="+ori_word+"&tgt_word="+tgt_word+"&aid=165425",
		success: function(msg){
			$.Toast.showToast({title: "谢谢您的提交, 我们将核对后更新.",duration: 500});
			//$("#"+sen_id).css("background","#aafccb"); 
		}
  });  
}
//确认这是个翻译正确的句子
function do_yf_right_btn(sen_id){
	/*
  //alert(sen_id);
  var sinfo 	= sen_id.split("_");
  var postid 	= sinfo[2];
  var num 	= sinfo[3];
  var en = $('#o_'+sen_id).val();
  var cn = $('#'+sen_id).html();
  //alert(en);
  */
}
//删除句子
function do_yf_del_btn(sen_id){
  if(is_show_ori_status==3){
	  $.Toast.showToast({title: "此模式下无法删除,请使用其他模式.",duration: 1000});
	   return false;
  }	
  if(sen_id.substr(0,4)=='<img'){
	 var repstr 	= encodeURI(sen_id);
 $.ajax({                     
		type: "POST",                           
		url: "/api/editor/do_article_edit_btn_confirm.php",
		data: "action=del_img&repstr="+repstr+"&aid=165425",
		success: function(msg){
			//$("#"+sen_id).css("background","#aafccb"); 
			//$("#"+sen_id).html("");
		}
  }); 		 
  	return true;
  }
  if(sen_id.indexOf('yf_tag_li')!=-1){
  	var tmpa = sen_id.split("yf_tag_li");
	var repstr = tmpa[1];	
	sen_id = tmpa[0];
	var sinfo 	= sen_id.split("_");
	var postid 	= sinfo[2];
	var num 	= sinfo[3];
 $.ajax({                     
		type: "POST",                           
		url: "/api/editor/do_article_edit_btn_confirm.php",
		data: "action=del_li&repstr="+repstr+"&aid=165425&num="+num,
		success: function(msg){
			$("#"+sen_id).html("");
		}
  }); 		 
	return true;
  } 
  var sinfo 	= sen_id.split("_");
  var postid 	= sinfo[2];
  var num 	= sinfo[3];
  var en = $('#o_'+sen_id).val();
  var cn = $('#'+sen_id).html();
 $.ajax({                     
		type: "POST",                           
		url: "/api/editor/do_article_edit_btn_confirm.php",
		data: "action=confirm&action_mode=del&en="+en+"&cn="+cn+"&postid="+postid+"&num="+num,
		success: function(msg){
			$("#"+sen_id).css("background","#aafccb"); 
			$("#"+sen_id).html("");
		}
  }); 		 
}
//删除句子->文末
function do_yf_del2end_btn(sen_id){
  if(is_show_ori_status==3){
	  $.Toast.showToast({title: "此模式下无法删除,请使用其他模式.",duration: 1000});
	   return false;
  }	
  var a=confirm("确定要删除此行以下所有内容？");
  if(a!=true){
  	return false;
  }
  if(sen_id.indexOf('yf_tag_li')!=-1){
  	var tmpid = sen_id.split("yf_tag_li");
	sen_id = tmpid[0];
  }    
  var sinfo 	= sen_id.split("_");
  var postid 	= sinfo[2];
  var num 	= sinfo[3];
  var en = $('#o_'+sen_id).val();
  var cn = $('#'+sen_id).html();
 $.ajax({                     
		type: "POST",                           
		url: "/api/editor/do_article_edit_btn_confirm.php",
		data: "action=confirm&action_mode=del2end&en="+en+"&cn="+cn+"&postid="+postid+"&num="+num,
		success: function(msg){
			var maxSpanNum=700;//预估最大句子数量
			for(var j=num;j<maxSpanNum;j++){	
				var sen = "#yf_sen_"+ postid + "_" + j;	
				//$(sen).html("");
				$(sen).css("background","#aafccb"); 
			}
		}
  }); 		 
}
function do_yf_replace_btn(sen_id){
  if(is_show_ori_status==3 || is_show_ori_status==1 ||  is_show_ori_status==0){
	  $.Toast.showToast({title: "此模式下无法替换,请使用其他模式.",duration: 1000});
	   return false;
  }	
  if(sen_id.indexOf('yf_tag_li')!=-1){
  	var tmpid = sen_id.split("yf_tag_li");
	sen_id = tmpid[0];
  }    	
  var sinfo 	= sen_id.split("_");
  var postid 	= sinfo[2];
  var num 	= sinfo[3];
  var en = ' '+$('#o_'+sen_id).val()+' ';
  var regExp=new RegExp(/(([A-Z])([a-zA-Z0-9]+ )){1,4}/g) // g表示全局匹配
  //alert(regExp.exec(str));
  //alert(str.match(regExp)[0]);
  var ori_word = en.match(regExp);
  if(ori_word){
  	$("#tgt_word").val(ori_word[0].trim());
  }
  $('#replace_confirm').show();
  var modal = $('[data-remodal-id=modal_replace]').remodal();
  modal.open();
  $('#r_dialog_replace').show();
}
jQuery(function($){
	/*//获取广告
	var ad_data = "aid=165425&siteid=1&is_cid=0&ttype=1&pos=3";
		$.ajax({                     
			type: "GET", 
			async:true,                          
			url: "/ad/getad.php",
			data: ad_data,
			success: function(ad){
				$('#ad_content_out1').html(ad);
			}
	}); 		 
	 */
	 $('#r_dialog').hide();
	 var show_edit_btn=''; 
	 var show_delay=90;
	 var hide_delay=200;
	 var show_effect=true;
	 if(is_superuser=='1'){
		//确认文章质量合格,sync to main site
		$('#edit_flag_ok,#edit_flag_ok1').click(function(){
			$('#show_load').show();
			var aid = '165425';
			var url = "action=release&mode=manual&desc=&qs=100&aid="+aid;
 			$.ajax({                     
				type: "POST",                        
				url: "/admin/article/change_article_status.php",                              
				data: url,    
				success: function(msg){ 
					//alert(msg);
					if(msg.indexOf("OK888")!=-1){
						$("#edit_flag_ok").val("提交成功");
						$("#edit_flag_ok").hide(10); 
						$("#edit_flag_ok1").val("提交成功");
						$("#edit_flag_ok1").hide(10); 						
						$("#delete_ok").hide(10); 
						$("#show_load").hide();
						window.close();
					}else if(msg.indexOf("ERR888")!=-1){
						alert("文章数据丢失, 写入失败,请再次提交.");
					}else{
						alert("发布失败,请检查远程服务器运行情况.");
						$("#opration_status").html(aid+"操作失败!");
						$("#show_load").hide();
					}				
				},//end success			
				error: function(msg){
				}
			}); 
		});	
		$('#poll_ok,#poll_ok1').click(function(){
			$('#show_load').show();
			var aid = '165425';
			var url = "action=make_single_pool&mode=manual&desc=&qs=100&aid="+aid;
 			$.ajax({                     
				type: "POST",                        
				url: "/admin/article/change_article_status.php",                              
				data: url,    
				success: function(msg){ 
					if(msg.indexOf("OK888")!=-1){
						$("#poll_ok").val("入池成功");
						$("#poll_ok").hide(10); 
						$("#poll_ok1").val("入池成功");
						$("#poll_ok1").hide(10); 						
						$("#delete_ok").hide(10); 
						$("#show_load").hide();
						window.close();
					}else{
						alert("入池失败,请检查远程服务器运行情况.");
						$("#opration_status").html(aid+"操作失败!");
						$("#show_load").hide();
					}				
				},//end success			
				error: function(msg){
				}
			}); 
		});			
		$('#delete_ok').click(function(){
			var aid = '165425';
			$.ajax({                     
					type: "POST",                           
					url: "/api/editor/article_ok.php",
					data: "action=del&aid="+aid,
					success: function(msg){
						$("#delete_ok").val("删除成功");
						$("#delete_ok").hide(10); 
						$("#edit_flag_ok").hide(10); 
						window.close();
					}
			 }); 		
		});			
		//弹出对话框里点"确认修改"按钮
		$('#edit_confirm').click(function(){
		  var sen_id  = 	$('#edit_val').val();
		  var edit_cn = 	$('#edit_cn').val();
		   var mode = 	$('#edit_mode').val();
			//alert(sen_id);
			//if(is_superuser=='1'){
				do_yf_edit_btn_confirm(sen_id,edit_cn,mode);
			//}
		});	
		$('#replace_confirm').click(function(){
		  var ori_word  = 	$('#ori_word').val().trim();
		  var tgt_word = 	$('#tgt_word').val();
		  if(ori_word=='' /*|| tgt_word==''*/){
			 $.Toast.showToast({title: "术语不能为空, 请输入",duration: 1000});  
		  	return false;
		  }
			//alert(ori_word);
			//if(is_superuser=='1'){
				do_yf_replace_btn_confirm(ori_word,tgt_word);
			//}
		});			
		//双击提交正确句子
		$('.yf_sen_class_color').dblclick(function(){
			if(is_superuser=='1'){
				do_yf_right_btn(this.id);
			}
		});	
	 }
	 //显示翻译建议按钮
	 function get_admin_btn(sen_id){
		show_edit_btn = "&nbsp;&nbsp;<span onClick=\"do_yf_edit_btn('"+sen_id+"')\" class=\"red hand\"  title=\"提交修改\">&#8681</span>";		 
		 return show_edit_btn;
	 }	 
	//初始化所有yf_sen_class_color的tips事件
	function showTipsMode1(){
		 $('.yf_sen_class_color').each(function() {
			 	$(this).hover(function(){//变色选中	
					$(this).addClass('sen_hover');	
				},function(){	
					$(this).removeClass('sen_hover');	
				});	//end
				//alert($(this).prop('tagName'));
				//return false;
				//if($(this).prop('tagName')!='IMG' && $(this).children().prop('tagName')!='IMG')	{
					//浮动显示原	
					var sen_id = $(this).attr('id');	
					var sen_val=$('#o_'+sen_id).val() +get_admin_btn(sen_id);
					//console.log(tips_text);
					//$('#debug').append(sen_id+'=>');
					//alert('#o_'+sen_id);	
					$(this).qtip({	
						content: {	
							text: sen_val
							//title: '原文',
						 },	
						 position: {
							 my: 'bottom center',
							 at: 'top center',	
							 adjust: {
									x: 35,	y: -25 
									},	
							 viewport: $(window)	
						  },	
						  show: {
								delay: show_delay,
								effect:show_effect
							},	
							hide: {	
								delay: hide_delay,	fixed: true	
							}
						 }); 
				//}
			});
	 }
	////////////////////////////run //////////////////////////////////////////////
	var userType = $.cookie('UserRegInfo_userType');
	if(userType=="") userType=5;
	 //if(is_superuser=='1'){
		  showTipsMode1();//初始化	
			//获取鼠标当前的元素
		   document.onmouseover = function(e){
				var elem, evt = e ? e:event;
				if (evt.srcElement)  el = evt.srcElement;
				else if (evt.target) el = evt.target;
				//console.log(" cur_mouse_span_id=> "+evt.target.parentNode.tagName);
				if(el.id=="cm_edit" /*||  el.id=="cm_right"*/  ||   el.id=="cm_delete"  ||   el.id=="cm_del2end" /*||   el.id=="cm_orisen" */ ||   el.id=="cm_replace" ||   el.id=="model_retrans" ||  el.id=="r_dialog"  ){
					return false;
				}
				//console.log(" cur_mouse_span_id=> "+el.parentNode.parentNode.tagName);
				//if(el.id.substr(0,7)=='yf_sen_' && evt.target.parentNode.tagName=="LI"){
					//console.log(" cur_mouse_span_id=> "+evt.target.parentNode.tagName);
				//	return false;
				//}	
				if( el.tagName=='CODE' || el.tagName== 'PRE' ){
					return false;
				}						
				if(el.id.substr(0,7)!='yf_sen_' && el.tagName!='LI'  && el.tagName!='IMG' && el.parentNode.tagName!="SPAN" && el.parentNode.tagName!="LI" ){
					//console.log(" cur_mouse_span_id=> "+el.id);
					if(el.parentNode.parentNode.tagName!==null){
						if(el.parentNode.parentNode.tagName!="LI"){
							return false;
						}
					}
					return false;
				}
				if(el.id.substr(0,7)=='yf_sen_'){
					$('#cur_mouse_span_id').val(el.id);
					//console.log(" cur_mouse_span_id=> "+el.id);
				}else if(evt.target.parentNode.id.substr(0,7)=='yf_sen_'){
					//console.log(" cur_mouse_span_id=> "+el.parentNode.parentNode.tagName);
					if(el.parentNode.parentNode.tagName=='LI'){
						$('#cur_mouse_span_id').val(evt.target.parentNode.id+'yf_tag_li'+encodeURI(el.parentNode.parentNode.outerHTML));
						$(el).addClass('img_hover');
					}else{
						$('#cur_mouse_span_id').val(evt.target.parentNode.id);
					}
					//console.log(evt.target.parentNode.id);
				}else if(el.tagName=='IMG' ){
					$('#cur_mouse_span_id').val(el.outerHTML);
					//$(this).hover(function(){//变色选中	
						$(el).addClass('img_hover');	
					//},function(){	
						//$(this).removeClass('img_hover');	
					//});	//end				
					//console.log(el.outerHTML);
				}else{
					$('#cur_mouse_span_id').val(0);
					return false;
				}
		   //console.log(el.tagName);	
		} 
	 //}
		if(userType<5){
				   $('#inner_content').contextMenu('default_menu', {
						  bindings: {
							  'model_retrans': function(t) {
								  do_model_retrans_btn($('#cur_mouse_span_id').val());  
							  },
							  'cm_edit': function(t) {
								   // alert($('#cur_mouse_span_id').val()); 
								  $('#r_dialog').show();
								  do_yf_edit_btn($('#cur_mouse_span_id').val());
							  },
							  /*	
							  'cm_right': function(t) {
								   // alert($('#cur_mouse_span_id').val()); 
								  do_yf_right_btn($('#cur_mouse_span_id').val());
							  },
							  */		
							  'cm_delete': function(t) {
								  do_yf_del_btn($('#cur_mouse_span_id').val());  
							  },
							  'cm_del2end': function(t) {
								  do_yf_del2end_btn($('#cur_mouse_span_id').val());  
							  },						  
							  'cm_replace': function(t) {
								  do_yf_replace_btn($('#cur_mouse_span_id').val());  
							  }
							  /*,
							  'cm_orisen': function(t) {
								  do_yf_ori_btn($('#cur_mouse_span_id').val());  
							  }	
							  */					  				  
						  }//end bindings
					 });//end contextMenu
		  }	 
	   // Insert copy to clipboard button 
		$('pre').each(function () {
		  var btnHtml = '<div class="bd-clipboard"><button class="btn-clipboard" title="复制代码到剪贴板">复制代码</button></div>';
		  $(this).before(btnHtml);
		})
		var clipboard = new Clipboard('.btn-clipboard', {
		  target: function (trigger) {
			return trigger.parentNode.nextElementSibling;
		  }
		})
		clipboard.on('success', function (e) {
		  $(e.trigger).html('代码复制成功');
		  e.clearSelection();
		})
		clipboard.on('error', function (e) {
		  var fallbackMsg = '复制失败,请用其他方式复制';
		  $(e.trigger).html( fallbackMsg);
		})
	 //显示单条内容译文和原文之间的转换
	 function show_sentence(qid){
		 var maxSpanNum=700;//预估最大句子数量
		 for(var j=1;j<maxSpanNum;j++){	
			var orisid = '#o_yf_sen_'+ qid + '_' + j;	
			var tarsid = '#yf_sen_'+ qid + '_' + j;	
			if($(orisid).length<=0){
				break;	
			}	
			var oriSen = $(orisid).val();	
			var tarSen = $(tarsid).html();	
			//$('#debug').append(tarSen+'=>');	
			//switch muti contents	
			if(is_show_ori_status==3){//双语对照
			     var outHtml = j+". "+oriSen+"<div class=\"trans_multi_bg\">译句: "+tarSen+"</div>";
				 $(tarsid).html(outHtml);
				 $(tarsid).qtip('destroy'); 
			}else{
				$(tarsid).html(oriSen);
				$(orisid).val(tarSen);
				var tartext;
				if(is_show_ori_status<=1){
					tartext = $(orisid).val()+get_admin_btn(qid)
				}else{
					tartext = $(orisid).val()
				}
				//更改提示	
				$(tarsid).qtip({	
								content: {	
									text: tartext	
								},	
								position: {	
									my: 'bottom center',
									at: 'top center',	
									adjust: {	x: 0,	y: -5 },	
									viewport: $(window)	
								},	
							    show: {
									delay: show_delay,
									effect:show_effect
								},	
								 hide: {	
									delay: hide_delay,	fixed: true	
								 } 
					});	//end qtip				
			}//end if is_show_ori_status
		 }//end for j			 
	 }
	 function switch_show_mode(mode){
		  $('#show_load').show();
		   setTimeout(function () {
				  show_sentence('165425'); 
				 $('#show_load').hide();	
　			　}, 100);		 
	}//end switch_show_mode func	
	$('#radio_translatechoice_1').click(function(){
			$('#radio_translatechoice_1').attr('checked',true);
			$('#radio_translatechoice_0').attr('checked',false);	
			is_show_ori_status=1;//显示原文
			$('#radio_translatechoice_0').attr("disabled",false); 
			$('#radio_translatechoice_1').attr("disabled",true); 
			switch_show_mode(is_show_ori_status);	
	});	
	$('#radio_translatechoice_0').click(function(){
			if(is_show_ori_status!=0){	
				$('#radio_translatechoice_0').attr('checked',true);	
				$('#radio_translatechoice_1').attr('checked',false);	
				is_show_ori_status=2;//显示
				$('#radio_translatechoice_0').attr("disabled",true); 
				$('#radio_translatechoice_1').attr("disabled",false); 				
				switch_show_mode(is_show_ori_status);
			}	
	});
	$('#radio_translatechoice_2').click(function(){
			$('#radio_translatechoice_2').attr('checked',true);
			$('#radio_translatechoice_2').attr('disabled',true);
			$('#radio_translatechoice_1').attr('disabled',true);
			$('#radio_translatechoice_0').attr('disabled',true);	
			is_show_ori_status=3;//显示原文
			switch_show_mode(is_show_ori_status);
			$.Toast.showToast({title: "切换到双语对照模式后,如需其它模式查看,请刷新此页面",duration: 2000});	
	});		
	//单条内容显示原文
	$('.do_ori_sentence').click(function(){
		//$('#radio_translatechoice_0').attr("disabled",true); 
		//$('#radio_translatechoice_1').attr("disabled",true); 			
		var qid = this.id.substring(12);
		//alert(is_show_ori_status);
		if(is_show_ori_status==1 ){
			is_show_ori_status=2;
			this.value="显示原文"; 
		}else if(is_show_ori_status==2 ||is_show_ori_status==0 ){
			is_show_ori_status=1;
			this.value="显示译文"; 
		}	
		show_sentence(qid); 
	});	
    //获取url中的参数
   function getUrlParam(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
            var r = window.location.search.substr(1).match(reg);  //匹配目标参数
            if (r != null) return unescape(r[2]); return null; //返回参数值
    }	
	if(getUrlParam('ddd_ccc_bbb_debug')==1){
		//编辑模式, 默认显示中文
		$('#radio_translatechoice_0').attr('checked',true);	
		$('#radio_translatechoice_1').attr('checked',false);	
		is_show_ori_status=2;//显示
		$('#radio_translatechoice_0').attr("disabled",true); 
		$('#radio_translatechoice_1').attr("disabled",false); 				
		switch_show_mode(is_show_ori_status);
	}
	//keydown
	$(document).keydown(function(e){
		//console.log(e.which);
		if(e.ctrlKey && (e.which == 13 || e.which == 10)) {//CTRL+ENTER
	  		var sen_id  = 	$('#edit_val').val();
	  		var edit_cn = 	$('#edit_cn').val();
	 		var mode = 	$('#edit_mode').val();
			//alert(edit_mode);
			do_yf_edit_btn_confirm(sen_id,edit_cn,mode);
			return true;
		}		
		if (e.altKey && e.which == 49){//r+1
			$('#edit_cn').insertAtCaret("，");
		}else if (e.altKey && e.which == 50){//r+2
			$('#edit_cn').insertAtCaret("。");
		}
		else if (e.altKey && e.which == 76){//r+l  
			$('#edit_cn').insertAtCaret("了");
		}else if (e.altKey && e.which == 68){//r+d  
			$('#edit_cn').insertAtCaret("的");
		}else if (e.altKey && e.which == 72){//r+h  
			$('#edit_cn').insertAtCaret("会");
		}
		else if (e.altKey && e.which == 74){//r+j  
			$('#edit_cn').insertAtCaret("就");
		}
		else if (e.altKey && e.which == 78){//r+n  
			$('#edit_cn').insertAtCaret("那么");
		}
		else if (e.altKey && e.which == 78){//r+z  
			$('#edit_cn').insertAtCaret("这个");
		}
		else if (e.altKey && e.which == 71){//r+g  
			$('#edit_cn').insertAtCaret("个");
		}						
	});		
/////////////////extend func////////////////////////////
});//end document ready
////////////////////////</script></body></html>