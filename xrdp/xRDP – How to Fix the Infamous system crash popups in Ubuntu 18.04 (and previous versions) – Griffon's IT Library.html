<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="http://c-nergy.be/blog/xmlrpc.php">

<title>xRDP &#8211; How to Fix the Infamous system crash popups in Ubuntu 18.04 (and previous versions) &#8211; Griffon&#039;s IT Library</title>
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Griffon&#039;s IT Library &raquo; Feed" href="http://c-nergy.be/blog/?feed=rss2" />
<link rel="alternate" type="application/rss+xml" title="Griffon&#039;s IT Library &raquo; Comments Feed" href="http://c-nergy.be/blog/?feed=comments-rss2" />
<link rel="alternate" type="application/rss+xml" title="Griffon&#039;s IT Library &raquo; xRDP &#8211; How to Fix the Infamous system crash popups in Ubuntu 18.04 (and previous versions) Comments Feed" href="http://c-nergy.be/blog/?feed=rss2&#038;p=12043" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/c-nergy.be\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.2.4"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='oria-bootstrap-css'  href='http://c-nergy.be/blog/wp-content/themes/oria/css/bootstrap/bootstrap.min.css?ver=1' type='text/css' media='all' />
<link rel='stylesheet' id='oria-style-css'  href='http://c-nergy.be/blog/wp-content/themes/oria/style.css?ver=5.2.4' type='text/css' media='all' />
<style id='oria-style-inline-css' type='text/css'>
.footer-widgets .widget-title,.owl-theme .owl-controls .owl-buttons div,.read-more,.entry-title a:hover,a, a:hover { color:#1e73be}
#preloader-inner,.oria-slider .slide-title a,.read-more:hover,.nav-previous:hover,.nav-next:hover, button,.button,input[type="button"],input[type="reset"],input[type="submit"] { background-color:#1e73be}
.widget-title { border-color:#1e73be}
.sidebar-toggle,.social-navigation li a:hover,.main-navigation a:hover {background-color:rgba(30,115,190,0.4);}
body, .widget a { color:#717376}
.site-title a, .site-title a:hover { color:#fff}
.site-description { color:#bbb}
.site-logo { max-width:200px; }
.site-branding { padding-top:80px;padding-bottom:80px; }
.site-title { font-size:62px; }
.site-description { font-size:18px; }
h1 { font-size:38px; }
body { font-size:15px; }

</style>
<link rel='stylesheet' id='oria-body-fonts-css'  href='//fonts.googleapis.com/css?family=Lato%3A400%2C700%2C400italic%2C700italic&#038;ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='oria-headings-fonts-css'  href='//fonts.googleapis.com/css?family=Oswald%3A300%2C700&#038;ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='oria-fontawesome-css'  href='http://c-nergy.be/blog/wp-content/themes/oria/fonts/font-awesome.min.css?ver=5.2.4' type='text/css' media='all' />
<script type='text/javascript' src='http://c-nergy.be/blog/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/themes/oria/js/jquery.fitvids.js?ver=1'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/themes/oria/js/jquery.slicknav.min.js?ver=1'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/themes/oria/js/parallax.min.js?ver=1'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/themes/oria/js/scripts.js?ver=1'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-includes/js/imagesloaded.min.js?ver=3.2.0'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-includes/js/masonry.min.js?ver=3.3.2'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/themes/oria/js/imagesloaded.pkgd.min.js?ver=1'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/themes/oria/js/masonry-init.js?ver=1'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/themes/oria/js/owl.carousel.min.js?ver=1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var sliderOptions = {"slideshowspeed":"4000"};
/* ]]> */
</script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/themes/oria/js/slider-init.js?ver=1'></script>
<link rel='https://api.w.org/' href='http://c-nergy.be/blog/index.php?rest_route=/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://c-nergy.be/blog/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://c-nergy.be/blog/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='xRDP &#8211; The Infamous &#8220;Authentication Required to Create Managed Color Device&#8221;  Explained' href='http://c-nergy.be/blog/?p=12073' />
<link rel='next' title='xRDP &#8211; How to Fix Theme issues in Ubuntu 18.04 remote session' href='http://c-nergy.be/blog/?p=12155' />
<meta name="generator" content="WordPress 5.2.4" />
<link rel="canonical" href="http://c-nergy.be/blog/?p=12043" />
<link rel='shortlink' href='http://c-nergy.be/blog/?p=12043' />
<link rel="alternate" type="application/json+oembed" href="http://c-nergy.be/blog/index.php?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fc-nergy.be%2Fblog%2F%3Fp%3D12043" />
<link rel="alternate" type="text/xml+oembed" href="http://c-nergy.be/blog/index.php?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fc-nergy.be%2Fblog%2F%3Fp%3D12043&#038;format=xml" />
<!-- <meta name="NextGEN" version="3.2.19" /> -->
<!--[if lt IE 9]>
<script src="http://c-nergy.be/blog/wp-content/themes/oria/js/html5shiv.js"></script>
<![endif]-->
<script type='text/javascript' src='http://c-nergy.be/blog/wp-includes/js/tw-sack.min.js?ver=1.6.1'></script>
		<style type="text/css">
			.site-header {
				background-image: url(http://c-nergy.be/blog/wp-content/uploads/cropped-c-nergyhd.png);
			}
		</style>
		<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #ffffff; }
</style>
	<link rel='stylesheet' id='ngg_trigger_buttons-css'  href='http://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/nextgen_gallery_display/static/trigger_buttons.css?ver=3.2.19' type='text/css' media='all' />
<link rel='stylesheet' id='fancybox-0-css'  href='http://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/fancybox/jquery.fancybox-1.3.4.css?ver=3.2.19' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome_v4_shim_style-css'  href='https://use.fontawesome.com/releases/v5.3.1/css/v4-shims.css?ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-css'  href='https://use.fontawesome.com/releases/v5.3.1/css/all.css?ver=5.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='nextgen_basic_singlepic_style-css'  href='http://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/nextgen_basic_singlepic/static/nextgen_basic_singlepic.css?ver=3.2.19' type='text/css' media='all' />
<link rel='stylesheet' id='nggallery-css'  href='http://c-nergy.be/blog/wp-content/ngg_styles/nggallery.css?ver=3.2.19' type='text/css' media='all' />
</head>

<body class="post-template-default single single-post postid-12043 single-format-standard custom-background group-blog">

<div class="preloader"><div id="preloader-inner"><div class="preload">&nbsp;</div></div></div>
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<header id="masthead" class="site-header" role="banner">

		<div class="top-bar clearfix no-toggle">
					
					</div>

		<div class="container">
			<div class="site-branding">
				<h1 class="site-title"><a href="http://c-nergy.be/blog/" rel="home">Griffon&#039;s IT Library</a></h1><h2 class="site-description">Simple IT Library for the rest of us</h2>			</div><!-- .site-branding -->
		</div>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<div class="menu-oria-container"><ul id="primary-menu" class="menu clearfix"><li id="menu-item-8640" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8640"><a href="http://c-nergy.be/blog/?cat=22">Divers</a></li>
<li id="menu-item-8641" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-8641"><a href="http://c-nergy.be/blog/?cat=8">Linux</a>
<ul class="sub-menu">
	<li id="menu-item-8644" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-8644"><a href="http://c-nergy.be/blog/?cat=79">XRDP</a></li>
	<li id="menu-item-8643" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8643"><a href="http://c-nergy.be/blog/?cat=42">Ubuntu</a></li>
	<li id="menu-item-8645" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8645"><a href="http://c-nergy.be/blog/?cat=105">Zen Load Balancer</a></li>
</ul>
</li>
<li id="menu-item-8646" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-8646"><a href="http://c-nergy.be/blog/?cat=9">Microsoft</a>
<ul class="sub-menu">
	<li id="menu-item-8647" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8647"><a href="http://c-nergy.be/blog/?cat=35">Deploy Technics</a></li>
	<li id="menu-item-8648" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8648"><a href="http://c-nergy.be/blog/?cat=25">Exchange</a></li>
	<li id="menu-item-8649" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8649"><a href="http://c-nergy.be/blog/?cat=334">MDOP</a></li>
	<li id="menu-item-8652" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8652"><a href="http://c-nergy.be/blog/?cat=12">Scripting</a></li>
	<li id="menu-item-8672" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8672"><a href="http://c-nergy.be/blog/?cat=420">Windows OS</a></li>
</ul>
</li>
<li id="menu-item-8650" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8650"><a href="http://c-nergy.be/blog/?cat=49">Migration</a></li>
<li id="menu-item-8651" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8651"><a href="http://c-nergy.be/blog/?cat=292">RDS 2012/16/19</a></li>
<li id="menu-item-8661" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-8661"><a href="http://c-nergy.be/blog/?cat=3">Virtualization</a>
<ul class="sub-menu">
	<li id="menu-item-8662" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8662"><a href="http://c-nergy.be/blog/?cat=4">Hyper-V</a></li>
	<li id="menu-item-8664" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8664"><a href="http://c-nergy.be/blog/?cat=7">Others</a></li>
	<li id="menu-item-8665" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8665"><a href="http://c-nergy.be/blog/?cat=40">PROXMOX VE</a></li>
	<li id="menu-item-8666" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8666"><a href="http://c-nergy.be/blog/?cat=5">VMWare</a></li>
</ul>
</li>
<li id="menu-item-8658" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-8658"><a href="http://c-nergy.be/blog/?cat=101">Storage</a></li>
</ul></div>		</nav><!-- #site-navigation -->
		<nav class="mobile-nav">
    </nav>
	</header><!-- #masthead -->
	
	
	<div id="content" class="site-content clearfix">
				<div class="container content-wrapper">
		
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-12043" class="post-12043 post type-post status-publish format-standard hentry category-xrdp tag-allow-colord-conf tag-crash-report tag-pkla tag-policykit tag-ubuntu-18-04 tag-xrdp">

		
	<header class="entry-header">
		<h1 class="entry-title">xRDP &#8211; How to Fix the Infamous system crash popups in Ubuntu 18.04 (and previous versions)</h1>
				<div class="entry-meta">
			<span class="posted-on"><a href="http://c-nergy.be/blog/?p=12043" rel="bookmark"><time class="entry-date published" datetime="2018-05-13T16:54:27+01:00">May 13, 2018</time><time class="updated" datetime="2018-04-29T16:42:20+01:00">April 29, 2018</time></a></span><span class="byline"> <span class="author vcard"><a class="url fn n" href="http://c-nergy.be/blog/?author=1">Griffon</a></span></span>		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		<p><img class="aligncenter size-full wp-image-12128" src="http://c-nergy.be/blog/wp-content/uploads/FixCrash_Logo.png" alt="" width="519" height="146" srcset="http://c-nergy.be/blog/wp-content/uploads/FixCrash_Logo.png 519w, http://c-nergy.be/blog/wp-content/uploads/FixCrash_Logo-300x84.png 300w" sizes="(max-width: 519px) 100vw, 519px" /></p>
<p>&nbsp;</p>
<p>Hello World,&nbsp;</p>
<p style="text-align: justify;">Today&#8217;s post is about a<strong> recurring issue that occurs when using xRDP software solution</strong> on Ubuntu systems.&nbsp; The <strong>system crash</strong> popup that appears each time you login into your remote session after performing the xRDP installation process.&nbsp; So far, we never had time to investigate this issue and usually this is considered as a minor annoyances for the users.&nbsp; We have spend some time in investigating this problem and this post will show you how to get rid of this crash message system.&nbsp;</p>
<p>Let&#8217;s do this&#8230;&nbsp;</p>
<h1>Our Scenario</h1>
<h2><span style="color: #ff6600;">Initial Connection</span></h2>
<p style="text-align: justify;">Let&#8217;s assume that we are performing a <strong>manual installation</strong> of xRDP package on <strong>Ubuntu 18.04.&nbsp;</strong>To perform this installation, we have simply issued the following command in a Terminal Console&nbsp;</p>
<blockquote><p><strong>sudo apt-get install xrdp&nbsp;</strong></p></blockquote>
<p>&nbsp;</p>
<p>At this stage, we do not perform any additional configuration and we should be able to perform a remote connection to Ubuntu.&nbsp; &nbsp;So, start your favorite remote desktop client, provide ip address or hostname and you should see the xrdp login page.&nbsp; Provide your credentials and Press OK</p>
<p style="text-align: center;"><a href="http://c-nergy.be/blog/wp-content/gallery/ubuntu17-04/U1704_xrdp_3.png"
   title=" "
   target="_self"   class="ngg-fancybox" rel="315c31a56776e25c5ac7c8035e80eb72" data-image-id="2636" data-src="http://c-nergy.be/blog/wp-content/gallery/ubuntu17-04/U1704_xrdp_3.png" data-thumbnail="http://c-nergy.be/blog/wp-content/gallery/ubuntu17-04/cache/U1704_xrdp_3.png-nggid042636-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png" data-title="U1704_xrdp_3" data-description=" ">
	<img class="ngg-singlepic ngg-center"
         src="http://c-nergy.be/blog/wp-content/gallery/ubuntu17-04/cache/U1704_xrdp_3.png-nggid042636-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png"
         alt="U1704_xrdp_3"
         title="U1704_xrdp_3"/>
</a>
<span> </span></p>
<p style="text-align: center;"><em>Click on picture for better resolution</em></p>
<p>If everything is ok, a remote connection to your system should be performed.&nbsp; However, you will notice that you have received a popup asking you to authenticate&nbsp;</p>
<p style="text-align: center;"><a href="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/Polkit_1.png"
   title=" "
   target="_self"   class="ngg-fancybox" rel="6bd8343d3fe27d371a0868fba9cbba2b" data-image-id="3065" data-src="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/Polkit_1.png" data-thumbnail="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/cache/Polkit_1.png-nggid043065-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png" data-title="Polkit_1" data-description=" ">
	<img class="ngg-singlepic ngg-center"
         src="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/cache/Polkit_1.png-nggid043065-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png"
         alt="Polkit_1"
         title="Polkit_1"/>
</a>
<span> </span></p>
<p style="text-align: center;"><em>Click on picture for better resolution</em></p>
<h2><span style="color: #ff6600;">Identifying the root cause&nbsp;</span></h2>
<p style="text-align: justify;">In<a href="http://c-nergy.be/blog/?p=12073">&nbsp;our previous post&nbsp;</a>, we have explained why this behavior was triggered.&nbsp; &nbsp;<strong>PolKit authorization framework</strong> is controlling which actions can be performed on the system by the users.&nbsp; However, we have not yet provided the way to configure Ubuntu to avoid these popups.&nbsp; We might publish a post about all the possible way to fix the popup issue.&nbsp; However, if you google and look on internet, the most frequent answer to solve this issue consists in two steps&nbsp;</p>
<ul>
<li style="text-align: justify;">create a file in /etc/polkit-1/localauthority.d.conf called <strong>02-allow-color.d.conf&nbsp;</strong></li>
<li style="text-align: justify;">copy/paste the text below in the file&nbsp;</li>
</ul>
<blockquote>
<pre><span style="color: #800000;"><em>polkit.addRule(function(action, subject) {</em></span>
<span style="color: #800000;"><em>if ((action.id == ‚Äúorg.freedesktop.color-manager.create-device‚Äù ||</em></span>
<span style="color: #800000;"><em>action.id == ‚Äúorg.freedesktop.color-manager.create-profile‚Äù ||</em></span>
<span style="color: #800000;"><em>action.id == ‚Äúorg.freedesktop.color-manager.delete-device‚Äù ||</em></span>
<span style="color: #800000;"><em>action.id == ‚Äúorg.freedesktop.color-manager.delete-profile‚Äù ||</em></span>
<span style="color: #800000;"><em>action.id == ‚Äúorg.freedesktop.color-manager.modify-device‚Äù ||</em></span>
<span style="color: #800000;"><em>action.id == ‚Äúorg.freedesktop.color-manager.modify-profile‚Äù) &amp;&amp;</em></span>
<span style="color: #800000;"><em>subject.isInGroup(‚Äú{users}‚Äù)) {</em></span>
<span style="color: #800000;"><em>return polkit.Result.YES;</em></span>
<span style="color: #800000;"><em>}</em></span>
<span style="color: #800000;"><em>});</em></span></pre>
</blockquote>
<p style="text-align: justify;">The file is basically an authorization file rules that can be used to override policies defined by the PolKit authorization framework component. This file is basically saying that if a user is part of the group <strong>users&nbsp;</strong>(in this example), it will be allowed to perform the colord actions defined in the policy file.&nbsp; With this configuration change in place, when performing a remote connection to Ubuntu, no more popups about <strong>authentication required</strong> will be displayed but the<strong> system&nbsp; crash</strong> popup start to showing up</p>
<p style="text-align: center;"><a href="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/FixCrash_10.png"
   title=" "
   target="_self"   class="ngg-fancybox" rel="3382d7fe76d1b2d49ebe1fae8e6328c6" data-image-id="3074" data-src="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/FixCrash_10.png" data-thumbnail="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/cache/FixCrash_10.png-nggid043074-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png" data-title="FixCrash_10" data-description=" ">
	<img class="ngg-singlepic ngg-center"
         src="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/cache/FixCrash_10.png-nggid043074-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png"
         alt="FixCrash_10"
         title="FixCrash_10"/>
</a>
<span> </span></p>
<p style="text-align: center;"><em>Click on picture for better resolution</em></p>
<p style="text-align: justify;">So, it seems that the creation of this file is actually causing the crash popup.&nbsp; By checking the <strong>/var/crash</strong> library content, a <strong>crash repor</strong>t related to <strong>the PolcyKit</strong> is available.&nbsp; So, logically, the issue is related to the <strong>PolKit component</strong> and the error is caused by the addition of this&nbsp;<strong> 02-allow-colord.conf</strong> file.&nbsp; As soon as the file is deleted, the Authentication Required popups are displayed but no more crash system popup.&nbsp;&nbsp;</p>
<p style="text-align: center;"><a href="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/FixCrash_11.png"
   title=" "
   target="_self"   class="ngg-fancybox" rel="42345838a888225dd3ff47de57500f41" data-image-id="3075" data-src="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/FixCrash_11.png" data-thumbnail="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/cache/FixCrash_11.png-nggid043075-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png" data-title="FixCrash_11" data-description=" ">
	<img class="ngg-singlepic ngg-center"
         src="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/cache/FixCrash_11.png-nggid043075-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png"
         alt="FixCrash_11"
         title="FixCrash_11"/>
</a>
<span> </span></p>
<p style="text-align: center;"><em>Click on picture for better resolution</em></p>
<p style="text-align: justify;">The problem is indeed related to the Polkit engine and more specifically to the file being used&#8230;..Searching on Internet for some tips (or even better a solution), we came across<a href="https://askubuntu.com/questions/536591/policykit-rules-never-come-into-effect?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa"> this post</a>&nbsp;.&nbsp; Apparently, it&#8217;s important to know the Polkit version in use on the system as this will define how the authorization rules files would be processed (or not processed).&nbsp; If the version of the PolKit is &lt; <strong>0.106</strong>, you need to create<strong> a .pkla</strong> file (and not<strong> a .conf</strong> file).&nbsp;</p>
<p style="text-align: justify;">Checking on <strong>Ubuntu 18.04</strong>, using the command <strong>pkaction &#8211;version, </strong> we can clearly see that the version is 0.105 and thus we need to use correct syntax for this version &nbsp;</p>
<p style="text-align: center;"><a href="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/FixCrash_12.png"
   title=" "
   target="_self"   class="ngg-fancybox" rel="c1c215c968065367f038899855ea14ad" data-image-id="3076" data-src="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/FixCrash_12.png" data-thumbnail="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/cache/FixCrash_12.png-nggid043076-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png" data-title="FixCrash_12" data-description=" ">
	<img class="ngg-singlepic ngg-center"
         src="http://c-nergy.be/blog/wp-content/gallery/ubuntu-18-04/cache/FixCrash_12.png-nggid043076-ngg0dyn-320x240x100-00f0w010c010r110f110r010t010.png"
         alt="FixCrash_12"
         title="FixCrash_12"/>
</a>
<span> </span></p>
<p style="text-align: center;"><em>Click on picture for better resolution</em></p>
<h1>The solution</h1>
<p style="text-align: justify;">The solution is basically to create the proper file, with the proper file extension and proper syntax to be used so the system recognize fully the authorization rules and does not crash anymore.&nbsp; Based on the documentation founded <a href="http://manpages.ubuntu.com/manpages/bionic/man8/pklocalauthority.8.html">here</a>, the following .pkla file has been generated.&nbsp; This file tell the PolKit framework that any users can perform actions defined in the colord.xml policy file&nbsp;</p>
<blockquote>
<pre>[Allow Colord all Users]
Identity=unix-user:*
Action=org.freedesktop.color-manager.create-device;org.freedesktop.color-manager.create-profile;org.freedesktop.color-manager.delete-device;org.freedesktop.color-manager.delete-profile;org.freedesktop.color-manager.modify-device;org.freedesktop.color-manager.modify-profile
ResultAny=no
ResultInactive=no
ResultActive=yes</pre>
</blockquote>
<p>Save the file as <strong>45-allow-colord.pkla&nbsp;</strong>and place it in the following directory (you need admin rights to copy files in this location !!)</p>
<blockquote>
<pre>&nbsp;<strong>/etc/polkit-1/localauthority/50-local.d/</strong></pre>
</blockquote>
<p>Before trying to connect remotely to your system, ensure that the <strong>/var/crash</strong> directory is empty. You can delete the content of the directory using the following command&nbsp;</p>
<blockquote><p><strong>sudo rm /var/crash/*</strong></p></blockquote>
<p>&nbsp;</p>
<p>When done, try to perform a remote connection and if everything works as expected, you should have access to your desktop with no <strong>Authentication Required Popups</strong> and <strong>no system crash popup.&nbsp;</strong>Double check that no crash report has been generated while using the new Polkit format file by checking the content of <strong>/var/crash directory.&nbsp;&nbsp;</strong>It should be empty&#8230;.&nbsp;</p>
<h1>Final notes</h1>
<p style="text-align: justify;">After some much time, we have finally identified and fixed the issue related to this system crash popup.&nbsp; Since we are aware of the issue, we have updated the Standard installation script (ver 0.2) so the script create the <strong>.pkla</strong> file and not the <strong>.conf</strong> file anymore.&nbsp; Noboby never focused on this small issue.&nbsp; The strange thing is this story is that the <strong>allow-colord.conf</strong> file seems to work as the Authentication required popups are gone but they indeed generate another annoyance.&nbsp;&nbsp;</p>
<p>Voila ! The issue is solved and it&#8217;s time to go and relax&nbsp;</p>
<p>Till next time&nbsp;</p>
<p>See ya</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
			</div><!-- .entry-content -->

		<footer class="entry-footer">
		<span class="cat-links">Posted in <a href="http://c-nergy.be/blog/?cat=79" rel="category">XRDP</a></span><span class="tags-links">Tagged <a href="http://c-nergy.be/blog/?tag=allow-colord-conf" rel="tag">allow-colord.conf</a>, <a href="http://c-nergy.be/blog/?tag=crash-report" rel="tag">Crash Report</a>, <a href="http://c-nergy.be/blog/?tag=pkla" rel="tag">pkla</a>, <a href="http://c-nergy.be/blog/?tag=policykit" rel="tag">policykit</a>, <a href="http://c-nergy.be/blog/?tag=ubuntu-18-04" rel="tag">Ubuntu 18.04</a>, <a href="http://c-nergy.be/blog/?tag=xrdp" rel="tag">XRDP</a></span>	</footer><!-- .entry-footer -->
	</article><!-- #post-## -->

			
	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="http://c-nergy.be/blog/?p=12073" rel="prev">xRDP &#8211; The Infamous &#8220;Authentication Required to Create Managed Color Device&#8221;  Explained</a></div><div class="nav-next"><a href="http://c-nergy.be/blog/?p=12155" rel="next">xRDP &#8211; How to Fix Theme issues in Ubuntu 18.04 remote session</a></div></div>
	</nav>
			
<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			12 thoughts on &ldquo;<span>xRDP &#8211; How to Fix the Infamous system crash popups in Ubuntu 18.04 (and previous versions)</span>&rdquo;		</h2>

		
		<ol class="comment-list">
					<li id="comment-3625" class="comment even thread-even depth-1">
			<article id="div-comment-3625" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/2501ad8a5ce10d81bdb2cec586be8490?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/2501ad8a5ce10d81bdb2cec586be8490?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn">Spk</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-3625">
							<time datetime="2018-05-17T15:22:32+01:00">
								May 17, 2018 at 3:22 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Thanks for the guide.<br />
I&#8217;m sure it works for Ubuntu as stated.</p>
<p>Unfortunately it didn&#8217;t work for me on Xubuntu 18.04<br />
Both authentication &amp; crash popups persist.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-3627" class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-3627" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn"><a href='http://www.c-nergy.be' rel='external nofollow' class='url'>Griffon</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-3627">
							<time datetime="2018-05-19T17:53:42+01:00">
								May 19, 2018 at 5:53 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>@Spk,<br />
Thank you for the feedback&#8230; are you sure that the crash is still caused by the polkit configuration&#8230; if you check the /var/crash, do you see dump files, can you see one related to polkit ?<br />
Could you clean the /var/crash directory and try again and provide feedback<br />
Till next time<br />
see ya</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-3629" class="comment even thread-even depth-1">
			<article id="div-comment-3629" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/2501ad8a5ce10d81bdb2cec586be8490?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/2501ad8a5ce10d81bdb2cec586be8490?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn">Spk</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-3629">
							<time datetime="2018-05-20T08:56:13+01:00">
								May 20, 2018 at 8:56 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I figured it out. For me (on multiple machines with clean installs) the problem was NetworkManager firstly requiring authentication and then causing a crash. The problem did not occur if I logged in as root, but that&#8217;s not what I wanted. So to fix the issue I ran the following command which creates a different polkit over-ride;</p>
<p>cat &lt;&lt;EOF | \<br />
  sudo tee /etc/polkit-1/localauthority/50-local.d/xrdp-NetworkManager.pkla<br />
[NetworkManager]<br />
Identity=unix-group:sudo<br />
Action=org.freedesktop.NetworkManager.network-control<br />
ResultAny=yes<br />
ResultInactive=yes<br />
ResultActive=yes<br />
EOF</p>
<p>Additionally I had problems with light-locker causing a crash in xrdp sessions so I completely purged it as it&#039;s not required for my headless, always-on machines;<br />
$ sudo apt purge light-locker</p>
<p>Finally I also had to disable Bluetooth manager as it too caused an intermittent crash in xrdp sessions.<br />
&#8211; Settings, Settings Manager, Session &amp; Startup, App Startup &#8211; disable Bluetooth manager (blueman).</p>
<p>Now everything works fine when logged in as a sudo user</p>
<p>Cheers</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-3630" class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-3630" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn"><a href='http://www.c-nergy.be' rel='external nofollow' class='url'>Griffon</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-3630">
							<time datetime="2018-05-20T17:19:41+01:00">
								May 20, 2018 at 5:19 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>@SSPK; </p>
<p>Thank you for the feedback. We are happy to see that you have been able to fix the issue and that the pkla trick is working indeed as expected<br />
Thank for the visit<br />
Till next time<br />
See ya</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-3724" class="comment even thread-even depth-1">
			<article id="div-comment-3724" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://0.gravatar.com/avatar/f10922537fed75a87929ba7d3cd45d8c?s=60&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/f10922537fed75a87929ba7d3cd45d8c?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn">Bryan Pavlich</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-3724">
							<time datetime="2018-08-03T16:03:30+01:00">
								August 3, 2018 at 4:03 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I&#8217;m on 16.04 and this has been chaffing my rear for months.  I&#8217;m not a Linux guy but tinker cross platforms as an R&amp;D developer for embedded systems.  Plain dumb luck I put in the right Google search terms after several tries.  Thank you for this solution!!!</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-3730" class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-3730" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn"><a href='http://www.c-nergy.be' rel='external nofollow' class='url'>Griffon</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-3730">
							<time datetime="2018-08-03T17:45:03+01:00">
								August 3, 2018 at 5:45 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>@ Bryan Pavlich</p>
<p>üôÇ , Super cool&#8230;. we also crashed our head for some time before finding out the issue and the solution of the problem&#8230;<br />
Thank for passing by and for your positive comments </p>
<p>Till next time<br />
See ya</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-3736" class="comment even thread-even depth-1">
			<article id="div-comment-3736" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/2a214cb407ea1b9dc2016919aa433bcf?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/2a214cb407ea1b9dc2016919aa433bcf?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn"><a href='https://github.com/jramos-br' rel='external nofollow' class='url'>Jorge Ramos</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-3736">
							<time datetime="2018-08-12T09:30:32+01:00">
								August 12, 2018 at 9:30 am							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>It worked like a charm. I&#8217;m using Desktop LTS 18.04.1 on a VMware box and Windows 10 standard RDP client (mstsc). Thanks.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-3737" class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-3737" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn"><a href='http://www.c-nergy.be' rel='external nofollow' class='url'>Griffon</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-3737">
							<time datetime="2018-08-12T12:27:51+01:00">
								August 12, 2018 at 12:27 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>@Jorge, </p>
<p>Good to see that the tip is helping you&#8230; Thank for the visit and the feedback provided<br />
Till next time<br />
See ya</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-4105" class="comment even thread-even depth-1">
			<article id="div-comment-4105" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/eb31c4ff7ac46f8e655d3c8322cf25b0?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/eb31c4ff7ac46f8e655d3c8322cf25b0?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn">Stefan</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-4105">
							<time datetime="2019-08-05T14:57:15+01:00">
								August 5, 2019 at 2:57 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Works like a charm. Thanks.</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-4107" class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-4107" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn"><a href='http://www.c-nergy.be' rel='external nofollow' class='url'>Griffon</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-4107">
							<time datetime="2019-08-05T20:34:06+01:00">
								August 5, 2019 at 8:34 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>@Stefan,</p>
<p>Thanks for visiting our blog and providing feedback on this subject. nice to see that this is helping people out there  üôÇ  </p>
<p>Till next time<br />
See ya</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-4194" class="comment even thread-even depth-1">
			<article id="div-comment-4194" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://0.gravatar.com/avatar/051ca072136a4b337996c69cd8641683?s=60&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/051ca072136a4b337996c69cd8641683?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn">Henry Bruce</b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-4194">
							<time datetime="2019-10-10T20:56:38+01:00">
								October 10, 2019 at 8:56 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>I&#8217;m running Ubuntu 19.04 and it has the same authentication problem.  I also had the problem of terminal and nautilus file manager not starting in an RDP session. Your solution fixed everything. Nice work!</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-4200" class="comment byuser comment-author-admin bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-4200" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=60&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/b0d1b691a244fbe86a9f41ad710aec51?s=120&#038;d=mm&#038;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />						<b class="fn"><a href='http://www.c-nergy.be' rel='external nofollow' class='url'>Griffon</a></b> <span class="says">says:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="http://c-nergy.be/blog/?p=12043#comment-4200">
							<time datetime="2019-10-12T13:34:44+01:00">
								October 12, 2019 at 1:34 pm							</time>
						</a>
											</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>@Henry, </p>
<p>Thank you for the positive feedback and for visiting our blog.. Always happy to see that some tips and tricks are working for others<br />
till next time<br />
See ya</p>
				</div><!-- .comment-content -->

							</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/?p=12043#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="http://c-nergy.be/blog/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
				<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='12043' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><input type="hidden" id="captchafree" name="captchafree" value="" />
<script type="text/javascript">
//<![CDATA[
	function gethash(){
		document.getElementById('captchafree').form.onsubmit = null;
		if(document.getElementById('submit')) document.getElementById('submit').value='Please wait...';
		var mysack = new sack("http://c-nergy.be/blog/wp-content/plugins/wp-captcha-free/captcha-free.php");
		mysack.execute = 1;
		mysack.method = 'POST';
		mysack.onError = function() { alert('Unable to get Captcha-Free Hash!') };
		mysack.setVar('post_id', 12043);
		mysack.runAJAX();
		return false;
	}
	function gothash(myhash){
		document.getElementById('captchafree').value = myhash;
		// Workaround for Wordpress' retarded choice of naming the submit button same as a JS function name >:-(
		document.getElementById('submit').click();
	}
	document.getElementById('captchafree').form.onsubmit = gethash;
//]]>
</script>
<noscript><p><strong>Please note:</strong> JavaScript is required to post comments.</p></noscript>
			</form>
			</div><!-- #respond -->
	
</div><!-- #comments -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

	
<div id="secondary" class="widget-area no-toggle" role="complementary">
	<span class="sidebar-close"><i class="fa fa-times"></i></span>
	<aside id="search-4" class="widget widget_search"><form role="search" method="get" class="search-form" action="http://c-nergy.be/blog/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside><aside id="text-7" class="widget widget_text"><h4 class="widget-title">Copyrights &#038; Disclaimers</h4>			<div class="textwidget">This blog and its content are freely available to users but copyrights applies. The content is<b> copyright of c-nergy.be.</b> This means that you cannot duplicate or (...)<strong><br/><br/><a href=http://c-nergy.be/blog/?page_id=2030>Read more</a></strong></div>
		</aside><aside id="custom_html-3" class="widget_text widget widget_custom_html"><h4 class="widget-title">Brave Referral Program</h4><div class="textwidget custom-html-widget"><center><img src="wp-content/uploads/BraveLogo.png" alt>
<a href="https://brave.com/cne640"
style="color:#ff4f00" 	 
>Download FREE Brave Browser</a></center><br/>
<p align="justify">
This is part of Brave Referral Program. Brave will grant us a micropayment for each download performed through this blog.
</p>
<p align="justify">You can also support us by tipping us through Brave Browser</p></div></aside></div><!-- #secondary -->

		</div>
	</div><!-- #content -->

			
	
	<div id="sidebar-footer" class="footer-widgets" role="complementary">
		<div class="container">
							<div class="sidebar-column col-md-12">
					<aside id="text-10" class="widget widget_text">			<div class="textwidget"><p>This website and its content is copyright of <strong>c-nergy.be &#8211; ¬© c-nergy.be &#8211; 2008 &#8211; 2019 &#8211; All rights reserved. </strong></p>
</div>
		</aside>				</div>
				
				
					</div>	
	</div>	
	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info container">
			<a href="http://wordpress.org/" rel="nofollow">Proudly powered by WordPress</a><span class="sep"> | </span>Theme: <a href="http://justfreethemes.com/oria" rel="nofollow">Oria</a> by JustFreeThemes.		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<!-- ngg_resource_manager_marker --><script type='text/javascript' src='http://c-nergy.be/blog/wp-content/themes/oria/js/skip-link-focus-fix.js?ver=20130115'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-includes/js/wp-embed.min.js?ver=5.2.4'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var photocrati_ajax = {"url":"http:\/\/c-nergy.be\/blog\/index.php?photocrati_ajax=1","wp_home_url":"http:\/\/c-nergy.be\/blog\/index.php","wp_site_url":"http:\/\/c-nergy.be\/blog\/index.php","wp_root_url":"http:\/\/c-nergy.be\/blog\/index.php","wp_plugins_url":"http:\/\/c-nergy.be\/blog\/wp-content\/plugins","wp_content_url":"http:\/\/c-nergy.be\/blog\/wp-content","wp_includes_url":"http:\/\/c-nergy.be\/blog\/wp-includes\/","ngg_param_slug":"nggallery"};
/* ]]> */
</script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/ajax/static/ajax.min.js?ver=3.2.19'></script>
<script type='text/javascript'>
/* <![CDATA[ */

var galleries = {};
galleries.gallery_315c31a56776e25c5ac7c8035e80eb72 = {"id":null,"ids":null,"source":"galleries","src":"","container_ids":[],"gallery_ids":[],"album_ids":[],"tag_ids":[],"display_type":"photocrati-nextgen_basic_singlepic","display":"","exclusions":[],"order_by":"sortorder","order_direction":"ASC","entity_ids":["2636"],"tagcloud":false,"returns":"included","slug":null,"sortorder":[],"display_settings":{"width":"320","height":"240","link":"","float":"center","quality":"100","crop":"0","display_watermark":"0","display_reflection":"0","template":"\/customers\/6\/2\/f\/c-nergy.be\/httpd.www\/blog\/wp-content\/plugins\/nextgen-gallery\/products\/photocrati_nextgen\/modules\/ngglegacy\/view\/singlepic.php","use_lightbox_effect":true,"mode":"","ngg_triggers_display":"never","link_target":"_blank","_errors":[],"w":"320","h":"240"},"excluded_container_ids":[],"maximum_entity_count":500,"__defaults_set":true,"_errors":[],"ID":"315c31a56776e25c5ac7c8035e80eb72"};
galleries.gallery_315c31a56776e25c5ac7c8035e80eb72.wordpress_page_root = "http:\/\/c-nergy.be\/blog\/?p=12043";
var nextgen_lightbox_settings = {"static_path":"","context":"nextgen_images"};
galleries.gallery_6bd8343d3fe27d371a0868fba9cbba2b = {"id":null,"ids":null,"source":"galleries","src":"","container_ids":[],"gallery_ids":[],"album_ids":[],"tag_ids":[],"display_type":"photocrati-nextgen_basic_singlepic","display":"","exclusions":[],"order_by":"sortorder","order_direction":"ASC","entity_ids":["3065"],"tagcloud":false,"returns":"included","slug":null,"sortorder":[],"display_settings":{"width":"320","height":"240","link":"","float":"center","quality":"100","crop":"0","display_watermark":"0","display_reflection":"0","template":"\/customers\/6\/2\/f\/c-nergy.be\/httpd.www\/blog\/wp-content\/plugins\/nextgen-gallery\/products\/photocrati_nextgen\/modules\/ngglegacy\/view\/singlepic.php","use_lightbox_effect":true,"mode":"","ngg_triggers_display":"never","link_target":"_blank","_errors":[],"w":"320","h":"240"},"excluded_container_ids":[],"maximum_entity_count":500,"__defaults_set":true,"_errors":[],"ID":"6bd8343d3fe27d371a0868fba9cbba2b"};
galleries.gallery_6bd8343d3fe27d371a0868fba9cbba2b.wordpress_page_root = "http:\/\/c-nergy.be\/blog\/?p=12043";
var nextgen_lightbox_settings = {"static_path":"","context":"nextgen_images"};
galleries.gallery_3382d7fe76d1b2d49ebe1fae8e6328c6 = {"id":null,"ids":null,"source":"galleries","src":"","container_ids":[],"gallery_ids":[],"album_ids":[],"tag_ids":[],"display_type":"photocrati-nextgen_basic_singlepic","display":"","exclusions":[],"order_by":"sortorder","order_direction":"ASC","entity_ids":["3074"],"tagcloud":false,"returns":"included","slug":null,"sortorder":[],"display_settings":{"width":"320","height":"240","link":"","float":"center","quality":"100","crop":"0","display_watermark":"0","display_reflection":"0","template":"\/customers\/6\/2\/f\/c-nergy.be\/httpd.www\/blog\/wp-content\/plugins\/nextgen-gallery\/products\/photocrati_nextgen\/modules\/ngglegacy\/view\/singlepic.php","use_lightbox_effect":true,"mode":"","ngg_triggers_display":"never","link_target":"_blank","_errors":[],"w":"320","h":"240"},"excluded_container_ids":[],"maximum_entity_count":500,"__defaults_set":true,"_errors":[],"ID":"3382d7fe76d1b2d49ebe1fae8e6328c6"};
galleries.gallery_3382d7fe76d1b2d49ebe1fae8e6328c6.wordpress_page_root = "http:\/\/c-nergy.be\/blog\/?p=12043";
var nextgen_lightbox_settings = {"static_path":"","context":"nextgen_images"};
galleries.gallery_42345838a888225dd3ff47de57500f41 = {"id":null,"ids":null,"source":"galleries","src":"","container_ids":[],"gallery_ids":[],"album_ids":[],"tag_ids":[],"display_type":"photocrati-nextgen_basic_singlepic","display":"","exclusions":[],"order_by":"sortorder","order_direction":"ASC","entity_ids":["3075"],"tagcloud":false,"returns":"included","slug":null,"sortorder":[],"display_settings":{"width":"320","height":"240","link":"","float":"center","quality":"100","crop":"0","display_watermark":"0","display_reflection":"0","template":"\/customers\/6\/2\/f\/c-nergy.be\/httpd.www\/blog\/wp-content\/plugins\/nextgen-gallery\/products\/photocrati_nextgen\/modules\/ngglegacy\/view\/singlepic.php","use_lightbox_effect":true,"mode":"","ngg_triggers_display":"never","link_target":"_blank","_errors":[],"w":"320","h":"240"},"excluded_container_ids":[],"maximum_entity_count":500,"__defaults_set":true,"_errors":[],"ID":"42345838a888225dd3ff47de57500f41"};
galleries.gallery_42345838a888225dd3ff47de57500f41.wordpress_page_root = "http:\/\/c-nergy.be\/blog\/?p=12043";
var nextgen_lightbox_settings = {"static_path":"","context":"nextgen_images"};
galleries.gallery_c1c215c968065367f038899855ea14ad = {"id":null,"ids":null,"source":"galleries","src":"","container_ids":[],"gallery_ids":[],"album_ids":[],"tag_ids":[],"display_type":"photocrati-nextgen_basic_singlepic","display":"","exclusions":[],"order_by":"sortorder","order_direction":"ASC","entity_ids":["3076"],"tagcloud":false,"returns":"included","slug":null,"sortorder":[],"display_settings":{"width":"320","height":"240","link":"","float":"center","quality":"100","crop":"0","display_watermark":"0","display_reflection":"0","template":"\/customers\/6\/2\/f\/c-nergy.be\/httpd.www\/blog\/wp-content\/plugins\/nextgen-gallery\/products\/photocrati_nextgen\/modules\/ngglegacy\/view\/singlepic.php","use_lightbox_effect":true,"mode":"","ngg_triggers_display":"never","link_target":"_blank","_errors":[],"w":"320","h":"240"},"excluded_container_ids":[],"maximum_entity_count":500,"__defaults_set":true,"_errors":[],"ID":"c1c215c968065367f038899855ea14ad"};
galleries.gallery_c1c215c968065367f038899855ea14ad.wordpress_page_root = "http:\/\/c-nergy.be\/blog\/?p=12043";
var nextgen_lightbox_settings = {"static_path":"","context":"nextgen_images"};
/* ]]> */
</script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/nextgen_gallery_display/static/common.js?ver=3.2.19'></script>
<script type='text/javascript'>
            var nggLastTimeoutVal = 1000;

			var nggRetryFailedImage = function(img) {
				setTimeout(function(){
					img.src = img.src;
				}, nggLastTimeoutVal);
			
				nggLastTimeoutVal += 500;
			}
        

            var nggLastTimeoutVal = 1000;

			var nggRetryFailedImage = function(img) {
				setTimeout(function(){
					img.src = img.src;
				}, nggLastTimeoutVal);
			
				nggLastTimeoutVal += 500;
			}
        

            var nggLastTimeoutVal = 1000;

			var nggRetryFailedImage = function(img) {
				setTimeout(function(){
					img.src = img.src;
				}, nggLastTimeoutVal);
			
				nggLastTimeoutVal += 500;
			}
        

            var nggLastTimeoutVal = 1000;

			var nggRetryFailedImage = function(img) {
				setTimeout(function(){
					img.src = img.src;
				}, nggLastTimeoutVal);
			
				nggLastTimeoutVal += 500;
			}
        

            var nggLastTimeoutVal = 1000;

			var nggRetryFailedImage = function(img) {
				setTimeout(function(){
					img.src = img.src;
				}, nggLastTimeoutVal);
			
				nggLastTimeoutVal += 500;
			}
        
</script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/lightbox_context.js?ver=3.2.19'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/fancybox/jquery.easing-1.3.pack.js?ver=3.2.19'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/fancybox/jquery.fancybox-1.3.4.pack.js?ver=3.2.19'></script>
<script type='text/javascript' src='http://c-nergy.be/blog/wp-content/plugins/nextgen-gallery/products/photocrati_nextgen/modules/lightbox/static/fancybox/nextgen_fancybox_init.js?ver=3.2.19'></script>
<script type='text/javascript' src='https://use.fontawesome.com/releases/v5.3.1/js/v4-shims.js?ver=5.3.1'></script>
<script type='text/javascript' defer integrity="sha384-kW+oWsYx3YpxvjtZjFXqazFpA7UP/MbiY4jvs+RWZo2+N94PFZ36T6TFkc9O3qoB" crossorigin="anonymous" data-auto-replace-svg="false" data-keep-original-source="false" data-search-pseudo-elements src='https://use.fontawesome.com/releases/v5.3.1/js/all.js?ver=5.3.1'></script>

</body>
</html>
