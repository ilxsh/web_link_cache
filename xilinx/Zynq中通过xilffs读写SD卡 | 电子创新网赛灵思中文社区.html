<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-hans" lang="zh-hans" dir="ltr"> -->
<html xmlns:wb="http://open.weibo.com/wb"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="canonical" href="http://xilinx.eetrend.com/d6-xilinx/blog/2016-11/10660.html">
<link rel="shortcut icon" href="http://xilinx.eetrend.com/files-eetrend-xilinx/corolla_favicon.ico" type="image/x-icon">
  <title>Zynq中通过xilffs读写SD卡 | 电子创新网赛灵思中文社区</title>
  <link rel="alternate" type="application/rss+xml" title="xilinx中文社区" href="http://xilinx.eetrend.com/rss">
  <link type="text/css" rel="stylesheet" media="all" href="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/reset.css">
  <link type="text/css" rel="stylesheet" media="all" href="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/css_e9c4dc7b3729639b2c4689830ef76765.css">
<link type="text/css" rel="stylesheet" media="print" href="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/css_376856f35d25c98b307f55cb8b1a9521.css">
  <style type="text/css" media="all">/* Base font size */
html {
  font-size: 14px;
}

/* Layout width */
body.two-sidebars #header-menu,
body.two-sidebars #header,
body.two-sidebars #main-columns {
  width: ;
  min-width:800px;
  max-width: 1220px;
}
body.one-sidebar #header-menu,
body.one-sidebar #header,
body.one-sidebar #main-columns {
  width: ;
  min-width: 800px;
  max-width: 1220px;
}
body.no-sidebars #header-menu,
body.no-sidebars #header,
body.no-sidebars #main-columns {
  width: ;
  min-width: 800px;
  max-width: 1220px;
}

/**
 * Color schemes
 */

/* Background */
body {
  background-color: #ffffff;
}
#header-menu .content > ul > li.active-trail {
  background-color: #ffffff;
}
/* Text (black) */
body,
#site-name a,
#header-menu .content li.active a,
h1.page-title,
.node h2.node-title,
.node h1.node-title a,
.node h2.node-title a,
.comment h3.title a,
.tabs ul.tabs li a,
pre,
code,
samp,
var,
table.update tr,
table.system-status-report tr {
  color: #2e2e2e;
}
#site-name a::-moz-selection {
  background-color: #2e2e2e;
}
#site-name a::selection {
  background-color: #2e2e2e;
}
.node-title a::-moz-selection {
  background-color: #2e2e2e;
}
.node-title a::selection {
  background-color: #2e2e2e;
}
/* Link (blue) */
a,
a.active,
li a.active {
  color: #086782;
}
legend {
  background-color: #086782;
}
/* Link hovered (orange) */
a:hover,
a:focus,
a.active:hover,
a.active:focus,
li a.active:hover,
li a.active:focus {
  color: #e25401;
  border-bottom-color: #e25401;
}
.node h1.node-title a:hover,
.node h2.node-title a:hover {
  color: #e25401;
}
/* Link underline (light blue) */
a {
  border-bottom: 1px solid #cfdde5;
}
/* Header menu (black) */
#header-menu-wrapper {
  background-color: #ffffff;
}
/* Header menu hovered (orange) */
#header-menu .content li a:hover,
#header-menu .content li a:active,
#header-menu .content li a:focus {
  background-color: #e25402;
}
/* Slogan (orange) */
#site-slogan {
  color: #e25400;
}
#site-slogan::selection {
  background-color: #e25402;
}
#site-slogan::-moz-selection {
  background-color: #e25402;
}
.poll .bar .foreground {
  background-color: #e25402;
}
/* Border (gray) */
#page {
  border: 0px solid #e1e1e1;
}
/* Border strong (dark gray) */
#sidebar-first input,
#sidebar-second input {
  border: 1px solid #c4c4c4;
}
.tabs ul.tabs li a {
  border: 1px solid #c4c4c4;
}
/* Tab */
.tabs ul.tabs li a {
  background-color: #f5f4f3;
}
ul.vertical-tabs-list li a {
  background-color: #f5f4f3;
}
/* Block title (green) */
.block h2,
h2 {
  color: #779125;
}
.block h2::selection {
  color: #fff;
  background-color: #779125;
}
.block h2::-moz-selection {
  background-color: #779125;
  color: #fff;
}
/* Fieldset (gray) */
fieldset {
  background-color: #fbfbfb;
}
/* Fieldset border (dark gray) */
fieldset {
  border: 1px solid #e1e1e2;
}

</style> 

  <!--[if lte IE 8]>
  <link type="text/css" rel="stylesheet" href="/sites/xilinx.eetrend.com/themes/corolla/ie8.css" media="all" />
  <![endif]-->

  <!--[if lte IE 7]>
  <link type="text/css" rel="stylesheet" href="/sites/xilinx.eetrend.com/themes/corolla/ie7.css" media="all" />
  <![endif]-->

    <meta property="wb:webmaster" content="805bfea205ee31b3">
 <script src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/wb.js" type="text/javascript" charset="utf-8"></script><script charset="UTF-8" src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/query.asc"></script>
</head>
<body class="not-front not-logged-in page-node node-type-blog  two-sidebars">


      <div id="header-menu-wrapper">
      <div id="header-menu">
        <div id="block-block-18" class="block block-block">
  <div class="inner">
  
    <div class="content">
      <p><a href="http://xilinx.eetrend.com/"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/xilinx-eetrend-logo2.html"></a></p>
    </div>
  </div>
</div>
<div id="block-block-19" class="block block-block">
  <div class="inner">
  
    <div class="content">
      <div id="my-user-bar"><div class="item-list"><ul><li class="first"><a href="http://xilinx.eetrend.com/rss.xml"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/feed.png" border="0"></a></li>
<li><a href="http://xilinx.eetrend.com/user/register?destination=node%2F10660" rel="nofollow">免费注册</a></li>
<li class="last"><a href="http://xilinx.eetrend.com/user/login?destination=node%2F10660" rel="nofollow">登 录</a></li>
</ul></div></div>    </div>
  </div>
</div>
<div id="block-menu-primary-links" class="block block-menu">
  <div class="inner">
  
    <div class="content">
      <ul class="menu"><li class="leaf first"><a href="http://xilinx.eetrend.com/" title="">首页</a></li>
<li class="leaf"><a href="http://xilinx.eetrend.com/news" title="Xilinx News">新闻</a></li>
<li class="leaf"><a href="http://xilinx.eetrend.com/webinar" title="webinar">视频</a></li>
<li class="leaf"><a href="http://xilinx.eetrend.com/blog" title="Blog">博客</a></li>
<li class="leaf"><a href="http://xilinx.eetrend.com/forum" title="">互动专区</a></li>
<li class="leaf"><a href="http://xilinx.eetrend.com/article" title="article">技术文章</a></li>
<li class="leaf"><a href="http://xilinx.eetrend.com/download" title="download">下载中心</a></li>
<li class="leaf"><a href="http://xilinx.eetrend.com/d6-xilinx/category/4858.html" title="xilinx午后加油站，提供启迪FPGA开发小故事、小技巧和快资讯，助您在午后获得FPGA开发动力，解决开发难题！">Xilinx 午后加油站</a></li>
<li class="leaf"><a href="http://www.wiki.xilinx.com/" title="">Xilinx Wiki</a></li>
<li class="leaf"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2010-04/615.html" title="">Xilinx 大学计划</a></li>
<li class="leaf"><a href="http://xilinx.eetrend.com/activity" title="activity">活动</a></li>
<li class="leaf last"><a href="http://mall.eetrend.com/" title="">商城</a></li>
</ul>    </div>
  </div>
</div>
      </div>
    </div>
  

  <div id="header-wrapper">
    <div id="header" class="clear-block">
      
      
    </div> <!-- /#header -->
  </div> <!-- /#header-wrapper -->

  <div id="main-columns-wrapper">
    <div id="main-columns">
      
      
    <div id="sidebar-first" class="clear-block first">
    <div class="region region-sidebar-first">
      <div id="block-block-28" class="block block-block">
  <div class="inner">
      <div class="hd"><h2>开发者专区</h2></div>
  
    <div class="content">
      <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://china.xilinx.com/products/design-tools/software-zone.html">软件开发专区</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://china.xilinx.com/products/design-tools/hardware-zone.html">硬件开发专区</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://china.xilinx.com/products/design-tools/system-zone.html">系统开发专区</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://china.xilinx.com/products/design-tools/acceleration-zone.html">加速专区</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://china.xilinx.com/products/design-tools/cloud-based-acceleration.html">加速云服务</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://china.xilinx.com/products/design-tools/embedded-vision-zone.html">reVISION专区</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://china.xilinx.com/applications/megatrends/machine-learning.html">机器学习</a></p>
    </div>
  </div>
</div>
<div id="block-block-2" class="block block-block">
  <div class="inner">
      <div class="hd"><h2>技术与方案</h2></div>
  
    <div class="content">
      <div class="taxonomy_tree">
<ul>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/19.html">DSP</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/22.html">低功耗</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/21.html">存储器</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/1050.html">时序/验证</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/18.html">嵌入式处理</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/24.html">设计安全性</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/20.html">连接</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/23.html">配置</a> </li>
</ul>


</div>    </div>
  </div>
</div>
<div id="block-block-1" class="block block-block">
  <div class="inner">
      <div class="hd"><h2>产品与工具</h2></div>
  
    <div class="content">
      <div class="taxonomy_tree">
<ul>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/8096.html">reVISION</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/5959.html">SDAccel开发环境</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/6243.html">SDSoC开发环境</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/7884.html">SDNet</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/7886.html">Kintex UltraScale</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/7887.html">Virtex UltraScale</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/7888.html">Zynq MPSoC</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/7885.html">UltraScale+</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/6418.html">UltraFast </a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/4549.html">UltraScale</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/8691.html">RFSoc</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/8692.html">机器学习</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/1210.html">ZYNQ</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/1522.html">Vivado设计套件</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/768.html">Artix-7</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/769.html">Kintex-7</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/770.html">Virtex-7</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/6.html">Virtex-6</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/568.html">Virtex-5</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/569.html">Virtex-4</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/7763.html">Spartan-7</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/7.html">Spartan-6</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/11.html">MicroBlaze核</a> </li>
<li>  <a href="http://xilinx.eetrend.com/d6-xilinx/category/6080.html">JESD204B</a> </li>
</ul>


</div>    </div>
  </div>
</div>
    </div>
  </div> <!-- /#sidebar-first -->

<div id="main-wrapper" class="">
  <div id="main">
    <div id="page" class="clear-block">
      <!--<div id="breadcrumb"><div class="breadcrumb"><a href="/">首页</a> » <a href="/blog">Blogs</a> » <a href="/d6-xilinx/blogs/judyzhong.html">judyzhong&#039;s blog</a></div></div>-->
      
      
      
      
      <a id="main-content"></a>
              <h1 class="page-title"><div style="padding:10px;">Zynq中通过xilffs读写SD卡</div></h1>
      
      
              <div class="region region-content">
          <div id="node-10660" class="node sticky">

  <div class="node-header">

          <span class="submitted">由 <a href="http://xilinx.eetrend.com/d6-xilinx/users/judyzhong.html" title="浏览用户信息">judyzhong</a> 于 星期四, 11/10/2016 - 10:04 发表</span>
  

  </div> <!-- /.node-header -->

  <div class="content">
        <div class="field field-type-filefield field-field-main-image">
    <div class="field-items">
            <div class="field-item odd">
                    <img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/10660-26819-zynq-7000-2.jpg" alt="" title="" class="imagecache imagecache-image600 imagecache-default imagecache-image600_default" width="600" height="338">        </div>
        </div>
</div>
<p>本文主要介绍在zynq中通过xilffs库读写SD卡的一个例子，并给出在使用中遇到的问题。</p>
<p>在Xilinx 
SDK的standalone已移植好了FatFs库(SDK中叫做xilffs)，所以在SDK中添加xilffs库后就可以在程序中使用FatFs中
各API来操作SD卡，该库支持FAT12, FAT16 and FAT32文件系统（本例将SD卡格式化为FAT32）。FatFs 
API详细说明可查看 <a href="http://elm-chan.org/fsw/ff/00index_e.html" title="http://elm-chan.org/fsw/ff/00index_e.html">http://elm-chan.org/fsw/ff/00index_e.html</a> 。</p>
<p><strong>一个例子</strong></p>
<p>zynq中PS部分已经集成了SD卡控制器，在PS部分需要打开SD卡控制器，并配置对应管脚（取决于开发板），本人用的开发板PS部分配置如下图<br>
</p><center><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/10660-26816-20161110-1.jpg" alt="" width="640"></center><p></p>
<p>综合实现生成.bit后导出，lautch SDK进入SDK新建工程和BSP，由于用了xilffs库所以在BSP中需要选择打开xilffs，如下图<br>
</p><center><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/10660-26817-20161110-2.jpg" alt="" width="640"></center><p></p>
<p>对于xilffs的设置如下图<br>
</p><center><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/10660-26818-20161110-3.jpg" alt="" width="640"></center><p></p>
<p>enable_mmc选择false；fs_interface选择1；read_only选择false。可以参考后面Description描述来设置。本例使用如上默认配置即可。</p>
<p>c程序如下：<br>
/*<br>
 * main.c<br>
 *<br>
 *  Created on: 2016年8月20日<br>
 *      Author: hsp<br>
 *  本文件实现SD写入一段字符串，然后从其中读出并打印到串口。<br>
 *<br>
 */</p>
<p>#include <string.h><br>
#include "platform.h"<br>
#include "xparameters.h"</string.h></p>
<p>#include "xil_printf.h"<br>
#include "ff.h"<br>
#include "xdevcfg.h"</p>
<p>static FATFS fatfs;</p>
<p>int SD_Init()<br>
{<br>
    FRESULT rc;</p>
<p>    rc = f_mount(&amp;fatfs,"",0);<br>
    if(rc)<br>
    {<br>
        xil_printf("ERROR : f_mount returned %d\r\n",rc);<br>
        return XST_FAILURE;<br>
    }<br>
    return XST_SUCCESS;<br>
}</p>
<p>int SD_Transfer_read(char *FileName,u32 DestinationAddress,u32 ByteLength)<br>
{<br>
    FIL fil;<br>
    FRESULT rc;<br>
    UINT br;</p>
<p>    rc = f_open(&amp;fil,FileName,FA_READ);<br>
    if(rc)<br>
    {<br>
        xil_printf("ERROR : f_open returned %d\r\n",rc);<br>
        return XST_FAILURE;<br>
    }<br>
    rc = f_lseek(&amp;fil, 0);<br>
    if(rc)<br>
    {<br>
        xil_printf("ERROR : f_lseek returned %d\r\n",rc);<br>
        return XST_FAILURE;<br>
    }<br>
    rc = f_read(&amp;fil, (void*)DestinationAddress,ByteLength,&amp;br);<br>
    if(rc)<br>
    {<br>
        xil_printf("ERROR : f_read returned %d\r\n",rc);<br>
        return XST_FAILURE;<br>
    }<br>
    rc = f_close(&amp;fil);<br>
    if(rc)<br>
    {<br>
        xil_printf(" ERROR : f_close returned %d\r\n", rc);<br>
        return XST_FAILURE;<br>
    }<br>
    return XST_SUCCESS;<br>
}</p>
<p>int SD_Transfer_write(char *FileName,u32 SourceAddress,u32 ByteLength)<br>
{<br>
    FIL fil;<br>
    FRESULT rc;<br>
    UINT bw;</p>
<p>    rc = f_open(&amp;fil,FileName,FA_CREATE_ALWAYS | FA_WRITE);<br>
    if(rc)<br>
    {<br>
        xil_printf("ERROR : f_open returned %d\r\n",rc);<br>
        return XST_FAILURE;<br>
    }<br>
    rc = f_lseek(&amp;fil, 0);<br>
    if(rc)<br>
    {<br>
        xil_printf("ERROR : f_lseek returned %d\r\n",rc);<br>
        return XST_FAILURE;<br>
    }<br>
    rc = f_write(&amp;fil,(void*) SourceAddress,ByteLength,&amp;bw);<br>
    if(rc)<br>
    {<br>
        xil_printf("ERROR : f_write returned %d\r\n", rc);<br>
        return XST_FAILURE;<br>
    }<br>
    rc = f_close(&amp;fil);<br>
    if(rc){<br>
        xil_printf("ERROR : f_close returned %d\r\n",rc);<br>
        return XST_FAILURE;<br>
    }<br>
    return XST_SUCCESS;<br>
}</p>
<p>#define FILE "test.txt"</p>
<p>int main()<br>
{<br>
    init_platform();</p>
<p>    const char src_str[] = "hsp test sd card write and read!";<br>
    u32 len = strlen(src_str);</p>
<p>    SD_Init();<br>
    SD_Transfer_write(FILE,(u32)src_str,(len+1000));//当直接指定len时没有写出，需要指定较大的长度才会写出，原因未知</p>
<p>    char dest_str[33];//len&lt;=33<br>
    SD_Init();<br>
    SD_Transfer_read(FILE,(u32)dest_str,(len+1));</p>
<p>    xil_printf("%s\r\n",dest_str);<br>
    print("SD write and read over!\r\n");</p>
<p>    cleanup_platform();<br>
    return 0;<br>
}</p>
<p>. SD_Init函数主要用f_mount函数注册工作区域<br>
. SD_Transfer_read主要用f_open打开文件，后用f_read将从文件中读取数据到缓冲区，最后用f_close关闭文件<br>
. SD_Transfer_write主要用f_open打开文件，后用f_write将缓冲区的内容写入到文件，最后用f_close关闭文件</p>
<p>FatFs API详细说明请参考上面FatFs链接中的说明。</p>
<p>注意：由于使用了strlen函数需要#include <string.h>；使用了FatFs API所以要#include "ff.h"；使用了XST_SUCCESS之类的宏定义作为返回值所以要#include "xdevcfg.h"。</string.h></p>
<p><strong>问题</strong></p>
<p><strong>关于文件名</strong></p>
<p>刚开始定义#define FILE 
"husipeng_test.txt"，每次运行在打开文件时返回6即FR_INVALID_NAME，也就是说文件名无效，查询API库Path 
Names页面，再看文件ffconf.h中有定义#define _FS_RPATH 0U；即文件名不能用子目录而且为8.3 format 
file name 
(SFN)格式，也就说文件名只能为：&lt;8个字符+.+&lt;3字符方式，所以这里定义的文件名太长才引起的错误，所以改为#define 
FILE "test.txt"这样的短文件名即可解决这个问题。</p>
<p><strong>关于写保护</strong></p>
<p>解决了以上文件名错误后，发现本次打开文件返回10即FR_WRITE_PROTECTED，也就是SD卡打开了写保护，本人开发板上使用的小卡且
也没有写保护的设置管脚。最后发现直接在PS部分SD卡设置里将WP取消选择即可（改正后设置如上面PS部分设置图中所示），出错原因应该是开发板上没有
写保护管脚相关的设置，而开始在PS中又设置了WP管脚并设定到了一个MIO管脚，这将导致对写保护的误判；WP管脚需要拉低才能取消写保护，才能写SD
卡，所以也可以将SD控制器的WP管脚连到EMIO，然后在PL部分将此EMIO拉低即可；而这里选择使用前面不连接WP的方法。</p>
<p><strong>关于文件长度</strong></p>
<p>解决以上两个问题后，写入文件是成功了，但是从电脑中打开查看，test.txt文件是存在了，但是内容为空，产看写入字节数bw的值也非0的正确
值，理应写入了才对，但实际上却没有写进去，后来改变写入数据的大小发现每次写入的字节数比f_write(&amp;fil,(void*) 
SourceAddress,ByteLength,&amp;bw);传递的参数ByteLength小几十到一百多B不等；也就是说最终真的写入文件
的字节数比ByteLength小（而返回写入的字节数bw却与ByteLength相等）；后来怀疑是内部缓存没有更新到文件中，但检查f_close
中也调用了f_sync(fp);即Flush cached 
data。最后直接将传递入的ByteLength加大1000（如上程序中SD_Transfer_write(FILE,(u32)src_str,
(len+1000));），这样需要写入的数据是写入了，而通常会多写入一些其他数据，这也是没有办法，只有在读取的时候只读取有效部分。所以最终没有
完全解决这个问题，希望有知道的朋友留言指教。</p>
<p>文章来源：<a href="http://blog.csdn.net/husipeng86">husipeng86的专栏</a></p>
  </div>

  <div class="links-wrapper">
          <div class="terms terms-inline"><ul class="links inline"><li class="taxonomy_term_6574 first"><a href="http://xilinx.eetrend.com/d6-xilinx/category/6574.html" rel="tag" title="介绍与赛灵思FPGA开发有关的嵌入式实时软件、操作系统、中间件、开发平台、工具以及开源资料等。">嵌入式开发</a></li>
<li class="taxonomy_term_1166 last"><a href="http://xilinx.eetrend.com/d6-xilinx/category/1166.html" rel="tag" title="">Zynq</a></li>
</ul></div>
        <ul class="links inline"><li class="blog_usernames_blog first"><a href="http://xilinx.eetrend.com/d6-xilinx/blogs/judyzhong.html" title="Read judyzhong's latest blog entries.">judyzhong's blog</a></li>
<li class="comment_forbidden"><span>要发表评论，请先<a href="http://xilinx.eetrend.com/user/login?destination=comment%2Freply%2F10660%23comment-form">登录</a> 或 <a href="http://xilinx.eetrend.com/user/register?destination=comment%2Freply%2F10660%23comment-form">注册</a></span></li>
<li class="statistics_counter last"><span>3661 次点击</span></li>
</ul>  </div>

</div>
<div id="block-relevant_content-relate" class=" block-relevant_content">
  <div class="inner">
      <div class="hd"><h2>相关文章</h2></div>
  
    <div class="content">
      <div class="item-list"><ul><li class="first"><a href="http://xilinx.eetrend.com/d6-xilinx/blog/2018-12/14114.html">ZYNQ Linux开发——ZedBoard使用ubuntu16.04文件系统+桌面</a></li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/blog/2018-12/14108.html">ZYNQ+Vivado2015.2系列（十三）私有定时器中断</a></li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/blog/2018-12/14052.html">ZYNQ+Vivado2015.2系列（十二）按键中断（PL中断请求）</a></li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/blog/2018-12/14044.html">ZYNQ+Vivado2015.2系列（十一）BRAM的使用——PS与PL交互数据，及其与DRAM（Distributed RAM）的区别</a></li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/blog/2018-12/14030.html">ZYNQ QNX开发——资源管理器对close()的处理</a></li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/blog/2018-12/14014.html">ZYNQ+Vivado2015.2系列（十）MIO/EMIO再识，MIO的引脚“复用”，EMIO当作PS的接口连接PL</a></li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/blog/2018-12/14003.html">ZYNQ QNX开发——PL串口设备驱动遇到的问题</a></li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/article/2018-12/13996.html">PYNQ上手笔记（4）——Zynq中断应用</a></li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/blog/2018-12/13990.html">基于ZYNQ（Miz702）的EMIO与MIO联合操作（寄存器版）</a></li>
<li class="last"><a href="http://xilinx.eetrend.com/d6-xilinx/blog/2018-12/13975.html">ZYNQ+Vivado2015.2系列（九）基于AXI总线的等精度频率计（测量数字信号频率）</a></li>
</ul></div>    </div>
  </div>
</div>
        </div>
      
                </div> <!-- /#page -->


    <div id="closure">
      <div id="info">
        <a href="http://murata.eetrend.com/" target="_blank">村田中文技术社区</a> |<a href="http://imgtec.eetrend.com/">Imagiantion中文技术社区</a> | <a href="http://xilinx.eetrend.com/">创新网Xilinx中文社区</a> | <a href="http://altium.eetrend.com/">创新网Altium中文社区</a>
<br>
<a href="http://seminar.eetrend.com/">研讨会大全</a> | <a href="http://www.sdnlab.com/">SDN社区</a>
<br>
<div id="copyright"><a href="http://www.eetrend.com/about">关于我们</a> | <a href="http://www.eetrend.com/contact">联系我们</a> | <a href="http://www.eetrend.com/service">广告服务</a> | <a href="http://www.eetrend.com/legal">法律声明</a> | <a href="http://www.eetrend.com/sitemap">网站地图</a> | <a href="http://www.eetrend.com/link">友情链接</a><br>--电子创新网--<br><a href="http://www.miibeian.gov.cn/">粤ICP备12070055号</a></div>	 
      </div>

          </div> <!-- /#closure -->

  </div> <!-- /#main -->
</div> <!-- /#main-wrapper -->

    <div id="sidebar-second" class="clear-block last">
    <div class="region region-sidebar-second">
      <div id="block-block-20" class="block block-block">
  <div class="inner">
  
    <div class="content">
      <p><a href="https://forums.xilinx.com/t5/Xcell-Daily-Blog/bg-p/Xcell"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/12762-41210-6577-11095-350banner.jpg"></a></p>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2015-06/8762.html">Xilinx午后加油站所有文章列表<img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/100023707-10626-new-1.html" alt=""></a></li>
<li><span lang="EN-US"><a href="http://cl.s7.exct.net/?qs=7bca481cc3090e5096baf470bde9e9fe09d76f12c2e82a36db05151cb05f87f316152cb299c7188a7527a7e26e8e2fc6">OKI IDS&nbsp;</a></span><a href="http://cl.s7.exct.net/?qs=7bca481cc3090e5096baf470bde9e9fe09d76f12c2e82a36db05151cb05f87f316152cb299c7188a7527a7e26e8e2fc6">和<span lang="EN-US">&nbsp;Avnet&nbsp;</span>基于<span lang="EN-US">&nbsp;Zynq UltraScale+ MPSoC&nbsp;</span>开发<span lang="EN-US">&nbsp;ADAS</span>和<span lang="EN-US">&nbsp;4/5&nbsp;</span>级自动驾驶电路板设计方案<span lang="EN-US">&nbsp;</span></a></li>
<li><a href="http://cl.s7.exct.net/?qs=7bca481cc3090e50ae86af5a28b331325f1dd50a122da8adffed891dfb6f3a4151972222528319fc009ff9be487e9481">何时（和为什么）在嵌入式系统设计中使用<span lang="EN-US">&nbsp;FPGA&nbsp;</span>比较好？一位<span lang="EN-US">Xilinx DSP&nbsp;</span>现成应用工程师回应</a></li>
<li><a href="http://cl.s7.exct.net/?qs=7bca481cc3090e501290886574f8ac852d31379051ed6805a1bcd279b2219387e5c231c91154a511b30fc56c74c50553">需要为<span lang="EN-US">&nbsp;5G&nbsp;</span>应用构建海量<span lang="EN-US">&nbsp;MIMO RF&nbsp;</span>系统吗？最新<span lang="EN-US">&nbsp;EDN&nbsp;</span>文章将告诉您如何使用<span lang="EN-US">&nbsp;Xilinx Zynq UltraScale+ RFSoC</span></a></li>
    </div>
  </div>
</div>
<div id="block-block-31" class="block block-block">
  <div class="inner">
  
    <div class="content">
      <p><a href="http://china.xilinx.com/products/design-tools/embedded-vision-zone.html"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/revision.jpg" alt="" align="middle"></a></p>
<li>  <a href="http://xilinx.eetrend.com/news/11097">reVISION惊艳登场， Xilinx让视觉导向机器学习更简单！</a></li>
<li><a href="http://xilinx.eetrend.com/webinar/11082">视频：使用 reVISION 实现的 4K60 密集光流算法</a></li>
<li><a href="http://xilinx.eetrend.com/article/11054">一文带你了解Xilinx reVISION堆栈</a></li>
<li><a href="http://xilinx.eetrend.com/article/11044">reVISION: 将全可编程技术扩展至广泛的视觉导向机器学习应用</a></li>
<li><a href="http://xilinx.eetrend.com/webinar/11050">【视频】reVISION：为视觉导向的机器学习应用铺平道路</a></li>
    </div>
  </div>
</div>
<div id="block-block-25" class="block block-block">
  <div class="inner">
      <div class="hd"><h2>热门推荐</h2></div>
  
    <div class="content">
      <p><a href="http://china.xilinx.com/"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/cn300x169.jpg"></a><br>
<a href="http://www.eetrend.com/XILINX2016"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/12811-36453-banner.jpg"></a><br>
<a href="http://www.eetrend.com/topics/2018-03/100077696.html"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/100065169-84442-xilinxsae300.jpg" alt="" align="middle"></a><br>
<a href="http://xilinx.eetrend.com/news/7989"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/7989-15230-300x190.jpg" width="300" height="190" align="middle"></a><br>
<a href="http://xilinx.eetrend.com/files-eetrend-xilinx/download/201608/10406-25595-xcellruanjiankandisanqi.pdf"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/12811-36455-xcell.jpg" width="300" height="407" align="middle"></a></p>
    </div>
  </div>
</div>
<div id="block-block-24" class="block block-block">
  <div class="inner">
      <div class="hd"><h2>FPGA开发交流</h2></div>
  
    <div class="content">
      <h3><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/12259-33803-weixin.jpg"></h3>
<p></p>
<h3><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/7708-14142-fpgajiaoliuqun.jpg"></h3>
<p></p>
    </div>
  </div>
</div>
<div id="block-views-frontpage-block_1" class="block block-views">
  <div class="inner">
      <div class="hd"><h2>今日头条</h2></div>
  
    <div class="content">
      <div class="view view-frontpage view-id-frontpage view-display-id-block_1 view-dom-id-1">
    
  
  
      <div class="view-content">
      <div class="item-list">
    <ol>
          <li class="views-row views-row-1 views-row-odd views-row-first">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2018-11/13936.html">【震撼！】赛灵思FPGA+华芯通ARM CPU比传统 x86+GPU方案能效提升10倍！</a></span>
  </div>
</li>
          <li class="views-row views-row-2 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/article/2018-11/13935.html">Video Codec – Xilinx EV系列Video Codec基本介绍</a></span>
  </div>
</li>
          <li class="views-row views-row-3 views-row-odd">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2018-11/13917.html">一文了解 Xilinx 机器学习套件</a></span>
  </div>
</li>
          <li class="views-row views-row-4 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/webinar/2018-11/13906.html">【视频】Zynq-7000 SoC 动态功耗管理演示</a></span>
  </div>
</li>
          <li class="views-row views-row-5 views-row-odd">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/download/2018-11/13891.html">【数据手册】Alveo U200 和 U250 数据中心加速卡（DS962）</a></span>
  </div>
</li>
          <li class="views-row views-row-6 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2018-11/13832.html">赛灵思蝶变之路：从FPGA进入ACAP世界</a></span>
  </div>
</li>
          <li class="views-row views-row-7 views-row-odd">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/download/2018-10/13781.html">【白皮书】赛灵思 AI 引擎及其应用</a></span>
  </div>
</li>
          <li class="views-row views-row-8 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2018-10/13780.html">赛灵思强大FPGA加持，浪潮推出极致性能AI加速卡F37X</a></span>
  </div>
</li>
          <li class="views-row views-row-9 views-row-odd">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2018-10/13772.html">AWS F1覆盖区域数量翻番 ——正式宣布落地中国</a></span>
  </div>
</li>
          <li class="views-row views-row-10 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2018-10/13770.html">又一款7nm惊世产品发布！Xilinx发布颠覆性AI推理产品VersaL!</a></span>
  </div>
</li>
          <li class="views-row views-row-11 views-row-odd">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2018-10/13768.html">Xilinx推出全球最快的数据中心和AI加速器卡</a></span>
  </div>
</li>
          <li class="views-row views-row-12 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2018-10/13767.html">Xilinx推出首款新类别平台—— Versal ： 利用软件可编程性与可扩展的 AI 推断技术支持快速创新</a></span>
  </div>
</li>
          <li class="views-row views-row-13 views-row-odd">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/news/2018-10/13764.html">详细揭秘赛灵思第一款ACAP产品Versal</a></span>
  </div>
</li>
          <li class="views-row views-row-14 views-row-even">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/article/2018-09/13406.html">使用即用型开发板和开源软件快速开发定制的 HP 测试仪器</a></span>
  </div>
</li>
          <li class="views-row views-row-15 views-row-odd views-row-last">  
  <div class="views-field-title">
                <span class="field-content"><a href="http://xilinx.eetrend.com/d6-xilinx/download/2018-09/13387.html">实现更低功耗的更高吞吐量 —— Xilinx业界首款可配置集成型 SD-FEC</a></span>
  </div>
</li>
      </ol>
</div>    </div>
  
  
  
  
  
  
</div>     </div>
  </div>
</div>
<div id="block-comment-0" class="block block-comment">
  <div class="inner">
      <div class="hd"><h2>最新评论</h2></div>
  
    <div class="content">
      <div class="item-list"><ul><li class="first"><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2017-03/11190.html#comment-2907">资料呢？？？？？？？？</a><br>1 周 2 天之前</li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2017-03/11201.html#comment-2906">怎么下载？</a><br>1 周 4 天之前</li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2017-03/11190.html#comment-2905">很好的资料</a><br>3 周 3 天之前</li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2017-03/11190.html#comment-2904">资料在哪呢？</a><br>4 周 2 天之前</li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2018-08/13315.html#comment-2903">小白也要学会看官方文档</a><br>4 周 3 天之前</li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/webinar/2016-08/10428.html#comment-2902">课件</a><br>4 周 4 天之前</li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2017-03/11190.html#comment-2901">666</a><br>4 周 6 天之前</li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2017-03/11190.html#comment-2900">666666666666</a><br>4 周 6 天之前</li>
<li><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2017-03/11190.html#comment-2899">学习学习</a><br>5 周 4 天之前</li>
<li class="last"><a href="http://xilinx.eetrend.com/d6-xilinx/forum/2017-03/11190.html#comment-2898">那么在哪里可以看到资料呢？</a><br>5 周 4 天之前</li>
</ul></div>    </div>
  </div>
</div>
<div id="block-block-23" class="block block-block">
  <div class="inner">
      <div class="hd"><h2>微博</h2></div>
  
    <div class="content">
      <p><iframe class="share_self" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&amp;width=0&amp;height=550&amp;fansRow=1&amp;ptype=1&amp;speed=50&amp;skin=5&amp;isTitle=1&amp;noborder=1&amp;isWeibo=1&amp;isFans=1&amp;uid=2150910802&amp;verifier=cd63d472&amp;dpc=1" width="100%" height="550" frameborder="0"></iframe></p>
    </div>
  </div>
</div>
    </div>
  </div> <!-- /#sidebar-second -->


    </div> <!-- /#main-columns -->
  </div> <!-- /#main-columns-wrapper -->
  
    
<div style="display:none">
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Febf3f0d33b30b519723f3a8fc76c9d94' type='text/javascript'%3E%3C/script%3E"));
</script><script src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/h.js" type="text/javascript"></script><a href="http://tongji.baidu.com/hm-web/welcome/ico?s=ebf3f0d33b30b519723f3a8fc76c9d94" target="_blank"><img src="Zynq%E4%B8%AD%E9%80%9A%E8%BF%87xilffs%E8%AF%BB%E5%86%99SD%E5%8D%A1%20|%20%E7%94%B5%E5%AD%90%E5%88%9B%E6%96%B0%E7%BD%91%E8%B5%9B%E7%81%B5%E6%80%9D%E4%B8%AD%E6%96%87%E7%A4%BE%E5%8C%BA_files/21.gif" width="20" height="20" border="0"></a>
</div>
<!-- JiaThis Button BEGIN -->
<!-- <script type="text/javascript" src="http://v3.jiathis.com/code/jiathis_r.js?uid=1357485142326395&move=0" charset="utf-8"></script> -->
<!-- JiaThis Button END -->


</body></html>