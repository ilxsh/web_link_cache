<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="origin" />
    <meta property="og:description" content="文章转自https://www.cnblogs.com/ayanmw/archive/2011/12/19/2294054.html 你看到的这个文章来自于http://www.cnblogs.com" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>浏览器访问svn - 帅LOVE俊 - 博客园</title>
    <link id="favicon" rel="shortcut icon" href="//common.cnblogs.com/favicon.ico?v=20200522" type="image/x-icon" />
    
    <link rel="stylesheet" href="/css/blog-common.min.css?v=OkWhT11pACV4T_PiDJL8x9WKPwjvEyWNCWQ475DeMM0" />
    <link id="MainCss" rel="stylesheet" href="/skins/codinglife/bundle-codinglife.min.css?v=UeHyLv1TT2WTz4TwfUOiMoKNmtFvLUjUnIhFE2UmZ7I" />
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/codinglife/bundle-codinglife-mobile.min.css?v=H8GruHezJpXuD-qalJEizXcyJTpcNgvvj5MJRziylpg" />
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/shuaiandjun/rss" />
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/shuaiandjun/rsd.xml" />
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/shuaiandjun/wlwmanifest.xml" />
    <script src="https://common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script src="/js/blog-common.min.js?v=vV4imX1ebLq2xPxSzhr9B0eW28ml5Xc7CSXMptQoB78"></script>
    <script>
        var currentBlogId = 281711;
        var currentBlogApp = 'shuaiandjun';
        var cb_enable_mathjax = false;
        var isLogined = false;
        var skinName = 'CodingLife';
    </script>
    
    
    
</head>
<body>
    <a name="top"></a>
    
    
<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
        <a id="lnkBlogLogo" href="https://www.cnblogs.com/shuaiandjun/"><img id="blogLogo" src="/skins/custom/images/logo.gif" alt="返回主页" /></a>		
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/shuaiandjun/">帅S俊</a>
</h1>
<h2>

</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
</li>
<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/shuaiandjun/">
首页</a>
</li>
<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/%E5%B8%85LOVE%E4%BF%8A">
联系</a></li>
<li>
<a id="blog_nav_rss" class="menu" href="javascript:void(0)" data-rss="https://www.cnblogs.com/shuaiandjun/rss/">
订阅</a>
<!--<partial name="./Shared/_XmlLink.cshtml" model="Model" /></li>--></li>
<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
</ul>


		<div class="blogStats">
			
			<span id="stats_post_count">随笔 - 
309&nbsp; </span>
<span id="stats_article_count">文章 - 
0&nbsp; </span>
<span id="stats-comment_count">评论 - 
7</span>

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="post_detail">
    <!--done-->
    <div id="topics">
        <div class="post">
            <h1 class = "postTitle">
                
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/shuaiandjun/p/9624665.html">浏览器访问svn</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                
<div id="cnblogs_post_body" class="blogpost-body ">
    <p>文章转自https://www.cnblogs.com/ayanmw/archive/2011/12/19/2294054.html</p>
<div id="cnblogs_post_body" class="blogpost-body">
<p>你看到的这个文章来自于http://www.cnblogs.com/ayanmw</p>
<p>基本的安装包有: subversion /httpd/ svn的httpd的<span class="command"><strong>mod_dav_svn</strong>&nbsp;mod_authz_svn 两个模块.(yum install mod_dav_svn subversion httpd )</span></p>
<p>svn的服务形式应该是有两种: 1 通过svnserve建立的 通过svn://ip:port 端口默认是3690,这种形式; 2 通过apache httpd或者其他的web服务器的扩展模块,进行svn管理</p>
<p>对于svnserve,通过svnserve -d -r /var/www/svn 这种形式建立 daemon的后台进程,但是结束要 kill `pgrep svnserve` 这种形式 来kill掉,不知道有没有直接的比如 stop的方式.</p>
<p>通过http服务器来管理svn也很不错,可以很方便的浏览.其配置过程如下(首先几个软件都安装,这就不用说了.):</p>
<p>1.在&nbsp;/etc/httpd/module下面 有两个 mod 关于 svn的.</p>
<p>2.在/etc/httpd/config.d/下有一个subversion.conf(没有就建立一个),其内容是:</p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
<pre>LoadModule dav_module         modules/mod_dav.so<br />LoadModule dav_svn_module     modules/mod_dav_svn.so<br />&lt;Location /svn&gt;<br />         DAV svn<br />         SVNPath /var/www/svn/<br />         AuthType Basic<br />         AuthName "Subversion repos"<br />         AuthUserFile /var/www/svn/repos1/conf/passwd<br />         Require valid-user<br /> &lt;/Location&gt;</pre>
<p># To create a new repository "http://localhost/repos/stuff" using<br /># this configuration, run as root:<br />#<br /># # cd /var/www/svn<br /># # svnadmin create stuff<br /># # chown -R apache.apache stuff<br /># # chcon -R -t httpd_sys_content_t stuff</p>
<p>&nbsp;</p>
<p>#&lt;Location /repos&gt;<br /># DAV svn<br /># SVNParentPath /var/www/svn<br />#<br /># # Limit write permission to list of valid users.<br /># &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;<br /># # Require SSL connection for password protection.<br /># # SSLRequireSSL<br />#<br /># AuthType Basic<br /># AuthName "Authorization Realm"<br /># AuthUserFile /path/to/passwdfile<br /># Require valid-user<br /># &lt;/LimitExcept&gt;<br />#&lt;/Location&gt;</p>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>

</div>
<p>其中/var/www/svn是准备放仓库的目录,这个目录可以放置多个代码仓库,AuthUserFile就是用户和密码的文件,也可以移动到其他地方单独管理.</p>
<p>/var/www/svn 下面可以通过 svnadmin createa /var/www/svn/repos1 来建立一个空的仓库.还可以建立多个仓库;这个目录貌似最好 给apche用户所有权限:chown -R apache.apache /var/www/svn ;在repos1/conf目录下可以进行一些账号密码 配置,就不多说了.建立的其他仓库 可以拷贝这些conf文件</p>
<p>其中AuthUserFile 是如何制作的呢？</p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
<pre>创建&ldquo; AuthUserFile &rdquo;设置所需的用户密码以及存储的文件

使用 apache bin/htpasswd 命令来创建。命令的格式为

htpasswd [-cmdpsD] passwordfile username


若第一次创建用户，我们必须使用参数&ldquo;-c&rdquo;来同时创建用户密码文件

htpasswd -c passwd robert

上述命令创建的一个文件&ldquo; passwd&rdquo;，同时在文件里添加了一个 user named &ldquo;robert&rdquo;，执行该命令时会要求输入密码。


注意：创建第二或之后的用户时，一定不能用参数&ldquo; c &rdquo;，否则之前的用户就会被删除。


如果想要删除某个用户，我们可以使用下列命令：

    htpasswd -D passwd robert

这样， robert就被从 passwd中删除了。</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
</div>
<p>下面就是一个示例，创建两个用户 a b，密码 aaa，bbb，再删除。查看密码文件内容：</p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
<pre>[root@src-server websvn]# htpasswd accesspwd a
htpasswd: cannot modify file accesspwd; use '-c' to create it
[root@src-server websvn]# htpasswd -c accesspwd a
New password:
Re-type new password:
Adding password for user a
[root@src-server websvn]# ll accesspwd
-rw-r--r-- 1 root root 16 Jun 23 02:03 accesspwd
[root@src-server websvn]# htpasswd accesspwd b
New password:
Re-type new password:
Adding password for user b
[root@src-server websvn]# cat accesspwd
a:wpEqdKjINQsvM
b:JEpHUbhZZP3fc
[root@src-server websvn]# htpasswd -D accesspwd b
Deleting password for user b
[root@src-server websvn]# cat accesspwd
a:wpEqdKjINQsvM
[root@src-server websvn]#</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>3. sudo service httpd restart 重启httpd apache 服务. 貌似很简单呢..回来再整理下svn的命令 补充.</p>
<p>然后通过&nbsp;<a href="http://ip/svn/repos1">http://IP/svn/repos1</a>可以访问这个仓库,可以建立多个仓库同时访问.不过直接访问 IP/svn 无法列出仓库的列表，apache显示 "forbidden \n You don't have permission to access /svn on this server"</p>
<p>&nbsp;</p>
<p>对于一些svn的web管理程序也有,比如ViewVC 还有一些其他的管理svn的web程序，最好可以在web端创建仓库、权限管理就好了。目前寻找这样的svn web管理程序中。</p>
<p>CentOS 安装websvn直接yum即可，不需要配置mysql，只需要php的支持即可。</p>
<p>查看websvn的包文件</p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
<pre>[root@src-server ~]# yum install websvn
Loaded plugins: fastestmirror, presto, refresh-packagekit
Loading mirror speeds from cached hostfile
 * base: mirrors.btte.net
 * epel: ftp.kddilabs.jp
 * extras: ftp.stu.edu.tw
 * kernel-xen: us1.mirror.crc.id.au
 * updates: mirrors.tuna.tsinghua.edu.cn
Setting up Install Process
Package websvn-2.3.3-2.el6.noarch already installed and latest version
Nothing to do
[root@src-server ~]#rpm -ql websvn
/etc/httpd/conf.d/websvn.conf
/etc/websvn/config.php
/usr/share/doc/websvn-2.3.3
/usr/share/doc/websvn-2.3.3/changes.txt
/usr/share/doc/websvn-2.3.3/doc
/usr/share/doc/websvn-2.3.3/doc/install.html
/usr/share/doc/websvn-2.3.3/doc/style.css
/usr/share/doc/websvn-2.3.3/doc/templates.html
/usr/share/doc/websvn-2.3.3/license.txt
/usr/share/websvn
/usr/share/websvn/blame.php
/usr/share/websvn/cache
/usr/share/websvn/comp.php
/usr/share/websvn/diff.php
/usr/share/websvn/dl.php
/usr/share/websvn/filedetails.php
/usr/share/websvn/include
/usr/share/websvn/include/accessfile.php
/usr/share/websvn/include/auth.php
/usr/share/websvn/include/bugtraq.php
/usr/share/websvn/include/command.php
/usr/share/websvn/include/config.php
/usr/share/websvn/include/configclass.php
/usr/share/websvn/include/diff_inc.php
/usr/share/websvn/include/diff_util.php
/usr/share/websvn/include/header
/usr/share/websvn/include/setup.php
/usr/share/websvn/include/svnlook.php
/usr/share/websvn/include/template.php
/usr/share/websvn/include/utils.php
/usr/share/websvn/include/version.php
/usr/share/websvn/index.php
/usr/share/websvn/languages
/usr/share/websvn/languages/chinese-simplified.php
/usr/share/websvn/languages/languages.php
/usr/share/websvn/languages/省略省略省略
/usr/share/websvn/listing.php
/usr/share/websvn/log.php
/usr/share/websvn/revision.php
/usr/share/websvn/rss.php
/usr/share/websvn/temp
/usr/share/websvn/templates
/usr/share/websvn/templates/BlueGrey
/usr/share/websvn/templates/BlueGrey/省略省略省略
/usr/share/websvn/templates/Elegant
/usr/share/websvn/templates/Elegant/省略省略省略
/usr/share/websvn/templates/calm
/usr/share/websvn/templates/calm/省略省略省略
/usr/share/websvn/wsvn.php
/var/cache/websvn</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
</div>
<p>下面就是vim /etc/websvn/config.php，其实这个文件就是/usr/share/websvn/include/config.php，只是做了一个链接到etc目录，这种方法对于这种需要配置的web程序来说，还真是方便。</p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
<pre>[root@src-server ~]# ll /etc/websvn/config.php
-rw-r--r-- 1 root root 21210 Jun 24 18:48 /etc/websvn/config.php
[root@src-server ~]# ll /usr/share/websvn/include/config.php
lrwxrwxrwx 1 root root 33 Jun 23 01:01 /usr/share/websvn/include/config.php -&gt; ../../../../etc/websvn/config.php
[root@src-server ~]#</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
</div>
<p>这里需要修改的配置选项有：</p>
<p>$config-&gt;parentPath('/srv/svn/');</p>
<p>$config-&gt;useMultiViews();</p>
<p>############ $config-&gt;useAuthenticationFile('/srv/svn/passwd');#这里是因为我 不知道如何在websvn上登录我的账号</p>
<p>&nbsp;$config-&gt;setBlockRobots();#防止搜索程序收录</p>
<p>$config-&gt;expandTabsBy(4);#默认的8 似乎并不适合我的习惯</p>
<p>$config-&gt;useEnscript();##语法高亮&nbsp;建议安装GNU Enscript高亮显示程序包，官方下载：<a href="http://www.iki.fi/~mtr/genscript/" target="_blank">http://www.iki.fi/~mtr/genscript/</a></p>
<p># &nbsp;关于编码 我不知道如何设置，SetInputEncoding 对于我的websvn-2.3.3不起作用，反而websvn出现500错误。</p>
<p>修改/etc/httpd/conf.d/websvn.conf 添加基本权限认证</p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
<pre>Alias /websvn /usr/share/websvn/

&lt;Directory /usr/share/websvn/&gt;
   Options MultiViews Indexes
   DirectoryIndex wsvn.php
   order allow,deny
   allow from all
        AuthType Basic
        AuthName "Authorization Realm"
        AuthUserFile /srv/svn/passwd
        Require valid-user

&lt;/Directory&gt;</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></span></div>
</div>
<p>websvn就可以在线浏览了。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;第三节：在线修改htpasswd密码</p>
<p>前面是由apache的htpasswd来通过 base 认证来进行账号管理的。通过这个小程序可以在线添加删除 校验账号密码。还有点小遗憾是 没有对 添加 删除 进行权限管理。校验后 才可以进行这个选项。</p>
<p><a href="http://www.cnblogs.com/mutuan/archive/2012/07/27/2611537.html">http://www.cnblogs.com/mutuan/archive/2012/07/27/2611537.html</a></p>
<p>&nbsp;</p>
<p>参考：<a href="http://www.scmbbs.com/cn/svntp/2007/11/svntp1.php">http://www.scmbbs.com/cn/svntp/2007/11/svntp1.php</a></p>
<p>转载请注明出处：http://www.cnblogs.com/ayanmw 我会很高兴的！</p>
</div>
<div id="MySignature">
<p>------------------------------------------------------------------------------------------------</p>
<p>一定要专业!本博客定位于 ,C语言,C++语言,Java语言,Android开发和少量的Web开发,之前是做Web开发的，其实就是ASP维护，发现EasyASP这个好框架，对前端后端数据库 都很感觉亲切啊。. linux，总之后台开发多一点。以后也愿意学习 cocos2d-x 游戏客户端的开发。</p>
</div>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
    <div id="blog_post_info"></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
            </div>
            <div class="postDesc">posted @ 
<span id="post-date">2018-09-11 00:23</span>&nbsp;
<a href="https://www.cnblogs.com/shuaiandjun/">帅LOVE俊</a>&nbsp;
阅读(<span id="post_view_count">...</span>)&nbsp;
评论(<span id="post_comment_count">...</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=9624665" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(9624665);return false;">收藏</a></div>
        </div>
	    
	    
    </div><!--end: topics 文章、评论容器-->
</div>
<script src="https://common.cnblogs.com/highlight/9.12.0/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 281711, cb_blogApp = 'shuaiandjun', cb_blogUserGuid = '799d378f-9b08-e611-9fc1-ac853d9f53cc';
    var cb_entryId = 9624665, cb_entryCreatedDate = '2018-09-11 00:23', cb_postType = 1; 
    loadViewCount(cb_entryId);
    loadSideColumnAd();
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container"></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;"></div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;"></div>
    </div>
    <div id="under_post_kb"></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        deliverBigBanner();
setTimeout(function() { incrementViewCount(cb_entryId); }, 50);        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div>
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<div id="sidebar_news" class="newsItem">
            <script>loadBlogNews();</script>
</div>

<div id="sidebar_ad"></div>
			<div id="blog-calendar" style="display:none"></div><script>loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div>
                    <script>loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright &copy; 2020 帅LOVE俊
<br /><span id="poweredby">Powered by .NET Core on Kubernetes</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


    
</body>
</html>
