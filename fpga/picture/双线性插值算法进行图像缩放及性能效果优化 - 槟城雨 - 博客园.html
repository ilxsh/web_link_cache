<!DOCTYPE html>
<html lang="zh-cn"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="referrer" content="never">
    <title>双线性插值算法进行图像缩放及性能效果优化 - 槟城雨 - 博客园</title>
<meta property="og:description" content="一)转自http://handspeaker.iteye.com/blog/1545126最近在编程时用到了双线性插值算法，对图像进行缩放。网上有很多这方面的资料，介绍的也算明白。但是，这些文章只介绍">
    <link type="text/css" rel="stylesheet" href="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-sea.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-sea-mobile.css">
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/funny-world/rss">
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/funny-world/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/funny-world/wlwmanifest.xml">
    <script src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/osd.js"></script><script src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/pubads_impl_rendering_2019032501.js"></script><script async="" src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/analytics.js"></script><script type="text/javascript" src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/encoder.js"></script><script src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/jquery-2.js"></script>
    <script>var currentBlogId=120083;var currentBlogApp='funny-world',cb_enable_mathjax=false;var isLogined=false;</script>
    <script src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.js" type="text/javascript"></script>
<link rel="preload" href="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/integrator.js" as="script"><script type="text/javascript" src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/integrator.js"></script><script src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/pubads_impl_2019032501.js" async=""></script></head>
<body>
<a name="top"></a>


<!--done-->
<div id="header">
	
<!--done-->
<div class="header">
	<div class="headerText">
		<a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/funny-world/">槟城雨</a><br>
		
	</div>
</div>

</div>

<div id="mytopmenu">
	
		<div id="mylinks"><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">博客园</a> &nbsp;
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/funny-world/">首页</a> &nbsp;
<a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a> &nbsp;
<a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E6%A7%9F%E5%9F%8E%E9%9B%A8">联系</a> &nbsp;
<a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/funny-world/rss">订阅</a><a id="blog_nav_rss_image" href="https://www.cnblogs.com/funny-world/rss"><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/xml.gif" alt="订阅"></a>&nbsp;
<a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a>
</div>
		<div id="mystats"><div id="blog_stats">
随笔-22&nbsp;
评论-6&nbsp;
文章-0&nbsp;
<!--trackbacks-0-->
</div></div>
	
</div>
<div id="centercontent">
	
        <div id="post_detail">
<div class="post">
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/funny-world/p/3162003.html">双线性插值算法进行图像缩放及性能效果优化</a></h1>
	<div id="cnblogs_post_body" class="blogpost-body"><p><span>一)转自http://handspeaker.iteye.com/blog/1545126</span></p>
<p><span>最近在编程时用到了双线性插值算法，对图像进行缩放。网上有很多这方面的资料，介绍的也算明白。但是，这些文章只介绍了算法，并没有具
体说怎么实现以及怎么实现最好，举个例子，你可以按照网上文章的算法自己写一个双线性插值程序，用它对一张图片进行处理，然后再用matlab或者
openCV的resize函数对同一张图片进行处理，得到的结果是不一样的，如果源图片较小，效果差距就更大。以下是对于双线性插值的讲解以及上述现象
的解释：</span></p>
<p><span>&nbsp;</span></p>
<p><span>1.双线性插值</span></p>
<p><span>假设源图像大小为mxn，目标图像为axb。那么两幅图像的边长比分别为：m/a和n/b。注意，通常这个比例不是整数，编程存储的时候要用浮点型。目标图像的第（i,j）个像素点（i行j列）可以通过边长比对应回源图像。其对应坐标为（i*m/a,j*n/b）。</span></p>
<p><span>显然，这个对应坐标一般来说不是整数，而非整数的坐标是无法在图像这种离散数据上使用的。双线性插值通过寻找距离这个对应坐标最近的四
个像素点，来计算该点的值（灰度值或者RGB值）。如果你的对应坐标是（2.5,4.5），那么最近的四个像素是（2，4）、（2，5）、（3，4），
（3，5）。</span></p>
<p><span>若图像为灰度图像，那么（i，j）点的灰度值可以通过一下公式计算：</span></p>
<p><span>f(i,j)=w1*p1+w2*p2+w3*p3+w4*p4;</span></p>
<p><span>其中，pi(i=1,2,3,4)为最近的四个像素点，wi(i=1,2,3,4)为各点相应权值。关于权值的计算，在维基百科和百度百科上写的很明白。</span></p>
<p><span>&nbsp;</span></p>
<p><span>2.存在的问题</span></p>
<p><span>这部分的前提是，你已经明白什么是双线性插值并且在给定源图像和目标图像尺寸的情况下，可以用笔计算出目标图像某个像素点的值。当然，
最好的情况是你已经用某种语言实现了网上一大堆博客上原创或转载的双线性插值算法，然后发现计算出来的结果和matlab、openCV对应的
resize（）函数得到的结果完全不一样。</span></p>
<p><span>那这个究竟是怎么回事呢？</span></p>
<p><span>其实答案很简单，就是坐标系的选择问题，或者说源图像和目标图像之间的对应问题。</span></p>
<p><span>按照网上一些博客上写的，源图像和目标图像的原点（0，0）均选择左上角，然后根据插值公式计算目标图像每点像素，假设你需要将一幅5x5的图像缩小成3x3，那么源图像和目标图像各个像素之间的对应关系如下：</span></p>
<p><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/32c15b2a-10d1-3864-ac73-4d649f740d0e.jpg" alt="" width="413" height="388"></p>
<p><span>只画了一行，用做示意，从图中可以很明显的看到，如果选择右上角为原点（0，0），那么最右边和最下边的像素实际上并没有参与计算，而且目标图像的每个像素点计算出的灰度值也相对于源图像偏左偏上。</span></p>
<p><span>那么，让坐标加1或者选择右下角为原点怎么样呢？很不幸，还是一样的效果，不过这次得到的图像将偏右偏下。</span></p>
<p><span>最好的方法就是，两个图像的几何中心重合，并且目标图像的每个像素之间都是等间隔的，并且都和两边有一定的边距，这也是matlab和openCV的做法。如下图：</span></p>
<p><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/124e02c3-86c9-356b-93d9-f36d913eda65.jpg" alt="" width="404" height="386"></p>
<p><span>如果你不懂我上面说的什么，没关系，只要在计算对应坐标的时候改为以下公式即可，</span></p>
<p>&nbsp;</p>
<p><span>int x=(i+0.5)*m/a-0.5</span></p>
<p><span>int y=(j+0.5)*n/b-0.5</span></p>
<p>&nbsp;</p>
<p><span>instead of&nbsp;</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span>int x=i*m/a</span></p>
<p><span>int y=j*n/b</span></p>
<p><span>&nbsp;</span></p>
<p><span>利用上述公式，将得到正确的双线性插值结果</span></p>
<p><span><br>总结：</span></p>
<p><span>总结一下，我得到的教训有这么几条。</span></p>
<p><span>1.网上的一些资料有的时候并不靠谱，自己还是要多做实验。</span></p>
<p><span>2.不要小瞧一些简单的、基本的算法，让你写你未必会写，而且其中可能还藏着一些玄妙。</span></p>
<p><span>3.要多动手编程，多体会算法，多看大牛写的源码（虽然有的时候很吃力，但是要坚持看）。</span></p>
<p><span>二)转自http://www.cnblogs.com/Imageshop/archive/2011/11/12/2246808.html</span></p>
<p>　在图像处理中，双线性插值算法的使用频率相当高，比如在图像的缩放中，在所有的扭曲算法中，都可以利用该算法改进处理的视觉效果。首先，我们看看该算法的简介。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; 在数学上，双线性插值算法可以看成是两个变量间的线性插值的延伸。执行该过程的关键思路是先在一个方向上执行线性插值，然后再在另外一个方向上插值。下图示意出这个过程的大概意思。</p>
<p><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/o_bilinear.gif" alt="" longdesc="http://www.cnblogs.com/Imageshop/archive/2011/11/12/2246808.html" width="596" height="416" border="0"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; 用一个简单的数学表达式可以表示如下：</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; f（x,y)=f(0,0)(1-x)(1-y)+f(1,0)x(1-y)+f(0,1)(1-x)y+f(1,1)xy</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; 合并有关项，可写为：&nbsp;f（x,y)=(f(0,0)(1-x）+f(1,0)x) (1-y)+(f(0,1)(1-x)+f(1,1)x)y</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;由上式可以看出，这个过程存在着大量的浮点数运算，对于图像这样大的计算用户来说，是一个较为耗时的过程。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;考虑到图像的特殊性，他的像素值的计算结果需要落在0到255之间，最多只有256
种结果，由上式可以看出，一般情况下，计算出的f(x,y)是个浮点数，我们还需要对该浮点数进行取整。因此，我们可以考虑将该过程中的所有类似于1-
x、1-y的变量放大合适的倍数，得到对应的整数，最后再除以一个合适的整数作为插值的结果。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
如何取这个合适的放大倍数呢，要从三个方面考虑，第一：精度问题，如果这个数取得过小，那么经过计算后可能会导致结果出现较大的误差。第二，这个数不能太
大，太大会导致计算过程超过长整形所能表达的范围。第三：速度考虑。假如放大倍数取为12，那么算式在最后的结果中应该需要除以12*12=144，但是
如果取为16，则最后的除数为16*16=256，这个数字好，我们可以用右移来实现，而右移要比普通的整除快多了。&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 综合考虑上述三条，我们选择2048这个数比较合适。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 下面我们假定某个算法得到了我们要取样的坐标分别PosX以及PosY,其中PosX=25.489,PosY=58.698。则这个过程的类似代码片段如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" href="http://www.cnblogs.com/funny-world/admin/"><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode_002.gif" alt="复制代码"></a></span></div>
<div><span>&nbsp;1</span>&nbsp;NewX&nbsp;=&nbsp;<span>Int</span>(PosX)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'</span><span>向下取整,NewX=25</span><span><br></span><span>&nbsp;2</span>&nbsp;NewY&nbsp;=&nbsp;<span>Int</span>(PosY)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'</span><span>向下取整,NewY=58</span><span><br></span><span>&nbsp;3</span>&nbsp;PartX&nbsp;=&nbsp;(PosX&nbsp;-&nbsp;NewX)&nbsp;*&nbsp;<span>2048</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'</span><span>对应表达式中的X</span><span><br></span><span>&nbsp;4</span>&nbsp;PartY&nbsp;=&nbsp;(PosY&nbsp;-&nbsp;NewY)&nbsp;*&nbsp;<span>2048</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'</span><span>对应表达式中的Y</span><span><br></span><span>&nbsp;5</span>&nbsp;InvX&nbsp;=&nbsp;<span>2048</span>&nbsp;-&nbsp;PartX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'</span><span>对应表达式中的1-X</span><span><br></span><span>&nbsp;6</span>&nbsp;InvY&nbsp;=&nbsp;<span>2048</span>&nbsp;-&nbsp;PartY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'</span><span>对应表达式中的1-Y</span><span><br></span><span>&nbsp;7</span>&nbsp;<br><span>&nbsp;8</span>&nbsp;Index1&nbsp;=&nbsp;SamStride&nbsp;*&nbsp;NewY&nbsp;+&nbsp;NewX&nbsp;*&nbsp;<span>3</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>'</span><span>计算取样点左上角邻近的那个像素点的内存地址</span><span><br></span><span>&nbsp;9</span>&nbsp;Index2&nbsp;=&nbsp;Index1&nbsp;+&nbsp;SamStride&nbsp;　　　　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'</span><span>左下角像素点地址</span><br><span>10</span>&nbsp;ImageData(Speed&nbsp;+&nbsp;<span>2</span>)&nbsp;=&nbsp;((Sample(Index1&nbsp;+&nbsp;<span>2</span>)&nbsp;*&nbsp;InvX&nbsp;+&nbsp;Sample(Index1&nbsp;+&nbsp;<span>5</span>)&nbsp;*&nbsp;PartX)&nbsp;*&nbsp;InvY&nbsp;+&nbsp;(Sample(Index2&nbsp;+&nbsp;<span>2</span>)&nbsp;*&nbsp;InvX&nbsp;+&nbsp;</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Sample(Index2&nbsp;+&nbsp;<span>5</span>)&nbsp;*&nbsp;PartX)&nbsp;*&nbsp;PartY)&nbsp;\&nbsp;<span>4194304&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'处理红色分量</span></span></div>
<div><span>11</span>&nbsp;ImageData(Speed&nbsp;+&nbsp;<span>1</span>)&nbsp;=&nbsp;((Sample(Index1&nbsp;+&nbsp;<span>1</span>)&nbsp;*&nbsp;InvX&nbsp;+&nbsp;Sample(Index1&nbsp;+&nbsp;<span>4</span>)&nbsp;*&nbsp;PartX)&nbsp;*&nbsp;InvY&nbsp;+&nbsp;(Sample(Index2&nbsp;+&nbsp;<span>1</span>)&nbsp;*&nbsp;InvX&nbsp;+</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sample(Index2&nbsp;+&nbsp;<span>4</span>)&nbsp;*&nbsp;PartX)&nbsp;*&nbsp;PartY)&nbsp;\&nbsp;<span>4194304&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'处理绿色分量</span></span><br><span>12</span>&nbsp;ImageData(Speed)&nbsp;=&nbsp;((Sample(Index1)&nbsp;*&nbsp;InvX&nbsp;+&nbsp;Sample(Index1&nbsp;+&nbsp;<span>3</span>)&nbsp;*&nbsp;PartX)&nbsp;*&nbsp;InvY&nbsp;+&nbsp;(Sample(Index2)&nbsp;*&nbsp;InvX&nbsp;+</div>
<div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sample(Index2&nbsp;+&nbsp;<span>3</span>)&nbsp;*&nbsp;PartX)&nbsp;*&nbsp;PartY)&nbsp;\&nbsp;<span>4194304&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span>'处理蓝色分量</span></span></div>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="复制代码" href="http://www.cnblogs.com/funny-world/admin/"><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode_002.gif" alt="复制代码"></a></span></div>

<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;以上代码中涉及到的变量都为整型（PosX及PosY当然为浮点型）。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 代码中Sample数组保存了从中取样的图像数据，SamStride为该图像的扫描行大小。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 观察上述代码，除了有2句涉及到了浮点计算，其他都是整数之间的运算。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在Basic语言中，编译时如果勾选所有的高级优化，则\&nbsp;4194304会被编译为&gt;&gt;22，即右移22位，如果使用的是C语言，则直接写为&gt;&gt;22。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 需要注意的是，在进行这代代码前，需要保证PosX以及PosY在合理的范围内，即不能超出取样图像的宽度和高度范围。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 通过这样的改进，速度较直接用浮点类型快至少100%以上，而处理后的效果基本没有什么区别。</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(3162003,cb_blogId,1);green_channel_success(this,'谢谢推荐！');">好文要顶</a>
            <a id="green_channel_follow" onclick="follow('4157eb52-f076-e011-a53f-842b2b196315');" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/funny-world/" target="_blank"><img src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/sample_face.gif" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/funny-world/">槟城雨</a><br>
            <a href="http://home.cnblogs.com/u/funny-world/followees">关注 - 1</a><br>
            <a href="http://home.cnblogs.com/u/funny-world/followers">粉丝 - 9</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow('4157eb52-f076-e011-a53f-842b2b196315');return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(3162003,'Digg')">
        <span class="diggnum" id="digg_count">2</span>
    </div>
    <div class="buryit" onclick="votePost(3162003,'Bury')">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
<script type="text/javascript">
    currentDiggType = 0;
</script></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="https://www.cnblogs.com/funny-world/p/3152502.html" class="p_n_p_prefix">« </a> 上一篇：<a href="https://www.cnblogs.com/funny-world/p/3152502.html" title="发布于2013-06-24 15:18">wxpython 图像编程</a><br><a href="https://www.cnblogs.com/funny-world/p/3177242.html" class="p_n_p_prefix">» </a> 下一篇：<a href="https://www.cnblogs.com/funny-world/p/3177242.html" title="发布于2013-07-08 10:00">sqlite</a><br></div>
</div>


	<div class="postDesc">posted on <span id="post-date">2013-06-29 09:48</span> <a href="https://www.cnblogs.com/funny-world/">槟城雨</a> 阅读(<span id="post_view_count">29239</span>) 评论(<span id="post_comment_count">6</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=3162003" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(3162003);return false;">收藏</a></div>
</div>
<script type="text/javascript">var allowComments=true,cb_blogId=120083,cb_entryId=3162003,cb_blogApp=currentBlogApp,cb_blogUserGuid='4157eb52-f076-e011-a53f-842b2b196315',cb_entryCreatedDate='2013/6/29 9:48:00';loadViewCount(cb_entryId);var cb_postType=1;var isMarkdown=false;</script>

</div><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<!--done-->
<br>
<b>评论:</b>
<div class="feedbackNoItems"></div>
	

		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
			<a href="#3163826" class="layer">#1楼</a><a name="3163826" id="comment_anchor_3163826"></a>
				 <span class="comment_date">2015-04-16 12:24</span> | <a id="a_comment_author_3163826" href="https://www.cnblogs.com/klzhang/" target="_blank">zkl99999</a> <a href="http://msg.cnblogs.com/send/zkl99999" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><br>
				<div align="left"><div id="comment_body_3163826" class="blog_comment_body">楼主，你好，下面的代码中，你是把0-1 扩大到2048倍是吗，，什么依据呢，，第二疑问是<br>3 PartX = (PosX - NewX) * 2048            '对应表达式中的X  ？？？？？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3163826,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3163826,'Bury',this)">反对(0)</a></div>&nbsp;&nbsp;<span class="comment_actions"></span></div>
			</div>
			
			
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
			<a href="#3163923" class="layer">#2楼</a><a name="3163923" id="comment_anchor_3163923"></a>[<span class="louzhu">楼主</span>]
				 <span class="comment_date">2015-04-16 13:56</span> | <a id="a_comment_author_3163923" href="https://www.cnblogs.com/funny-world/" target="_blank">槟城雨</a> <a href="http://msg.cnblogs.com/send/%E6%A7%9F%E5%9F%8E%E9%9B%A8" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><br>
				<div align="left"><div id="comment_body_3163923" class="blog_comment_body"><a href="#3163826" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3163826);">@</a>
zkl99999<br>扩大2048（右移11位），是用来做优化速度的。<br>另外很多第三方图像库中都有图像缩放接口，但如果只需要图像缩放功能，则自己写一个函数实现比较方便（不需要引入第三方图像库了）。上面的文章是我转别人的，现在我用的是我自己实现的一个函数，分享给你：<br><div class="cnblogs_Highlighter sh-gutter"><div><div id="highlighter_532084" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp comments">/**</code></div><div class="line number2 index1 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* @PARAM&nbsp;&nbsp;&nbsp;&nbsp; 参数DstBuf为输出图像数据缓冲区指针;参数SrcBuf为输入图像数据指针;</code></div><div class="line number3 index2 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 参数srcW,srcH,dstW,dstH分别为源图像与目标图像的宽与高；</code></div><div class="line number4 index3 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* @FUNCTION&nbsp; 对输入图像SrcBuf数据按照指点宽高采取双线性插值算法进行缩放，处理结果输出至DstBuf指向的缓冲区；</code></div><div class="line number5 index4 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* @AUTHOR&nbsp;&nbsp;&nbsp; rocky</code></div><div class="line number6 index5 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">* @DATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2013.7.2</code></div><div class="line number7 index6 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp comments">*/</code></div><div class="line number8 index7 alt1"><code class="cpp color1 bold">bool</code> <code class="cpp plain">BMP24_resize(unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">* DstBuf, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">* SrcBuf, </code><code class="cpp color1 bold">int</code> <code class="cpp plain">srcW,</code><code class="cpp color1 bold">int</code> <code class="cpp plain">srcH, </code><code class="cpp color1 bold">int</code> <code class="cpp plain">dstW, </code><code class="cpp color1 bold">int</code> <code class="cpp plain">dstH)</code></div><div class="line number9 index8 alt2"><code class="cpp plain">{</code></div><div class="line number10 index9 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(!DstBuf || !SrcBuf)</code></div><div class="line number11 index10 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp keyword bold">false</code><code class="cpp plain">;</code></div><div class="line number12 index11 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code><code class="cpp plain">(srcW &lt;=0 || srcH &lt;=0 || dstW &lt;=0 || dstH &lt;=0)</code></div><div class="line number13 index12 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp keyword bold">false</code><code class="cpp plain">;</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">nSrcWidthStep = (srcW * 3 +3)/4*4;&nbsp; </code><code class="cpp comments">//源图像每行所占字节数</code></div><div class="line number16 index15 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">nDstWidthStep = (dstW * 3 +3)/4*4;&nbsp; </code><code class="cpp comments">//目标图像每行所占字节数</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">for</code><code class="cpp plain">(</code><code class="cpp color1 bold">int</code> <code class="cpp plain">i =0; i &lt; dstH; ++i)</code></div><div class="line number19 index18 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number20 index19 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//原图中对应纵坐标</code></div><div class="line number21 index20 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">double</code> <code class="cpp plain">y = (</code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">double</code><code class="cpp plain">&gt;(i)+0.5)*</code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">double</code><code class="cpp plain">&gt;(srcH)/</code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">double</code><code class="cpp plain">&gt;(dstH) -0.5;&nbsp; </code></div><div class="line number22 index21 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//指向目标图像的行数据</code></div><div class="line number23 index22 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">* pDstLine = DstBuf + i * nDstWidthStep; </code></div><div class="line number24 index23 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">for</code><code class="cpp plain">(</code><code class="cpp color1 bold">int</code> <code class="cpp plain">j =0; j &lt;dstW; ++j)</code></div><div class="line number25 index24 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number26 index25 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">double</code> <code class="cpp plain">x = (</code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">double</code><code class="cpp plain">&gt;(j)+0.5)*</code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">double</code><code class="cpp plain">&gt;(srcW)/</code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">double</code><code class="cpp plain">&gt;(dstW) -0.5;&nbsp; </code><code class="cpp comments">//原图中对应横坐标</code></div><div class="line number27 index26 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//u和v为x,y的小数部分,并放大2048倍以规避浮点运算</code></div><div class="line number28 index27 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">u = </code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">int</code><code class="cpp plain">&gt; ((y-</code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">int</code><code class="cpp plain">&gt;(y))*2048);</code></div><div class="line number29 index28 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">v = </code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">int</code><code class="cpp plain">&gt; ((x-</code><code class="cpp keyword bold">static_cast</code><code class="cpp plain">&lt;</code><code class="cpp color1 bold">int</code><code class="cpp plain">&gt;(x))*2048);</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//ix,iy分别存储x,y的整数部分</code></div><div class="line number32 index31 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">ix = (</code><code class="cpp color1 bold">int</code><code class="cpp plain">)x;</code></div><div class="line number33 index32 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">iy = (</code><code class="cpp color1 bold">int</code><code class="cpp plain">)y;</code></div><div class="line number34 index33 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">for</code><code class="cpp plain">(</code><code class="cpp color1 bold">int</code> <code class="cpp plain">k=0; k&lt;3; k++)</code></div><div class="line number35 index34 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number36 index35 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">pDstLine[j*3 +k] = (SrcBuf[iy*nSrcWidthStep + ix*3 +k]*(2048 -u)*(2048 -v)</code></div><div class="line number37 index36 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">+SrcBuf[iy*nSrcWidthStep + (ix+1)*3 +k]*(2048 -u)*v</code></div><div class="line number38 index37 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">+SrcBuf[(iy+1)*nSrcWidthStep + ix*3 +k]*u*(2048 -v)</code></div><div class="line number39 index38 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">+SrcBuf[(iy+1)*nSrcWidthStep + (ix+1)*3 +k]*u*v)&gt;&gt;22;</code></div><div class="line number40 index39 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number41 index40 alt2">&nbsp;</div><div class="line number42 index41 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number43 index42 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number44 index43 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp keyword bold">true</code><code class="cpp plain">;</code></div><div class="line number45 index44 alt2"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div></div></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3163923,'Digg',this)">支持(1)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3163923,'Bury',this)">反对(0)</a></div>&nbsp;&nbsp;<span class="comment_actions"></span></div>
			</div>
			
			
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
			<a href="#3164351" class="layer">#3楼</a><a name="3164351" id="comment_anchor_3164351"></a>
				 <span class="comment_date">2015-04-16 20:55</span> | <a id="a_comment_author_3164351" href="https://www.cnblogs.com/klzhang/" target="_blank">zkl99999</a> <a href="http://msg.cnblogs.com/send/zkl99999" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><br>
				<div align="left"><div id="comment_body_3164351" class="blog_comment_body"><a href="#3163923" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3163923);">@</a>
槟城雨<br>谢谢 楼主</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3164351,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3164351,'Bury',this)">反对(0)</a></div>&nbsp;&nbsp;<span class="comment_actions"></span></div>
			</div>
			
			
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
			<a href="#3181237" class="layer">#4楼</a><a name="3181237" id="comment_anchor_3181237"></a>
				 <span class="comment_date">2015-05-11 21:29</span> | <a id="a_comment_author_3181237" href="http://home.cnblogs.com/u/756124/" target="_blank">松柏1</a> <a href="http://msg.cnblogs.com/send/%E6%9D%BE%E6%9F%8F1" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><br>
				<div align="left"><div id="comment_body_3181237" class="blog_comment_body">（1,0）对应计算出来的是（2,0.3）。按照你的画的图，应该是根据6个点的灰度值确定了变换后图像的（1,0）位置的灰度值。是否与前文提到的“用最近的4个点”矛盾？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3181237,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3181237,'Bury',this)">反对(1)</a></div>&nbsp;&nbsp;<span class="comment_actions"></span></div>
			</div>
			
			
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
			<a href="#3211032" class="layer">#5楼</a><a name="3211032" id="comment_anchor_3211032"></a>
				 <span class="comment_date">2015-06-18 15:04</span> | <a id="a_comment_author_3211032" href="http://home.cnblogs.com/u/742942/" target="_blank">liangyuweizhuo</a> <a href="http://msg.cnblogs.com/send/liangyuweizhuo" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><br>
				<div align="left"><div id="comment_body_3211032" class="blog_comment_body">您
好，您的分析是我收益很大。我想问您的是，我现在是由两组数据。一组对应的是光程差，另一组是与光程差相对应的光强值。现在我想将光程差在最大值和最小值
之间等间隔取样，然后，进行插值，得到等光程差对应的光强值。这样的话，我是得怎么做呢？我现在是有非整数点的值，想得到整数点的值？能指点一下吗？期待
您的答案？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3211032,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3211032,'Bury',this)">反对(0)</a></div>&nbsp;&nbsp;<span class="comment_actions"></span></div>
			</div>
			
			
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
			<a href="#3851480" class="layer">#6楼</a><a name="3851480" id="comment_anchor_3851480"></a><span id="comment-maxId" style="display:none;">3851480</span><span id="comment-maxDate" style="display:none;">2017/11/27 15:10:55</span>
				 <span class="comment_date">2017-11-27 15:10</span> | <a id="a_comment_author_3851480" href="http://home.cnblogs.com/u/1288097/" target="_blank">Felix_Li</a> <a href="http://msg.cnblogs.com/send/Felix_Li" title="发送站内短消息" class="sendMsg2This">&nbsp;</a><br>
				<div align="left"><div id="comment_body_3851480" class="blog_comment_body">感觉图画的不对……而且按照你的逻辑算的也不对……</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3851480,'Digg',this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3851480,'Bury',this)">反对(0)</a></div>&nbsp;&nbsp;<span class="comment_actions"></span></div>
			</div>
			
			
		</div>
	



<div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login('commentform');">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"><a href="http://www.ucancode.com/index.htm" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-工控')">【推荐】超50万C++/C#源码: 大型实时仿真组态图形源码</a><br><a href="https://cloud.baidu.com/campaign/purchase-2019/index.html?track=cp:dsp|pf:pc|pp:chui-bokeyuan-huodong-19caigouji-BCC-neiyeCH-190311|pu:neiyeCH-wenzilian|ci:2019cgj|kw:2105959" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-百度云')">【推荐】百度云“猪”你开年行大运，红包疯狂拿，低至1折</a><br><a href="https://gitee.com/enterprises?from=bky-2" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-gitee')">【推荐】专业便捷的企业级代码托管服务 - Gitee 码云</a><br><a href="https://www.bagevent.com/event/2468856" target="_blank" onclick="ga('send', 'event', 'Link', 'click', 'T2-GAITC')">【活动】2019第四届全球人工技术大会解码“智能+时代”</a><br></div>
<div id="opt_under_post"></div>
<script async="async" src="%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%8F%92%E5%80%BC%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E5%8F%8A%E6%80%A7%E8%83%BD%E6%95%88%E6%9E%9C%E4%BC%98%E5%8C%96%20-%20%E6%A7%9F%E5%9F%8E%E9%9B%A8%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/gpt.js"></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id="cnblogs_c1" class="c_ad_block">
    <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;" data-google-query-id="CPaok8u5quECFcaYlgod0KgHcQ"><div id="google_ads_iframe_/1090369/C1_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C1_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C1_0" scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;" srcdoc="" data-google-container-id="1" data-load-complete="true" width="300" height="250" frameborder="0"></iframe></div></div>
</div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>相关博文：</b><br>·  <a href="https://www.cnblogs.com/sycy/p/4743620.html" target="_blank" onclick="clickRecomItmem(4743620)">图像缩放算法</a><br>·  <a href="https://www.cnblogs.com/okaimee/archive/2010/08/18/1802573.html" target="_blank" onclick="clickRecomItmem(1802573)">用线性插值算法实现图像缩放</a><br>·  <a href="https://www.cnblogs.com/zzw-in/p/Bilinear_interpolation.html" target="_blank" onclick="clickRecomItmem(3681844)">【图像处理】利用双线性插值算法进行图像的缩放</a><br>·  <a href="https://www.cnblogs.com/sdlypyzq/archive/2012/03/06/2381372.html" target="_blank" onclick="clickRecomItmem(2381372)">图像缩放算法及速度优化——(二)双线性插值</a><br>·  <a href="https://www.cnblogs.com/sdlypyzq/archive/2012/03/02/2375072.html" target="_blank" onclick="clickRecomItmem(2375072)">图像缩放算法及速度优化——(一)最近邻插值</a><br></div></div>
<div id="cnblogs_c2" class="c_ad_block">
    <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;" data-google-query-id="CPeok8u5quECFcaYlgod0KgHcQ"><div id="google_ads_iframe_/1090369/C2_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/1090369/C2_0" title="3rd party ad content" name="google_ads_iframe_/1090369/C2_0" scrolling="no" marginwidth="0" marginheight="0" style="border: 0px none; vertical-align: bottom;" srcdoc="" data-google-container-id="2" data-load-complete="true" width="468" height="60" frameborder="0"></iframe></div></div>
</div>
<div id="under_post_kb"><div class="itnews c_ad_block"><b>最新新闻</b>：<br> ·  <a href="https://news.cnblogs.com/n/623076/" target="_blank">谷歌宣布推出新的两步验证界面</a><br> ·  <a href="https://news.cnblogs.com/n/623034/" target="_blank">真实下沉市场的品牌新事，如何解锁用户粮仓？</a><br> ·  <a href="https://news.cnblogs.com/n/623077/" target="_blank">偷看日历？9款APP涉嫌过度获取权限</a><br> ·  <a href="https://news.cnblogs.com/n/623075/" target="_blank">Go语言2018调查报告发布</a><br> ·  <a href="https://news.cnblogs.com/n/623074/" target="_blank">分析师：建议谷歌Stadia采取游戏永久购买的商业模式</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
</div>
<div id="leftcontent">
	
		<div id="leftcontentcontainer">
			
<!--done-->
<div class="newsItem">
	<div id="blog-news"><div id="profile_block">昵称：<a href="https://home.cnblogs.com/u/funny-world/">槟城雨</a><br>园龄：<a href="https://home.cnblogs.com/u/funny-world/" title="入园时间：2011-05-05">7年10个月</a><br>粉丝：<a href="https://home.cnblogs.com/u/funny-world/followers/">9</a><br>关注：<a href="https://home.cnblogs.com/u/funny-world/followees/">1</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="follow('4157eb52-f076-e011-a53f-842b2b196315')">+加关注</a></div><script>getFollowStatus('4157eb52-f076-e011-a53f-842b2b196315')</script></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" title="Calendar" cellspacing="0" cellpadding="0">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar('2019/02/01');return false;">&lt;</a></td><td align="center">2019年3月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar('2019/04/01');return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" abbr="日" scope="col" align="center">日</th><th class="CalDayHeader" abbr="一" scope="col" align="center">一</th><th class="CalDayHeader" abbr="二" scope="col" align="center">二</th><th class="CalDayHeader" abbr="三" scope="col" align="center">三</th><th class="CalDayHeader" abbr="四" scope="col" align="center">四</th><th class="CalDayHeader" abbr="五" scope="col" align="center">五</th><th class="CalDayHeader" abbr="六" scope="col" align="center">六</th></tr><tr><td class="CalOtherMonthDay" align="center">24</td><td class="CalOtherMonthDay" align="center">25</td><td class="CalOtherMonthDay" align="center">26</td><td class="CalOtherMonthDay" align="center">27</td><td class="CalOtherMonthDay" align="center">28</td><td align="center">1</td><td class="CalWeekendDay" align="center">2</td></tr><tr><td class="CalWeekendDay" align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center">6</td><td align="center">7</td><td align="center">8</td><td class="CalWeekendDay" align="center">9</td></tr><tr><td class="CalWeekendDay" align="center">10</td><td align="center">11</td><td align="center">12</td><td align="center">13</td><td align="center">14</td><td align="center">15</td><td class="CalWeekendDay" align="center">16</td></tr><tr><td class="CalWeekendDay" align="center">17</td><td align="center">18</td><td align="center">19</td><td align="center">20</td><td align="center">21</td><td align="center">22</td><td class="CalWeekendDay" align="center">23</td></tr><tr><td class="CalWeekendDay" align="center">24</td><td align="center">25</td><td align="center">26</td><td align="center">27</td><td align="center">28</td><td align="center">29</td><td class="CalWeekendDay" align="center">30</td></tr><tr><td class="CalTodayDay" align="center">31</td><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td></tr>
</tbody></table></div><script type="text/javascript">loadBlogDefaultCalendar();</script><br>
			<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>
<div id="widget_my_google" class="div_my_zzk"><input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk"></div>
</div>
</div>

</div><div id="sidebar_shortcut" class="sidebar-block">
<h3 class="catListTitle">常用链接</h3>
<ul>
<li><a href="https://www.cnblogs.com/funny-world/p/" title="我的博客的随笔列表">我的随笔</a></li><li><a href="https://www.cnblogs.com/funny-world/MyComments.html" title="我发表过的评论列表">我的评论</a></li><li><a href="https://www.cnblogs.com/funny-world/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li><li><a href="https://www.cnblogs.com/funny-world/RecentComments.html" title="我的博客的评论列表">最新评论</a></li><li><a href="https://www.cnblogs.com/funny-world/tag/" title="我的博客的标签列表">我的标签</a></li>
</ul>
<div id="itemListLin_con" style="display:none;">

</div></div><div id="sidebar_toptags" class="sidebar-block"></div><div id="sidebar_categories">
		<h3 class="catListTitle">随笔档案</h3>
		
				<ul class="catList">
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_0" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2013/10.html">2013年10月 (1)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_1" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2013/09.html">2013年9月 (2)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_2" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2013/08.html">2013年8月 (1)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_3" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2013/07.html">2013年7月 (2)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_4" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2013/06.html">2013年6月 (2)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_5" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2013/05.html">2013年5月 (1)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_6" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2013/04.html">2013年4月 (4)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_7" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2013/03.html">2013年3月 (1)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_8" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2013/01.html">2013年1月 (1)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_9" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2012/07.html">2012年7月 (4)</a></li>
			
				<li class="catListItem"> <a id="CatList_LinkList_0_Link_10" class="listitem" href="https://www.cnblogs.com/funny-world/archive/2012/06.html">2012年6月 (3)</a></li>
			
				</ul>
			
	
</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap">
<h3 class="catListTitle">最新评论</h3>
<div class="RecentComment" id="RecentComments">
	<div id="RecentCommentsBlock"><ul>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/funny-world/p/3162003.html#3851480">1. Re:双线性插值算法进行图像缩放及性能效果优化</a></li>
        <li class="recent_comment_body">感觉图画的不对……而且按照你的逻辑算的也不对……</li>
        <li class="recent_comment_author">--Felix_Li</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/funny-world/p/3162003.html#3211032">2. Re:双线性插值算法进行图像缩放及性能效果优化</a></li>
        <li class="recent_comment_body">您好，您的分析是我收益很大。我想问您的是，我现在是由两组数据。一组对应的是光程差，另一组是与光程差相对应的光强值。现在我想将光程差在最大值和最小值之间等间隔取样，然后，进行插值，得到等光程差对应的光强......</li>
        <li class="recent_comment_author">--liangyuweizhuo</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/funny-world/p/3162003.html#3181237">3. Re:双线性插值算法进行图像缩放及性能效果优化</a></li>
        <li class="recent_comment_body">（1,0）对应计算出来的是（2,0.3）。按照你的画的图，应该是根据6个点的灰度值确定了变换后图像的（1,0）位置的灰度值。是否与前文提到的“用最近的4个点”矛盾？</li>
        <li class="recent_comment_author">--松柏1</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/funny-world/p/3162003.html#3164351">4. Re:双线性插值算法进行图像缩放及性能效果优化</a></li>
        <li class="recent_comment_body">@槟城雨谢谢 楼主...</li>
        <li class="recent_comment_author">--zkl99999</li>
        <li class="recent_comment_title"><a href="https://www.cnblogs.com/funny-world/p/3162003.html#3163923">5. Re:双线性插值算法进行图像缩放及性能效果优化</a></li>
        <li class="recent_comment_body">@zkl99999扩大2048（右移11位），是用来做优化速度的。另外很多第三方图像库中都有图像缩放接口，但如果只需要图像缩放功能，则自己写一个函数实现比较方便（不需要引入第三方图像库了）。上面的文章......</li>
        <li class="recent_comment_author">--槟城雨</li>
</ul>
</div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<h3 class="catListTitle">阅读排行榜</h3>
<div class="RecentComment" id="TopViewPosts"> 
	<div id="TopViewPostsBlock"><ul><li><a href="https://www.cnblogs.com/funny-world/p/3162003.html">1. 双线性插值算法进行图像缩放及性能效果优化(29239)</a></li><li><a href="https://www.cnblogs.com/funny-world/p/3152502.html">2. wxpython 图像编程(4496)</a></li><li><a href="https://www.cnblogs.com/funny-world/p/3178539.html">3. c++ 64位int(3759)</a></li><li><a href="https://www.cnblogs.com/funny-world/archive/2013/04/26/3044589.html">4. 移动硬盘安装redhat(1077)</a></li><li><a href="https://www.cnblogs.com/funny-world/p/3177242.html">5. sqlite(1027)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<h3 class="catListTitle">评论排行榜</h3>
<div class="RecentComment" id="TopCommentsPosts">
	<div id="TopFeedbackPostsBlock"><ul><li><a href="https://www.cnblogs.com/funny-world/p/3162003.html">1. 双线性插值算法进行图像缩放及性能效果优化(6)</a></li></ul></div>
</div></div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<h3 class="catListTitle">推荐排行榜</h3>
<div class="RecentComment">
	<div id="TopDiggPostsBlock"><ul><li><a href="https://www.cnblogs.com/funny-world/p/3162003.html">1. 双线性插值算法进行图像缩放及性能效果优化(2)</a></li></ul></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script></div>
	
</div>

<!--done-->
<div class="footer">
	Powered by: <a href="http://www.cnblogs.com/">博客园</a>	模板提供：<a href="http://blog.hjenglish.com/">沪江博客</a>
	Copyright ©2019 槟城雨
</div>






<iframe id="google_osd_static_frame_7532589426502" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;"></iframe></body></html>