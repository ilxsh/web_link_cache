<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="referrer" content="origin" />
    <title>MiZ702学习笔记13——ZYNQ通过AXI-Lite与PL交互 - 宋桓公 - 博客园</title>
<meta property="og:description" content="在《MiZ702学习笔记7——尝试自制带总线IP》，我曾提到了AXI4-Lite的简单用法，驱动了下流水灯，只涉及到了写总线。今天，我想利用之前的VGA模块，将AXI4-Lite的读写都应用上。这篇文" />
    <link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=svlZeZMvc3He7PqOD4T7SOuQn0_kIfLBYiy3idqd35Y1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/SimpleMemory/bundle-SimpleMemory.css?v=EanP3quXYv9G0oFCmz4BNBHvmK7M_Si1iD1EpUHL_441"/>
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/SimpleMemory/bundle-SimpleMemory-mobile.css?v=Byhm3hhotLR2VXT9WCn9q6vtBBqghPqOAL67I_wtK_01"/>
    <link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/douzi2/rss"/>
    <link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/douzi2/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/douzi2/wlwmanifest.xml"/>
    <script src="//common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script>var currentBlogId=117681;var currentBlogApp='douzi2',cb_enable_mathjax=true;var isLogined=false;</script>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']], processClass: 'math', processEscapes: true },
        TeX: { 
            equationNumbers: { autoNumber: ['AMS'], useLabelIds: true }, 
            extensions: ['extpfeil.js'],
            Macros: {bm: "\\boldsymbol"}
        },
        'HTML-CSS': { linebreaks: { automatic: true } },
        SVG: { linebreaks: { automatic: true } }
        });
    </script><script src="//mathjax.cnblogs.com/2_7_2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="/bundles/blog-common.js?v=OFBZTzkHKauV7mtIFLF9jlqrX-sesK9-mY9KjurLrq01" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>


<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a id="lnkBlogLogo" href="https://www.cnblogs.com/douzi2/"><img id="blogLogo" src="/Skins/custom/images/logo.gif" alt="返回主页" /></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/douzi2/">宋桓公</a></h1>
<h2>勇于尝试，才有突破。选择是一种乐趣，期待产生的结果～～</h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">博客园</a></li>
<li><a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/douzi2/">首页</a></li>
<li></li>
<li><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E5%AE%8B%E6%A1%93%E5%85%AC">联系</a></li>
<li><a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/douzi2/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="https://www.cnblogs.com/douzi2/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>
		<div class="blogStats">
			
			<div id="blog_stats">
<span id="stats_post_count">随笔 - 84&nbsp; </span>
<span id="stats_article_count">文章 - 1&nbsp; </span>
<span id="stats-comment_count">评论 - 41</span>
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
        <div id="post_detail">
<!--done-->
<div id="topics">
	<div class = "post">
		<h1 class = "postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/douzi2/p/5155243.html">MiZ702学习笔记13——ZYNQ通过AXI-Lite与PL交互</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><p>在《MiZ702学习笔记7&mdash;&mdash;尝试自制带总线IP》，我曾提到了AXI4-Lite的简单用法，驱动了下流水灯，只涉及到了写总线。今天，我想利用之前的VGA模块，将AXI4-Lite的读写都应用上。这篇文章主要是思想的介绍，以及AXI4-Lite读的方法。一些细节请先阅读《MiZ702学习笔记7&mdash;&mdash;尝试自制带总线IP》。</p>
<p>具体思路为如下框图所示：</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153433218-1731704804.jpg"><img style="background-image: none; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image002" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153433812-1536452404.jpg" alt="clip_image002" width="518" height="226" border="0" /></a></p>
<p>所以这次，我们需要两条AXI4-Lite总线，一条负责给VGA模块提供RGB数据（写），一条读取VGA模块提供的扫描的坐标信息（读）。</p>
<p>点击下图中的加号，就能为我们额外的添加一条AXI4-Lite总线：</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153434390-483384540.jpg"><img style="background-image: none; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image004" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153435031-677583127.jpg" alt="clip_image004" width="691" height="528" border="0" /></a></p>
<p>因此在我们的IP工程里可以看到两套总线框架：</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153435515-1286258828.jpg"><img style="background-image: none; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image006" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153436172-1382378275.jpg" alt="clip_image006" width="352" height="51" border="0" /></a></p>
<p>IP打包好之后是这个样子：</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153436656-2009933776.jpg"><img style="background-image: none; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image008" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153437156-751412431.jpg" alt="clip_image008" width="275" height="253" border="0" /></a></p>
<p>我们将S00这条总线作为写数据用，将S01作为读数据总线。当然一条总线是既可以读也可以写的，但是VGA这个工程决定了读和写必须是同行进行的不可复用。</p>
<p>其他的就和之前讲到一样了，接下来AXI4-Lite的读和写。PL为了和PS通讯，是需要一些逻辑去支持的。而这些逻辑在我们生成AXI4-Lite IP的时候，vivado就帮我们自动生成了。我们要做的部分很少，只需要增改一些内容即可，就如《MiZ702学习笔记7&mdash;&mdash;尝试自制带总线IP》提到的那样。</p>
<p>这个工程中，对于总线的写而言就是给VGA模块送去RGB数据，&ldquo;写&rdquo;我们只需要增加自己的逻辑即可：</p>
<p>reg [11:0]rlcd_rgb;</p>
<p>always @( posedge S_AXI_ACLK )</p>
<p>begin</p>
<p>if ( S_AXI_ARESETN == 1'b0 )</p>
<p>begin</p>
<p>rlcd_rgb &lt;= 12'd0;</p>
<p>end</p>
<p>else</p>
<p>begin</p>
<p>rlcd_rgb &lt;= S_AXI_WDATA[11:0];</p>
<p>end</p>
<p>end</p>
<p>assign lcd_rgb = rlcd_rgb;</p>
<p>对于总线的读而言，我们需要将框架进行稍微的改动：</p>
<p>//写总线测试修改！！！！！！！！！</p>
<p>wire[31:0]wlcd_xy;// = {10'd0,lcd_xy};</p>
<p>assign wlcd_xy = {10'd0,lcd_xy};</p>
<p>assign slv_reg_rden = axi_arready &amp; S_AXI_ARVALID &amp; ~axi_rvalid;</p>
<p>always @(*)</p>
<p>begin</p>
<p>// Address decoding for reading registers</p>
<p>case ( axi_araddr[ADDR_LSB+OPT_MEM_ADDR_BITS:ADDR_LSB] )</p>
<p>2'h0 : reg_data_out &lt;= wlcd_xy;//slv_reg0;</p>
<p>2'h1 : reg_data_out &lt;= slv_reg1;</p>
<p>2'h2 : reg_data_out &lt;= slv_reg2;</p>
<p>2'h3 : reg_data_out &lt;= slv_reg3;</p>
<p>default : reg_data_out &lt;= 0;</p>
<p>endcase</p>
<p>end</p>
<p>这里其实，也就改了一个地方，本来是reg_data_out &lt;= slv_reg0;被我改成了reg_data_out &lt;= wlcd_xy;这样就能通过总线读取wlcd_xy的值了。</p>
<p>在回到这张框架图：</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153437640-336660542.jpg"><img style="background-image: none; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image002[1]" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153438031-429422552.jpg" alt="clip_image002[1]" width="518" height="226" border="0" /></a></p>
<p>到这了，我们的AXI IP已经具备了和ZYNQ以及VGA交互的能力，它就是PS和PL之间的桥梁，现在我们只差一个VGA IP，而这个IP就是个普通IP，没错就是《MiZ702学习笔记12&mdash;&mdash;封装一个普通的VGA IP》讲的那样，我们将程序稍加修改，在进行IP打包，就能得到。</p>
<p>最后，我们分别添加这几个IP，进行连线就完成了硬件的搭建。其实我提一些细节。</p>
<p>我们配置下ZNYQ的输出时钟：</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153438828-1363325334.jpg"><img style="background-image: none; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image010" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153439734-1356791033.jpg" alt="clip_image010" width="554" height="277" border="0" /></a></p>
<p>其中FCLK0一般添加zynq核时是默认引出的，这里主要是给AXI4-Lite IP提供时钟，大小我设置是250M，再高就提示出错了。</p>
<p>FCLK1将其设置为25M，主要给VGA IP提供时钟，应为VGA扫描是25M。</p>
<p>硬件平台准备好之后，就可以开始SDK的编程了。首先，我们得根据地址访问到AXI4-Lite IP，通过xparameter.h这个头文件可以得知S00这条总线的地址：</p>
<p>/* Definitions for driver MYVGAIP */</p>
<p><strong>#define</strong> XPAR_MYVGAIP_NUM_INSTANCES 1</p>
<p>/* Definitions for peripheral MYVGAIP_0 */</p>
<p><strong>#define</strong> XPAR_MYVGAIP_0_DEVICE_ID 0</p>
<p><strong>#define</strong> XPAR_MYVGAIP_0_S00_AXI_BASEADDR 0x43C00000</p>
<p><strong>#define</strong> XPAR_MYVGAIP_0_S00_AXI_HIGHADDR 0x43C0FFFF</p>
<p>但是头文件并未看到S01这条总线的地址，不过可以猜想，S00总线宽带是32位的，且首地址是0x43C00000，那么如果地址是连续的总线S01的首地址应该就是0x43C1ffff。</p>
<p>通过查看system.hdf可以确定以上推测是正确的：</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153440547-1507857036.jpg"><img style="background-image: none; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image012" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153441047-1014604758.jpg" alt="clip_image012" width="330" height="69" border="0" /></a></p>
<p>于是定义如下：</p>
<p><strong>#define</strong> RGB_AXI_BASEADDR 0x43C00000</p>
<p><strong>#define</strong> LCDXY_AXI_BASEADDR 0x43C10000</p>
<p>首先进行彩条的测试，先通过Xil_In32，这个函数读总线，得到VGA模块输出的坐标值。其中低11位是Y坐标的值，高11位是X坐标的值：</p>
<p>temp = Xil_In32(LCDXY_AXI_BASEADDR);</p>
<p>lcd_ypos = temp &amp; 0x7ff;</p>
<p>lcd_xpos = (temp&gt;&gt;11) &amp; 0x7ff;</p>
<p>就可以测试横向彩条：</p>
<p>//横向彩条</p>
<p><strong>if</strong> (lcd_ypos &gt;= 0 &amp;&amp; lcd_ypos &lt; (V_DISP/8)*1)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, RED);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_ypos &gt;= (V_DISP/8)*1 &amp;&amp; lcd_ypos &lt; (V_DISP/8)*2)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, GREEN);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_ypos &gt;= (V_DISP/8)*2 &amp;&amp; lcd_ypos &lt; (V_DISP/8)*3)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, BLUE);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_ypos &gt;= (V_DISP/8)*3 &amp;&amp; lcd_ypos &lt; (V_DISP/8)*4)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, WHITE);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_ypos &gt;= (V_DISP/8)*4 &amp;&amp; lcd_ypos &lt; (V_DISP/8)*5)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, BLACK);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_ypos &gt;= (V_DISP/8)*5 &amp;&amp; lcd_ypos &lt; (V_DISP/8)*6)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, YELLOW);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_ypos &gt;= (V_DISP/8)*6 &amp;&amp; lcd_ypos &lt; (V_DISP/8)*7)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, CYAN);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_ypos &gt;= (V_DISP/8)*7 &amp;&amp; lcd_ypos &lt; (V_DISP/8)*8)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, ROYAL);</p>
<p>结果和想象中一样完美~~~</p>
<p>接下来测试，总线彩条：</p>
<p>//竖向扫描有点问题，</p>
<p><strong>if</strong> (lcd_xpos &gt;= 0 &amp;&amp; lcd_xpos &lt; (H_DISP/8)*1)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, RED);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_xpos &gt;= (H_DISP/8)*1 &amp;&amp; lcd_xpos &lt; (H_DISP/8)*2)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, GREEN);</p>
<p><strong>else</strong> <strong>if</strong>(<span style="text-decoration: underline;">lcd_xpos</span> &gt;= (H_DISP/8)*2 &amp;&amp; lcd_xpos &lt; (H_DISP/8)*3)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, BLUE);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_xpos &gt;= (H_DISP/8)*3 &amp;&amp; lcd_xpos &lt; (H_DISP/8)*4)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, WHITE);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_xpos &gt;= (H_DISP/8)*4 &amp;&amp; lcd_xpos &lt; (H_DISP/8)*5)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, BLACK);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_xpos &gt;= (H_DISP/8)*5 &amp;&amp; lcd_xpos &lt; (H_DISP/8)*6)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, YELLOW);</p>
<p><strong>else</strong> <strong>if</strong>(lcd_xpos &gt;= (H_DISP/8)*6 &amp;&amp; lcd_xpos &lt; (H_DISP/8)*7)</p>
<p>Xil_Out32(RGB_AXI_BASEADDR, CYAN);</p>
<p><strong>else</strong></p>
<p>Xil_Out32(RGB_AXI_BASEADDR, ROYAL);</p>
<p>结果就不想想象中那么完美了：</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153441468-793240754.jpg"><img style="background-image: none; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image014" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153441906-853853818.jpg" alt="clip_image014" width="434" height="258" border="0" /></a></p>
<p>我们发现彩条的边缘有锯齿，这是为什么呢？原因是横向彩条的扫描依据是lcd_ypos的值，纵向彩条的扫描依据是lcd_xpos。而VGA扫描是水平扫描，这意味着X的更新频率是Y更新频率的N倍。</p>
<p>也就是说AXI4-Lite的读写速度跟上了lcd_ypos的变化，却没能完全跟上lcd_xpos的值。</p>
<p>有的读者可能要发问了，之前给AXI4-Lite IP提供了250M的时钟吗，而VGA扫描才25M,怎么可能速度上跟不上？</p>
<p>这只能说AXI4-Lite本身，并不适合做大量传输数据这件事。AXI4-Lite只适合做一些简单的IO控制，配置寄存器用。</p>
<p>还记得在选择总线类型的时候吗？</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153442500-1411944460.jpg"><img style="background-image: none; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image016" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153442937-323006901.jpg" alt="clip_image016" width="284" height="153" border="0" /></a></p>
<p>我们选择的是Lite，其实还有其他类型可选，如：AXI4，以及AXIStream类型。这些就是我们接下来的任务了。</p>
<p>最近，路飞开4档了，实在太帅了，我最终的目的本来是想将他显示在VGA上的，奈何一开始选错了总线类型，只能将就着看了：</p>
<p><a href="http://images2015.cnblogs.com/blog/407610/201601/407610-20160124153443468-1075506670.jpg"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="clip_image018" src="https://images2015.cnblogs.com/blog/407610/201601/407610-20160124153443875-1893080330.jpg" alt="clip_image018" width="511" height="147" border="0" /></a></p>
<p>总结：</p>
<p>虽然最终的结果不算成功，但是过程还是能学到不少东西，这里例子可以很好的体现ZYNQ的优势：</p>
<p>1、利用PL部分驱动VGA，充分的发挥FPGA的优势。为PS分担的不小的任务。</p>
<p>2、利用PS完成数据的提供，数据方便存储，且更加多变，正好弥补了FPGA这方面的缺点。</p>
<p>接下来的教程里，就开始探究AXI4以及AXIStream，必将完善次项目，就到这里吧。东莞今天居然下雪了，不说了拿电吹风取暖去了。明天回家了，祝我一路顺风吧~~</p>
<p>工程文件，待会上传~~~</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


		</div>
		<div class = "postDesc">posted @ <span id="post-date">2016-01-24 15:35</span> <a href='https://www.cnblogs.com/douzi2/'>宋桓公</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href ="https://i.cnblogs.com/EditPosts.aspx?postid=5155243" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(5155243);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=117681,cb_entryId=5155243,cb_blogApp=currentBlogApp,cb_blogUserGuid='4a4357ae-769a-e111-aa3f-842b2b196315',cb_entryCreatedDate='2016/1/24 15:35:00';loadViewCount(cb_entryId);var cb_postType=1;var isMarkdown=false;</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id='comment_form' class='commentform'>
<a name='commentform'></a>
<div id='divCommentShow'></div>
<div id='comment_nav'><span id='span_refresh_tips'></span><a href='javascript:void(0);' onclick='return RefreshCommentList();' id='lnk_RefreshComments' runat='server' clientidmode='Static'>刷新评论</a><a href='#' onclick='return RefreshPage();'>刷新页面</a><a href='#top'>返回顶部</a></div>
<div id='comment_form_container'></div>
<div class='ad_text_commentbox' id='ad_text_under_commentbox'></div>
<div id='ad_t2'></div>
<div id='opt_under_post'></div>
<script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>
<script>
  googletag.cmd.push(function() {
        googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1546353474406-0').addService(googletag.pubads());
        googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
  });
</script>
<div id='cnblogs_c1' class='c_ad_block'>
    <div id='div-gpt-ad-1546353474406-0' style='height:250px; width:300px;'></div>
</div>
<div id='under_post_news'></div>
<div id='cnblogs_c2' class='c_ad_block'>
    <div id='div-gpt-ad-1539008685004-0' style='height:60px; width:468px;'></div>
</div>
<div id='under_post_kb'></div>
<div id='HistoryToday' class='c_ad_block'></div>
<script type='text/javascript'>
 if(enablePostBottom()) {
    codeHighlight();
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverT2();
    deliverC1();
    deliverC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);  
}
</script>
</div>

    
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright &copy;2019 宋桓公
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->

</body>
</html>
