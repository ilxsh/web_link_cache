(window.webpackJsonp=window.webpackJsonp||[]).push([[515],{"+xrG":function(e,t,o){"use strict";o.r(t);var n=o("HGgJ"),a=o("Jygk"),i=o.n(a),r=function(e,t){if(e){var o=new window.MutationObserver(t);return o.observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),o}};function c(e,t,o){var n;return function(){var a=this,i=arguments,r=o&&!n;clearTimeout(n),n=setTimeout(function(){n=null,o||e.apply(a,i)},t),r&&e.apply(a,i)}}var d=function(e,t){var o=c(t,50),n=e.querySelectorAll("img");[].forEach.call(n,function(e){"true"!==e.dataset.fallbackImgLoadedListener&&(e.addEventListener("load",o),e.dataset.fallbackImgLoadedListener="true")})},l=function(e,t,o){var a,i=!1;document.addEventListener("click",function(e){e.srcElement&&"A"===e.srcElement.tagName&&(i=!0,a=e.srcElement.href,Object(n.a)(a,o,function(o){t(o),e.preventDefault(),i=!1}))}),window.addEventListener("beforeunload",function(){i&&(i=!1,e(a))})},s=function(e){var t=c(e,50);window.addEventListener("resize",t)},u=o("tQaH"),f=o.n(u),p=o("jqY8"),g=function(e){var t=function(e){return function(t){var o=Object(p.g)(),n=o.origin;n||(n="".concat(o.protocol,"//").concat(o.hostname).concat(o.port?":".concat(o.port):"")),Object(p.c)().parent.postMessage(f()({},t,{bridgeId:e}),n)}}(e);return{onIframeLoaded:function(e){t(function(e){return{type:"iframeDOMContentLoaded",location:e}}(e))},pushLocationToParent:function(e){t(function(e){return{type:"postNextIframeLocation",nextLocation:e}}(e))},updateLocationToParent:function(e){t(function(e){return{type:"postUpdateIframeLocation",nextLocation:e}}(e))},updateIframeSize:function(){t(function(){var e=i.a.document.body.getBoundingClientRect();return{type:"postIframeSize",width:e.width,height:e.height}}())},updateIframeAnchor:function(e){t(function(e){return{type:"postUpdateIframeAnchor",anchor:e}}(e))}}},b=o("z6J1"),m=o("7M9M"),y="/pages/editpage.action?pageId=",v="/pages/editblogpost.action?pageId=";function h(e){i.a.top.location=e}function w(e){!function(e){if(e.key&&"e"===e.key.toLowerCase()&&function(e){return-1===["INPUT","TEXTAREA","BUTTON","SELECT"].indexOf(e.tagName)}(e.target)){var t=Object(b.a)(i.a,document),o=t.contentType,n=t.pageId;m.CONTEXT_PATH&&n&&o&&("page"===o?h("".concat(m.CONTEXT_PATH).concat(y).concat(n)):"blogpost"===o&&h("".concat(m.CONTEXT_PATH).concat(v).concat(n)))}}(e)}o.d(t,"start",function(){return I});var I=function(e,t){var a=function(o){e.top.location=o,t.write("<style>body { display:none!important }</style>\x3c!--")},i=Object(b.a)(e,t),c=i.isFallbackModeIframe,u=i.isIframeAllowed,f=i.isViewPageContentOnly,p=i.isWhitelisted,m=i.bridgeId,y=i.isSpaceOverview,v=i.isOverflowAllowed,h=g(m).onIframeLoaded,I=p||u;if(c){if(f){var E=t.createElement("base");E.target="_top",t.getElementsByTagName("head")[0].appendChild(E)}I||a(e.location.href),u&&!p&&(t.addEventListener("DOMContentLoaded",function(){o("HEvi"),o("6t7U"),o("04PE"),y&&t.querySelector("body").classList.add("space-overview"),v&&t.querySelector("html").classList.add("allow-overflow"),function(e,t,o){var n=g(e),a=n.pushLocationToParent,i=n.updateIframeSize,c=n.updateIframeAnchor,u=o.location.href;l(a,c,u),r(t.body,function(){i(),d(t.body,i)}),s(i),d(t.body,i),i()}(m,t,e),h(e.location.href),t.querySelector("body").classList.add("dom-is-ready")}),t.addEventListener("keydown",w),e.addEventListener("load",function(){Object(n.a)(e.location.href,e.location.href),t.querySelector("body").classList.add("document-has-loaded")}))}else if(f){var L=e.location.href,O=L.split("#")[1],x=L.replace("/content-only/","/pages/").replace(/&iframeId=(.*)$/,"").replace(/#(.*)$/,"");a(x+=O?"#".concat(O):"")}}},"0+IW":function(e,t,o){(e.exports=o("RDo7")(!1)).push([e.i,"body.cq-body{overflow-y:visible;background:#fff;height:auto!important;min-height:500px}body.cq-body .aui-page-panel{border-bottom:0}body.cq-body .cq-page-header .aui-page-header-inner,body.cq-body .cq-page-main .aui-page-panel-inner{max-width:1000px;width:100%}body.cq-body .cq-page-main .aui-page-panel-inner.cq-inner-no-fixed-width{max-width:100%}body.cq-body .onboarding{position:relative;padding-top:110px;width:100%}body.cq-body .onboarding h1{text-transform:uppercase;color:#707070;font-size:12px;font-weight:700}body.cq-body .onboarding .ask-question-image-container{position:absolute;top:0;left:50%;margin-left:-60px}body.cq-body .onboarding .aui{margin-top:20px}body.cq-body #full-height-container{height:auto;background-color:#fff}",""])},"04PE":function(e,t,o){var n=o("0+IW");"string"==typeof n&&(n=[[e.i,n,""]]);var a={insertAt:"bottom",singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};o("cuK8")(n,a);n.locals&&(e.exports=n.locals)},"6t7U":function(e,t,o){var n=o("OfEr");"string"==typeof n&&(n=[[e.i,n,""]]);var a={insertAt:"bottom",singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};o("cuK8")(n,a);n.locals&&(e.exports=n.locals)},HEvi:function(e,t,o){var n=o("YwBH");"string"==typeof n&&(n=[[e.i,n,""]]);var a={insertAt:"bottom",singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};o("cuK8")(n,a);n.locals&&(e.exports=n.locals)},HGgJ:function(e,t,o){"use strict";o.d(t,"b",function(){return c}),o.d(t,"a",function(){return d});var n=o("ddV6"),a=o.n(n),i=o("Jygk"),r=o.n(i),c=function(e,t){var o=e;0===e.indexOf("#")&&(o=e.substring(1));var n=r.a.document.getElementById(o);n||(n=r.a.document.querySelector('[name="'.concat(o,'"]'))),function(e){if(e){var t=e.style.display;e.style.display="inline-block",e.scrollIntoView(),e.style.display=t}}(n),t&&t()};function d(e,t,o){var n=t.split("#"),i=a()(n,1)[0],r=e.split("#"),d=a()(r,2),l=d[0],s=d[1];s&&l===i&&c(s,o)}},OfEr:function(e,t,o){(e.exports=o("RDo7")(!1)).push([e.i,"body.confluence-inline-tasks{padding-top:10px}body.page-gadget.confluence-inline-tasks #main{width:100%;padding-left:10px}",""])},YwBH:function(e,t,o){(e.exports=o("RDo7")(!1)).push([e.i,"body.page-gadget,html{height:auto;overflow:hidden}.allow-overflow{overflow:auto}.allow-overflow body{background-color:#fff}.allow-overflow .ap-container iframe,.allow-overflow .aui-page-panel{border:0}body.page-gadget{background:#fff;opacity:1;padding-top:60px}body.page-gadget #page{position:relative}body.page-gadget #main{padding:0;position:static;width:calc(100% - 110px);margin:0 auto}body.page-gadget.space-overview #main{width:calc(100% - 40px)}body.page-gadget #main.aui-page-panel{border-bottom:0}body.page-gadget #full-height-container,body.page-gadget #page{height:auto}body.theme-default #full-height-container{background-color:#fff}",""])},z6J1:function(e,t,o){"use strict";var n=o("ddV6"),a=o.n(n),i={};function r(e,t){var o=e.getElementsByName(t)[0];return o&&o.getAttribute("content")||""}t.a=function(e,t){var o=e.location.href,n="true"===r(t,"ajs-iframe-allowed-for-spa")||!1,c=void 0!==e.__SKIP_FALLBACK_MODE__&&e.__SKIP_FALLBACK_MODE__||function(e){return Object.keys(i).filter(function(t){return-1!==e.indexOf(i[t])}).length>0}(o);return{spaceKey:r(t,"confluence-space-key"),isIframeAllowed:n,isWhitelisted:c,isViewPageContentOnly:o.indexOf("/content-only/")>-1,isFallbackModeIframe:function(e){if(e.top===e.self)return!1;var t=e.frameElement&&e.frameElement.getAttribute("data-is-fallback-mode-iframe");return!(!t||"true"!==t)}(e),bridgeId:function(e){return e.frameElement&&e.frameElement.getAttribute("data-bridge-id")}(e),isSpaceOverview:o.indexOf("isSpaceOverview=true")>0,isOverflowAllowed:-1!==decodeURIComponent(function(e){return e.location&&e.location.search?e.location.search.substr(1).split("&").reduce(function(e,t){var o=t.split("="),n=a()(o,2),i=n[0],r=n[1];return e[i]=decodeURIComponent(r),e},{}):{}}(e).addonUrl||o).indexOf("/customcontent/"),darkFeatures:(r(t,"ajs-enabled-dark-features")||"").split(","),contentType:r(t,"ajs-content-type")||"",pageId:r(t,"ajs-page-id")}}}}]);
//# sourceMappingURL=fallback-mode-top-frame.14eddac35ea99ce7637b-v38.js.map