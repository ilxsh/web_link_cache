(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+EFR":function(e,n,t){"use strict";t.d(n,"a",function(){return o});var a=t("T0aG"),i=t.n(a),l=t("kVkH"),r=t.n(l),d=/\[messageKey=((?:\w|\.)+){1},\s*args=\[((?:.)+)?\]\]\]/;function o(e){var n="",t="",a=[];if("object"===i()(e)&&e.message&&(n=e.message),"string"==typeof n&&n.indexOf("messageKey")>=0&&d.test(n)){var l=d.exec(n);t=l[1];var o=l[2]?l[2].split(","):[];o&&(a[0]=r()(o),a[1]=o.slice(1).join(", "))}return{message:n,messageKey:t,args:a}}},JByK:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LabelsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"refetchQuery"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"refetchQuery"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:390,source:{body:"\n  query LabelsQuery($contentId: ID!, $refetchQuery: Boolean!) {\n    content(id: $contentId) {\n      nodes {\n        id\n        type\n        operations @skip(if: $refetchQuery) {\n          operation\n          targetType\n        }\n        labels {\n          count\n          nodes {\n            id\n            label\n            name\n            prefix\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},WB0a:function(e,n,t){"use strict";var a,i,l,r,d=t("VrFO"),o=t.n(d),s=t("Y9Ll"),c=t.n(s),u=t("N+ot"),m=t.n(u),v=t("AuHH"),k=t.n(v),p=t("1Pcy"),b=t.n(p),f=t("5Yy7"),g=t.n(f),y=t("KEM+"),N=t.n(y),h=t("ERkP"),S=t.n(h),L=t("kFJ8"),I=(t("aWzz"),t("PTiB")),E=t("qdfj"),D=t("+EFR"),F=t("JByK"),V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteLabelMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"label"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"ObjectField",name:{kind:"Name",value:"label"},value:{kind:"Variable",name:{kind:"Name",value:"label"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:173,source:{body:"\n  mutation DeleteLabelMutation($contentId: ID!, $label: String!) {\n    deleteLabel(input: { contentId: $contentId, label: $label }) {\n      contentId\n      label\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},x=t("L21V"),A=t("06K+"),T=Object(x.f)({deleteLabelText:{id:"labels.deleteLabel.action",defaultMessage:"Delete Label",description:"Aria label for button to delete label"}}),O=Object(x.g)((i=a=function(e){function n(){var e,t;o()(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=m()(this,(e=k()(n)).call.apply(e,[this].concat(i))),N()(b()(t),"onBeforeRemoveAction",function(){return(0,t.props.deleteLabel)(),!0}),t}return g()(n,e),c()(n,[{key:"render",value:function(){var e=this.props,n=e.name,t=e.prefix,a=e.isDeletable,i=e.href,l=e.intl.formatMessage,r=t&&"global"!==t&&"team"!==t,d=l(T.deleteLabelText);return S.a.createElement(A.a,{text:"".concat(r?"".concat(t,":"):"").concat(n),href:i,onBeforeRemoveAction:a?this.onBeforeRemoveAction:null,removeButtonText:a?d:null})}}]),n}(h.Component),N()(a,"defaultProps",{isDeletable:!1}),i));t.d(n,"a",function(){return C});var C=Object(I.a)()(Object(E.a)((r=l=function(e){function n(){var e,t;o()(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=m()(this,(e=k()(n)).call.apply(e,[this].concat(i))),N()(b()(t),"sendLabelDeletedAnalyticsEvent",function(){var e=t.props,n=e.contentId,a=e.name;t.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"deleted",actionSubject:"label",source:"labelComponent",attributes:{componentVersion:"v2",contentId:n,name:a}}}).fire()}),N()(b()(t),"generateDeleteLabel",function(e){var n=t.props,a=n.contentId,i=n.name;return function(){e({variables:{contentId:a,label:i}})}}),N()(b()(t),"onError",function(e){t.props.onError(Object(D.a)(e))}),t}return g()(n,e),c()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,a=n.spaceKey,i=n.prefix,l=n.name,r=n.isDeletable;return S.a.createElement(L.c,{mutation:V,refetchQueries:[{query:F.a,variables:{contentId:t,refetchQuery:!0}}],onCompleted:this.sendLabelDeletedAnalyticsEvent,onError:this.onError},function(n){var t="/wiki/label/".concat(a,"/").concat(l);return S.a.createElement(O,{href:t,prefix:i,name:l,isDeletable:r,deleteLabel:e.generateDeleteLabel(n)})})}}]),n}(h.Component),N()(l,"defaultProps",{onError:function(){}}),r)))},hGWn:function(e,n,t){"use strict";var a,i,l,r=t("VrFO"),d=t.n(r),o=t("Y9Ll"),s=t.n(o),c=t("N+ot"),u=t.n(c),m=t("AuHH"),v=t.n(m),k=t("1Pcy"),p=t.n(k),b=t("5Yy7"),f=t.n(b),g=t("KEM+"),y=t.n(g),N=t("ERkP"),h=t.n(N),S=t("kFJ8"),L=(t("aWzz"),t("PTiB")),I=t("7LQG"),E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LabelQueryExperimental"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labelId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalDeleteLabel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"labelId"},value:{kind:"Variable",name:{kind:"Name",value:"labelId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:255,source:{body:"\n  mutation LabelQueryExperimental($contentId: ID!, $labelId: ID!)\n    @experimental {\n    experimentalDeleteLabel(contentId: $contentId, labelId: $labelId) {\n      id\n      results {\n        name\n        id\n        label\n        prefix\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LabelQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:277,source:{body:"\n  query LabelQuery($contentId: ID!) {\n    content(id: $contentId) {\n      nodes {\n        id\n        labels(first: 200, offset: 0) {\n          count\n          nodes {\n            id\n            label\n            name\n            prefix\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},F=t("L21V"),V=t("06K+"),x=Object(F.g)((l=i=function(e){function n(){var e,t;d()(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(t=u()(this,(e=v()(n)).call.apply(e,[this].concat(i)))).onBeforeRemoveAction=t.onBeforeRemoveAction.bind(p()(t)),t}return f()(n,e),s()(n,[{key:"onBeforeRemoveAction",value:function(){return(0,this.props.deleteLabel)(),!0}},{key:"render",value:function(){var e=this.props,n=e.name,t=e.prefix,a=e.isDeletable,i=e.href,l=e.intl.formatMessage,r=t&&"global"!==t&&"team"!==t,d=l({id:"remove.label"});return h.a.createElement(V.a,{text:"".concat(r?"".concat(t,":"):"").concat(n),href:i,onBeforeRemoveAction:a?this.onBeforeRemoveAction:null,removeButtonText:a?d:null})}}]),n}(N.Component),y()(i,"defaultProps",{isDeletable:!1}),a=l))||a;n.a=Object(L.a)()(function(e){function n(){var e,t;d()(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=u()(this,(e=v()(n)).call.apply(e,[this].concat(i))),y()(p()(t),"sendLabelDeletedAnalyticsEvent",function(){var e=t.props,n=e.contentId,a=e.name;t.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"deleted",actionSubject:"label",source:"labelComponent",attributes:{componentVersion:"v1",contentId:n,name:a}}}).fire()}),t._deleteLabel=t._deleteLabel.bind(p()(t)),t}return f()(n,e),s()(n,[{key:"_deleteLabel",value:function(e){var n=this,t=this.props,a=t.contentId,i=t.id;return function(){e({variables:{contentId:a,labelId:i}}).then(function(){n.sendLabelDeletedAnalyticsEvent()})}}},{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,a=n.spaceKey,i=n.prefix,l=n.name,r=n.isDeletable,d=n.onError;return h.a.createElement(S.c,{mutation:E,refetchQueries:[{query:D,variables:{contentId:t}}]},function(n,t){var o=t.error;o&&d(o);var s="".concat(I.a,"/label/").concat(a,"/").concat(l);return h.a.createElement(x,{href:s,prefix:i,name:l,isDeletable:r,deleteLabel:e._deleteLabel(n)})})}}]),n}(N.Component))},p7S1:function(e,n,t){"use strict";var a=t("VrFO"),i=t.n(a),l=t("Y9Ll"),r=t.n(l),d=t("N+ot"),o=t.n(d),s=t("AuHH"),c=t.n(s),u=t("5Yy7"),m=t.n(u),v=t("ERkP"),k=t.n(v),p=t("kFJ8"),b=(t("aWzz"),t("2srY")),f=t.n(b),g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EditLabelDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:300,source:{body:"\n  query EditLabelDialogQuery($contentId: ID!, $status: [String]) {\n    content(id: $contentId, status: $status) {\n      nodes {\n        id\n        labels {\n          count\n          nodes {\n            id\n            label\n            name\n            prefix\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddLabelsMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"labels"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LabelInput"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLabels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"ObjectField",name:{kind:"Name",value:"labels"},value:{kind:"Variable",name:{kind:"Name",value:"labels"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:275,source:{body:"\n  mutation AddLabelsMutation($contentId: ID!, $labels: [LabelInput!]!) {\n    addLabels(input: { contentId: $contentId, labels: $labels }) {\n      labels {\n        count\n        nodes {\n          id\n          prefix\n          name\n          label\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},N=t("97Jx"),h=t.n(N),S=t("T0aG"),L=t.n(S),I=t("RhWx"),E=t.n(I),D=t("tQaH"),F=t.n(D),V=t("1Pcy"),x=t.n(V),A=t("KEM+"),T=t.n(A),O=t("7wq/"),C=t.n(O),M=t("L21V"),w=t("nnRT"),Q=t.n(w),R=t("KsTJ"),$=t("Pydg"),j=t("ZmIu"),q=t("llcG"),B=t("Xi0d"),K=t("1whV"),P=t.n(K),H=t("7A9o"),_=t("PTiB"),G=t("+EFR"),W=t("WB0a"),J=t("dV0T");function z(){var e=C()(["\n  color: ",";\n"]);return z=function(){return e},e}function Y(){var e=C()(["\n  color: ",";\n"]);return Y=function(){return e},e}var U=R.default.h2(Y(),H.colors.N800),X=R.default.a(z(),H.colors.B400),Z=function(e){function n(){return i()(this,n),o()(this,c()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"renderHelpLink",value:function(){return k.a.createElement(X,{href:"https://confluence.atlassian.com/confcloud/use-labels-to-organize-your-content-724764874.html",target:"_blank",rel:"noopener"},k.a.createElement(M.b,{id:"labels.help.link.text",defaultMessage:"Help",description:"Link text to help page"}))}},{key:"render",value:function(){return k.a.createElement("div",null,k.a.createElement(J.e,null,k.a.createElement(U,null,k.a.createElement(M.b,{id:"labels.modal.title",defaultMessage:"Labels",description:"Title for modal to edit content labels"})),this.renderHelpLink()))}}]),n}(v.PureComponent);function ee(){var e=C()(["\n  color: ",";\n"]);return ee=function(){return e},e}Z.displayName="EditLabelDialogHeader";var ne=R.default.span(ee(),H.colors.N300),te=k.a.createElement(ne,null,k.a.createElement(M.a,{id:"labels.dialog.shortcut.tip",defaultMessage:"Shortcut tip: In page view, pressing <b>{shortcut}</b> also opens this dialog box",values:{shortcut:"l"}})),ae=function(e){function n(){return i()(this,n),o()(this,c()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this.props.onClose;return k.a.createElement(J.d,null,te,k.a.createElement(q.a,{appearance:"primary",onClick:e},k.a.createElement(M.b,{id:"labels.dialog.close",defaultMessage:"Close",description:"Verb to close dialog"})))}}]),n}(v.Component);ae.displayName="EditLabelDialogFooter";var ie=t("VtSi"),le=t.n(ie),re=t("cbiG"),de=t.n(re),oe=t("RNvQ"),se=t.n(oe),ce=t("RR8A"),ue=t("k689"),me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LabelSearchQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchText"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentLabelSearch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"searchText"},value:{kind:"Variable",name:{kind:"Name",value:"searchText"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"otherLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:316,source:{body:"\n  query LabelSearchQuery($contentId: ID!, $searchText: String!) {\n    contentLabelSearch(contentId: $contentId, searchText: $searchText) {\n      suggestedLabels {\n        prefix\n        name\n        id\n        label\n      }\n      otherLabels {\n        prefix\n        name\n        id\n        label\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ve=300,ke=5,pe=function(e){return e.options&&e.options.length?k.a.createElement(ce.d.Menu,e,e.children):null};pe.displayName="CustomMenu";var be={DropdownIndicator:null,NoOptionsMessage:function(){return null},Menu:pe},fe={menuList:function(e){return F()({},e,{maxHeight:"70"})}},ge=function(e){function n(){var e,t;i()(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(l))),T()(x()(t),"onChange",function(e){var n=e.map(function(e){return{name:e.value,prefix:e.prefix||""}});t.props.onSelectSuggestion(n)}),T()(x()(t),"onCreateOption",function(e){t.props.onCreateOption(e)}),T()(x()(t),"makeSearchQuery",function(){var e=de()(le.a.mark(function e(n){var a,i,l,r,d,o,s,c;return le.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,i=a.apolloClient,l=a.contentId,e.next=3,i.query({query:me,variables:{searchText:n,contentId:l}});case 3:return r=e.sent,d=r.data,o=f()(d,"contentLabelSearch.suggestedLabels"),(s=o.slice(0,ke)).length<ke&&(c=f()(d,"contentLabelSearch.otherLabels"),s=s.concat(c.slice(0,ke-s.length))),e.abrupt("return",s);case 9:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()),T()(x()(t),"loadOptions",se()(function(e,n){t.makeSearchQuery(e).then(function(e){n(e.map(function(e){return{label:e.label,value:e.label}}))})},ve)),t}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this.props,n=e.inputLabelsValue,t=e.setSelectInputRef;return k.a.createElement(ue.a,{isClearable:!0,isMulti:!0,cacheOptions:!0,autoFocus:!0,components:be,styles:fe,value:function(e){return e.map(function(e){return{label:e.name,value:e.name}})}(n),onCreateOption:this.onCreateOption,loadOptions:this.loadOptions,allowCreateWhileLoading:this.props.allowCreateWhileLoading,onChange:this.onChange,placeholder:"",ref:t})}}]),n}(v.Component);T()(ge,"defaultProps",{allowCreateWhileLoading:!1,setSelectInputRef:function(){}}),ge.displayName="LabelSearchComponent";var ye=function(e){function n(){return i()(this,n),o()(this,c()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.inputLabelsValue,a=e.onSelectSuggestion,i=e.onCreateOption,l=e.setSelectInputRef;return k.a.createElement(p.a,null,function(e){return k.a.createElement(ge,{apolloClient:e,contentId:n,onSelectSuggestion:a,onCreateOption:i,inputLabelsValue:t,setSelectInputRef:l})})}}]),n}(v.Component);function Ne(){var e=C()(["\n  flex-basis: 100%;\n  flex-shrink: 0;\n"]);return Ne=function(){return e},e}function he(){var e=C()(["\n  margin-right: 12px;\n  flex-grow: 1;\n"]);return he=function(){return e},e}function Se(){var e=C()(["\n  align-items: baseline;\n  box-sizing: border-box;\n  display: flex;\n  flex-wrap: wrap;\n  padding-top: 20px;\n  visibility: visible;\n  min-height: 150px;\n"]);return Se=function(){return e},e}ye.displayName="LabelSearch";var Le=R.default.div(Se()),Ie=R.default.span(he()),Ee=R.default.div(Ne()),De=Object(M.f)({"please.enter.a.label":{id:"labels.error.enterLabel",defaultMessage:"Please enter a label.",description:"User did not select label(s) before submitting"},"label.not.found":{id:"labels.error.notFound",defaultMessage:"Label Not Found",description:"Could not find label to delete"},"label.contains.invalid.chars":{id:"labels.error.invalidChars",defaultMessage:"{0} contains invalid characters ({1}).",description:"Message when user tries to add label with invalid characters"},"label.name.is.too.long":{id:"labels.error.tooLong",defaultMessage:"Label names must be less than {0} characters.",description:"User tried to add label with too many characters"},"only.personal.labels.permitted":{id:"labels.error.onlyPersonal",defaultMessage:"You are only permitted to add personal labels on this page.",description:"User only has permission to add personal labels"},dismissAction:{id:"labels.error.action.dismiss",defaultMessage:"Dismiss",description:"Action to dismiss error message"},errorTitle:{id:"labels.error.title",defaultMessage:"Error",description:"Title of error message"}}),Fe=Object(_.a)()(Object(M.g)(function(e){function n(){var e,t;i()(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return t=o()(this,(e=c()(n)).call.apply(e,[this].concat(l))),T()(x()(t),"state",{inputLabelsValue:[],error:null,isAdding:!1}),T()(x()(t),"selectInput",null),T()(x()(t),"setSelectInputRef",function(e){t.selectInput=e}),T()(x()(t),"sendAddLabelAnalyticsEvent",function(e){var n=t.props.contentId;t.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"add",actionSubject:"label",source:"editLabelDialog",attributes:{componentVersion:"v2",contentId:n,newLabels:e}}}).fire()}),T()(x()(t),"onAddLabels",function(){var e=t.props,n=e.addLabels,a=e.contentId,i=e.labels,l=t.state.inputLabelsValue;n({variables:{contentId:a,labels:l},optimisticResponse:{__typename:"Mutation",addLabels:{__typename:"AddLabelsPayload",labels:{__typename:"PaginatedLabelList",count:i.length+l.length,nodes:i.concat(l.map(function(e){return F()({},e,{id:"".concat(Math.round(-1e6*Math.random())),label:e.name,__typename:"Label"})}))}}}}).then(function(){t.sendAddLabelAnalyticsEvent(l)}).catch(function(e){t.onError(Object(G.a)(e))}),t.selectInput&&t.selectInput.focus(),t.setState({inputLabelsValue:[]})}),T()(x()(t),"onSelectSuggestion",function(e){t.setState({inputLabelsValue:e})}),T()(x()(t),"onCreateOption",function(e){var n=t.state.inputLabelsValue,a=e.trim().split(" ").map(function(e){return{name:e,prefix:""}});t.setState({inputLabelsValue:[].concat(E()(n),E()(a))})}),T()(x()(t),"closeErrorMessage",function(){t.setState({error:null})}),T()(x()(t),"onError",function(e){t.setState({error:e})}),t}return m()(n,e),r()(n,[{key:"shouldComponentUpdate",value:function(e,n){return!Q()(this.props,e)||!Q()(this.state,n)}},{key:"parseErrorMessage",value:function(){var e=this.props.intl.formatHTMLMessage,n=this.state.error,t="";return n&&"object"===L()(n)&&(n.messageKey?t=e(De[n.messageKey],n.args):n.message&&(t=n.message)),t}},{key:"sendLabelErrorAnalyticsEvent",value:function(e){var n=this.props.contentId;this.props.createAnalyticsEvent({type:"sendTrackEvent",data:{action:"error",actionSubject:"label",source:"editLabelDialog",attributes:{componentVersion:"v2",contentId:n,errorMessage:e}}}).fire()}},{key:"renderErrorMessage",value:function(){var e=this.parseErrorMessage();if(e){var n=this.props.intl.formatMessage;this.sendLabelErrorAnalyticsEvent(e);var t=n(De.errorTitle),a=k.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),i=[{content:n(De.dismissAction),onClick:this.closeErrorMessage}];return k.a.createElement(B.b,{appearance:"error",title:t,actions:i,description:a,icon:k.a.createElement(P.a,{secondaryColor:H.colors.R300}),isDismissAllowed:!0})}return null}},{key:"renderLabelList",value:function(){var e=this.props,n=e.labels,t=e.spaceKey,a=e.contentId,i={onError:this.onError,spaceKey:t,contentId:a,isDeletable:!0};return n&&0!==n.length?n.map(function(e){var n={id:e.id,prefix:e.prefix,name:e.name};return k.a.createElement(W.a,h()({},n,i,{key:e.id}))}):null}},{key:"render",value:function(){var e=this.props,n=e.isAdding,t=e.closeDialog,a=e.contentId,i=this.state.inputLabelsValue,l={components:{Header:Z,Footer:ae},width:"medium",onClose:t,autoFocus:!1};return k.a.createElement($.b,null,k.a.createElement(j.a,l,this.renderErrorMessage(),k.a.createElement(Le,{"data-test-id":"modal-content"},k.a.createElement(Ie,null,k.a.createElement(ye,{contentId:a,inputLabelsValue:i,onSelectSuggestion:this.onSelectSuggestion,onCreateOption:this.onCreateOption,setSelectInputRef:this.setSelectInputRef})),k.a.createElement(q.a,{appearance:"default",isDisabled:n,onClick:this.onAddLabels},k.a.createElement(M.b,{id:"labels.verb.add",defaultMessage:"Add",description:"Action to add a label to content"})),k.a.createElement(Ee,{id:"dialog-label-list",className:"label-list","data-ready":"true"},this.renderLabelList()))))}}]),n}(v.Component)));t.d(n,"a",function(){return xe});var Ve=["current","draft"],xe=function(e){function n(){return i()(this,n),o()(this,c()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.spaceKey,a=e.closeDialog;return k.a.createElement(p.d,{query:g,variables:{contentId:n,status:Ve}},function(e){var i=e.data,l=e.error,r=e.loading;if(l)return null;var d=f()(i,"content.nodes[0].labels.nodes")||[];return k.a.createElement(p.c,{mutation:y,update:function(e,t){var a=t.data,i=f()(a,"addLabels.labels"),l=e.readQuery({query:g,variables:{contentId:n,status:Ve}});l.content.nodes[0].labels=i,e.writeQuery({query:g,variables:{contentId:n,status:Ve},data:l})}},function(e,i){var l=i.loading;return k.a.createElement(Fe,{labels:d,contentId:n,spaceKey:t,closeDialog:a,addLabels:e,isAdding:l||r})})})}}]),n}(v.Component);xe.displayName="EditLabelDialog"}}]);
//# sourceMappingURL=page.edit-label-dialog~page.labels.92c05ebb02e3cd847807-v38.js.map