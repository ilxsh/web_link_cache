(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{"+CY+":function(e,n,a){"use strict";a.d(n,"a",function(){return F});var t=a("VrFO"),i=a.n(t),r=a("Y9Ll"),l=a.n(r),o=a("N+ot"),c=a.n(o),s=a("AuHH"),d=a.n(s),u=a("1Pcy"),m=a.n(u),p=a("5Yy7"),v=a.n(p),k=a("KEM+"),f=a.n(k),y=a("ERkP"),g=(a("aWzz"),a("+Aie")),S=a.n(g),h=a("5Asb"),N={},b=S.a.prototype.stopCallback;S.a.prototype.stopCallback=function(e,n,a){return!!!h.d.map(function(e){return n.classList.contains(e)}).find(function(e){return e})&&b.call(void 0,e,n,a)};var E=150,F=function(e){function n(){var e,a;i()(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return a=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),f()(m()(a),"listeners",{}),f()(m()(a),"lastFired",0),f()(m()(a),"_call",function(e){var n=+new Date;n-a.lastFired>=E&&(a.lastFired=n,a.props.listener(e))}),a}return v()(n,e),l()(n,[{key:"componentDidMount",value:function(){var e=this.props.accelerator;N[e],N[e]=!0,S.a.bind(e,this._call)}},{key:"componentWillUnmount",value:function(){var e=this.props.accelerator;delete N[e],S.a.unbind(e)}},{key:"render",value:function(){return null}}]),n}(y.PureComponent);F.displayName="ShortcutListener"},"2rtj":function(e,n,a){"use strict";var t=a("97Jx"),i=a.n(t),r=a("VrFO"),l=a.n(r),o=a("Y9Ll"),c=a.n(o),s=a("N+ot"),d=a.n(s),u=a("AuHH"),m=a.n(u),p=a("5Yy7"),v=a.n(p),k=a("KEM+"),f=a.n(k),y=a("ERkP"),g=a.n(y),S=(a("aWzz"),a("Clud")),h=a("tQaH"),N=a.n(h),b=a("1Pcy"),E=a.n(b),F=a("EfWO"),C=a.n(F),K=a("xBue"),L=function(e){function n(){var e,a;l()(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return a=d()(this,(e=m()(n)).call.apply(e,[this].concat(i))),f()(E()(a),"onAnchorLinkClick",function(e){a.props.onPageReload(e.target.getAttribute("href")),a.props.onClick(e)}),a}return v()(n,e),c()(n,[{key:"render",value:function(){var e=this.props,n=e.children,a=e.className,t=e.name,i=e.href,r=void 0===i?null:i,l=e.to,o=void 0===l?null:l,c=e.target,s=void 0===c?null:c,d=e.params,u=void 0===d?{}:d,m=e.toUrl,p=e.matchSupportedRoute,v=e.onClick,k=r||o,f={};k&&(f=C.a.parse(k,!0));var y=m(t,N()({},u,f));return p(y)?g.a.createElement(K.a,{to:y,className:a,onClick:v},n):g.a.createElement("a",{href:y,className:a,onClick:this.onAnchorLinkClick,target:s,rel:"_blank"===s?"noreferrer":null},n)}}]),n}(y.Component);L.displayName="LinkComponent",a.d(n,"a",function(){return A});var A=function(e){function n(){return l()(this,n),d()(this,m()(n).apply(this,arguments))}return v()(n,e),c()(n,[{key:"render",value:function(){var e=this;return g.a.createElement(S.b.Consumer,null,function(n){var a=n.toUrl,t=n.matchSupportedRoute,r=n.onPageReload;return g.a.createElement(L,i()({},e.props,{toUrl:a,matchSupportedRoute:t,onPageReload:r}),e.props.children)})}}]),n}(y.Component);f()(A,"defaultProps",{onClick:function(){}}),A.displayName="Link"},"5Asb":function(e,n,a){"use strict";a.d(n,"c",function(){return t}),a.d(n,"b",function(){return i}),a.d(n,"a",function(){return r}),a.d(n,"d",function(){return l});var t={PUBLISH:"mod+enter",EDIT:"e",PREVIEW:"mod+shift+e"},i="mod+s",r="shortcuts-are-allowed",l=["ProseMirror-focused",r]},"9lmV":function(e,n,a){"use strict";a.r(n);var t=a("VrFO"),i=a.n(t),r=a("Y9Ll"),l=a.n(r),o=a("N+ot"),c=a.n(o),s=a("AuHH"),d=a.n(s),u=a("5Yy7"),m=a.n(u),p=a("ERkP"),v=a.n(p),k=a("kFJ8"),f=a("x+QU"),y=a.n(f)()({loader:function(){return Promise.all([a.e(1),a.e(0),a.e(140)]).then(a.bind(null,"lzn2")).then(function(e){return e.BlogTree})},loading:function(){return null}});y.displayName="BlogTree";var g=a("+mzV"),S=(a("aWzz"),a("wgWf")),h=a("y8te"),N={kind:"Document",definitions:function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var a=e.name.value;return!n[a]&&(n[a]=!0,!0)})}([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlogNavigationQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"blogpost",block:!1}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"orderby"},value:{kind:"StringValue",value:"history.createdDate desc",block:!1}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"webui"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"space"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SpaceFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"recentSpaces"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SpaceFragment"},directives:[]}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"SpaceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Space"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ABSOLUTE"}}],directives:[]}]}}]}}])),loc:{start:0,end:535,source:{body:'\n  query BlogNavigationQuery($spaceKey: String!, $first: Int, $offset: Int) {\n    content(\n      spaceKey: $spaceKey\n      type: "blogpost"\n      first: $first\n      orderby: "history.createdDate desc"\n      offset: $offset\n    ) {\n      pageInfo {\n        hasNextPage\n      }\n      nodes {\n        id\n        title\n        history {\n          createdDate\n        }\n        links {\n          webui\n        }\n      }\n    }\n    space(key: $spaceKey) {\n      ...SpaceFragment\n    }\n    recentSpaces {\n      ...SpaceFragment\n    }\n  }\n\n  \n',name:"GraphQL request",locationOffset:{line:1,column:1}}}};a.d(n,"BlogNavigation",function(){return E});var b=function(e){function n(){return i()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),l()(n,[{key:"componentDidMount",value:function(){S.a.preload()}},{key:"render",value:function(){var e=this.props,n=e.contentId,a=e.spaceKey;return v.a.createElement("div",{"data-test-id":"blog-navigation-v2"},v.a.createElement(k.d,{query:N,variables:{spaceKey:a,first:100,offset:0}},function(e){return e.loading?v.a.createElement(h.a,null):v.a.createElement(y,{spaceKey:a,currentBlogpostId:n})}))}}]),n}(p.Component);b.displayName="BlogNavigationComponent";var E=function(){return v.a.createElement(g.a.Consumer,null,function(e){var n=e.contentId,a=e.spaceKey;return v.a.createElement(b,{contentId:n,spaceKey:a})})};E.displayName="BlogNavigation"},FUCS:function(e,n,a){"use strict";a.r(n);var t=a("VrFO"),i=a.n(t),r=a("Y9Ll"),l=a.n(r),o=a("N+ot"),c=a.n(o),s=a("AuHH"),d=a.n(s),u=a("1Pcy"),m=a.n(u),p=a("5Yy7"),v=a.n(p),k=a("KEM+"),f=a.n(k),y=a("ERkP"),g=a.n(y),S=(a("aWzz"),a("+mzV")),h=a("JeZY"),N=a("qdfj"),b=a("JOcB"),E=a("+CY+"),F=a("7wq/"),C=a.n(F),K=a("kFJ8"),L=a("L21V"),A=a("KsTJ"),w=a("2srY"),V=a.n(w),q=a("PTiB"),O=a("IvK5"),T=a("5qRq"),D=a("37G6"),P=a.n(D),x=a("dWTA"),I=a.n(x),Q=a("O9vq"),R=a.n(Q),_=a("9QC+"),M=a.n(_),B=a("WbWX"),H=a.n(B),$=a("97Jx"),z=a.n($),U=function(e){function n(){var e,a;i()(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return a=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),f()(m()(a),"state",{error:!1}),f()(m()(a),"onError",function(){a.setState({error:!0})}),a}return v()(n,e),l()(n,[{key:"render",value:function(){var e=Object.assign({},this.props);if((this.state.error||!e.src)&&e.fallback)if("string"==typeof e.fallback)e.src=e.fallback;else if("function"==typeof e.fallback)return e.fallback();return delete e.fallback,g.a.createElement("img",z()({},e,{onError:this.onError}))}}]),n}(y.PureComponent);U.displayName="FallbackableImage";var Y=a("/FQd"),W=a("o0oF"),j=a("9IcS"),J=function(e){function n(){var e,a;i()(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return a=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),f()(m()(a),"addSpaceLink",function(e){var n=a.props.addSpaceLink,t=e.detail;n({variables:{spaceKey:t.spaceKey,id:t.id}})}),f()(m()(a),"removeSpaceLink",function(e){var n=a.props.removeSpaceLink,t=e.detail;n({variables:{spaceKey:t.spaceKey,id:t.id}})}),a}return v()(n,e),l()(n,[{key:"componentDidMount",value:function(){window.addEventListener("adg3.ConfigurableSpaceSidebar.addSpaceLink",this.addSpaceLink),window.addEventListener("adg3.ConfigurableSpaceSidebar.removeSpaceLink",this.removeSpaceLink)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("adg3.ConfigurableSpaceSidebar.addSpaceLink",this.addSpaceLink),window.removeEventListener("adg3.ConfigurableSpaceSidebar.removeSpaceLink",this.removeSpaceLink)}},{key:"render",value:function(){return null}}]),n}(y.Component);J.displayName="SidebarConfigurationListener";var G={kind:"Document",definitions:function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var a=e.name.value;return!n[a]&&(n[a]=!0,!0)})}([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SpaceLinksQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spaceSidebarLinks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"main"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeHidden"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webItemKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webItemCompleteKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"styleClass"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDefault"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"iconClass"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canHide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooltip"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"space"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SpaceFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"recentSpaces"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SpaceFragment"},directives:[]}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"SpaceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Space"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ABSOLUTE"}}],directives:[]}]}}]}}])),loc:{start:0,end:529,source:{body:"\n  query SpaceLinksQuery($spaceKey: String) {\n    spaceSidebarLinks(spaceKey: $spaceKey) {\n      main(includeHidden: true) {\n        id\n        webItemKey\n        webItemCompleteKey\n        title\n        url\n        position\n        styleClass\n        icon {\n          path\n          width\n          height\n          isDefault\n        }\n        iconClass\n        hidden\n        canHide\n        tooltip\n      }\n    }\n    space(key: $spaceKey) {\n      ...SpaceFragment\n    }\n    recentSpaces {\n      ...SpaceFragment\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemoveSpaceLink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalRemoveSpaceLink"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[]}]}}],loc:{start:0,end:144,source:{body:"\n  mutation RemoveSpaceLink($id: String!, $spaceKey: String!) @experimental {\n    experimentalRemoveSpaceLink(id: $id, spaceKey: $spaceKey)\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddSpaceLink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalAddSpaceLink"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[]}]}}],loc:{start:0,end:138,source:{body:"\n  mutation AddSpaceLink($id: String!, $spaceKey: String!) @experimental {\n    experimentalAddSpaceLink(id: $id, spaceKey: $spaceKey)\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};function ee(){var e=C()(["\n  width: 24px;\n  height: 24px;\n"]);return ee=function(){return e},e}var ne="com.atlassian.confluence.plugins.confluence-frontend-support:space-tools-link",ae=Object(A.default)(U)(ee()),te=Object(q.a)()(Object(N.a)(function(e){function n(){var e,a;i()(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return a=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),f()(m()(a),"sendItemClickedAnalytics",function(e,n){return function(){var t=a.props,i=t.createAnalyticsEvent,r=t.match;i({type:"sendUIEvent",data:{action:"clicked",actionSubject:"navigationItem",source:"containerNavigation",attributes:{navigationLayer:"container",isExpanded:!n,itemId:e,selectedItemPageContext:(r||{}).name,navVersion:"2"}}}).fire()}}),a}return v()(n,e),l()(n,[{key:"getBuiltInItemsMapping",value:function(e){var n,a=this.props.spaceKey;return n={},f()(n,"com.atlassian.confluence.plugins.confluence-frontend-support:overview-link",g.a.createElement(W.a,{key:"overview",text:g.a.createElement(L.b,{id:"navigation.container.overview",defaultMessage:"Overview",description:"Overview Menu Item"}),before:P.a,to:"/spaces/".concat(a,"/overview"),onClick:this.sendItemClickedAnalytics("spaceOverview",e)})),f()(n,"com.atlassian.confluence.plugins.confluence-space-ia:spacebar-blogs",g.a.createElement(O.a,{key:"blog",before:I.a,goTo:j.b,id:"blog-navigation-v2",text:g.a.createElement(L.b,{id:"navigation.container.blog",defaultMessage:"Blog",description:"Blog Menu Item"}),testKey:"container-blog-link"})),f()(n,"com.atlassian.confluence.extra.team-calendars:space-calendar-sidebar-link",g.a.createElement(W.a,{key:"calendars",text:g.a.createElement(L.b,{id:"navigation.container.calendars",defaultMessage:"Calendars",description:"Calendars Menu Item"}),before:R.a,to:"/spaces/".concat(a,"/calendars"),onClick:this.sendItemClickedAnalytics("calendars",e)})),f()(n,ne,g.a.createElement(W.a,{key:"space-settings",text:g.a.createElement(L.b,{id:"navigation.container.space-settings",defaultMessage:"Space Settings",description:"Space Settings Menu Item"}),before:M.a,to:"/spaces/viewspacesummary.action?key=".concat(a,"&src=spacetools"),onClick:this.sendItemClickedAnalytics("spaceSettings",e)})),n}},{key:"renderSpaceLinks",value:function(e,n){var a=this;if(!e.spaceSidebarLinks)return null;var t=this.getBuiltInItemsMapping(n);return g.a.createElement(y.Fragment,null,(V()(e,"spaceSidebarLinks.main")||[]).filter(function(e){return!e.hidden||e.webItemCompleteKey===ne}).sort(function(e,n){return e.position-n.position}).map(function(e){var i=e.webItemCompleteKey,r=e.webItemKey,l=e.title,o=e.icon,c=e.url,s=e.styleClass,d=e.target;if(t[i])return t[i];if(i.startsWith("com.atlassian.plugins.atlassian-connect-plugin")){return g.a.createElement(W.a,{key:i,text:l,before:function(){return g.a.createElement(ae,{src:o?o.path:null,fallback:H.a})},to:c,className:s,target:d,onClick:a.sendItemClickedAnalytics(r,n)})}return null}))}},{key:"render",value:function(){var e=this,n=this.props.spaceKey;return g.a.createElement(K.d,{query:G,variables:{spaceKey:n}},function(a){var t=a.loading,i=a.error,r=a.data;return t||i?null:g.a.createElement(y.Fragment,null,g.a.createElement(T.a,null,function(n){return e.renderSpaceLinks(r,n.state.isCollapsed)}),g.a.createElement(Y.a,null,function(e){return e.featureFlags["confluence.frontend.adg3.space.config"]?g.a.createElement(K.c,{mutation:Z,refetchQueries:[{query:G,variables:{spaceKey:n}}]},function(e){return g.a.createElement(K.c,{mutation:X,refetchQueries:[{query:G,variables:{spaceKey:n}}]},function(n){return g.a.createElement(J,{addSpaceLink:e,removeSpaceLink:n})})}):null}))})}}]),n}(y.PureComponent))),ie=a("es0P"),re=a("R67C"),le=a("llcG"),oe=a("yTLO"),ce=a("snXN"),se=a.n(ce),de=a("Pydg"),ue=a("u/Xk"),me=a("EFtY"),pe=a.n(me),ve=a("nZDR"),ke=a.n(ve),fe=a("Ty0x"),ye=a("pvr6"),ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SpaceSidebarLinks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spaceSidebarLinks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quick"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"styleClass"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:199,source:{body:"\n  query SpaceSidebarLinks($spaceKey: String!) {\n    spaceSidebarLinks(spaceKey: $spaceKey) {\n      quick {\n        id\n        url\n        position\n        title\n        styleClass\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Se=a("2rtj"),he=function(e){var n=e.className,a=e.children,t=e.dataset,i=e.onClick,r=t.url,l=t.target;return g.a.createElement(Se.a,{className:n,href:r,target:l,onClick:i},a)};he.displayName="ShortcutLinkItem";var Ne=Object(q.a)()(function(e){function n(){var e,a;i()(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return a=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),f()(m()(a),"sendShortcutClickedAnalytics",function(){(0,a.props.createAnalyticsEvent)({type:"sendUIEvent",data:{action:"clicked",actionSubject:"spaceShortcut",source:"containerNavigation",attributes:{navVersion:"2"}}}).fire()}),f()(m()(a),"renderShortcutLinks",function(e){var n=a.props,t=n.openToAdd,i=n.isSpaceAdmin,r=n.createAnalyticsEvent,l=n.spaceKey,o=V()(e,"spaceSidebarLinks.quick").filter(function(e){return!e.hidden}).map(function(e){var n=e.url,t=e.title,i=e.id,r=e.styleClass.indexOf("external_link")>=0?"_blank":"";return g.a.createElement(fe.a,{key:i,text:t,before:pe.a,onClick:a.sendShortcutClickedAnalytics,dataset:{url:n,target:r},component:he})}).reverse(),c=o.length;return i&&0===o.length&&o.push(g.a.createElement(fe.a,{key:"addShortcutLink",text:"Add shortcut",before:ke.a,onClick:t})),g.a.createElement(y.Fragment,null,o,g.a.createElement(ye.a,{id:l,action:"initialized",actionSubject:"spaceShortcutsSection",source:"dashboard",attributes:{navVersion:"2",numOfShortcuts:c},createAnalyticsEvent:r}))}),a}return v()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props.spaceKey;return g.a.createElement(K.d,{query:ge,variables:{spaceKey:n}},function(n){var a=n.loading,t=n.error,i=n.data;return a||t?null:e.renderShortcutLinks(i)})}}]),n}(y.Component)),be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SpaceOperationsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"space"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:143,source:{body:"\n  query SpaceOperationsQuery($spaceKey: String) {\n    space(key: $spaceKey) {\n      operations {\n        operation\n      }\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};function Ee(){var e=C()(["\n  position: relative;\n  #space-shortcuts-edit-button {\n    visibility: hidden;\n  }\n  :hover {\n    #space-shortcuts-edit-button {\n      visibility: visible;\n    }\n  }\n"]);return Ee=function(){return e},e}function Fe(){var e=C()(["\n  display: flex;\n"]);return Fe=function(){return e},e}function Ce(){var e=C()(["\n  position: absolute;\n  right: 0;\n  top: -8px;\n  button {\n    padding: 0;\n  }\n"]);return Ce=function(){return e},e}function Ke(){var e=C()(["\n  display: inline-flex;\n  align-items: center;\n  width: 100%;\n"]);return Ke=function(){return e},e}var Le=A.default.div(Ke()),Ae=A.default.div(Ce()),we=A.default.div(Fe()),Ve=A.default.div(Ee()),qe=function(e){function n(){var e,a;i()(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return a=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),f()(m()(a),"state",{isOpen:!1,openToAdd:!1}),f()(m()(a),"openEdit",function(){a.setState({isOpen:!0,openToAdd:!1})}),f()(m()(a),"openToAdd",function(){a.setState({isOpen:!0,openToAdd:!0})}),f()(m()(a),"close",function(){a.setState({isOpen:!1})}),a}return v()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props.spaceKey;if(!n)return null;var a=[{query:ge,variables:{spaceKey:n}},{query:be,variables:{spaceKey:n}}];return g.a.createElement(b.a,{queryProps:a},function(a){var t=a.loading,i=a.results;if(t)return g.a.createElement(ie.a,{type:"container"});var r=V()(i[0],"data.spaceSidebarLinks.quick")||[],l=(V()(i[1],"data.space.operations")||[]).some(function(e){return"administer"===e.operation});return l||r.length?g.a.createElement(y.Fragment,null,g.a.createElement(Ve,null,l&&r.length>0&&g.a.createElement(Ae,{id:"space-shortcuts-edit-button"},g.a.createElement(L.b,{id:"space.navigation.edit.tooltip",defaultMessage:"Add and manage space shortcuts",description:"Tip describing what a button will do"},function(n){return g.a.createElement(oe.a,{content:n,position:"right",hideTooltipOnClick:!0},g.a.createElement(le.a,{appearance:"subtle",onClick:e.openEdit},g.a.createElement(we,null,g.a.createElement(se.a,null))))})),g.a.createElement(re.a,null,g.a.createElement(Le,null,g.a.createElement("span",null,g.a.createElement(L.b,{id:"space.navigation.links.header",defaultMessage:"Space shortcuts",description:"Header for a list of links"})))),g.a.createElement(de.b,null,e.state.isOpen&&g.a.createElement(ue.a,{spaceKey:n,onClose:e.close,addShortcut:e.state.openToAdd})),g.a.createElement(Ne,{spaceKey:n,openToAdd:e.openToAdd,isSpaceAdmin:l}))):null})}}]),n}(y.Component);qe.displayName="ShortcutsSection";var Oe=a("r6zf"),Te=a("y8te");a.d(n,"SpaceNavigation",function(){return Pe});var De=Object(N.a)(function(e){function n(){var e,a;i()(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return a=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),f()(m()(a),"_isExpectedSpaceError",function(e){var n=e.graphQLErrors;if(n&&n.length>0){var a=!0,t=!1,i=void 0;try{for(var r,l=n[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var o=r.value,c=o.extensions,s=o.path;if(c){var d=c.statusCode;if((403===d||404===d)&&Array.isArray(s)&&-1!==s.indexOf("space"))return!0}}}catch(e){t=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(t)throw i}}}return!1}),f()(m()(a),"_onOverviewShortcutTrigger",function(){var e=a.props.spaceKey;a.props.push("/wiki/spaces/".concat(e,"/overview"))}),f()(m()(a),"_renderPreloadQueriesResult",function(e){var n=e.loading,t=e.results;if(n)return g.a.createElement(Te.a,null);var i=!t.length,r=0,l=0,o=!0,c=!1,s=void 0;try{for(var d,u=t[Symbol.iterator]();!(o=(d=u.next()).done);o=!0){var m=d.value,p=m.data,v=m.error;if(v){if(!a._isExpectedSpaceError(v)){++l;break}++r}else if(p&&p.space){i=!0;break}}}catch(e){c=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(c)throw s}}return i||!r||l?null:g.a.createElement(Te.a,null)}),a}return v()(n,e),l()(n,[{key:"componentDidMount",value:function(){Oe.a.preload()}},{key:"render",value:function(){var e=this,n=this.props.spaceKey;if(!n)return null;var a=[{query:G,variables:{spaceKey:n}},{query:ge,variables:{spaceKey:n}},{query:be,variables:{spaceKey:n}}];return g.a.createElement("div",{"data-test-id":"space-navigation-v2"},g.a.createElement(E.a,{key:"overview-shortcut",accelerator:"g s",listener:this._onOverviewShortcutTrigger}),g.a.createElement(b.a,{queryProps:a},function(a){var t=e._renderPreloadQueriesResult(a);return t||g.a.createElement(y.Fragment,null,g.a.createElement("div",null,g.a.createElement(te,{spaceKey:n})),g.a.createElement(qe,{spaceKey:n}),g.a.createElement(h.a,null))}))}}]),n}(y.Component)),Pe=function(){return g.a.createElement(S.a.Consumer,null,function(e){var n=e.contentId,a=e.spaceKey;return g.a.createElement(De,{contentId:n,spaceKey:a})})};Pe.displayName="SpaceNavigation"},JOcB:function(e,n,a){"use strict";a.d(n,"a",function(){return F});var t=a("97Jx"),i=a.n(t),r=a("m3Bd"),l=a.n(r),o=a("VrFO"),c=a.n(o),s=a("Y9Ll"),d=a.n(s),u=a("N+ot"),m=a.n(u),p=a("AuHH"),v=a.n(p),k=a("1Pcy"),f=a.n(k),y=a("5Yy7"),g=a.n(y),S=a("KEM+"),h=a.n(S),N=a("ERkP"),b=a.n(N),E=a("kFJ8"),F=(a("aWzz"),function(e){function n(){var e,a;c()(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return a=m()(this,(e=v()(n)).call.apply(e,[this].concat(r))),h()(f()(a),"_queryResults",[]),h()(f()(a),"_queryProperties",[]),h()(f()(a),"_anyLoading",function(){return a._queryResults.some(function(e){return!0===e.loading})}),h()(f()(a),"_renderQueryComponent",function(e,n,t){return e.length?b.a.createElement(E.d,i()({errorPolicy:"all"},e[t]),function(i){var r=i.data,o=i.loading,c=i.error,s=l()(i,["data","loading","error"]);a._queryResults[t]={data:r,loading:o,error:c},a._queryProperties[t]=s;var d=t+1;return e.length>d?a._renderQueryComponent(e,n,d):n({results:a._queryResults,loading:a._anyLoading(),properties:a._queryProperties})}):n({results:[],loading:!1})}),a}return g()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.queryProps,a=e.children;return this._renderQueryComponent(n,a,0)}}]),n}(N.Component));F.displayName="QueryGroup"},JeZY:function(e,n,a){"use strict";a.d(n,"a",function(){return i});var t=a("x+QU"),i=a.n(t)()({loader:function(){return Promise.all([a.e(1),a.e(0),a.e(138)]).then(a.bind(null,"nosZ")).then(function(e){return e.PageTree})},loading:function(){return null}});i.displayName="PageTree"},o0oF:function(e,n,a){"use strict";a.d(n,"a",function(){return P});var t=a("97Jx"),i=a.n(t),r=a("VrFO"),l=a.n(r),o=a("Y9Ll"),c=a.n(o),s=a("N+ot"),d=a.n(s),u=a("AuHH"),m=a.n(u),p=a("1Pcy"),v=a.n(p),k=a("5Yy7"),f=a.n(k),y=a("KEM+"),g=a.n(y),S=a("EfWO"),h=a.n(S),N=a("H8sf"),b=a.n(N),E=a("jq/l"),F=a.n(E),C=a("R7V3"),K=a.n(C),L=a("ERkP"),A=a.n(L),w=(a("aWzz"),a("Ty0x")),V=a("2rtj"),q=a("Clud"),O=a("7M9M"),T={pathname:""},D=new RegExp("^(?:[a-z]+:)?//","i"),P=function(e){function n(){var e,a;l()(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return a=d()(this,(e=m()(n)).call.apply(e,[this].concat(i))),g()(v()(a),"getLinkComponent",function(e){var n=e.children,t=e.className;return A.a.createElement(V.a,{className:t,to:a.formatUrl(),target:a.props.target,onClick:a.props.onClick},n)}),a}return f()(n,e),c()(n,[{key:"mergeQueryParams",value:function(e){if(this.props.query){var n=h.a.parse(e,!0);return delete n.search,b()(n.query,this.props.query),n.query=F()(n.query,K.a),h.a.format(n)}return e}},{key:"formatUrl",value:function(){var e=this.props,n=e.to,a=e.query;return D.test(n)?n:a&&!n?this.mergeQueryParams(h.a.format(T)):this.mergeQueryParams(n.startsWith(O.CONTEXT_PATH)?n:"".concat(O.CONTEXT_PATH).concat(n))}},{key:"render",value:function(){var e=this,n=this.props,a=n.query,t=n.to,r=a&&!t;return A.a.createElement(q.b.Consumer,null,function(n){var a=n.location;return T=a||{pathname:"/wiki"},A.a.createElement(w.a,i()({component:e.getLinkComponent,isSelected:!r&&0===a.pathname.indexOf(h.a.parse(e.formatUrl()).pathname)},e.props))})}}]),n}(L.Component);P.displayName="LinkItem"},r6zf:function(e,n,a){"use strict";a.d(n,"a",function(){return l});a("ERkP");var t=a("x+QU"),i=a.n(t),r=a("y8te"),l=i()({loader:function(){return Promise.all([a.e(1),a.e(0),a.e(102)]).then(a.bind(null,"9lmV")).then(function(e){return e.BlogNavigation})},loading:r.a});l.displayName="BlogNavigationLoader"},"u/Xk":function(e,n,a){"use strict";a.d(n,"a",function(){return i});var t=a("x+QU"),i=a.n(t)()({loader:function(){return Promise.all([a.e(15),a.e(1),a.e(0),a.e(139)]).then(a.bind(null,"cwuZ")).then(function(e){return e.SpaceShortcutsDialog})},loading:function(){return null}});i.displayName="SpaceShortcutsDialog"}}]);
//# sourceMappingURL=container-navigation-v2.59d9d540f601cd0d30c6-v38.js.map