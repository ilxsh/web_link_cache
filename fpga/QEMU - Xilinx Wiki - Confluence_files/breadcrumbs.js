(window.webpackJsonp=window.webpackJsonp||[]).push([[339],{lFlF:function(e,n,t){"use strict";t.d(n,"b",function(){return u}),t.d(n,"a",function(){return m});var a=t("tQaH"),i=t.n(a),r=t("EfWO"),c=t.n(r),l=t("jq/l"),d=t.n(l),s=t("2Lg3"),o=t.n(s),u=function(e){var n=(e||"").replace(/[^A-Za-z0-9+\-.]/g," ").trim().replace(/\s+/g,"+").replace(/\++/g,"+");return"+"===n?"":n},m=function(e,n){var t=c.a.parse(e,!0);return delete t.search,t.query=i()({},t.query,n),t.query=d()(t.query,o.a),c.a.format(t)}},uwQx:function(e,n,t){"use strict";t.r(n);var a=t("VrFO"),i=t.n(a),r=t("Y9Ll"),c=t.n(r),l=t("N+ot"),d=t.n(l),s=t("AuHH"),o=t.n(s),u=t("1Pcy"),m=t.n(u),v=t("5Yy7"),p=t.n(v),k=t("KEM+"),y=t.n(k),f=t("ERkP"),h=t.n(f),g=(t("aWzz"),t("kFJ8")),b=t("2srY"),N=t.n(b),S=t("7M9M"),E=t("qdfj"),F=t("lFlF"),I=t("L+/v"),w=t("/XsU"),C=t("97Jx"),K=t.n(C),V=t("uZih"),D=t.n(V),A=t("PTiB"),O=function(e){return!e.metaKey&&!e.ctrlKey&&0===e.button},q=Object(A.a)()(function(e){function n(){var e,t;i()(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return t=d()(this,(e=o()(n)).call.apply(e,[this].concat(r))),y()(m()(t),"handleClick",function(e){var n=t.props,a=n.onClick,i=n.href;(0,n.createAnalyticsEvent)({type:"sendUIEvent",data:{action:"clicked",actionSubject:"breadcrumb",source:"containerNavigation",attributes:{navVersion:"2"}}}).fire(),a&&O(e)&&(e.preventDefault(),a(i))}),t}return p()(n,e),c()(n,[{key:"render",value:function(){var e=D()(this.props,["onClick","createAnalyticsEvent"]);return h.a.createElement(w.a,K()({},e,{onClick:this.handleClick}))}}]),n}(f.Component)),P=function(e){function n(){return i()(this,n),d()(this,o()(n).apply(this,arguments))}return p()(n,e),c()(n,[{key:"render",value:function(){var e=this.props,n=e.ancestors,t=e.contentTitle,a=e.onClick,i=e.spaceName,r=e.spaceOverviewPath;return h.a.createElement(w.b,{maxItems:3},h.a.createElement(q,{text:i,href:r,onClick:a}),n.map(function(e){return h.a.createElement(q,{key:e.id,text:e.title,href:e.href,onClick:a})}),t?h.a.createElement(q,{text:t,href:""}):null)}}]),n}(f.Component);P.displayName="BreadcrumbsComponent";var T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BreadcrumbsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ancestors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdDate"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:418,source:{body:"\n  query BreadcrumbsQuery($spaceKey: String, $contentId: ID) {\n    spaces(spaceKey: $spaceKey, first: 10) {\n      nodes {\n        id\n        name\n        homepage {\n          id\n        }\n      }\n    }\n    content(id: $contentId) {\n      nodes {\n        id\n        type\n        ancestors {\n          id\n          type\n          title\n          history {\n            createdDate\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},x=t("xeU+");t.d(n,"Breadcrumbs",function(){return j});var j=Object(E.a)(function(e){function n(){var e,t;i()(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return t=d()(this,(e=o()(n)).call.apply(e,[this].concat(r))),y()(m()(t),"buildContentPath",function(e){var n,a=e.contentId,i=e.contentType,r=e.contentSlug,c=t.props.spaceKey;switch(i){case"overview":n=S.SPACE_OVERVIEW.name;break;case"blogpost":n=S.VIEW_BLOG.name;break;case"page":n=S.VIEW_PAGE.name;break;default:throw new Error("Expected content type 'blogpost', 'page' or 'overview' , but received '".concat(i,"'"))}var l={spaceKey:c,contentId:a};return r&&(l.contentSlug=r),t.props.toUrl(n,l)}),t}return p()(n,e),c()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.spaceKey,a=n.contentId;return t&&a?h.a.createElement(I.a,null,h.a.createElement(g.d,{query:T,variables:{spaceKey:t,contentId:a}},function(n){var t=n.data,a=n.loading,i=n.error;if(a)return h.a.createElement(x.a,null);if(i)return null;var r=N()(t,"spaces.nodes[0]",null),c=N()(t,"content.nodes[0]",null),l=N()(r,"homepage.id",null);if(!c||!r)return null;var d=e.props,s=d.contentTitle,o=d.spaceKey,u=e.buildContentPath({spaceKey:o,contentType:"overview"}),m=function(e,n){return e?e.length?e[0].id!==n&&e[e.length-1].id===n?e.reverse().slice(1):e[0].id===n?e.slice(1):e:e:[]}(c.ancestors?c.ancestors:[],l).map(function(n){var t=n.id,a=n.type,i=n.title,r=n.history.createdDate,c=Object(F.b)(i);return{id:t,type:a,title:i,slug:c,createdDate:r,href:e.buildContentPath({contentId:t,contentType:a,contentSlug:c})}});return h.a.createElement(P,{contentTitle:s,spaceName:r.name,spaceHomepageId:l,spaceOverviewPath:u,contentType:c.type,ancestors:m,onClick:e.props.push})})):null}}]),n}(f.Component))}}]);
//# sourceMappingURL=breadcrumbs.7f0a017c09b5053c05c6-v38.js.map