(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"2rtj":function(e,n,t){"use strict";var a=t("97Jx"),r=t.n(a),i=t("VrFO"),o=t.n(i),c=t("Y9Ll"),s=t.n(c),l=t("N+ot"),p=t.n(l),u=t("AuHH"),d=t.n(u),m=t("5Yy7"),f=t.n(m),v=t("KEM+"),h=t.n(v),k=t("ERkP"),g=t.n(k),y=(t("aWzz"),t("Clud")),S=t("tQaH"),N=t.n(S),C=t("1Pcy"),E=t.n(C),w=t("EfWO"),b=t.n(w),O=t("xBue"),x=function(e){function n(){var e,t;o()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=p()(this,(e=d()(n)).call.apply(e,[this].concat(r))),h()(E()(t),"onAnchorLinkClick",function(e){t.props.onPageReload(e.target.getAttribute("href")),t.props.onClick(e)}),t}return f()(n,e),s()(n,[{key:"render",value:function(){var e=this.props,n=e.children,t=e.className,a=e.name,r=e.href,i=void 0===r?null:r,o=e.to,c=void 0===o?null:o,s=e.target,l=void 0===s?null:s,p=e.params,u=void 0===p?{}:p,d=e.toUrl,m=e.matchSupportedRoute,f=e.onClick,v=i||c,h={};v&&(h=b.a.parse(v,!0));var k=d(a,N()({},u,h));return m(k)?g.a.createElement(O.a,{to:k,className:t,onClick:f},n):g.a.createElement("a",{href:k,className:t,onClick:this.onAnchorLinkClick,target:l,rel:"_blank"===l?"noreferrer":null},n)}}]),n}(k.Component);x.displayName="LinkComponent",t.d(n,"a",function(){return A});var A=function(e){function n(){return o()(this,n),p()(this,d()(n).apply(this,arguments))}return f()(n,e),s()(n,[{key:"render",value:function(){var e=this;return g.a.createElement(y.b.Consumer,null,function(n){var t=n.toUrl,a=n.matchSupportedRoute,i=n.onPageReload;return g.a.createElement(x,r()({},e.props,{toUrl:t,matchSupportedRoute:a,onPageReload:i}),e.props.children)})}}]),n}(k.Component);h()(A,"defaultProps",{onClick:function(){}}),A.displayName="Link"},"4z6U":function(e,n,t){"use strict";t.r(n);var a=t("VrFO"),r=t.n(a),i=t("Y9Ll"),o=t.n(i),c=t("N+ot"),s=t.n(c),l=t("AuHH"),p=t.n(l),u=t("5Yy7"),d=t.n(u),m=t("ERkP"),f=t.n(m),v=(t("aWzz"),t("L21V")),h=t("kFJ8"),k=t("Clud"),g={kind:"Document",definitions:function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})}([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SpaceSwitcherQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"selectedSpaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"space"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"selectedSpaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SpaceFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"recentSpaces"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SpaceFragment"},directives:[]}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"SpaceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Space"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ABSOLUTE"}}],directives:[]}]}}]}}])),loc:{start:0,end:179,source:{body:"\n  query SpaceSwitcherQuery($selectedSpaceKey: String!) {\n    space(key: $selectedSpaceKey) {\n      ...SpaceFragment\n    }\n    recentSpaces {\n      ...SpaceFragment\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},y=t("1Pcy"),S=t.n(y),N=t("KEM+"),C=t.n(N),E=t("tQaH"),w=t.n(E),b=t("5qRq"),O=t("9ycr"),x=t("7A9o"),A=t("PTiB"),M=t("7M9M"),L=t("2srY"),F=t.n(L),R=t("nnRT"),B=t.n(R),P=t("UAvc"),U=t("AXum"),I=t("PLaw"),V=t.n(I),T=function(e){return w()({},e,{itemBase:w()({},e.itemBase,{paddingLeft:8})})},K=function(e){function n(){return r()(this,n),s()(this,p()(n).apply(this,arguments))}return d()(n,e),o()(n,[{key:"shouldComponentUpdate",value:function(e){return!B()(this.props.space,e.space)||!B()(this.props.name,e.name)}},{key:"render",value:function(){var e=this.props.space;return f.a.createElement(P.a,{before:function(n){return f.a.createElement(U.a,{src:F()(e,"icon.path",null),itemState:n,appearance:"square"})},styles:T,after:V.a,text:F()(e,"name",f.a.createElement(v.b,{id:"space-switcher.unknown.space",description:"Name to show when a space cannot be found",defaultMessage:"Unknown space"}))})}}]),n}(m.Component);K.displayName="Target";var D=t("Ty0x"),W=t("2rtj"),q=function(e){return w()({},e,{itemBase:w()({},e.itemBase,{backgroundColor:x.colors.N0,paddingLeft:20}),textWrapper:w()({},e.textWrapper,{color:x.colors.B400})})},j=function(e){function n(){var e,t;r()(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=s()(this,(e=p()(n)).call.apply(e,[this].concat(i))),C()(S()(t),"onClick",function(){var e=t.props.sendAnalytics;e&&e()}),C()(S()(t),"renderLink",function(e){var n=e.children,a=e.className,r=t.props.to;return f.a.createElement(W.a,{className:a,to:r,onClick:t.onClick},n)}),t}return d()(n,e),o()(n,[{key:"render",value:function(){return f.a.createElement(D.a,{component:this.renderLink,styles:q,text:f.a.createElement(v.b,{id:"space-switcher.view.all.spaces",description:"Message on button to allow users to view all spaces",defaultMessage:"View all spaces"}),onClick:this.onClick})}}]),n}(m.Component);j.displayName="ViewAllOption";var H=function(e){return w()({},e,{itemBase:w()({},e.itemBase,{backgroundColor:x.colors.N0,paddingLeft:16,marginBottom:2,"&:hover":{backgroundColor:x.colors.N20}}),beforeWrapper:w()({},e.beforeWrapper,{marginRight:12})})},Y=function(e){return{itemBase:w()({},e.itemBase,{backgroundColor:x.colors.N0,"&:hover":{backgroundColor:x.colors.N20}})}},z=function(e){function n(){var e,t;r()(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=s()(this,(e=p()(n)).call.apply(e,[this].concat(i))),C()(S()(t),"sendAnalytics",function(e){return function(){var n=t.props.data;n.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"navigationItem",source:"spaceSwitcherMenu",attributes:{itemId:e?"spaceSwitcherSpaceItem":"spaceSwitcherAllSpaces",isExpanded:!n.isCollapsed,navigationLayer:"container",selectedItemPageContext:(n.match||{}).name,navVersion:"2"}}}).fire()}}),C()(S()(t),"onClick",function(e){var n=t.props,a=n.data,r=n.selectOption;e.metaKey||r(a),t.sendAnalytics(a.key)()}),C()(S()(t),"renderLink",function(e){var n=e.children,a=e.className,r=t.props.data;return f.a.createElement(W.a,{className:a,to:r.to,onClick:t.onClick},n)}),t}return d()(n,e),o()(n,[{key:"shouldComponentUpdate",value:function(e){return!B()(this.props.data,e.data)}},{key:"render",value:function(){var e=this.props,n=e.data,t=e.selectOption;return n?n.key?f.a.createElement(D.a,{id:n.key,component:this.renderLink,text:n.text,styles:H,before:function(e){return f.a.createElement(U.a,{src:n.avatar,itemState:e,styles:Y,appearance:"square"})}}):f.a.createElement(j,{selectOption:t,sendAnalytics:this.sendAnalytics(null),to:n.to}):null}}]),n}(m.Component);z.displayName="Option";var Q=function(e){return w()({},e,{itemBase:w()({},e.itemBase,{backgroundColor:x.colors.N0,paddingLeft:"20px",margin:"20px 0 11px",cursor:"default"}),textWrapper:w()({},e.textWrapper,{color:x.colors.N200})})},J=function(e){function n(){return r()(this,n),s()(this,p()(n).apply(this,arguments))}return d()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.selectOption,t=e.children;return f.a.createElement(k.b.Consumer,null,function(e){var a=e.toUrl;return f.a.createElement("section",null,f.a.createElement(D.a,{styles:Q,text:t}),f.a.createElement(j,{selectOption:n,to:a(M.SPACE_DIRECTORY.name)}))})}}]),n}(m.Component);J.displayName="NoOptionsMessage";var _=Object(v.f)({noMatchingRecentSpaces:{id:"space-switcher.no.matching.recent.spaces",description:"Message when there are no recent spaces the match the search terms",defaultMessage:"No matching recent spaces"},noRecentSpaces:{id:"space-switcher.no.recent.spaces",description:"Message to show when there are no recent spaces",defaultMessage:"No recent spaces"}}),X={groupHeading:function(e){return w()({},e,{color:x.colors.N200,paddingLeft:16,marginBottom:6})},control:function(e){return w()({},e,{height:40,margin:"8px 2px"})},noOptionsMessage:function(e){return w()({},e,{textAlign:"left",paddingLeft:16,margin:"32px 0px"})},group:function(e){return w()({},e,{paddingBottom:0})}},$=Object(A.a)()(function(e){function n(){var e,t;r()(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=s()(this,(e=p()(n)).call.apply(e,[this].concat(i))),C()(S()(t),"noOptions",!0),C()(S()(t),"getOptions",function(e,n,a){var r=t.props,i=r.createAnalyticsEvent,o=r.match,c=r.toUrl,s=e?e.filter(function(e){return null!==e}).filter(function(e){return e.id!==F()(n,"id",null)}).map(function(e){return{avatar:e.icon.path,id:e.id,key:e.key,text:e.name,to:c(M.SPACE_INDEX.name,{spaceKey:e.key}),isCollapsed:a,createAnalyticsEvent:i,match:o}}):[];return s.push({text:f.a.createElement(v.b,{id:"space-switcher.view.all.spaces",description:"Message on button to allow users to view all spaces",defaultMessage:"View all spaces"}),to:c(M.SPACE_DIRECTORY.name),isCollapsed:a,createAnalyticsEvent:i}),[{label:f.a.createElement(v.b,{id:"space-switcher.recent.spaces.label",description:"Section label for recent spaces",defaultMessage:"Recent spaces"}),options:s}]}),C()(S()(t),"filterOption",function(e,n){var a=e.data,r=!1;return a.key?(r=a.text.toLowerCase().includes(n.toLowerCase()),t.noOptions=t.noOptions&&!r):(r=!t.noOptions,t.noOptions=!0),r}),C()(S()(t),"getNoOptionsMessageText",function(e){var n=e.inputValue;return t.props.intl.formatMessage(n?_.noMatchingRecentSpaces:_.noRecentSpaces)}),C()(S()(t),"onOpen",function(e){return function(){(0,t.props.createAnalyticsEvent)({type:"sendUIEvent",data:{action:"clicked",actionSubject:"navigationItem",source:"containerNavigation",attributes:{itemId:"spaceSwitcher",isExpanded:!e,navigationLayer:"container",selectedItemPageContext:null,navVersion:"2"}}}).fire()}}),t}return d()(n,e),o()(n,[{key:"render",value:function(){var e=this,n=this.props.data;return f.a.createElement(b.a,null,function(t){var a=t.state.isCollapsed;return f.a.createElement(O.a,{target:f.a.createElement(K,{space:n.space}),options:e.getOptions(n.recentSpaces,n.space,a),filterOption:e.filterOption,styles:X,noOptionsMessage:e.getNoOptionsMessageText,components:{IndicatorSeparator:null,Option:z,NoOptionsMessage:J},placeholder:f.a.createElement(v.b,{id:"space-switcher.search.placeholder",description:"Placeholder text for searching recent spaces",defaultMessage:"Search recent spaces"}),popperProps:{positionFixed:!0},onOpen:e.onOpen(a)})})}}]),n}(m.Component)),G=t("aeFe");t.d(n,"SpaceSwitcher",function(){return ee});var Z=function(e){function n(){return r()(this,n),s()(this,p()(n).apply(this,arguments))}return d()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.selectedSpaceKey,t=e.intl;return f.a.createElement(h.d,{query:g,variables:{selectedSpaceKey:n}},function(e){var n=e.data,a=e.loading,r=e.error;return a?f.a.createElement(G.a,null):r?null:f.a.createElement(k.b.Consumer,null,function(e){var a=e.match,r=e.toUrl;return f.a.createElement($,{data:n,intl:t,match:a,toUrl:r})})})}}]),n}(m.Component);Z.displayName="SpaceSwitcherContainer";var ee=Object(v.g)(Z)}}]);
//# sourceMappingURL=space-switcher.56fa9c59fd8475208278-v38.js.map