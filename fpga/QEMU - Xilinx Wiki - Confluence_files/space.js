(window.webpackJsonp=window.webpackJsonp||[]).push([[412],{"+CY+":function(e,n,t){"use strict";t.d(n,"a",function(){return I});var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),c=t.n(l),s=t("AuHH"),d=t.n(s),u=t("1Pcy"),m=t.n(u),k=t("5Yy7"),p=t.n(k),v=t("KEM+"),f=t.n(v),g=t("ERkP"),y=(t("aWzz"),t("+Aie")),h=t.n(y),b=t("5Asb"),S={},N=h.a.prototype.stopCallback;h.a.prototype.stopCallback=function(e,n,t){return!!!b.d.map(function(e){return n.classList.contains(e)}).find(function(e){return e})&&N.call(void 0,e,n,t)};var C=150,I=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),f()(m()(t),"listeners",{}),f()(m()(t),"lastFired",0),f()(m()(t),"_call",function(e){var n=+new Date;n-t.lastFired>=C&&(t.lastFired=n,t.props.listener(e))}),t}return p()(n,e),o()(n,[{key:"componentDidMount",value:function(){var e=this.props.accelerator;S[e],S[e]=!0,h.a.bind(e,this._call)}},{key:"componentWillUnmount",value:function(){var e=this.props.accelerator;delete S[e],h.a.unbind(e)}},{key:"render",value:function(){return null}}]),n}(g.PureComponent);I.displayName="ShortcutListener"},"+Prw":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var i=t("hqKg"),a=t("zUx9"),r=function(e,n){return n.contentId},o=function(e){return e.views.viewPage.editorContent},l=function(){return Object(i.createSelector)(r,o,function(e,n){var t=n.get("hasFetched",!1),i=n.get("contentId"),r=n.get("silent",!1),o=n.get("statusCode"),l=n.get("errorData",null),c=n.get("result",null),s=n.get("spaceKey",null),d=i===e,u=!1===t&&d;return{spaceKey:s,statusCode:o,hasFetched:t,contentId:i,errorData:l&&"function"==typeof l.toJS?l.toJS():l,result:c&&"function"==typeof c.toJS?c.toJS():c,isRequesting:u,shouldNavigateToEditPage:!r&&t&&d&&o===a.d}})}},"/4nh":function(e,n,t){"use strict";t.d(n,"c",function(){return a}),t.d(n,"d",function(){return r}),t.d(n,"a",function(){return o}),t.d(n,"b",function(){return l});var i=t("Svze");function a(e){return!e||!r(e)}function r(e){return e?e.hasOwnProperty("size")?e.size:e.length:0}function o(e,n){n=parseInt(n,10),isNaN(n)&&(n=0),n=Math.abs(n),i.Set.isSet(e)&&(e=e.toJS());var t=e.get?e.get(n):e[n];return t&&t.toJS?t.toJS():t}function l(e,n){return void 0!==e&&(e.includes?e.includes(n):-1!==e.indexOf(n))}},"0Dc1":function(e,n,t){"use strict";t.d(n,"a",function(){return O});var i=t("VtSi"),a=t.n(i),r=t("tQaH"),o=t.n(r),l=t("ddV6"),c=t.n(l),s=t("cbiG"),d=t.n(s),u=t("VrFO"),m=t.n(u),k=t("Y9Ll"),p=t.n(k),v=t("N+ot"),f=t.n(v),g=t("AuHH"),y=t.n(g),h=t("5Yy7"),b=t.n(h),S=t("KEM+"),N=t.n(S),C=(t("aWzz"),t("ERkP")),I=t("Z49i"),E=t("/FQd"),F=t("KkZ4"),w=t("Ly6k"),L=t("NBIt"),P=t("liLY"),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter(function(n){return e[n]}).reduce(function(n,t){return n[t]=e[t],n},{})},O=function(e){function n(){return m()(this,n),f()(this,y()(n).apply(this,arguments))}return b()(n,e),p()(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.subject,t=e.subjectId;Object(P.c)("".concat(n,".").concat(t,".end"))||this.performanceEnd()}},{key:"performanceEnd",value:function(){var e=d()(a.a.mark(function e(){var n,t,i,r,l,s,d,u,m,k,p,v,f,g,y,h;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,t=n.details,i=n.subject,r=n.subjectId,l=n.includeFeatureFlags,s="".concat(i,".").concat(r,".end"),Object(P.b)(s),d=Object(P.d)("".concat(i,".").concat(r,".start"),s),u=Object(P.d)(L.a,s),m=Object(P.d)(L.b,s),e.prev=6,k=Object(F.getAnalyticsWebClient)(),p=l?Object(E.b)(Object(I.a)()):Promise.resolve({}),e.next=11,Promise.all([k,p]);case 11:v=e.sent,f=c()(v,2),g=f[0],y=f[1].featureFlags,h=T(y),g.sendOperationalEvent({tags:["performance"],source:"confluence-frontend",action:"done",actionSubject:i,actionSubjectId:r,attributes:o()({featureFlags:h,duration:d},t)}),Object(w.b)().addPageAction("metric.performance:".concat(i,".").concat(r),o()({duration:d},t,m>0?{durationSinceTransition:m}:u>0?{durationSinceStart:u}:{})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),Object(w.b)().noticeError(e.t0);case 23:case"end":return e.stop()}},e,this,[[6,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null}}]),n}(C.Component);N()(O,"defaultProps",{subjectId:"",includeFeatureFlags:!1}),O.displayName="PerformanceEnd"},"1vxf":function(e,n,t){"use strict";var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),c=t.n(l),s=t("AuHH"),d=t.n(s),u=t("5Yy7"),m=t.n(u),k=t("ERkP"),p=t.n(k),v=(t("aWzz"),t("kFJ8")),f=t("/FQd"),g=t("KEM+"),y=t.n(g),h=t("2srY"),b=t.n(h),S=t("UIW9"),N=t("1Pcy"),C=t.n(N),I=t("7wq/"),E=t.n(I),F=t("KsTJ"),w=t("0Dc1"),L=t("PTiB"),P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikeSummaryQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"current"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tenant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cloudId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:477,source:{body:"\n  query LikeSummaryQuery($contentId: ID!, $contentType: String!) {\n    user(current: true) {\n      id\n    }\n    tenant {\n      cloudId\n    }\n    content(id: $contentId, type: $contentType) {\n      nodes {\n        id\n        likes {\n          nodes {\n            user {\n              accountId\n              displayName\n              profilePicture {\n                path\n              }\n            }\n            currentUserIsFollowing\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},T=t("L21V"),O=t("WELO"),_=t("+ypV"),x=t.n(_),A=t("7A9o");function D(){var e=E()(["\n  background: 0;\n  border: 0;\n  cursor: pointer;\n  color: ",";\n  font-size: inherit;\n  "," /* legacy styling */\n  outline: 0;\n  padding: 0;\n\n  &:hover {\n    cursor: pointer;\n    color: ",";\n    text-decoration: underline;\n  }\n\n  & > span {\n    vertical-align: bottom;\n  }\n"]);return D=function(){return e},e}var V=F.default.button(D(),function(e){return e.isComment?"#707070":A.colors.B400},function(e){return e.isComment?"":"line-height: 20px;"},function(e){return e.isComment?"#707070":A.colors.B400}),R=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),y()(C()(t),"state",{isLikedByCurrentUser:t.props.isLikedByCurrentUser}),y()(C()(t),"onLikeClick",function(){var e=t.props,n=e.likeContent,i=e.unlikeContent;t.state.isLikedByCurrentUser?(i(),t.setState({isLikedByCurrentUser:!1})):(n(),t.setState({isLikedByCurrentUser:!0}))}),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.isForComment,t=e.isForInlineComment,i=this.state.isLikedByCurrentUser,a=n||t;return p.a.createElement(V,{isComment:a,onClick:this.onLikeClick},a?null:p.a.createElement(x.a,{size:O.b.medium,primaryColor:A.colors.N500}),p.a.createElement("span",null,i?p.a.createElement(T.b,{id:"likes.action.unlike",defaultMessage:"Unlike",description:"Verb: to unlike a piece of content"}):p.a.createElement(T.b,{id:"likes.action.like",defaultMessage:"Like",description:"Verb: to like a piece of content"})))}}]),n}(k.PureComponent);R.displayName="LikeButtonComponent";var j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikeButtonQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:212,source:{body:"\n  query LikeButtonQuery($contentId: ID!, $contentType: String) {\n    content(id: $contentId, type: $contentType) {\n      nodes {\n        id\n        likes {\n          currentUserLikes\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeButtonLikeMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likeContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:220,source:{body:"\n  mutation LikeButtonLikeMutation($contentId: ID!) {\n    likeContent(input: { contentId: $contentId }) {\n      content {\n        id\n        likes {\n          count\n          currentUserLikes\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},H={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeButtonUnlikeMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlikeContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:224,source:{body:"\n  mutation LikeButtonUnlikeMutation($contentId: ID!) {\n    unlikeContent(input: { contentId: $contentId }) {\n      content {\n        id\n        likes {\n          count\n          currentUserLikes\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},M=Object(L.a)()(function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),y()(C()(t),"fireLikeAnalyticsEvent",function(){t.fireAnalyticsEvent("created")}),y()(C()(t),"fireUnlikeAnalyticsEvent",function(){t.fireAnalyticsEvent("deleted")}),y()(C()(t),"generateMutation",function(e){var n=t.props.contentId;return function(){e({variables:{contentId:n}})}}),t}return m()(n,e),o()(n,[{key:"getAnalyticsData",value:function(e){var n=this.props,t=n.contentId,i=n.contentType,a=n.containerId,r=n.containerType,o=n.isForComment,l=n.isForInlineComment;return{action:e,actionSubject:"like",containerType:o||l?"page":r,containerId:a,objectType:l?"inlineComment":o?"comment":"page",objectId:t,source:"likeButton",attributes:{componentVersion:"v2",pageType:"blogpost"===i||"blogpost"===r?"blogpost":"page"}}}},{key:"fireAnalyticsEvent",value:function(e){this.props.createAnalyticsEvent({type:"sendTrackEvent",data:this.getAnalyticsData(e)}).fire()}},{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,i=n.contentType,a=n.isForComment,r=n.isForInlineComment,o={contentId:t,contentType:i};return p.a.createElement(v.d,{query:j,variables:o},function(n){var t=n.data,i=n.loading,l=n.error;if(i||l)return null;var c=b()(t,"content.nodes[0].likes.currentUserLikes");return p.a.createElement(v.c,{mutation:U,onCompleted:e.fireLikeAnalyticsEvent,refetchQueries:[{query:P,variables:o}]},function(n){return p.a.createElement(v.c,{mutation:H,onCompleted:e.fireUnlikeAnalyticsEvent,refetchQueries:[{query:P,variables:o}]},function(t){return p.a.createElement(R,{likeContent:e.generateMutation(n),unlikeContent:e.generateMutation(t),isLikedByCurrentUser:c,isForComment:a,isForInlineComment:r})})})})}}]),n}(k.PureComponent)),B=t("97Jx"),q=t.n(B),z=t("BEru"),K=t("ok3R"),Q=t("yTLO");function W(e,n){return e?"/people/".concat(e,"?ref=confluence").concat(n?"&src=".concat(encodeURIComponent(n)):""):""}function Y(){var e=E()(["\n  cursor: pointer;\n"]);return Y=function(){return e},e}function $(){var e=E()(["\n  "," &:hover {\n    ",";\n  }\n"]);return $=function(){return e},e}function G(){var e=E()(["\n  background: 0;\n  border: 0;\n"]);return G=function(){return e},e}var J=new z.b({url:"/gateway/api/directory/graphql",cacheSize:100,cacheMaxAge:3e5}),Z=Object(T.f)({people:{id:"likes.summary.count.people",defaultMessage:"{numLikers} people",description:"number of people who like content"},others:{id:"likes.summary.count.others",defaultMessage:"{numLikers} others",description:"number of other people who like content"}}),X=Object(F.default)(K.b)(G()),ee=F.default.a($(),function(e){return e.isForComment&&"color: #707070;"},function(e){return e.isForComment&&"color: #707070;"}),ne=F.default.a(Y());function te(e,n,t){var i=n?Z.people:Z.others;return p.a.createElement(ne,{onClick:t},p.a.createElement(T.b,q()({},i,{values:{numLikers:e}})))}ne.displayName="PointerLink",te.displayName="generateLikeDialogLink";var ie=p.a.createElement(k.Fragment,null," ",p.a.createElement(T.b,{id:"likes.summary.separator.and",defaultMessage:"and",description:"Word and used in listing things"})," "),ae=p.a.createElement(k.Fragment,null,p.a.createElement(T.b,{id:"likes.summary.separator.comma",defaultMessage:",",description:"comma punctuation used in listing things"})," "),re=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"getUserLinkTemplate",value:function(e){var n=e.accountId,t=e.displayName,i=this.props,a=i.cloudId,r=i.isForComment,o=p.a.createElement(z.c,{cloudId:a,userId:n,resourceClient:J});return p.a.createElement(ee,{isForComment:r,href:W(n,"profileCard")},p.a.createElement(Q.a,{tag:"span",component:X,content:o},p.a.createElement("span",null,t)))}},{key:"generateYou",value:function(){return p.a.createElement(T.b,{id:"likes.summary.word.you",defaultMessage:"You",description:"You are the user"})}},{key:"generatePromoted",value:function(e,n,t){var i=this,a=e.length-1,r=n;return e.map(function(e,n){var o;return r&&(o=n===a&&0===t?ie:ae),r=!0,p.a.createElement(k.Fragment,{key:e.accountId},o,i.getUserLinkTemplate(e))})}},{key:"generateNonPromoted",value:function(e,n){var t=this.getUserLinkTemplate(e[0]);if(e.length>1){var i=this.props.handleDialogLinkClick;t=te(e.length,n,i)}return p.a.createElement(k.Fragment,null,!n&&ie,t)}},{key:"generateMessage",value:function(){var e=this.props,n=e.likedBy,t=e.currentUserId,i=[],a=[],r=!1,o=!0;n.forEach(function(e){e.accountId===t?(r=!0,o=!1):i.length<3&&e.currentUserIsFollowing?(i.push(e),o=!1):a.push(e)});var l=i.length,c=a.length,s=r?2:l+c;return p.a.createElement("span",null,r&&this.generateYou(),l?this.generatePromoted(i,r,a.length):null,c?this.generateNonPromoted(a,o):null," ",p.a.createElement(T.b,{id:"likes.summary.phrase.likeThis",defaultMessage:"{numLikers, plural, one {likes this} other {like this}}",description:"suffix for number of users who like this piece of content",values:{numLikers:s}}))}},{key:"render",value:function(){var e=this.props,n=e.currentUserId,t=e.likedBy,i=e.isForComment;return 0===t.length?!i&&n?p.a.createElement(T.b,{id:"likes.phrase.bethefirst",defaultMessage:"Be the first to like this",description:"Message for content without any likes"}):null:this.generateMessage()}}]),n}(k.PureComponent);function oe(){var e=E()(["\n  cursor: pointer;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return oe=function(){return e},e}re.displayName="LikeSummaryMessageComponent";var le=F.default.span(oe());le.displayName="SummaryLink";var ce=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"renderForNotInlineComment",value:function(){var e=this.props,n=e.cloudId,t=e.likedBy,i=e.currentUserId,a=e.isForComment,r=e.onClick;return p.a.createElement("span",{"data-test-id":"likes-summary-span"},a&&t.length>0?p.a.createElement(x.a,{size:O.b.small,primaryColor:"#707070"}):null,p.a.createElement(re,{likedBy:t,currentUserId:i,cloudId:n,isForComment:a,handleDialogLinkClick:r}))}},{key:"renderForInlineComment",value:function(){var e=this.props,n=e.likedBy,t=e.onClick;return n.length?p.a.createElement("span",null,p.a.createElement(x.a,{size:O.b.small,primaryColor:"#707070"}),p.a.createElement(le,{onClick:t,"data-test-id":"likes-summary-link"},n.length)):null}},{key:"render",value:function(){return this.props.isForInlineComment?this.renderForInlineComment():this.renderForNotInlineComment()}}]),n}(k.PureComponent);ce.displayName="LikeSummaryComponent";var se=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.onClick,a=e.isForComment,r=e.isForInlineComment,o={contentId:n,contentType:t};return p.a.createElement(v.d,{query:P,variables:o},function(e){var n=e.data,t=e.loading,o=e.error;if(t||o)return null;var l=b()(n,"user.id"),c=b()(n,"tenant.cloudId"),s=(b()(n,"content.nodes[0].likes.nodes")||[]).map(function(e){var n=e.currentUserIsFollowing,t=e.user,i=(t=void 0===t?{}:t).displayName,a=t.accountId,r=t.profilePicture;return{displayName:i,accountId:a,avatarUrl:(r=void 0===r?{}:r).path,currentUserIsFollowing:n}});return p.a.createElement(ce,{likedBy:s,cloudId:c,currentUserId:l,onClick:i,isForComment:a,isForInlineComment:r})})}}]),n}(k.PureComponent);se.displayName="LikeSummary";var de=t("Pydg"),ue=t("ZmIu"),me=t("llcG"),ke=t("wySS"),pe=t("2rtj");function ve(){var e=E()(["\n  flex-grow: 1;\n  padding: 0 10px;\n"]);return ve=function(){return e},e}function fe(){var e=E()(["\n  line-height: 0;\n"]);return fe=function(){return e},e}function ge(){var e=E()(["\n  border-bottom: 1px solid ",";\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  overflow: auto;\n"]);return ge=function(){return e},e}var ye=Object(T.f)({followUser:{id:"likes.dialog.action.follow",defaultMessage:"Follow",description:"Verb for following/subscribing to a user"},dialogHeading:{id:"likes.dialog.phrase.likers",defaultMessage:"People who like this",description:"People who like the piece of content"},following:{id:"likes.dialog.noun.following",defaultMessage:"Following",description:"Gerund for a user you already follow"},close:{id:"likes.dialog.action.close",defaultMessage:"Close",description:"Button for closing dialog"}}),he=F.default.div(ge(),A.colors.N50);he.displayName="LikeUserRow";var be=F.default.div(fe());be.displayName="AvatarContainer";var Se=F.default.div(ve());Se.displayName="UserNameContainer";var Ne=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"renderLikeRow",value:function(e){var n=e.displayName,t=e.accountId,i=e.avatarUrl,a=e.currentUserIsFollowing;if(!n)return null;var r=this.props.followUser;return p.a.createElement(he,{key:t,"data-test-id":"like-row"},p.a.createElement(be,null,p.a.createElement(ke.a,{src:i,size:"medium"})),p.a.createElement(Se,null,p.a.createElement(pe.a,{target:"_blank",href:W(t)},n)),p.a.createElement("div",null,a?p.a.createElement(T.b,ye.following):p.a.createElement(me.a,{onClick:function(){r(t)},"data-test-id":"follow-user-button"},p.a.createElement(T.b,ye.followUser))))}},{key:"render",value:function(){var e=this,n=this.props,t=n.onClose,i=n.likedBy,a=[{text:p.a.createElement(T.b,ye.close),onClick:t}];return p.a.createElement(de.b,null,p.a.createElement(ue.a,{actions:a,onClose:t,width:"small",heading:p.a.createElement(T.b,ye.dialogHeading)},i.map(function(n){return e.renderLikeRow(n)})))}}]),n}(k.PureComponent);Ne.displayName="LikeDialogComponent";var Ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikesDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:403,source:{body:"\n  query LikesDialogQuery($contentId: ID!, $contentType: String!) {\n    content(id: $contentId, type: $contentType) {\n      nodes {\n        id\n        likes {\n          nodes {\n            user {\n              accountId\n              displayName\n              profilePicture {\n                path\n              }\n            }\n            currentUserIsFollowing\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeDialogFollowMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"accountId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"followUserInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"accountId"},value:{kind:"Variable",name:{kind:"Name",value:"accountId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUserFollowing"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158,source:{body:"\n  mutation LikeDialogFollowMutation($accountId: String!) {\n    followUser(followUserInput: { accountId: $accountId }) {\n      currentUserFollowing\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ee=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"getFollowUserMutation",value:function(e){return function(n){e({variables:{accountId:n}})}}},{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,i=n.contentType,a=n.onClose,r={contentId:t,contentType:i};return p.a.createElement(v.d,{query:Ce,variables:r},function(n){var t=n.data,i=n.loading,o=n.error;if(i||o||!t)return null;var l=(b()(t,"content.nodes[0].likes.nodes")||[]).map(function(e){return{accountId:e.user&&e.user.accountId,displayName:e.user&&e.user.displayName,avatarUrl:b()(e,"user.profilePicture.path"),currentUserIsFollowing:e.currentUserIsFollowing}});return p.a.createElement(v.c,{mutation:Ie,refetchQueries:[{query:Ce,variables:r}]},function(n){return p.a.createElement(Ne,{likedBy:l,onClose:a,followUser:e.getFollowUserMutation(n)})})})}}]),n}(k.PureComponent);function Fe(){var e=E()(["\n  "," /* include this for inline comments because HoverContainer renders empty div */\n  + div {\n    display: inline;\n  }\n"]);return Fe=function(){return e},e}function we(){var e=E()(["\n  margin-left: 20px;\n"]);return we=function(){return e},e}function Le(){var e=E()(["\n  color: #707070;\n  padding: 0 5px;\n"]);return Le=function(){return e},e}Ee.displayName="LikeDialog";var Pe=F.default.span(Le());Pe.displayName="SeparatorDot";var Te=F.default.span(we());Te.displayName="SeparatorSpan";var Oe=F.default.span(Fe(),function(e){return e.isComment&&"font-size: 12px;\n    color: #707070;"});Oe.displayName="LikesContainer";var _e=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),y()(C()(t),"state",{isShowingDialog:!1}),y()(C()(t),"onSummaryClick",function(){t.setState({isShowingDialog:!0})}),y()(C()(t),"onCloseDialog",function(){t.setState({isShowingDialog:!1})}),t}return m()(n,e),o()(n,[{key:"renderSummarySeparator",value:function(){var e=this.props,n=e.isForComment,t=e.isForInlineComment,i=e.hasLikes;return t?null:n?i?p.a.createElement(Pe,null,"•"):null:p.a.createElement(Te,null)}},{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.containerId,a=e.containerType,r=e.isAnonymous,o=e.hasLikes,l=e.isForComment,c=e.isForInlineComment,s=l&&(!r||o);return p.a.createElement(Oe,{isComment:l||c},s&&p.a.createElement(Pe,null,"•"),r?null:p.a.createElement("span",null,p.a.createElement(M,{contentId:n,contentType:t,containerId:i,containerType:a,isForComment:l,isForInlineComment:c}),this.renderSummarySeparator()),p.a.createElement(se,{contentId:n,contentType:t,onClick:this.onSummaryClick,isForComment:l,isForInlineComment:c}),p.a.createElement(w.a,{subject:"likes",details:{isForComment:l,isForInlineComment:c}}),this.state.isShowingDialog?p.a.createElement(Ee,{contentId:n,contentType:t,onClose:this.onCloseDialog}):null)}}]),n}(k.PureComponent);_e.displayName="LikesComponent";var xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:440,source:{body:"\n  query LikesQuery($contentId: ID!, $contentType: String!) {\n    content(id: $contentId, type: $contentType) {\n      nodes {\n        id\n        likes {\n          count\n          currentUserLikes\n          nodes {\n            user {\n              accountId\n              displayName\n              profilePicture {\n                path\n              }\n            }\n            currentUserIsFollowing\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ae=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.containerId,a=e.containerType,r=e.isAnonymous,o=e.isForComment,l=e.isForInlineComment,c={contentId:n,contentType:t};return p.a.createElement(k.Fragment,null,p.a.createElement(S.a,{subject:"likes",markBeforeMount:!0}),p.a.createElement(v.d,{query:xe,variables:c},function(e){var c=e.data,s=e.loading,d=e.error;if(s||d)return null;var u=(b()(c,"content.nodes[0].likes")||{}).count>0;return p.a.createElement(_e,{contentId:n,contentType:t,containerId:i,containerType:a,hasLikes:u,isAnonymous:r,isForComment:o,isForInlineComment:l})}))}}]),n}(k.PureComponent);y()(Ae,"defaultProps",{isAnonymous:!1}),Ae.displayName="Likes";var De,Ve,Re,je=t("O94r"),Ue=t.n(je),He=t("IGvV"),Me=t("frfT"),Be=t("QddB"),qe=t.n(Be),ze=function(){return p.a.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.a.createElement("path",{d:"M4.00029867,12.0000027 L4.00029867,19.0000003 C3.99379083,19.2619469 4.0938648,19.5154845 4.27800285,19.7035645 C4.46214091,19.8916445 4.71487577,19.9984685 4.97933941,20 L5.99875297,20 L5.99875297,11.0000031 L4.97933941,11.0000031 C4.71487577,11.0015345 4.46214091,11.1083586 4.27800285,11.2964386 C4.0938648,11.4845186 3.99379083,11.7380562 4.00029867,12.0000027 Z M19.2814088,11.0400031 C18.7031035,10.3648275 17.8537454,9.97663317 16.959972,9.97900342 L14.3256459,9.97900342 C14.3660187,9.79800348 14.4063915,9.61900354 14.4366711,9.4470036 C14.9514245,6.5130046 14.4366711,5.44700497 13.9320109,4.85300517 C13.4705845,4.31076256 12.7907146,3.99849428 12.0748615,4.00000546 C10.5305357,4.05274499 9.2630356,5.22781051 9.10745966,6.75100452 C8.71382472,8.59000389 8.6532655,8.75100384 8.13851212,9.47600359 L7.37142865,10.5650032 C7.13702441,10.900368 7.01037109,11.2980817 7.00807332,11.7060028 L7.00807332,17.9790007 C7.0094101,18.5107601 7.22390249,19.0202137 7.60436426,19.3952867 C7.98482603,19.7703597 8.50009148,19.9803277 9.03680723,19.979 L16.2837274,19.979 C17.7690249,19.9867984 19.0398298,18.9240081 19.2814088,17.4720009 L19.9576535,13.4720022 C20.1064636,12.6021375 19.8588502,11.7116379 19.2814088,11.0400031 Z M17.2829545,17.140001 C17.2013522,17.6232979 16.7783039,17.9768163 16.2837274,17.9750007 L9.03680723,17.9750077 L9.03680723,11.7060028 L9.8038907,10.6170032 C10.5252697,9.572607 10.9727451,8.36664508 11.105914,7.1080044 C11.1422788,6.56547046 11.3606605,5.89943888 12.0748615,6.00000478 C12.7890625,6.10057068 12.6501741,7.91600412 12.4382168,9.10000372 C12.2228565,10.0810361 11.9326853,11.0444672 11.5702013,11.9820027 L16.959972,11.9740027 C17.2574249,11.9729101 17.5402185,12.1018688 17.7328364,12.3264423 C17.9254544,12.5510157 18.0082813,12.848334 17.9591992,13.1390023 L17.2829545,17.140001 Z",fill:"currentColor",fillRule:"evenodd"}))},Ke=t("sAnD"),Qe=t.n(Ke),We=Object(He.a)(Qe.a)((Re=Ve=function(e){function n(e){var t;return a()(this,n),(t=c()(this,d()(n).call(this,e))).onLikeClick=t.onLikeClick.bind(C()(t)),t.state={isLikedByCurrentUser:e.isLikedByCurrentUser},t}return m()(n,e),o()(n,[{key:"onLikeClick",value:function(e){var n=this.props,t=n.likeContent,i=n.unlikeContent,a=this.state.isLikedByCurrentUser;e.preventDefault(),a?(i(),this.setState({isLikedByCurrentUser:!1})):(t(),this.setState({isLikedByCurrentUser:!0}))}},{key:"render",value:function(){var e=this.props,n=e.isForComment,t=e.isForInlineComment,i=this.state.isLikedByCurrentUser;return p.a.createElement("a",{className:Ue()("like-button",Qe.a.likeLink),onClick:this.onLikeClick},n||t?null:p.a.createElement(Me.a,{glyph:ze,size:O.b.medium}),p.a.createElement("span",null,i?p.a.createElement(T.b,{id:"likes.unlike"}):p.a.createElement(T.b,{id:"likes.like"})))}}]),n}(k.Component),y()(Ve,"displayName","LikeButton"),De=Re))||De,Ye={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikeButtonQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLikes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:183,source:{body:"\n  query LikeButtonQuery($contentId: ID!, $contentType: String!) @experimental {\n    experimentalLikes(id: $contentId, type: $contentType) {\n      id\n      currentUserLikes\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeButtonLikeMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLike"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:344,source:{body:"\n  mutation LikeButtonLikeMutation($contentId: ID!) @experimental {\n    experimentalLike(contentId: $contentId) {\n      id\n      count\n      currentUserLikes\n      nodes {\n        user {\n          accountId\n          displayName\n          profilePicture {\n            path\n          }\n        }\n        currentUserIsFollowing\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeButtonLikeMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalUnlike"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUserLikes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:346,source:{body:"\n  mutation LikeButtonLikeMutation($contentId: ID!) @experimental {\n    experimentalUnlike(contentId: $contentId) {\n      id\n      count\n      currentUserLikes\n      nodes {\n        user {\n          accountId\n          displayName\n          profilePicture {\n            path\n          }\n        }\n        currentUserIsFollowing\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Je=function(e){function n(e){var t;a()(this,n),t=c()(this,d()(n).call(this,e)),y()(C()(t),"likeContent",function(e){var n=t.props.contentId;return function(){e({variables:{contentId:n}})}}),y()(C()(t),"unlikeContent",function(e){var n=t.props.contentId;return function(){e({variables:{contentId:n}})}});var i=t.fireAnalyticsEvent;return t.fireLikeAnalyticsEvent=i.bind(C()(t),"created"),t.fireUnlikeAnalyticsEvent=i.bind(C()(t),"deleted"),t}return m()(n,e),o()(n,[{key:"getAnalyticsData",value:function(e){var n=this.props,t=n.contentId,i=n.contentType,a=n.containerId,r=n.containerType,o=n.isForComment,l=n.isForInlineComment;return{action:e,actionSubject:"like",containerType:o||l?"page":r,containerId:a,objectType:l?"inlineComment":o?"comment":"page",objectId:t,source:"likeButton",attributes:{pageType:"blogpost"===i||"blogpost"===r?"blogpost":"page"}}}},{key:"fireAnalyticsEvent",value:function(e){this.props.createAnalyticsEvent({type:"sendTrackEvent",data:this.getAnalyticsData(e)}).fire()}},{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,i=n.contentType,a=n.isForComment,r=n.isForInlineComment,o={contentId:t,contentType:i};return p.a.createElement(v.d,{query:Ye,variables:o},function(n){var t=n.data,i=n.loading,o=n.error;if(i||o||!t||!t.experimentalLikes)return null;var l=t&&t.experimentalLikes;return p.a.createElement(v.c,{mutation:$e,onCompleted:e.fireLikeAnalyticsEvent},function(n,t){return qe()(t),p.a.createElement(v.c,{mutation:Ge,onCompleted:e.fireUnlikeAnalyticsEvent},function(t,i){return qe()(i),p.a.createElement(We,{likeContent:e.likeContent(n),unlikeContent:e.unlikeContent(t),isLikedByCurrentUser:l.currentUserLikes,isForComment:a,isForInlineComment:r})})})})}}]),n}(k.Component);Je.displayName="LikeButton";var Ze=Object(L.a)()(Je),Xe=t("/4nh"),en=t("9Kiz"),nn=t("2wFc"),tn=function(){function e(){a()(this,e)}return o()(e,null,[{key:"_getUserLinkTemplate",value:function(e){var n=this._htmlEscape(e.displayName),t=this._htmlEscape(e.accountId);return'<a href="'.concat(Object(nn.e)(t,"profileCard"),'" data-account-id="').concat(t,'" class="confluence-userlink" target="_blank">').concat(n,"</a>")}},{key:"getI18n",value:function(e,n,t){var i=this;if(!e||0===Object(Xe.d)(e))return{key:"",args:[]};var a=["likes.summary"],r=[],o=[],l=[];return e.forEach(function(e){e.accountId&&e.accountId===t?a.push(".you"):o.length<3&&e.currentUserIsFollowing?o.push(e):l.push(e)}),o.length>0&&(a.push("."),a.push(o.length),a.push(".promoted"),o.forEach(function(e){r.push(i._getUserLinkTemplate(e))})),1===l.length?(a.push(".1.non-promoted"),r.push(this._getUserLinkTemplate(l[0]))):l.length>1&&(a.push(".x.non-promoted"),r.push(l.length),r.push('class="likes" data-content-id="'.concat(n,'"'))),{key:a.join(""),args:r}}},{key:"_htmlEscape",value:function(e){var n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};return"".concat(e).replace(/[&><"']/g,function(e){return n[e]})}},{key:"renderHtmlMessage",value:function(e,n,t,i){var a=this.getI18n(e,n,t);if(!a.key){if(i||!t)return null;a.key="likes.bethefirst"}return p.a.createElement(T.b,{id:a.key,values:Object.assign({},a.args)},function(e){return p.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}})})}}]),e}(),an=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),y()(C()(t),"state",{hoverNode:null}),y()(C()(t),"_setLikesHoverNode",function(e){t.setState({hoverNode:e})}),t}return m()(n,e),o()(n,[{key:"_renderForNotInlineComment",value:function(){var e=this.props,n=e.contentId,t=e.likedBy,i=e.currentUser,a=e.isForComment,r=e.onClick;return p.a.createElement(k.Fragment,null,p.a.createElement("span",{className:"like-summary",onClick:r,ref:this._setLikesHoverNode},tn.renderHtmlMessage(t,n,i,a)),p.a.createElement(en.a,{node:this.state.hoverNode}))}},{key:"_renderForInlineComment",value:function(){var e=this.props,n=e.likedBy,t=e.onClick;return Object(Xe.d)(n)?p.a.createElement("span",null,p.a.createElement("span",null,p.a.createElement(Me.a,{glyph:ze,size:O.b.small}),p.a.createElement("a",{className:"likes",onClick:t},Object(Xe.d)(n)))):null}},{key:"render",value:function(){return this.props.isForInlineComment?this._renderForInlineComment():this._renderForNotInlineComment()}}]),n}(k.Component);y()(an,"displayName","LikeSummary"),an.displayName="LikeSummary";var rn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikeSummaryQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLikes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:337,source:{body:"\n  query LikeSummaryQuery($contentId: ID!, $contentType: String!) @experimental {\n    experimentalLikes(id: $contentId, type: $contentType) {\n      id\n      nodes {\n        user {\n          accountId\n          displayName\n          profilePicture {\n            path\n          }\n        }\n        currentUserIsFollowing\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},on=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.onClick,a=e.isForComment,r=e.isForInlineComment,o={contentId:n,contentType:t};return p.a.createElement(f.a,null,function(e){var t=e.userId;return p.a.createElement(v.d,{query:rn,variables:o},function(e){var o=e.data,l=e.loading,c=e.error;if(l||c||!o||!o.experimentalLikes)return null;var s=o&&o.experimentalLikes,d=s&&s.nodes?s.nodes.map(function(e){var n=e.currentUserIsFollowing,t=e.user,i=(t=void 0===t?{}:t).displayName,a=t.accountId,r=t.profilePicture;return{displayName:i,accountId:a,avatarUrl:(r=void 0===r?{}:r).path,currentUserIsFollowing:n}}):[];return p.a.createElement(an,{contentId:n,likedBy:d,currentUser:t,onClick:i,isForComment:a,isForInlineComment:r,isLoading:l})})})}}]),n}(k.Component);on.displayName="LikeSummary";var ln=on,cn=t("x98U"),sn=t("fYdy"),dn={LikeRow:{borderBottom:"1px solid #ccc",display:"flex",alignItems:"center",padding:"10px",overflow:"auto"},avatarContainer:{lineHeight:0},likeUser:{flexGrow:1,padding:"0 10px"}},un=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"_renderLikeRow",value:function(e){if(!e.displayName)return null;var n=this.props.followUser;return p.a.createElement("div",{style:dn.LikeRow,key:e.accountId,"data-test-id":"like-row"},p.a.createElement("div",{style:dn.avatarContainer},p.a.createElement(cn.a,{canViewProfile:!0,src:e.avatarUrl,size:"medium",withUserHover:!1,userId:e.accountId})),p.a.createElement("div",{style:dn.likeUser},p.a.createElement(sn.a,{fullName:e.displayName,userId:e.accountId,withUserHover:!1})),p.a.createElement("div",null,e.currentUserIsFollowing?p.a.createElement(T.b,{id:"likes.following"}):p.a.createElement(me.a,{onClick:function(){n(e.accountId)},"data-test-id":"follow-user-button"},p.a.createElement(T.b,{id:"likes.follow"}))))}},{key:"render",value:function(){var e=this,n=this.props,t=n.onClose,i=n.likedBy,a=[{text:"Close",onClick:t}];return p.a.createElement(de.b,null,p.a.createElement(ue.a,{actions:a,onClose:t,width:"small",heading:p.a.createElement(T.b,{id:"likes.peoplewholikethis"})},i.map(function(n){return e._renderLikeRow(n)})))}}]),n}(k.Component);y()(un,"displayName","LikeDialog"),un.displayName="LikeDialog";var mn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikesDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLikes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUserIsFollowing"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:337,source:{body:"\n  query LikesDialogQuery($contentId: ID!, $contentType: String!) @experimental {\n    experimentalLikes(id: $contentId, type: $contentType) {\n      id\n      nodes {\n        user {\n          accountId\n          displayName\n          profilePicture {\n            path\n          }\n        }\n        currentUserIsFollowing\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},kn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeDialogFollowMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"accountId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"followUserInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"accountId"},value:{kind:"Variable",name:{kind:"Name",value:"accountId"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUserFollowing"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158,source:{body:"\n  mutation LikeDialogFollowMutation($accountId: String!) {\n    followUser(followUserInput: { accountId: $accountId }) {\n      currentUserFollowing\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},pn=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),y()(C()(t),"followUser",function(e){return function(n){e({variables:{accountId:n}})}}),t}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.contentId,i=n.contentType,a=n.onClose,r={contentId:t,contentType:i};return p.a.createElement(v.d,{query:mn,variables:r},function(n){var t=n.data,i=n.loading,o=n.error;if(i||o||!t||!t.experimentalLikes)return null;var l=(t&&t.experimentalLikes).nodes.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.currentUserIsFollowing,t=e.user,i=(t=void 0===t?{}:t).accountId,a=t.displayName,r=t.profilePicture;return{accountId:i,displayName:a,avatarUrl:(r=void 0===r?{}:r).path,currentUserIsFollowing:n}});return p.a.createElement(v.c,{mutation:kn,refetchQueries:[{query:mn,variables:r}]},function(n,t){return qe()(t),p.a.createElement(un,{likedBy:l,onClose:a,followUser:e.followUser(n),isLoading:i})})})}}]),n}(k.Component);pn.displayName="LikeDialog";var vn,fn,gn,yn=pn,hn=t("dnuq"),bn=t.n(hn),Sn=Object(He.a)(bn.a)((gn=fn=function(e){function n(e){var t;return a()(this,n),(t=c()(this,d()(n).call(this,e))).onSummaryClick=t.onSummaryClick.bind(C()(t)),t.onCloseDialog=t.onCloseDialog.bind(C()(t)),t.state={isShowingDialog:!1},t}return m()(n,e),o()(n,[{key:"onSummaryClick",value:function(e){e.target&&("A"===e.target.tagName&&"likes"===e.target.className||"SPAN"===e.target.tagName&&"like-summary"===e.target.className)&&(e.preventDefault(),this.setState({isShowingDialog:!0}))}},{key:"onCloseDialog",value:function(e){e&&e.preventDefault(),this.setState({isShowingDialog:!1})}},{key:"_renderSummarySeparator",value:function(){var e=this.props,n=e.isForComment,t=e.isForInlineComment,i=e.hasLikes;return t?null:n?i?p.a.createElement("span",{className:"likeSmall"},n?p.a.createElement("span",{className:bn.a.commentSeparator},"•"):p.a.createElement("span",{style:{marginLeft:3}}),p.a.createElement(Me.a,{glyph:ze,size:O.b.small})):null:p.a.createElement("span",{className:bn.a.separator})}},{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.containerId,a=e.containerType,r=e.isAnonymous,o=e.hasLikes,l=e.isForComment,c=e.isForInlineComment,s=l&&(!r||o);return p.a.createElement("div",{className:Ue()(bn.a.Likes,y()({},bn.a.withDot,s))},r?null:p.a.createElement("span",null,p.a.createElement(Ze,{contentId:n,contentType:t,containerId:i,containerType:a,isForComment:l,isForInlineComment:c}),this._renderSummarySeparator()),p.a.createElement(ln,{contentId:n,contentType:t,onClick:this.onSummaryClick,isForComment:l,isForInlineComment:c}),this.state.isShowingDialog?p.a.createElement(yn,{contentId:n,contentType:t,onClose:this.onCloseDialog}):null)}}]),n}(k.Component),y()(fn,"displayName","LikesComponent"),vn=gn))||vn,Nn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LikesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[{kind:"Directive",name:{kind:"Name",value:"experimental"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"experimentalLikes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167,source:{body:"\n  query LikesQuery($contentId: ID!, $contentType: String!) @experimental {\n    experimentalLikes(id: $contentId, type: $contentType) {\n      id\n      count\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};Ae.displayName="LikesV2";var Cn=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.contentId,t=e.contentType,i=e.containerId,a=e.containerType,r=e.isForComment,o=e.isForInlineComment,l={contentId:n,contentType:t};return p.a.createElement(f.a,null,function(e){var c=e.userId,s=e.featureFlags,d=Boolean(!c);return s["confluence.frontend.likes.v2"]?p.a.createElement(Ae,{contentId:n,contentType:t,containerId:i,containerType:a,isAnonymous:d,isForComment:r,isForInlineComment:o}):p.a.createElement(v.d,{query:Nn,variables:l},function(e){var l=e.data,c=e.loading,s=e.error;if(c||s||!l||!l.experimentalLikes)return null;var u=(l&&l.experimentalLikes).count>0;return p.a.createElement(Sn,{contentId:n,contentType:t,containerId:i,containerType:a,hasLikes:u,isAnonymous:d,isForComment:r,isForInlineComment:o})})})}}]),n}(k.Component);Cn.displayName="Likes";n.a=Cn},"2rtj":function(e,n,t){"use strict";var i=t("97Jx"),a=t.n(i),r=t("VrFO"),o=t.n(r),l=t("Y9Ll"),c=t.n(l),s=t("N+ot"),d=t.n(s),u=t("AuHH"),m=t.n(u),k=t("5Yy7"),p=t.n(k),v=t("KEM+"),f=t.n(v),g=t("ERkP"),y=t.n(g),h=(t("aWzz"),t("Clud")),b=t("tQaH"),S=t.n(b),N=t("1Pcy"),C=t.n(N),I=t("EfWO"),E=t.n(I),F=t("xBue"),w=function(e){function n(){var e,t;o()(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=d()(this,(e=m()(n)).call.apply(e,[this].concat(a))),f()(C()(t),"onAnchorLinkClick",function(e){t.props.onPageReload(e.target.getAttribute("href")),t.props.onClick(e)}),t}return p()(n,e),c()(n,[{key:"render",value:function(){var e=this.props,n=e.children,t=e.className,i=e.name,a=e.href,r=void 0===a?null:a,o=e.to,l=void 0===o?null:o,c=e.target,s=void 0===c?null:c,d=e.params,u=void 0===d?{}:d,m=e.toUrl,k=e.matchSupportedRoute,p=e.onClick,v=r||l,f={};v&&(f=E.a.parse(v,!0));var g=m(i,S()({},u,f));return k(g)?y.a.createElement(F.a,{to:g,className:t,onClick:p},n):y.a.createElement("a",{href:g,className:t,onClick:this.onAnchorLinkClick,target:s,rel:"_blank"===s?"noreferrer":null},n)}}]),n}(g.Component);w.displayName="LinkComponent",t.d(n,"a",function(){return L});var L=function(e){function n(){return o()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),c()(n,[{key:"render",value:function(){var e=this;return y.a.createElement(h.b.Consumer,null,function(n){var t=n.toUrl,i=n.matchSupportedRoute,r=n.onPageReload;return y.a.createElement(w,a()({},e.props,{toUrl:t,matchSupportedRoute:i,onPageReload:r}),e.props.children)})}}]),n}(g.Component);f()(L,"defaultProps",{onClick:function(){}}),L.displayName="Link"},"3ac5":function(e,n,t){"use strict";t.d(n,"a",function(){return d});var i=t("TOvH"),a=t("RZKf"),r=t("HA9u"),o=t("hd8a"),l=t("7xNx"),c=t("rQmM"),s=t("iLhO");function d(){r.a.preload(),i.a.preload(),a.a.preload(),o.a.preload(),l.a.preload(),c.a.preload(),s.b.preload(),s.a.preload()}},"3iG9":function(e,n,t){"use strict";var i=t("97Jx"),a=t.n(i),r=t("VrFO"),o=t.n(r),l=t("Y9Ll"),c=t.n(l),s=t("N+ot"),d=t.n(s),u=t("AuHH"),m=t.n(u),k=t("5Yy7"),p=t.n(k),v=t("ERkP"),f=t.n(v),g=t("/FQd"),y=t("1Pcy"),h=t.n(y),b=t("KEM+"),S=t.n(b),N=(t("aWzz"),t("Jygk")),C=t.n(N),I=t("BEru"),E=t("2wFc"),F=new I.b({url:"/gateway/api/directory/graphql",cacheSize:100,cacheMaxAge:3e5}),w=function(e){function n(){var e,t;o()(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=d()(this,(e=m()(n)).call.apply(e,[this].concat(a))),S()(h()(t),"openUserProfileWindow",function(e){C.a.open(Object(E.e)(e),"_blank").focus()}),S()(h()(t),"shouldRenderViewProfileAction",function(e){return!(!e||"inactive"===e.status)}),t}return p()(n,e),c()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.userId,i=n.cloudId,a=n.children,r=n.position,o=n.isAnonymous,l=n.canViewProfile,c=n.isCurrentUserAnonymous;return o||!1===l||!t||c?a:f.a.createElement(I.a,{cloudId:i,userId:t,resourceClient:F,position:r,actions:[{label:"View profile",id:"view-profile",callback:function(){return e.openUserProfileWindow(t)},shouldRender:function(n){return e.shouldRenderViewProfileAction(n)}}]},a)}}]),n}(v.Component);S()(w,"defaultProps",{position:"bottom-start"}),w.displayName="ProfilePictureWithCard",t.d(n,"a",function(){return L});var L=function(e){function n(){return o()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),c()(n,[{key:"render",value:function(){var e=this;return f.a.createElement(g.a,null,function(n){var t=n.userId,i=n.cloudId,r=!t;return f.a.createElement(w,a()({isCurrentUserAnonymous:r,cloudId:i},e.props))})}}]),n}(v.Component);L.displayName="ProfileHoverCardWrapper"},"5Asb":function(e,n,t){"use strict";t.d(n,"c",function(){return i}),t.d(n,"b",function(){return a}),t.d(n,"a",function(){return r}),t.d(n,"d",function(){return o});var i={PUBLISH:"mod+enter",EDIT:"e",PREVIEW:"mod+shift+e"},a="mod+s",r="shortcuts-are-allowed",o=["ProseMirror-focused",r]},"7xNx":function(e,n,t){"use strict";var i=t("x+QU"),a=t.n(i)()({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(4),t.e(5),t.e(371)]).then(t.bind(null,"R0Hm"))},loading:function(){return null}});n.a=a},"9nrt":function(e,n,t){(n=e.exports=t("RDo7")(!1)).push([e.i,'.LikesComponent_Likes_2Co{display:inline}.LikesComponent_Likes_2Co.LikesComponent_withDot_3lV:before{content:"\\2022";color:#707070;padding:0 5px}.LikesComponent_Likes_2Co .aui-iconfont-like{color:#707070}.LikesComponent_Likes_2Co .LikesComponent_likeLink_3eF{cursor:pointer}.LikesComponent_Likes_2Co .LikesComponent_likeIcon_3hJ{margin-right:5px}.LikesComponent_Likes_2Co .LikesComponent_separator_1w0{margin-left:20px}.LikesComponent_Likes_2Co .LikesComponent_inlineCommentSeparator_2wS{margin-left:3px}.LikesComponent_Likes_2Co .LikesComponent_commentSeparator_2hk{content:"\\2022";color:#707070;padding:0 5px}.LikesComponent_Likes_2Co a,.LikesComponent_Likes_2Co a:active,.LikesComponent_Likes_2Co a:focus,.LikesComponent_Likes_2Co a:hover,.LikesComponent_Likes_2Co a:visited{color:#0052cc}.LikesComponent_Likes_2Co a:hover{text-decoration:underline}.LikesComponent_Likes_2Co .likeSmall svg{color:#707070}#likes-and-labels-container{overflow:hidden;margin:10px 0;padding:10px 0;clear:both}#likes-and-labels-container #react-likes-section{float:left;font-size:13px;width:48%}.ic-action-like div,.ic-actions>ul li div{display:inline-block}.ic-action-like div>span,.ic-actions>ul li div>span{display:inherit;font-size:12px;color:#707070}.ic-action-like div>span svg,.ic-actions>ul li div>span svg{color:#707070;position:relative;top:1px}.ic-action-like div>span a,.ic-action-like div>span a:hover,.ic-action-like div>span a:link,.ic-action-like div>span a:visited,.ic-actions>ul li div>span a,.ic-actions>ul li div>span a:hover,.ic-actions>ul li div>span a:link,.ic-actions>ul li div>span a:visited{cursor:pointer;color:#707070}',""]),n.locals={Likes:"LikesComponent_Likes_2Co",withDot:"LikesComponent_withDot_3lV",likeLink:"LikesComponent_likeLink_3eF",likeIcon:"LikesComponent_likeIcon_3hJ",separator:"LikesComponent_separator_1w0",inlineCommentSeparator:"LikesComponent_inlineCommentSeparator_2wS",commentSeparator:"LikesComponent_commentSeparator_2hk"}},Bud6:function(e,n,t){"use strict";t.d(n,"l",function(){return l}),t.d(n,"a",function(){return c}),t.d(n,"b",function(){return s}),t.d(n,"c",function(){return d}),t.d(n,"z",function(){return u}),t.d(n,"o",function(){return m}),t.d(n,"q",function(){return k}),t.d(n,"p",function(){return p}),t.d(n,"t",function(){return v}),t.d(n,"w",function(){return f}),t.d(n,"A",function(){return g}),t.d(n,"m",function(){return y}),t.d(n,"E",function(){return h}),t.d(n,"D",function(){return b}),t.d(n,"n",function(){return S}),t.d(n,"C",function(){return N}),t.d(n,"B",function(){return C}),t.d(n,"k",function(){return I}),t.d(n,"r",function(){return E}),t.d(n,"s",function(){return F}),t.d(n,"v",function(){return w}),t.d(n,"y",function(){return L}),t.d(n,"h",function(){return P}),t.d(n,"F",function(){return T}),t.d(n,"G",function(){return O}),t.d(n,"e",function(){return _}),t.d(n,"f",function(){return x}),t.d(n,"g",function(){return A}),t.d(n,"u",function(){return D}),t.d(n,"x",function(){return V}),t.d(n,"d",function(){return R}),t.d(n,"i",function(){return j}),t.d(n,"j",function(){return U});var i=t("ROYt"),a=t("yS9+"),r=t("yLtY"),o=t("2M9l"),l=(Object(a.b)(o.G),Object(a.b)(o.C)),c=Object(a.b)(o.a),s=Object(a.b)(o.b),d=Object(a.b)(o.c),u=Object(a.b)(o.H),m=Object(a.b)(o.q),k=Object(a.b)(o.u),p=Object(a.b)(o.t),v=Object(a.b)(o.D),f=Object(a.b)(o.p),g=Object(a.b)(o.w),y=Object(a.b)(o.n),h=Object(a.b)(o.I),b=Object(a.b)(o.z),S=Object(a.b)(o.o),N=Object(a.b)(o.y),C=Object(a.b)(o.x),I=Object(a.c)(o.e,i.a.content.editorPage,{schema:r.a.content}),E=Object(a.c)(o.h,i.a.content.publishEditorPage,{schema:r.a.content}),F=Object(a.c)(o.f,i.a.content.publishEditorPageFromTemplate,{schema:r.a.content}),w=(Object(a.c)(o.g,i.a.content.renderContent),Object(a.c)(o.k,i.a.content.publishEditorPage)),L=Object(a.b)(o.F),P=Object(a.c)(o.d,i.a.content.getBreadcrumbs),T=Object(a.c)(o.A,i.a.content.updateInlineTask),O=Object(a.c)(o.B,i.a.content.updateParentPage,{schema:r.a.content}),_=Object(a.c)(o.j,i.a.content.deleteContent),x=Object(a.c)(o.l,i.a.content.relationSourcesForTarget),A=Object(a.c)(o.m,i.a.content.relationSourcesForTarget),D=Object(a.c)(o.v,i.a.content.revertContent),V=Object(a.b)(o.E),R=Object(a.c)(o.i,i.a.content.createPage,{schema:r.a.content}),j=Object(a.c)(o.r,i.a.content.editorPage,{schema:r.a.content}),U=Object(a.c)(o.s,i.a.content.draftMetadata,{schema:r.a.content})},GYRL:function(e,n,t){"use strict";var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),c=t.n(l),s=t("AuHH"),d=t.n(s),u=t("5Yy7"),m=t.n(u),k=t("KEM+"),p=t.n(k),v=t("ERkP"),f=t.n(v),g=(t("aWzz"),t("1Pcy")),y=t.n(g),h=t("IC1n"),b=t.n(h),S=t("VSaf"),N=t("U728"),C=function(e){function n(e){var t;return a()(this,n),t=c()(this,d()(n).call(this,e)),p()(y()(t),"trackAttempt",function(){var e=t.props,n=e.experience,i=e.experienceId,a=e.attributes;!t.hasTrackedExperience&&!t.hasStartedExperience&&n&&i&&(Object(N.a)({experience:n,experienceId:i,isAttempt:!0,attributes:a,uuid:t.uuid}),t.hasStartedExperience=!0)}),p()(y()(t),"trackSuccess",function(){t.trackExperience(!0)}),p()(y()(t),"trackFailure",function(){t.trackExperience(!1)}),t.hasTrackedExperience=!1,t.hasStartedExperience=!1,t.uuid=b()(),t}return m()(n,e),o()(n,[{key:"trackExperience",value:function(e){var n=this.props,t=n.experience,i=n.experienceId,a=n.attributes;!this.hasTrackedExperience&&t&&i&&(Object(N.a)({experience:t,experienceId:i,wasExperienceSuccessful:e,attributes:a,uuid:this.uuid}),this.hasTrackedExperience=!0)}},{key:"render",value:function(){var e=this.props,n=e.experience,t=e.experienceId,i=e.children;return f.a.createElement(S.a.Provider,{value:{experience:n,experienceId:t,onSuccess:this.trackSuccess,onFailure:this.trackFailure,onAttempt:this.trackAttempt}},i)}}]),n}(v.Component);p()(C,"defaultProps",{experience:"",experienceId:"",attributes:{}}),p()(C,"displayName","ExperienceTrackingProvider"),C.displayName="ExperienceTrackingProvider",t.d(n,"a",function(){return I}),t.d(n,!1,function(){return N.a});var I=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.experience,t=e.experienceId,i=e.attributes;return f.a.createElement(C,{key:t,experience:n,experienceId:t,attributes:i},this.props.children)}}]),n}(v.Component);p()(I,"displayName","ExperienceProvider"),I.displayName="ExperienceProvider"},HA9u:function(e,n,t){"use strict";var i=t("97Jx"),a=t.n(i),r=t("VtSi"),o=t.n(r),l=t("cbiG"),c=t.n(l),s=t("T0aG"),d=t.n(s),u=t("ERkP"),m=t.n(u),k=(t("aWzz"),t("x+QU")),p=t.n(k),v=t("7yUP"),f=t("CSJ9"),g=t("Tl5U"),y=t("VrFO"),h=t.n(y),b=t("Y9Ll"),S=t.n(b),N=t("N+ot"),C=t.n(N),I=t("AuHH"),E=t.n(I),F=t("1Pcy"),w=t.n(F),L=t("5Yy7"),P=t.n(L),T=t("KEM+"),O=t.n(T),_=function(e){function n(){var e,t;h()(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=C()(this,(e=E()(n)).call.apply(e,[this].concat(a))),O()(w()(t),"_renderFuncChildrenWithLoadedData",function(e){var n=t.props,i=n.children,a=n.editorModule,r=n.SynchronyProvider,o=n.featuredMacros;return i({Editor:a.Editor,EmojiResource:a.EmojiResource,ToolbarFeedback:a.ToolbarFeedback,WithHelpTrigger:a.WithHelpTrigger,editorActions:e,SynchronyProvider:r,featuredMacros:o})}),t}return P()(n,e),S()(n,[{key:"render",value:function(){var e=this.props,n=e.children,t=e.editorModule,i=t.EditorContext,a=t.WithEditorActions;return"function"!=typeof n?null:m.a.createElement(i,null,m.a.createElement(a,{render:this._renderFuncChildrenWithLoadedData}))}}]),n}(u.PureComponent);O()(_,"displayName","EditorLoader"),_.displayName="EditorLoader";n.a=p.a.Map({loader:{editorModule:function(){var e=c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(v.d)("".concat("confluence.fabric.editor.download",".start")),e.next=3,Promise.all([t.e(27),t.e(13),t.e(2),t.e(1),t.e(0),t.e(376)]).then(t.bind(null,"POf1"));case 3:return n=e.sent,Object(v.d)("".concat("confluence.fabric.editor.download",".end")),e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),synchronyModule:function(){return Promise.all([t.e(1),t.e(0),t.e(375)]).then(t.bind(null,"/VC6"))},featuredMacros:function(){return Object(g.c)()}},loading:function(e){return d()(e.isLoading)?m.a.createElement(f.a,{size:"medium"}):null},render:function(e,n){var t=e.editorModule,i=e.synchronyModule,r=e.featuredMacros;return m.a.createElement(_,a()({},n,{editorModule:t,SynchronyProvider:i.Provider,featuredMacros:r}))}})},JIlu:function(e,n,t){"use strict";t.r(n);var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),c=t.n(l),s=t("AuHH"),d=t.n(s),u=t("5Yy7"),m=t.n(u),k=t("KEM+"),p=t.n(k),v=t("7wq/"),f=t.n(v),g=t("ERkP"),y=t.n(g),h=(t("aWzz"),t("kFJ8")),b=t("2srY"),S=t.n(b),N=t("KsTJ"),C=t("7A9o"),I=t("beEQ"),E=t("UIW9"),F=t("0Dc1"),w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentHeaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:147,source:{body:"\n  query ContentHeaderQuery($contentId: ID!) {\n    content(id: $contentId) {\n      nodes {\n        id\n        type\n        title\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},L=t("Xsc2");function P(){var e=f()(["\n  margin-left: 4px;\n"]);return P=function(){return e},e}function T(){var e=f()(["\n  background-color: #fff;\n  border-bottom: 1px solid ",";\n  height: 10px;\n"]);return T=function(){return e},e}function O(){var e=f()(["\n  flex-grow: 1;\n"]);return O=function(){return e},e}function _(){var e=f()(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  min-height: 52px;\n  padding-top: 20px;\n"]);return _=function(){return e},e}t.d(n,"ContentHeader",function(){return R});var x=N.default.div(_()),A=N.default.div(O()),D=N.default.div(T(),C.colors.N30),V=N.default.div(P());V.displayName="SpacedActionItem";var R=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.spaceKey,i=n.contentId,a=n.actionItems,r=n.systemContentMetadata,o=n.pageMetadataBanner,l=n.atlPageMetadata,c=n.pageButtons,s=n.contentTools;return y.a.createElement(g.Fragment,null,y.a.createElement(E.a,{subject:"content-header",beforeMount:!0}),y.a.createElement(h.d,{query:w,variables:{contentId:i}},function(n){var d=n.loading,u=n.error,m=n.data;if(d||u||!m)return null;var k=e.props,p=k.isSticky,v=k.className,f=S()(m,"content.nodes[0].type"),h=p?S()(m,"content.nodes[0].title"):null;return y.a.createElement(g.Fragment,null,y.a.createElement(x,{id:L.a,className:v},y.a.createElement("div",{"data-test-id":"breadcrumb"},y.a.createElement(I.a,{contentId:i,spaceKey:t,contentTitle:h})),r,o,y.a.createElement(A,null),l,c,s,a.map(function(e,n){var a={contentId:i,spaceKey:t,contentType:f};return y.a.createElement(V,{key:e.displayName||n},y.a.createElement(e,a))})),p?y.a.createElement(D,null):null,y.a.createElement(F.a,{subject:"content-header"}))}))}}]),n}(g.Component);p()(R,"defaultProps",{actionItems:[],isSticky:!1,className:"",systemContentMetadata:null,pageMetadataBanner:null,atlPageMetadata:null,pageButtons:null,contentTools:null}),R.displayName="ContentHeader"},LjTg:function(e,n,t){"use strict";var i=t("2srY"),a=t.n(i),r=(t("aWzz"),t("ERkP")),o=t.n(r),l=t("kFJ8"),c=t("hcZD"),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IsSuperAdmin"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"current"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confluence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSuperAdmin"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:145,source:{body:"\n  query IsSuperAdmin {\n    user(current: true) {\n      id\n      confluence {\n        roles {\n          isSuperAdmin\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};t.d(n,"a",function(){return d});var d=function(e){var n=e.children;return Object(c.a)()?o.a.createElement(l.d,{query:s},function(e){var t=e.loading,i=e.error,r=e.data;return n({loading:t,error:i,isSuperAdmin:Boolean(a()(r,"user.confluence.roles.isSuperAdmin"))})}):n({loading:!1,isSuperAdmin:!1})};d.displayName="AdminKeyQuery"},MatS:function(e,n,t){var i=t("sCXE"),a=t("7l8p");"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=i.locals||{},e.exports._getContent=function(){return i},e.exports._getCss=function(){return i.toString()},e.exports._insertCss=function(e){return a(i,e)}},PqXK:function(e,n,t){"use strict";var i=t("uDfI"),a=t("3kaz"),r=t("2BEd"),o=t("ddV6"),l=t.n(o),c=t("VrFO"),s=t.n(c),d=t("Y9Ll"),u=t.n(d),m=t("N+ot"),k=t.n(m),p=t("AuHH"),v=t.n(p),f=t("1Pcy"),g=t.n(f),y=t("5Yy7"),h=t.n(y),b=t("KEM+"),S=t.n(b),N=t("aWzz"),C=t.n(N),I=t("ERkP"),E=t.n(I),F=t("M2LZ"),w=t("L21V"),L=t("/FQd"),P=t("+CY+"),T=function(e){function n(){var e,i;s()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return i=k()(this,(e=v()(n)).call.apply(e,[this].concat(r))),S()(g()(i),"state",{isReady:!1}),S()(g()(i),"_loadInlineCommentResource",function(){var e=i.props.intl;F.a.require(["wr!com.atlassian.confluence.plugins.confluence-highlight-actions:highlighting-experiment-resources","wr!confluence.extra.jira:web-resources"],function(){var n=Promise.all([t.e(0),t.e(357)]).then(t.t.bind(null,"xL3T",7)),a=Promise.all([t.e(1),t.e(0),t.e(356)]).then(t.bind(null,"i8tr"));Promise.all([a,n]).then(function(n){var t=l()(n,2),a=t[0],r=t[1];i.removeCss=i.context.insertCss.apply(void 0,[r]),a.default(e.formatMessage),i.setState({isReady:!0})})})}),i}return h()(n,e),u()(n,[{key:"componentDidMount",value:function(){this.props.isSuperbatchLoaded&&this._loadInlineCommentResource()}},{key:"componentWillUnmount",value:function(){this.removeCss&&this.removeCss()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var n=e.isSuperbatchLoaded;this.props.isSuperbatchLoaded!==n&&n&&this._loadInlineCommentResource()}},{key:"_sendClickForNextComment",value:function(){document.querySelector(".ic-sidebar #ic-nav-next").click()}},{key:"_sendClickForPreviousComment",value:function(){document.querySelector(".ic-sidebar #ic-nav-previous").click()}},{key:"_sendClickToHideComments",value:function(){document.querySelector(".ic-sidebar .ic-action-hide").click()}},{key:"render",value:function(){var e=this,n=this.props,t=n.isFabricEditorEnabled,i=n.contentId,a=n.isEditorResourceLoaded,r=n.spaceId,o=this.state.isReady;return E.a.createElement(L.a,null,function(n){var l=n.featureFlags;return E.a.createElement(I.Fragment,null,E.a.createElement(P.a,{accelerator:"n",listener:e._sendClickForNextComment}),E.a.createElement(P.a,{accelerator:"p",listener:e._sendClickForPreviousComment}),E.a.createElement(P.a,{accelerator:"]",listener:e._sendClickToHideComments}),E.a.createElement("div",{className:"view-page-body","data-content-id":i,"data-space-id":r,"data-should-squeeze":!t,"data-unified-profile-cards":!0,"data-page-content-css-selector":t?"[data-test-id=page-content-only]":"","data-page-header-css-selector":t?"[data-test-id=page-content-header]":"","data-editor-resource-loaded":a,"data-gdpr-inline-comments":!0===l["confluence.frontend.gdpr.inline.comments.user.profile"]?"true":"false","data-test-id":o?"inline-comments-ready":void 0}))})}}]),n}(I.PureComponent);S()(T,"contextTypes",{insertCss:C.a.func.isRequired}),T.displayName="InlineCommentsComponent";var O=Object(w.g)(T);n.a=Object(i.connect)(function(e){var n=e.views.viewPage.quickEditPreload.get("hasLoaded"),t=e.router.params.spaceKey,i=Object(a.e)(e,t),o=i?i.id:null;return{isEditorResourceLoaded:n,isSuperbatchLoaded:Object(r.a)(e),spaceId:o}},null)(O)},RBrO:function(e,n,t){"use strict";var i=t("ERkP"),a=t.n(i);n.a=function(){return a.a.createElement("div",{style:{minHeight:71}})}},RZKf:function(e,n,t){"use strict";var i=t("x+QU"),a=t.n(i);n.a=a()({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(373)]).then(t.bind(null,"ktcL"))},loading:function(){return null}})},SMqo:function(e,n,t){"use strict";var i=t("ROYt"),a=t("yS9+"),r=t("Ci1e"),o=t("mWX1"),l={users:new r.schema.Array(o.user),lastPersonUpdatePage:o.user},c=t("kWGc");t.d(n,"b",function(){return s}),t.d(n,"c",function(){return d}),t.d(n,"a",function(){return u}),t.d(n,"e",function(){return m}),t.d(n,"d",function(){return k});var s=Object(a.b)(c.f),d=Object(a.b)(c.b),u=Object(a.c)(c.a,i.a.content.quickReload,{schema:l}),m=Object(a.b)(c.d),k=Object(a.b)(c.c)},UIW9:function(e,n,t){"use strict";t.d(n,"a",function(){return g});var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),c=t.n(l),s=t("AuHH"),d=t.n(s),u=t("5Yy7"),m=t.n(u),k=t("KEM+"),p=t.n(k),v=t("ERkP"),f=(t("aWzz"),t("liLY")),g=function(e){function n(e){var t;return a()(this,n),t=c()(this,d()(n).call(this,e)),e.markBeforeMount&&t.markStart(),t}return m()(n,e),o()(n,[{key:"componentDidMount",value:function(){this.props.markBeforeMount||this.markStart()}},{key:"markStart",value:function(){var e=this.props,n=e.subject,t=e.subjectId,i="".concat(n,".").concat(t,".start"),a="".concat(n,".").concat(t,".end");Object(f.a)([i,a]),Object(f.b)(i)}},{key:"render",value:function(){return null}}]),n}(v.Component);p()(g,"defaultProps",{subjectId:"",markBeforeMount:!1}),g.displayName="PerformanceStart"},WlwD:function(e,n,t){"use strict";var i=t("GuU3"),a=t.n(i),r=t("LnsA"),o=t("VrFO"),l=t.n(o),c=t("Y9Ll"),s=t.n(c),d=t("KEM+"),u=t.n(d),m=t("/FQd"),k=t("Z49i"),p=function(){function e(n,t,i){var a=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l()(this,e),u()(this,"initialize",function(){return new Promise(function(e){a._initialized?e(!1):a._storageManager.ready().then(function(){Object(m.b)(Object(k.a)()).then(function(n){a._namespace="".concat(a._prefix,".").concat(n.userId,".").concat(a._id),a._initialized=!0,e(a._initialized)})}).catch(function(e){console.log(e)})})}),u()(this,"getItem",function(e){return a.initialize().then(function(){var n;return a._storageManager.getItem("".concat(a._namespace,".").concat(e)).then(function(t){return(n=a._prefixMatch.exec(t))&&(t=t.replace(n[0],""),+new Date>n[0].replace("#",""))?a._storageManager.removeItem("".concat(a._namespace,".").concat(e)).then(function(){return null}):t})})}),u()(this,"getAndRemoveItem",function(e){return a.getItem(e).then(function(n){return a.removeItem(e).then(function(){return n})})}),u()(this,"getAllItems",function(){return a.initialize().then(function(){var e={};return a._storageManager.iterate(function(n,t){if(t.indexOf("".concat(a._namespace,"."))>-1){var i=t.split("".concat(a._namespace,"."))[1];e[i]=n}}).then(function(){return e})})}),u()(this,"doesContain",function(e){return a.initialize().then(function(){return a.getItem(e).then(function(e){return!!e})})}),u()(this,"getItemAsBoolean",function(e){return a.initialize().then(function(){return a.getItem(e).then(function(e){return"false"!==e&&("true"===e||!!e)})})}),u()(this,"setItem",function(e,n,t){return a.initialize().then(function(){return n="".concat(a._getPrefix(t)).concat(n),a._storageManager.setItem("".concat(a._namespace,".").concat(e),n).then(function(){return n})})}),u()(this,"setItemQuietly",function(e,n,t){try{return a.setItem(e,n,t)}catch(t){console.log("Unable to write to this._storageManager. key: ".concat(e,", value: ").concat(n,", cause: ").concat(t))}}),u()(this,"removeItem",function(e){return a.initialize().then(function(){return a._storageManager.removeItem("".concat(a._namespace,".").concat(e))})}),this._storageManager=n,this._prefix=t,this._id=i,this._delimiter="#",this._prefixMatch=/\d+#/,this._namespace=r?"".concat(t,".").concat(r,".").concat(i):null,this._initialized=!!this._namespace}return s()(e,[{key:"_getPrefix",value:function(e){var n=1e3*(e||0);return n?+new Date+n+this._delimiter:""}}]),e}();t.d(n,"a",function(){return f});var v=a.a.createInstance({name:"sessionStorage"});v.defineDriver(r),v.setDriver(r._driver);var f=new p(a.a.createInstance({name:"localStorage",driver:a.a.LOCALSTORAGE}),"atlassian","frontend");new p(v,"atlassian","frontend")},Xsc2:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i="content-header-container"},YBtN:function(e,n,t){"use strict";t("aWzz");var i=t("ERkP"),a=t.n(i),r=t("kFJ8"),o=t("L+/v"),l=t("2srY"),c=t.n(l),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentScreenQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"space"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lookAndFeel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"screen"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"background"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundSize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundRepeat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundOrigin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundClip"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundBlendMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"background"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundSize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundRepeat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundOrigin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundClip"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundBlendMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gutterTop"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gutterRight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gutterBottom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gutterLeft"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:982,source:{body:"\n  query ContentScreenQuery($spaceKey: String!) {\n    space(key: $spaceKey) {\n      id\n      theme {\n        name\n      }\n      lookAndFeel {\n        content {\n          screen {\n            background\n            backgroundColor\n            backgroundImage\n            backgroundPosition\n            backgroundSize\n            backgroundRepeat\n            backgroundOrigin\n            backgroundClip\n            backgroundAttachment\n            backgroundBlendMode\n            layer {\n              background\n              backgroundColor\n              backgroundImage\n              backgroundPosition\n              backgroundSize\n              backgroundRepeat\n              backgroundOrigin\n              backgroundClip\n              backgroundAttachment\n              backgroundBlendMode\n              width\n              height\n            }\n            gutterTop\n            gutterRight\n            gutterBottom\n            gutterLeft\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},d=t("tQaH"),u=t.n(d),m=t("VrFO"),k=t.n(m),p=t("Y9Ll"),v=t.n(p),f=t("N+ot"),g=t.n(f),y=t("AuHH"),h=t.n(y),b=t("5Yy7"),S=t.n(b),N=t("KEM+"),C=t.n(N),I=t("7wq/"),E=t.n(I),F=t("KsTJ"),w=t("lZoD"),L=t("cMUv"),P=t("ak4O");function T(){var e=E()(["\n  position: relative;\n"]);return T=function(){return e},e}function O(){var e=E()(["\n  overflow: hidden;\n"]);return O=function(){return e},e}var _={position:"relative",background:"#fff",paddingTop:"0",paddingRight:"40px",paddingBottom:"20px",paddingLeft:"40px",minHeight:"100vh",boxSizing:"border-box"},x={position:"fixed",width:"100%",height:"100%",top:"0",display:"none",bottom:"0",left:"0",right:"0",zIndex:"10",background:"rgba(0,0,0,0.5)"},A=F.default.div(O()),D=F.default.div(T()),V=function(e){function n(){return k()(this,n),g()(this,h()(n).apply(this,arguments))}return S()(n,e),v()(n,[{key:"getScreenStyles",value:function(){var e=this.props.lookAndFeel,t=n.getCustomScreenStyles(e),i=_,a=this.getLoadingStyles();return u()({},i,t,a)}},{key:"getLoadingStyles",value:function(){return this.props.isLoading?x:{}}},{key:"adjustMinHeight",value:function(e,n){var t=u()({},e);return"100vh"===t.minHeight&&n>0&&(t.minHeight="calc(".concat(t.minHeight," - ").concat(n,"px)")),t}},{key:"renderContentScreen",value:function(e){var n=this.props,t=n.lookAndFeel,r=n.children,o=n.isThemed,l=n.isLoading;return e?a.a.createElement(i.Fragment,null,a.a.createElement(P.a,{lookAndFeel:t}),a.a.createElement(D,null,a.a.createElement(A,null),"function"==typeof r?r({isThemed:o,isLoading:l}):r)):a.a.createElement(i.Fragment,null,"function"==typeof r?r({isThemed:o,isLoading:l}):r)}},{key:"render",value:function(){var e=this,n=this.props,t=n.isContentView,i=n.isThemed||t,r=i?this.getScreenStyles():this.getLoadingStyles();return a.a.createElement(w.c,{to:[L.a]},function(n){var t=n.getTotalHeight(),o=e.adjustMinHeight(r,t);return a.a.createElement("div",{style:o},e.renderContentScreen(i))})}}],[{key:"convertGutters",value:function(e){return"none"===e.gutterLeft&&(e.paddingLeft="0"),"none"===e.gutterRight&&(e.paddingRight="0"),"0px"===e.gutterTop&&(e.paddingTop="0"),"0px"===e.gutterBottom&&(e.paddingBottom="0"),e}},{key:"getCustomScreenStyles",value:function(e){if(!e||!e.content)return{};var t=n.convertGutters(u()({},e.content.screen));return delete t.layer,t}}]),n}(i.Component);C()(V,"defaultProps",{lookAndFeel:{content:{screen:_}}}),V.displayName="ContentScreenComponent",t.d(n,"a",function(){return R});var R=function(e){var n=e.spaceKey,t=e.children,i=e.isContentView;return a.a.createElement(o.a,null,a.a.createElement(r.d,{query:s,variables:{spaceKey:n}},function(e){var n=e.data,r=e.loading,o=Boolean(c()(n,"space.theme")),l=c()(n,"space.lookAndFeel")||{};return a.a.createElement(V,{isThemed:o,isLoading:r,lookAndFeel:l,isContentView:i},t)}))};R.displayName="ContentScreen"},YtiW:function(e,n,t){"use strict";t("aWzz");var i=t("ERkP"),a=t.n(i),r=t("kFJ8"),o=t("L+/v"),l=t("2srY"),c=t.n(l),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentContainerQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"space"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lookAndFeel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"screen"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"background"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundSize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundRepeat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundOrigin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundClip"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundBlendMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"layer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"background"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundSize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundRepeat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundOrigin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundClip"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundBlendMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gutterTop"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gutterRight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gutterBottom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gutterLeft"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"container"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"background"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundSize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundRepeat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundOrigin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundClip"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundBlendMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"padding"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"borderRadius"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:1351,source:{body:"\n  query ContentContainerQuery($spaceKey: String!) {\n    space(key: $spaceKey) {\n      id\n      theme {\n        name\n      }\n      lookAndFeel {\n        content {\n          screen {\n            background\n            backgroundColor\n            backgroundImage\n            backgroundPosition\n            backgroundSize\n            backgroundRepeat\n            backgroundOrigin\n            backgroundClip\n            backgroundAttachment\n            backgroundBlendMode\n            layer {\n              background\n              backgroundColor\n              backgroundImage\n              backgroundPosition\n              backgroundSize\n              backgroundRepeat\n              backgroundOrigin\n              backgroundClip\n              backgroundAttachment\n              backgroundBlendMode\n              width\n              height\n            }\n            gutterTop\n            gutterRight\n            gutterBottom\n            gutterLeft\n          }\n          container {\n            background\n            backgroundColor\n            backgroundImage\n            backgroundPosition\n            backgroundSize\n            backgroundRepeat\n            backgroundOrigin\n            backgroundClip\n            backgroundAttachment\n            backgroundBlendMode\n            padding\n            borderRadius\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},d=t("tQaH"),u=t.n(d),m=t("VrFO"),k=t.n(m),p=t("Y9Ll"),v=t.n(p),f=t("N+ot"),g=t.n(f),y=t("AuHH"),h=t.n(y),b=t("5Yy7"),S=t.n(b),N=t("KEM+"),C=t.n(N),I={backgroundColor:"#fff"},E={position:"fixed",width:"100%",height:"100%",top:"0",display:"none",bottom:"0",left:"0",right:"0",zIndex:"10",background:"rgba(0,0,0,0.5)"},F=function(e){switch(e){case"small":case"medium":case"large":case"default":return null;default:return e}},w=function(e){switch(e){case"small":return 5;case"medium":return 10;case"large":return 15;case"default":return null;case"none":default:return 0}},L=function(e){function n(){return k()(this,n),g()(this,h()(n).apply(this,arguments))}return S()(n,e),v()(n,[{key:"getLoadingStyles",value:function(){return this.props.isLoading?E:{}}},{key:"render",value:function(){var e=this.props,t=e.lookAndFeel,i=e.isThemed,r=e.isContentView,o=i||r,l=o?n._getContainerStyles(t):this.getLoadingStyles(),c=o?n._getInlineCommentStyles(t):null;return a.a.createElement("div",{className:this.props.className,style:l},c,this.props.children)}}],[{key:"_getContainerStyles",value:function(e){if(!e.content)return I;var n=e.content,t=n.screen,i=n.container,a=u()({},I,i),r=t.gutterTop,o=t.gutterBottom;r&&(a.marginTop=F(t.gutterTop)),o&&(a.marginBottom=F(t.gutterBottom));var l=w(t.gutterRight),c=w(t.gutterLeft);return null!==l&&(a.marginRight="".concat(l,"%")),null!==c&&(a.marginLeft="".concat(c,"%")),a.width="".concat(100-l-c,"%"),a.boxSizing="border-box",a}},{key:"_getInlineCommentStyles",value:function(e){if(!e.content)return null;var n=e.content.screen;return 0===w((void 0===n?{}:n).gutterRight)?a.a.createElement("style",null,".ic-sidebar.ic-is-spa-view-page { margin-right: 0 !important; }"):null}}]),n}(i.Component);C()(L,"defaultProps",{isContentView:!1,lookAndFeel:{content:{screen:I}}}),L.displayName="ContentContainerComponent",t.d(n,"a",function(){return P});var P=function(e){var n,t=e.isThemed,i=e.children,l=e.isContentView,d=e.spaceKey;return n=void 0!==t&&!t,a.a.createElement(o.a,null,a.a.createElement(r.d,{query:s,variables:{spaceKey:d},skip:n},function(e){var n=e.data,t=e.loading,r=e.error;if(r)throw r;var o=Boolean(c()(n,"space.theme")),s=c()(n,"space.lookAndFeel")||{};return a.a.createElement(L,{isThemed:o,lookAndFeel:s,isContentView:l,isLoading:t},i)}))};P.displayName="ContentContainer"},Z1eS:function(e,n,t){(n=e.exports=t("RDo7")(!1)).push([e.i,".ViewPage_likesAndLabelsContainer_nyS{overflow:hidden;margin:20px 0;clear:both}.ViewPage_likesAndLabelsContainer_nyS .ViewPage_labelsSection_3nD{width:50%;float:right;display:inline-block}.ViewPage_webPanelLocationContainer_2ph{width:50%;display:inline-block;font-size:13px}.ViewPage_customSettings_2Q_{text-align:center}",""]),n.locals={likesAndLabelsContainer:"ViewPage_likesAndLabelsContainer_nyS",labelsSection:"ViewPage_labelsSection_3nD",webPanelLocationContainer:"ViewPage_webPanelLocationContainer_2ph",customSettings:"ViewPage_customSettings_2Q_"}},aY6N:function(e,n,t){"use strict";t.r(n);var i=t("uDfI"),a=t("97Jx"),r=t.n(a),o=t("VrFO"),l=t.n(o),c=t("Y9Ll"),s=t.n(c),d=t("N+ot"),u=t.n(d),m=t("AuHH"),k=t.n(m),p=t("5Yy7"),v=t.n(p),f=t("aWzz"),g=t.n(f),y=t("kD2R"),h=t("ERkP"),b=t.n(h),S=t("/FQd"),N=t("Bud6"),C=t("VKZT"),I=t("kR5U"),E=t("f6W2"),F=t("2wFc"),w=t("bQlP"),L=t("W/Mg"),P=t("SMqo"),T=t("Jn8G"),O=t("rZXo"),_=t("TSlp"),x=t("+Prw"),A=t("1Pcy"),D=t.n(A),V=t("KEM+"),R=t.n(V),j=t("2srY"),U=t.n(j),H=t("kFJ8"),M=t("PTiB"),B=t("tlRP"),q=t("WlwD"),z=t("tqyq"),K=t("LjTg"),Q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentAccessQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119,source:{body:"\n  query ContentAccessQuery($contentId: ID) {\n    content(id: $contentId) {\n      nodes {\n        id\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},W=t("MwrP"),Y=t.n(W),$=t("nnRT"),G=t.n($),J=t("L21V"),Z=t("3ac5"),X=t("IGvV"),ee=t("7yUP"),ne=t("r9hL"),te=t("x+QU"),ie=t.n(te),ae=ie()({loader:function(){return t.e(335).then(t.bind(null,"fNih")).then(function(e){return e.ContentTitle})},loading:function(){return null}});ae.displayName="ContentTitle";var re=t("YtiW"),oe=t("YBtN"),le=t("OlTx"),ce=t("GYRL"),se=t("Zpwg"),de=t("co8b"),ue=Object(de.a)({loader:function(){return t.e(347).then(t.bind(null,"6Ziv"))},loading:function(){return null}});ue.displayName="SpaceCustomSettingsBlockLoader";var me=ue,ke=Object(de.a)({loader:function(){return t.e(346).then(t.bind(null,"RfA0"))},loading:function(){return null}});ke.displayName="EditorFlagsLoader";var pe=ke,ve=Object(de.a)({loader:function(){return Promise.all([t.e(0),t.e(11),t.e(345)]).then(t.bind(null,"Cy2Q"))},loading:function(){return null}});ve.displayName="EditorLoaderLoader";var fe=ve,ge=Object(de.a)({loader:function(){return Promise.all([t.e(0),t.e(344)]).then(t.bind(null,"CzLb"))},loading:function(){return null}});ge.displayName="QuickReloadLoader";var ye=ge,he=t("dvdB"),be=Object(de.a)({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(4),t.e(5),t.e(343)]).then(t.bind(null,"eGiq")).then(function(e){return e.ByLine})},loading:he.a});be.displayName="ByLineLoader";var Se=Object(de.a)({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(25),t.e(342)]).then(t.bind(null,"Zwax"))},loading:function(){return null}});Se.displayName="LabelsLoader";var Ne=Se,Ce=t("s6Th"),Ie=Object(de.a)({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(4),t.e(5),t.e(341)]).then(t.bind(null,"k1KV"))},loading:Ce.a});Ie.displayName="ViewPageHeaderLoader";var Ee=Ie,Fe=t("RBrO"),we=Object(de.a)({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(4),t.e(5),t.e(340)]).then(t.bind(null,"vYKU"))},loading:Fe.a});we.displayName="ViewPageHeaderAdapterLoader";var Le=t("Jygk"),Pe=t.n(Le),Te=t("bfgX"),Oe=t("qSVF"),_e=t("k8+f"),xe=t("Xzcx"),Ae=["confluence-watch","jira-metadata-dialog","shareInvitePopup"],De=function(e){function n(){var e,t;l()(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=u()(this,(e=k()(n)).call.apply(e,[this].concat(a))),R()(D()(t),"handleStickyStateChange",function(e){var n=e.stuckState,i=e.headerHeight;"top"===n?t.notifyStickyTable(i):t.notifyStickyTable(0)}),R()(D()(t),"handleCloseOpenDialogAndMenu",function(){Object(_e.a)({listener:"StickyViewPageHeaderComponent.js",globalProperty:"AJS.InlineDialog"},function(){Pe.a.AJS.$("#action-menu-link.active").trigger("click");var e=Pe.a.AJS.InlineDialog.current;e&&-1!==Ae.indexOf(e.id)&&(Object(xe.b)().blur(),e.popup[0].style.display="none",e.hide())})}),t}return v()(n,e),s()(n,[{key:"notifyStickyTable",value:function(e){Object(Te.b)("sticky-table-headers.change.options",{fixedOffset:e,cacheHeaderHeight:!0})}},{key:"render",value:function(){return b.a.createElement(Oe.b,{onStickyStateChange:this.handleStickyStateChange,closeOpenDialogAndMenu:this.handleCloseOpenDialogAndMenu},this.props.children)}}]),n}(h.PureComponent);De.displayName="StickyHeaderAdapter";var Ve=ie()({loader:function(){return t.e(338).then(t.bind(null,"1aTR"))},loading:function(){return null}});Ve.displayName="HighlightActionsLoader";var Re=Ve,je=Object(de.a)({loader:function(){return Promise.all([t.e(0),t.e(337)]).then(t.bind(null,"+Wce"))},loading:function(){return null}}),Ue=Object(de.a)({loader:function(){return Promise.all([t.e(0),t.e(337)]).then(t.bind(null,"RHpf"))},loading:function(){return null}}),He=function(e){var n=r()({},e);return b.a.createElement(S.a,null,function(e){return e.featureFlags["confluence.frontend.fabric.page.comment"]?b.a.createElement(je,n):b.a.createElement(Ue,n)})};He.displayName="CommentsSectionLoader",He.displayName="CommentsSectionLoader";var Me,Be,qe,ze=He,Ke=t("EovW"),Qe=t("RAw0"),We=t("RNvQ"),Ye=t.n(We),$e=t("O94r"),Ge=t.n($e),Je=t("jqY8"),Ze=t("MatS"),Xe=t.n(Ze),en=["confluence-watch","jira-metadata-dialog","shareInvitePopup"],nn=50,tn=Object(X.a)(Xe.a)((qe=Be=function(e){function n(){var e,t;l()(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=u()(this,(e=k()(n)).call.apply(e,[this].concat(a))),R()(D()(t),"state",{stuckState:null}),R()(D()(t),"lastDownwardTop",0),R()(D()(t),"lastTop",0),R()(D()(t),"stickTimeout",null),R()(D()(t),"notifyTableTimeout",null),R()(D()(t),"stick",Ye()(function(e){var n=t.container;if(n&&n.querySelector("header")){var i=e&&"scroll"===e.type,a=n.getBoundingClientRect(),r=a.top,o=t.lastTop>=r;i&&(t.lastTop=r,o&&(t.lastDownwardTop=r));var l=t.state.stuckState;r<0?(t._closeOpenDialogAndMenu(),i&&o&&"top"===l?l="hidden":i&&!o&&Math.abs(r-t.lastDownwardTop)>=nn&&(l="top")):l=null,t._isMounted&&t.setState({width:a.width,stuckState:l},t._notifyStickyTable)}else t._isMounted&&t.setState({stuckState:null},t._notifyStickyTable)},50)),R()(D()(t),"_assignContainer",function(e){t.container=e}),t}return v()(n,e),s()(n,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._getHeaderComponent()&&(Object(Je.a)("scroll",this.stick),Object(Je.a)("resize",this.stick),this.stick())}},{key:"componentDidUpdate",value:function(){this.stick()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Object(Je.l)("scroll",this.stick),Object(Je.l)("resize",this.stick),window.clearTimeout(this.stickTimeout),window.clearTimeout(this.notifyTableTimeout)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.isSidebarCollapsed!==e.isSidebarCollapsed&&(window.clearTimeout(this.stickTimeout),this.stickTimeout=window.setTimeout(this.stick,150))}},{key:"_getHeaderComponent",value:function(){var e=this.props.children;return e&&b.a.Children.only(e)?e:null}},{key:"_notifyStickyTable",value:function(){var e=this;"top"===this.state.stuckState?(window.clearTimeout(this.notifyTableTimeout),this.notifyTableTimeout=window.setTimeout(function(){var n=e.container&&e.container.querySelector("header");n&&"top"===e.state.stuckState?Object(Te.b)("sticky-table-headers.change.options",{fixedOffset:n.getBoundingClientRect().height,cacheHeaderHeight:!0}):Object(Te.b)("sticky-table-headers.change.options",{fixedOffset:0,cacheHeaderHeight:!0})},250)):Object(Te.b)("sticky-table-headers.change.options",{fixedOffset:0,cacheHeaderHeight:!0})}},{key:"_closeOpenDialogAndMenu",value:function(){Object(_e.a)({listener:"StickyViewPageHeaderComponent.js",globalProperty:"AJS.InlineDialog"},function(){window.AJS.$("#action-menu-link.active").trigger("click");var e=window.AJS.InlineDialog.current;e&&-1!==en.indexOf(e.id)&&(Object(xe.b)().blur(),e.popup[0].style.display="none",e.hide())})}},{key:"render",value:function(){var e=this._getHeaderComponent(),n=this.state,t=n.stuckState,i=n.width,a=e;if(e&&t){var r,o={className:Ge()(Xe.a.stickToTop,e.props.className,"sticky-header",(r={},R()(r,Xe.a.disappearAnimation,"hidden"===t),R()(r,Xe.a.appearAnimation,"top"===t),r)),style:{width:i||"auto"},isSticky:!0};a=Object(h.cloneElement)(e,o)}return b.a.createElement("div",{ref:this._assignContainer,className:Xe.a.stickyViewPageHeader,style:this.props.style},a)}}]),n}(h.PureComponent),R()(Be,"defaultProps",{style:{}}),Me=qe))||Me,an=Object(i.connect)(function(e){return{isSidebarCollapsed:Object(Qe.c)(e),sidebarWidth:Object(Qe.b)(e)}},function(){return{}})(tn),rn=t("PqXK"),on=t("z/oC"),ln=t("1vxf"),cn=t("UrEW"),sn=t("tsjR"),dn=t("JaTE"),un=function(e){function n(){return l()(this,n),u()(this,k()(n).apply(this,arguments))}return v()(n,e),s()(n,[{key:"render",value:function(){var e=this.props,n=e.webPanels,t=e.style,i=e.children;return n&&n.length?b.a.createElement("div",{style:t},n.map(function(e){return i({panel:e})})):null}}]),n}(h.PureComponent);R()(un,"defaultProps",{tagName:"div",style:{},children:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).panel;return b.a.createElement(dn.a,{key:e.completeKey,html:e.html})}}),un.displayName="WebPanelSupportLikesLocationComponent";var mn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WebPanelSupportLikesLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"location"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"webPanels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"location"},value:{kind:"Variable",name:{kind:"Name",value:"location"}}},{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moduleKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"completeKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"html"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:290,source:{body:"\n  query WebPanelSupportLikesLocation(\n    $location: String\n    $contentId: ID\n    $spaceKey: String\n  ) {\n    webPanels(location: $location, contentId: $contentId, key: $spaceKey) {\n      moduleKey\n      completeKey\n      html\n      location\n      label\n      weight\n      name\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},kn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WebPanelSupportLikesLocationSpace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"space"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepageId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129,source:{body:"\n  query WebPanelSupportLikesLocationSpace($spaceKey: String!) {\n    space(key: $spaceKey) {\n      id\n      homepageId\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},pn=function(e){function n(){return l()(this,n),u()(this,k()(n).apply(this,arguments))}return v()(n,e),s()(n,[{key:"render",value:function(){var e=this.props,n=e.spaceKey,t=e.contentId,i=e.metaSpaceKey,a=e.location,r=e.style,o=e.children;return b.a.createElement(H.d,{query:kn,variables:{spaceKey:n},skip:t},function(e){var l=e.data,c=e.loading,s=e.error;if(!t&&s)return null;if(!t&&c)return null;var d=l&&l.space,u=t||d&&d.homepageId?{contentId:t||d&&d.homepageId,location:a}:{spaceKey:n||i,location:a};return b.a.createElement(H.d,{query:mn,variables:u},function(e){var n=e.data,t=e.loading;if(e.error)return null;if(t)return null;var i=n&&n.webPanels;return b.a.createElement(un,{webPanels:i,style:r},o)})})}}]),n}(h.Component);pn.displayName="WebPanelSupportLikesLocation";var vn=Object(i.connect)(function(e,n){var t=Object(E.c)(e),i=Object(E.b)(e);return{contentId:n.contentId||t&&t.contentId||i&&i.pageId,spaceKey:n.spaceKey||t&&t.spaceKey||i&&i.spaceKey,metaSpaceKey:e&&e.meta&&e.meta.get("space-key")}},function(){return{}})(pn),fn=Object(de.a)({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(336)]).then(t.bind(null,"Udiv"))},loading:function(){return null}}),gn=t("pkRm"),yn=t("4Eyj"),hn=t("d3tz"),bn=t("6lDt"),Sn=t("RhWx"),Nn=t.n(Sn),Cn=t("fLXQ"),In=t("HbzK"),En=new(function(){function e(n,t){l()(this,e);var i=In.a.get("atlassian-account-id")||"anonymous";this._namespace="sessionStorage/".concat(n,".").concat(i,".").concat(t),this._sessionStorageSupported=!!Pe.a.sessionStorage}return s()(e,[{key:"getItem",value:function(e){if(!this._sessionStorageSupported)return null;var n=Pe.a.sessionStorage.getItem("".concat(this._namespace,".").concat(e));return n&&n.indexOf('"')>-1&&(n=JSON.parse(n)),n}},{key:"doesContain",value:function(e){return!!this.getItem(e)}},{key:"setItem",value:function(e,n){if(this._sessionStorageSupported)try{Pe.a.sessionStorage.setItem("".concat(this._namespace,".").concat(e),n)}catch(t){console.error("Unable to write to sessionStorage. key: ".concat(e,", value: ").concat(n,", cause: ").concat(t))}}},{key:"removeItem",value:function(e){this._sessionStorageSupported&&Pe.a.sessionStorage.removeItem("".concat(this._namespace,".").concat(e))}}]),e}())("atlassian","frontend"),Fn=function(e){var n=function(e){var n=[];return Nn()(e).forEach(function(e,t){Object(Cn.g)(e)&&n.push({targetElementIndex:t,visibleBlockEl:e})}),n}(e),t=null;return n.some(function(e){return!!Object(Cn.h)(e.visibleBlockEl)&&(t=e,!0)}),!t&&n.length>0?n[0]:t||{targetElementIndex:-1,visibleBlockEl:null}},wn=function(e){var n={targetElementIndexInColumn:-1,columnIndex:-1,visibleBlockEl:null};return Nn()(e).some(function(e,t){var i=Fn(e.children),a=i.visibleBlockEl,r=i.targetElementIndex;return!!a&&(n.columnIndex=t,n.targetElementIndexInColumn=r,n.visibleBlockEl=a,!0)}),n},Ln=function(e){if(!e)return!1;var n=e.children[0];return n&&n.classList.contains("contentLayout2")};var Pn=function(e){var n=e.contentId,t=e.isInViewPage,i=e.docObject,a=void 0===i?Pe.a.document:i,r=e.winObject,o=void 0===r?Pe.a:r,l=function(e,n){if(!e||0===n)return null;var t={targetElementIndex:-1,offsetBetweenTargetAndCurrentScroll:0,columnLayoutPosition:{columnIndex:-1,rowIndex:-1}};if(Ln(e)){var i=e.children[0].children,a=Fn(i),r=a.targetElementIndex,o=a.visibleBlockEl;if(o){var l=o.getElementsByClassName("innerCell"),c=wn(l),s=c.columnIndex,d=c.targetElementIndexInColumn,u=c.visibleBlockEl;u&&(t.targetElementIndex=d,t.offsetBetweenTargetAndCurrentScroll=n-Object(Cn.e)(u),t.columnLayoutPosition={rowIndex:r,columnIndex:s})}}else{var m=Fn(e.children),k=m.targetElementIndex,p=m.visibleBlockEl;p&&(t.targetElementIndex=k,t.offsetBetweenTargetAndCurrentScroll=n-Object(Cn.e)(p),delete t.columnLayoutPosition)}return-1!==t.targetElementIndex?t:null}(t?a.getElementById("main-content"):a.body,o.pageYOffset);l&&(l.contentId=n,l.isInViewPage=t,En.setItem("editor-persit-scroll-position",JSON.stringify(l)))},Tn=t("kEC2"),On=t("tQaH"),_n=t.n(On),xn=t("EfWO"),An=t.n(xn),Dn=t("uZih"),Vn=t.n(Dn),Rn=t("R7V3"),jn=t.n(Rn),Un=t("QYv2"),Hn=function(e){function n(){return l()(this,n),u()(this,k()(n).apply(this,arguments))}return v()(n,e),s()(n,[{key:"componentDidMount",value:function(){this.performRedirectsIfRequired()}},{key:"componentDidUpdate",value:function(){this.performRedirectsIfRequired()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._performNavigateToEditPageIfRequired(e)}},{key:"_shouldRedirectToLoginPage",value:function(e){return Boolean(e.isAnonymous&&e.isUnauthorized)}},{key:"_shouldRedirectFromSpaceHomePage",value:function(e){return Boolean(!jn()(e.space)&&e.contentId==="".concat(e.space.homepageId))}},{key:"_shouldRedirectFromSlug",value:function(e){var n=e.contentId,t=e.content,i=e.isEditPageRoute;return Boolean(!n&&t&&t.id&&!i)}},{key:"_shouldRedirectFromId",value:function(e){var n=e.content,t=e.year,i=e.routerParams,a=e.requiresRedirectFromId,r=e.isEditPageRoute,o=i?i.contentSlug:null,l=Boolean(t);return!r&&(!(!n||!a)||(!(o||!n||!n.slug)||(!(!n||"blogpost"!==n.type||l)||(!(!n||"page"!==n.type||!l)||!!(o&&n&&n.slug&&decodeURIComponent(n.slug)!==decodeURIComponent(o))))))}},{key:"_shouldRedirectIncorrectSpaceKey",value:function(e){var n=e.routerParams,t=e.content;return Boolean(t&&!jn()(t)&&n.spaceKey!==t.spaceKey)}},{key:"_performNavigateToEditPageIfRequired",value:function(e){var n=this.props,t=n.push,i=n.spaceKey,a=n.content,r=n.contentId,o=n.shouldNavigateToEditPage,l=n.hideEditor;e.shouldNavigateToEditPage&&e.shouldNavigateToEditPage!==o&&(Pn({contentId:r,isInViewPage:!0}),l(),t(Object(F.m)(i,a.type,r)))}},{key:"performRedirectsIfRequired",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=e.contentId,t=e.content,i=e.space,a=e.year,r=e.routerParams,o=e.requiresRedirectFromId,l=e.isAnonymous,c=e.isEditPageRoute,s=e.isUnauthorized;this._shouldRedirectToLoginPage({isAnonymous:l,isUnauthorized:s})?Object(Un.a)(e):this._shouldRedirectFromSpaceHomePage({space:i,contentId:n})?this.redirectToSpaceHomeOverviewTab(e):this._shouldRedirectFromSlug({contentId:n,content:t,isEditPageRoute:c})||this._shouldRedirectFromId({content:t,year:a,routerParams:r,requiresRedirectFromId:o,isEditPageRoute:c})?this.redirectToFinalViewPageRoute(e):this._shouldRedirectIncorrectSpaceKey({routerParams:r,content:t})&&this.redirectToFinalViewPageRoute(e,e.content.spaceKey||"")}},{key:"redirectToFinalViewPageRoute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1?arguments[1]:void 0,t=e.content;if(void 0===n&&(n=e.spaceKey),t&&n&&t.id&&t.type){if("blogpost"===t.type&&!t.createdDate)return;this.redirect(e,Object(F.c)(n,t.id,t.type,t.createdDate,t.slug))}}},{key:"redirectToSpaceHomeOverviewTab",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=e.spaceKey;n&&this.redirect(e,Object(F.p)(n))}},{key:"redirect",value:function(e,n){var t=e.replace,i=e.location,a=i.query?Vn()(i.query,"pageId"):"";t(_n()({},i,{query:a,search:An.a.format({query:a}),pathname:n}))}},{key:"render",value:function(){return null}}]),n}(h.PureComponent);R()(Hn,"defaultProps",{contentId:null,content:null,spaceKey:null,isAnonymous:!1,year:"",space:null,routerParams:null,requiresRedirectFromId:!1,location:null,shouldNavigateToEditPage:!1}),Hn.displayName="ViewPageRedirectComponent";var Mn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewPageRedirectQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"space"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepageId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdDate"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"current"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:329,source:{body:"\n  query ViewPageRedirectQuery($contentId: ID) {\n    content(id: $contentId) {\n      nodes {\n        id\n        type\n        status\n        title\n        space {\n          id\n          homepageId\n          key\n        }\n        history {\n          createdDate\n        }\n      }\n    }\n    user(current: true) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Bn=Object(x.a)();var qn=Object(i.connect)(function(e,n){var t=Object(E.a)(e),i=Object(E.c)(e),a=i.year,r=n.contentId,o=Bn(e,{contentId:r}).shouldNavigateToEditPage,l=i.spaceKey||(n.content?n.content.space.key:null),c="EditViewPageRoute"===t.routeName;return{requiresRedirectFromId:Object(E.d)(e)&&Object(F.C)(t),location:t,routerParams:i,spaceKey:l,shouldNavigateToEditPage:o,year:a,isEditPageRoute:c}},function(e){return{replace:function(n){return e(Object(y.replace)(n))},hideEditor:function(){return e(Object(N.l)())},push:function(n){return e(Object(y.push)(n))}}})(Hn);qn.propTypes={contentId:g.a.string,isAnonymous:g.a.bool,content:g.a.object,space:g.a.object};var zn=function(e){function n(){return l()(this,n),u()(this,k()(n).apply(this,arguments))}return v()(n,e),s()(n,[{key:"render",value:function(){var e=this.props.contentId;return b.a.createElement(H.d,{query:Mn,errorPolicy:"all",variables:{contentId:e}},function(n){var t=n.data,i=n.loading,a=n.error,r=!1===U()(a,"graphQLErrors[0].extensions.data.authorized");if(i)return null;var o=t&&null===t.user,l=U()(t,"content.nodes[0]"),c=U()(t,"content.nodes[0].space"),s=U()(t,"content.nodes[0].title"),d=l&&Object.assign({},l,{slug:Object(F.d)(s),spaceKey:U()(c,"key"),createdDate:U()(l,"history.createdDate")});return b.a.createElement(qn,{isUnauthorized:r,isAnonymous:o,content:d,space:c,contentId:e})})}}]),n}(h.Component);R()(zn,"displayName","ViewPageRedirect"),zn.displayName="ViewPageRedirect";var Kn,Qn,Wn,Yn,$n,Gn,Jn,Zn=t("kCZO"),Xn=t.n(Zn),et=Object(Je.c)(),nt=(Kn=Object(yn.a)("viewcontent"),Qn=Object(gn.a)(function(e){var n="";if(e.content&&e.spaceName){var t=!e.content.isUnauthorized&&e.content&&e.content.title?e.content.title:e.intl.formatMessage({id:"no.permission"});n="".concat(t," - ").concat(e.spaceName)}return e.updatesCount?"(".concat(e.updatesCount,") ").concat(n):n}),Wn=Object(X.a)(Xn.a),Yn=Object(ne.b)(hn.a.VIEW_PAGE),Kn($n=Object(J.g)($n=Qn($n=Wn($n=Yn((Jn=Gn=function(e){function n(){var e,t;l()(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=u()(this,(e=k()(n)).call.apply(e,[this].concat(a))),R()(D()(t),"state",{contentReadyState:null,contentCanEdit:!1,deferComponent:!0}),R()(D()(t),"_onContentLoaded",function(e,n){var i=t.props,a=i.contentId;(0,i.markContentAsShown)({contentId:a}),setTimeout(function(){t.setState({contentReadyState:e,contentCanEdit:n.edit,deferComponent:!1})},0)}),R()(D()(t),"_renderLikesButton",function(){var e=t.state.contentReadyState,n=t.props,i=n.contentId,a=n.content,r=n.spaceKey;return a&&a.type&&i&&e?b.a.createElement("div",{key:"likes-button"},b.a.createElement(ln.a,{contentId:i,contentType:a.type,containerId:r,containerType:"space"})):null}),t}return v()(n,e),s()(n,[{key:"componentDidMount",value:function(){et.scrollTo(0,0);var e=this.props,n=e.contentId;(0,e.triggerAnalytics)("rendered",{contentId:n})}},{key:"shouldComponentUpdate",value:function(e,n){return!G()(this.props,e)||!G()(this.state,n)}},{key:"componentDidUpdate",value:function(e){var n=this.props,t=n.contentId,i=n.triggerAnalytics,a=n.shouldNavigateToEditPage,r=n.isFabricPage,o=this.state,l=o.contentReadyState,c=o.contentCanEdit;t!==e.contentId&&(et.scrollTo(0,0),l&&i("rendered",{contentId:t})),r&&l===Tn.d&&c&&Object(Z.a)(),l!==Tn.d||a||function(e){var n,t=e.contentId,i=e.isInViewPage,a=e.docObject,r=void 0===a?Pe.a.document:a,o=e.winObject,l=void 0===o?Pe.a:o,c=En.getItem("editor-persit-scroll-position");try{c=JSON.parse(c)}catch(e){}finally{En.removeItem("editor-persit-scroll-position")}if(c&&c.contentId===t&&c.isInViewPage!==i&&(n=i?r.getElementById("main-content"):r.body)&&n.children[0]){var s,d=c.columnLayoutPosition;if(d){var u=n.children[0].children[d.rowIndex].getElementsByClassName("innerCell")[d.columnIndex];s=u&&u.children[c.targetElementIndex]}else s=n.children[c.targetElementIndex];if(s){var m=Object(Cn.e)(s)+c.offsetBetweenTargetAndCurrentScroll;setTimeout(function(){return l.scrollTo(0,m)},1)}}}({contentId:t,isInViewPage:!0})}},{key:"UNSAFE_componentWillMount",value:function(){this._fetchData(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var n=this.props,t=n.contentId,i=n.spaceKey;if(e.shouldResetContent)return this.setState({contentReadyState:null,contentCanEdit:!1}),void this._fetchData(e);t===e.contentId&&i===e.spaceKey||(this.setState({contentReadyState:null,contentCanEdit:!1}),this._fetchData(e))}},{key:"_fetchData",value:function(e){var n=e.content,t=e.contentId,i=e.getContent,a=e.shouldResetContent;if(t){var r=!n||!n.body||t!==n.id,o=n&&n.isContentSPAFriendly;(r||o||a)&&i({contentId:t})}}},{key:"_getExperience",value:function(){var e=this.props.content;return"page"===U()(e,"type")?le.b.PAGE_VIEW:""}},{key:"_renderLikesAction",value:function(){var e=this,n=this.state.contentReadyState,t=this.props,i=t.spaceKey,a=t.contentId;return n?b.a.createElement(sn.a,{spaceKey:i,contentId:a,style:{float:"left"},location:bn.a.ATL_PAGE_CONTENT_FOOTER_ACTIONS,className:Xn.a.webPanelLocationContainer},function(n){return n.panel?e._renderLikesButton():null}):null}},{key:"_renderViewPageHeader",value:function(){var e=this.props,n=e.spaceKey,t=e.contentId,i=e.versionOverride,a=e.shouldRefreshContent,r=this.state.deferComponent;return b.a.createElement(Ee,{spaceKey:n,contentId:t,isSticky:!1,style:{minHeight:52},defer:r,versionOverride:i,shouldRefreshContent:a})}},{key:"_renderViewPageHeaderV2",value:function(){var e=this.props,n=e.spaceKey,t=e.contentId,i=e.versionOverride,a=e.shouldRefreshContent,r=this.state.deferComponent;return n&&t?b.a.createElement(we,{spaceKey:n,contentId:t,isSticky:!1,style:{minHeight:52},defer:r,versionOverride:i,shouldRefreshContent:a}):null}},{key:"render",value:function(){var e=this;Object(ee.c)("view.page.rendered");var n=this.props,t=n.spaceKey,i=n.isAnonymous,a=n.content,r=n.contentId,o=n.versionOverride,l=n.embeddedContentRender,c=n.queryHash,s=n.preview,d=n.lookAndFeel,u=n.isFabricPage,m=n.isLatestVersion,k=n.isBackendFabricEditorBlankPageEnabled,p=this.state,v=p.contentReadyState,f=p.deferComponent,g=p.contentCanEdit;if(v===Tn.c&&!i)return b.a.createElement(B.a,{accessType:"view",contentId:r});if(v===Tn.b)return b.a.createElement(cn.a,null);var y={};return!Y()(d)&&d.content&&(y=d.content.body),b.a.createElement(S.a,null,function(n){var i=n.featureFlags;return b.a.createElement(h.Fragment,null,b.a.createElement(zn,{contentId:r,content:a}),b.a.createElement(oe.a,{spaceKey:t,isContentView:!0,key:"content-screen"},function(n){var a=n.isThemed,s=n.isLoading,d=k&&!0!==i[w.d],m=k&&!0!==i[w.L],p=i["confluence.frontend.header.v2"];return b.a.createElement(h.Fragment,null,a?null:p?b.a.createElement(De,null,e._renderViewPageHeaderV2()):b.a.createElement(an,null,e._renderViewPageHeader()),b.a.createElement(me,{type:"header",className:Xn.a.customSettings,key:"space-customer-setting-block-header",defer:f}),b.a.createElement(re.a,{isThemed:a,spaceKey:t,isContentView:!0},a?p?e._renderViewPageHeaderV2():e._renderViewPageHeader():null,b.a.createElement(ae,{contentId:r,spaceKey:t,isContentView:!0,renderPlaceholderWhileLoading:d,centerTinyPages:m,centerFabricPages:!0},b.a.createElement(be,{contentId:r,versionOverride:o,embeddedContentRender:l,defer:f})),b.a.createElement("div",{style:y},b.a.createElement(ce.a,{key:"experience",experience:e._getExperience(),experienceId:r},b.a.createElement(se.d,null,b.a.createElement(se.a,null),b.a.createElement(Ke.a,{contentId:r,versionOverride:o,embeddedContentRender:l,queryHash:c,onContentLoaded:e._onContentLoaded,contentVisible:!s,isFabricEditorEnabled:u,renderPlaceholderWhileLoading:d}))),b.a.createElement("div",{className:Xn.a.likesAndLabelsContainer,id:"likes-and-labels-container","data-test-id":"likes-and-labels-container"},e._renderLikesAction(),b.a.createElement("div",{className:Xn.a.labelsSection},b.a.createElement(Ne,{contentId:r,spaceKey:t,defer:f,alignment:"end"}))),b.a.createElement(ze,{contentId:r,defer:f}))),b.a.createElement(me,{key:"space-customer-setting-block-footer",type:"footer",className:Xn.a.customSettings,defer:f}))}),v?b.a.createElement(h.Fragment,null,b.a.createElement(vn,{spaceKey:t,contentId:r,location:bn.a.ATL_PAGE_CONTENT_FOOTER_ACTIONS}),b.a.createElement(Re,{contentId:r,defer:f}),b.a.createElement(rn.a,{contentId:r,isFabricEditorEnabled:u}),b.a.createElement(on.a,{contentId:r,query:s}),m?b.a.createElement(ye,{contentId:r,defer:f}):null,i["confluence.frontend.preload.tiny.on.view"]?b.a.createElement(fe,{contentId:r,canEdit:g,defer:f}):null,u?null:b.a.createElement(pe,{contentId:r,defer:f}),b.a.createElement(fn,{contentId:r,isFabricPage:u,defer:f}),e.props.children):null)})}}]),n}(h.Component),R()(Gn,"defaultProps",{updatesCount:0}),$n=Jn))||$n)||$n)||$n)||$n)||$n),tt=function(e){function n(){var e,t;l()(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=u()(this,(e=k()(n)).call.apply(e,[this].concat(a))),R()(D()(t),"state",{restrictedPageViewConfirmed:!1}),R()(D()(t),"onRestrictedPageViewConfirmClick",function(){q.a.setItem(z.a.RESTRICTED_PAGE_CONFIRMED,t.props.contentId),t.setState({restrictedPageViewConfirmed:!0})}),t}return v()(n,e),s()(n,[{key:"componentDidMount",value:function(){var e=this;q.a.getItem(z.a.RESTRICTED_PAGE_CONFIRMED).then(function(n){n&&(n.toString()===e.props.contentId?e.setState({restrictedPageViewConfirmed:!0}):q.a.removeItem(z.a.RESTRICTED_PAGE_CONFIRMED))})}},{key:"render",value:function(){var e=this;return this.state.restrictedPageViewConfirmed?b.a.createElement(nt,this.props):b.a.createElement(K.a,null,function(n){var t=n.loading,i=n.error,a=n.isSuperAdmin;if(t)return null;if(i)throw i;return a?b.a.createElement(H.d,{query:Q,variables:{contentId:e.props.contentId},fetchPolicy:"network-only",context:{asSuperAdmin:!1}},function(n){var t=n.loading,i=n.error;if(t)return null;if(i&&!e.state.restrictedPageViewConfirmed&&!1===U()(i,"graphQLErrors[0].extensions.data.authorized"))return b.a.createElement(B.b,{onViewPageClick:e.onRestrictedPageViewConfirmClick});return b.a.createElement(nt,e.props)}):b.a.createElement(nt,e.props)})}}]),n}(h.Component);tt.displayName="ViewPageGatewayComponent";Object(M.a)()(tt);var it=Object(x.a)(),at=function(e){return{contentId:e.contentId,versionOverride:e.versionOverride,embeddedContentRender:e.embeddedContentRender}};var rt=Object(i.connect)(function(e,n){var t,i=Object(E.c)(e),a=Object(E.a)(e),r=i.year,o=i.month,l=i.day,c=e.views.viewPage,s=i.contentId||a.query.pageId;s&&(t=Object(C.b)(s,e));var d=i.spaceKey||(t?t.get("spaceKey"):null),u=t&&t.editorVersion===T.a.FABRIC||!1,m=it(e,{contentId:s}).shouldNavigateToEditPage,k=e.views.viewPage.content.get("shouldRefreshContent"),p=n.isAnonymous,v=at(n).versionOverride,f=!v||"current"===v,g=e.entities.getIn(["spaces",d],null),y=g?g.name:null;return{shouldRefreshContent:k,contentId:s,key:s,year:r,month:o,day:l,content:t,spaceKey:d,routerParams:i,preview:a.query.preview,isAnonymous:p,isNewUser:e.views.dashboard.viewModel.get("isNewUser"),shouldResetContent:c.content.get("shouldResetContent"),lookAndFeel:Object(_.b)(e),updatesCount:e.views.viewPage.quickReload.get("updatesCount"),shouldNavigateToEditPage:m,requiresRedirectFromId:Object(E.d)(e)&&Object(F.C)(a),isFabricPage:u,isLatestVersion:f,spaceName:y,location:a,isBackendFabricEditorBlankPageEnabled:Object(I.c)(e,w.n)}},function(e,n){return{getContent:function(){return e(Object(O.b)(at(n)))},markContentAsShown:function(){return e(P.b.apply(void 0,arguments))},hideEditor:function(){return e(Object(N.l)())},setSidebarCollapsed:function(n){return e(Object(L.b)({key:"sidebarCollapsed",value:n}))},push:function(n){return e(Object(y.push)(n))},replace:function(n){return e(Object(y.replace)(n))}}})(tt);rt.displayName="ViewPageRedux",rt.propTypes={contentId:g.a.string.isRequired,versionOverride:g.a.number,embeddedContentRender:g.a.string,queryHash:g.a.string};var ot=function(e){function n(){return l()(this,n),u()(this,k()(n).apply(this,arguments))}return v()(n,e),s()(n,[{key:"render",value:function(){var e=this;return b.a.createElement(S.a,null,function(n){var t=!n.userId;return b.a.createElement(rt,r()({isAnonymous:t},e.props))})}}]),n}(h.Component);ot.displayName="ViewPageGraphQL";n.default=Object(i.connect)(function(e){var n=Object(E.b)(e),t=n.versionOverride,i=n.embeddedContentRender;return t=parseInt(t),isNaN(t)&&(t=null),i||(i=null),{versionOverride:t,embeddedContentRender:i,queryHash:Object(E.a)(e).hash}},function(){return{}})(ot)},aZAq:function(e,n,t){(n=e.exports=t("RDo7")(!1)).push([e.i,".LikeButtonComponent_likeLink_2jk{cursor:pointer;color:#0052cc}.LikeButtonComponent_likeLink_2jk:hover{cursor:pointer;color:#0065ff;text-decoration:underline}.LikeButtonComponent_likeLink_2jk span{vertical-align:bottom}.LikeButtonComponent_likeLink_2jk span svg{color:#42526e}.LikeButtonComponent_likeIcon_1dN{height:24px;width:24px;margin-right:5px}",""]),n.locals={likeLink:"LikeButtonComponent_likeLink_2jk",likeIcon:"LikeButtonComponent_likeIcon_1dN"}},ak4O:function(e,n,t){"use strict";t.d(n,"a",function(){return b});var i=t("tQaH"),a=t.n(i),r=t("VrFO"),o=t.n(r),l=t("Y9Ll"),c=t.n(l),s=t("N+ot"),d=t.n(s),u=t("AuHH"),m=t.n(u),k=t("5Yy7"),p=t.n(k),v=(t("aWzz"),t("ERkP")),f=t.n(v),g=t("2srY"),y=t.n(g),h={display:"block",position:"absolute",width:"100%",top:0,left:0,height:250},b=function(e){function n(){return o()(this,n),d()(this,m()(n).apply(this,arguments))}return p()(n,e),c()(n,[{key:"render",value:function(){var e=this.props.lookAndFeel;if(!e||!e.content)return null;var n=y()(e,"content.screen.layer")||{};return f.a.createElement("div",{style:a()({},h,n)})}}]),n}(v.Component);b.displayName="ContentScreenBackgroundLayer"},beEQ:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var i=t("ERkP"),a=t.n(i),r=t("x+QU"),o=t.n(r),l=t("xeU+"),c=o()({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(339)]).then(t.bind(null,"uwQx")).then(function(e){return e.Breadcrumbs})},loading:function(){return a.a.createElement(l.a,null)}});c.displayName="Breadcrumbs"},dnuq:function(e,n,t){var i=t("9nrt"),a=t("7l8p");"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=i.locals||{},e.exports._getContent=function(){return i},e.exports._getCss=function(){return i.toString()},e.exports._insertCss=function(e){return a(i,e)}},dvdB:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var i=t("ERkP"),a=t.n(i),r=function(){return a.a.createElement("div",{style:{margin:"20px 0 4px 0",height:40,display:"inline-block"}},a.a.createElement("div",{style:{width:32,height:32,borderRadius:"50%",backgroundColor:"#eee",display:"inline-block",marginTop:3}}),a.a.createElement("div",{style:{margin:"0 0 0 10px",float:"right"}},a.a.createElement("div",{style:{width:100,height:14,borderRadius:2,backgroundColor:"#eee",marginTop:4}}),a.a.createElement("div",{style:{width:150,height:12,borderRadius:2,backgroundColor:"#eee",marginTop:5}})))};r.displayName="ByLinePlaceholder",r.displayName="ByLinePlaceholder"},fYdy:function(e,n,t){"use strict";t.d(n,"a",function(){return N});var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),c=t.n(l),s=t("AuHH"),d=t.n(s),u=t("5Yy7"),m=t.n(u),k=t("KEM+"),p=t.n(k),v=(t("aWzz"),t("ERkP")),f=t.n(v),g=t("L21V"),y=t("2wFc"),h=t("JA6b"),b=t("/FQd"),S=t("3iG9"),N=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"renderUserLink",value:function(){var e=this.props,n=e.userId,t=e.fullName,i=e.referralSource,a=e.onUserLinkClick;return f.a.createElement("a",{target:"_blank",onClick:a,href:Object(y.e)(n,i)},t)}},{key:"render",value:function(){var e=this,n=this.props,t=n.userId,i=n.className,a=n.isAnonymous,r=n.canViewProfile,o=n.withUserHover;return a?f.a.createElement("div",{className:i},f.a.createElement(g.b,{id:"anonymous.name"})):o?f.a.createElement(b.a,null,function(n){return n.featureFlags["confluence.frontend.profile-cards.v2"]?f.a.createElement(h.a,{isAnonymous:a,canViewProfile:r,userId:t},e.renderUserLink()):f.a.createElement(S.a,{isAnonymous:a,canViewProfile:r,userId:t},e.renderUserLink())}):this.renderUserLink()}}]),n}(v.Component);p()(N,"defaultProps",{onUserLinkClick:function(){},withUserHover:!0}),N.displayName="ProfileLink"},kCZO:function(e,n,t){var i=t("Z1eS"),a=t("7l8p");"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=i.locals||{},e.exports._getContent=function(){return i},e.exports._getCss=function(){return i.toString()},e.exports._insertCss=function(e){return a(i,e)}},pkRm:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var i=t("ERkP"),a=t.n(i),r=t("d8BE"),o=t.n(r),l=t("HbzK");function c(e,n){return void 0===n&&(n={}),function(t){return function(i){var r=e(i),c=l.a.get("site-title")||"",s="";return s=r&&c?"".concat(r," - ").concat(c):r||c,a.a.createElement("div",{style:n},a.a.createElement(o.a,{title:s}),a.a.createElement(t,i))}}}},qSVF:function(e,n,t){"use strict";var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),c=t.n(l),s=t("AuHH"),d=t.n(s),u=t("1Pcy"),m=t.n(u),k=t("5Yy7"),p=t.n(k),v=t("KEM+"),f=t.n(v),g=t("7wq/"),y=t.n(g),h=t("ERkP"),b=t.n(h),S=t("2srY"),N=t.n(S),C=(t("aWzz"),t("KsTJ")),I=t("RNvQ"),E=t.n(I),F=t("PTiB"),w=t("MkWZ"),L=t("Xsc2");function P(){var e=y()(["\n  box-sizing: border-box;\n\n  .sticky-header {\n    background-color: #fff;\n  }\n"]);return P=function(){return e},e}function T(){var e=y()(["\n  animation-name: ",";\n  animation-duration: 0.25s;\n  animation-timing-function: ease;\n  animation-delay: 0s;\n  animation-iteration-count: 1;\n  animation-direction: normal;\n  animation-fill-mode: forwards;\n  animation-play-state: running;\n\n  position: ",";\n  width: ",";\n  top: 0;\n  z-index: 10;\n"]);return T=function(){return e},e}function O(){var e=y()(["\n    0% { transform: translate3d(0px, -100px, 0px); }\n    100% { transform: translate3d(0px, 0px, 0px); }\n"]);return O=function(){return e},e}function _(){var e=y()(["\n  0% { transform: translate3d(0, 0, 0); }\n  100% { transform: translate3d(0, -100%, 0); }\n"]);return _=function(){return e},e}var x=Object(C.keyframes)(_()),A=Object(C.keyframes)(O());var D=C.default.div(T(),function(e){return"top"===e.stuckState?A:"hidden"===e.stuckState?x:"none"},function(e){return e.stuckState?"fixed":"initial"},function(e){return e.stuckState&&e.width?"".concat(e.width,"px"):"inherit"}),V=C.default.div(P()),R=50,j=function(e){function n(){var e,t;a()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=c()(this,(e=d()(n)).call.apply(e,[this].concat(r))),f()(m()(t),"state",{stuckState:null,width:0}),f()(m()(t),"containerRef",b.a.createRef()),f()(m()(t),"isMounted",!1),f()(m()(t),"lastDownwardTop",0),f()(m()(t),"lastTop",0),f()(m()(t),"repaintTimeout",null),f()(m()(t),"notifyTableTimeout",null),f()(m()(t),"stick",E()(function(e){if(t.isMounted){var n=N()(t.containerRef,"current");if(n&&n.querySelector("#".concat(L.a))){var i=e&&"scroll"===e.type,a=n.getBoundingClientRect().top,r=t.lastTop>=a;i&&(t.lastTop=a,r&&(t.lastDownwardTop=a));var o=t.state.stuckState,l=o;a<0?(t.props.closeOpenDialogAndMenu(),i&&r&&"top"===o?l="hidden":i&&!r&&Math.abs(a-t.lastDownwardTop)>=R&&(l="top")):l=null,l!=o&&t.setState({stuckState:l},t.handleStickyStateChange)}else t.setState({stuckState:null},t.handleStickyStateChange)}},50)),f()(m()(t),"handleStickyStateChange",function(){var e=t.props.onStickyStateChange,n=t.state.stuckState;"top"===n?(t.sendHeaderIsStickyAnalyticsEvent(),window.clearTimeout(t.notifyTableTimeout),t.notifyTableTimeout=window.setTimeout(function(){var n=t.state.stuckState,i=t.containerRef&&t.containerRef.current.querySelector("[data-test-id='header-animated-box']"),a=i&&i.getBoundingClientRect()||{},r="top"===n&&a.height||0;e({stuckState:n,headerHeight:r})},250)):e({stuckState:n,headerHeight:0})}),f()(m()(t),"setWidth",E()(function(e){t.setState({width:e})},100)),t}return p()(n,e),o()(n,[{key:"componentDidMount",value:function(){this.isMounted=!0,this.getHeaderComponent()&&window.addEventListener&&(window.addEventListener("scroll",this.stick),window.addEventListener("resize",this.stick),this.stick())}},{key:"componentWillUnmount",value:function(){this.isMounted=!1,window.removeEventListener&&(window.removeEventListener("scroll",this.stick),window.removeEventListener("resize",this.stick),window.clearTimeout(this.repaintTimeout),window.clearTimeout(this.notifyTableTimeout))}},{key:"getHeaderComponent",value:function(){var e=this.props.children;return e&&b.a.Children.only(e)?e:null}},{key:"cloneHeader",value:function(){var e=this.getHeaderComponent();if(!e)return null;if(!this.state.stuckState)return e;var n={className:"".concat(e.props.className||""," sticky-header"),isSticky:!0};return Object(h.cloneElement)(e,n)}},{key:"sendHeaderIsStickyAnalyticsEvent",value:function(){(0,this.props.createAnalyticsEvent)({type:"sendTrackEvent",data:{source:"viewPageScreen",action:"stuck",actionSubject:"contentHeader",attributes:{source:"v2"}}}).fire()}},{key:"render",value:function(){var e=this.state,n=e.stuckState,t=e.width;return b.a.createElement(V,{innerRef:this.containerRef},b.a.createElement(D,{stuckState:n,width:t,"data-test-id":"header-animated-box"},this.cloneHeader()),b.a.createElement(w.a,null,this.setWidth))}}]),n}(h.PureComponent);f()(j,"defaultProps",{onStickyStateChange:function(){},closeOpenDialogAndMenu:function(){}}),j.displayName="StickyWrapperClass";var U=Object(F.a)()(j),H=t("JIlu"),M=t("x+QU"),B=t.n(M);function q(){var e=y()(["\n  min-height: 71px;\n"]);return q=function(){return e},e}var z=C.default.div(q()),K=B()({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(4),t.e(5),t.e(340)]).then(t.bind(null,"JIlu")).then(function(e){return e.ContentHeader})},loading:z});K.displayName="ContentHeaderLoader",t.d(n,"b",function(){return U}),t.d(n,!1,function(){return H.ContentHeader}),t.d(n,"a",function(){return K})},rQmM:function(e,n,t){"use strict";var i=t("x+QU"),a=t.n(i);n.a=a()({loader:function(){return Promise.all([t.e(2),t.e(1),t.e(0),t.e(370)]).then(t.bind(null,"goqy"))},loading:function(){return null}})},s6Th:function(e,n,t){"use strict";var i=t("ERkP"),a=t.n(i);n.a=function(){return a.a.createElement("div",{style:{minHeight:71}})}},sAnD:function(e,n,t){var i=t("aZAq"),a=t("7l8p");"string"==typeof i&&(i=[[e.i,i,""]]),e.exports=i.locals||{},e.exports._getContent=function(){return i},e.exports._getCss=function(){return i.toString()},e.exports._insertCss=function(e){return a(i,e)}},sCXE:function(e,n,t){(n=e.exports=t("RDo7")(!1)).push([e.i,".StickyViewPageHeader_stickyViewPageHeader_3wU{position:relative}.StickyViewPageHeader_stickyViewPageHeader_3wU>header{-webkit-box-sizing:border-box;box-sizing:border-box}.StickyViewPageHeader_stickyViewPageHeader_3wU .StickyViewPageHeader_stickToTop_3vl{position:fixed}.StickyViewPageHeader_stickToTop_3vl{top:0;background:#fff;z-index:14}.StickyViewPageHeader_disappearAnimation_Es0{-webkit-animation-name:StickyViewPageHeader_stickyDisappear_wUj;animation-name:StickyViewPageHeader_stickyDisappear_wUj;-webkit-animation-duration:.25s;animation-duration:.25s;-webkit-animation-timing-function:ease;animation-timing-function:ease;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-direction:normal;animation-direction:normal;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-play-state:running;animation-play-state:running}@-webkit-keyframes StickyViewPageHeader_stickyDisappear_wUj{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes StickyViewPageHeader_stickyDisappear_wUj{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.StickyViewPageHeader_appearAnimation_1MO{-webkit-animation-name:StickyViewPageHeader_stickyAppear_1ku;animation-name:StickyViewPageHeader_stickyAppear_1ku;-webkit-animation-duration:.25s;animation-duration:.25s;-webkit-animation-timing-function:ease;animation-timing-function:ease;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-direction:normal;animation-direction:normal;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-play-state:running;animation-play-state:running}@-webkit-keyframes StickyViewPageHeader_stickyAppear_1ku{0%{-webkit-transform:translate3d(0,-100px,0);transform:translate3d(0,-100px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes StickyViewPageHeader_stickyAppear_1ku{0%{-webkit-transform:translate3d(0,-100px,0);transform:translate3d(0,-100px,0)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}",""]),n.locals={stickyViewPageHeader:"StickyViewPageHeader_stickyViewPageHeader_3wU",stickToTop:"StickyViewPageHeader_stickToTop_3vl",disappearAnimation:"StickyViewPageHeader_disappearAnimation_Es0",stickyDisappear:"StickyViewPageHeader_stickyDisappear_wUj",appearAnimation:"StickyViewPageHeader_appearAnimation_1MO",stickyAppear:"StickyViewPageHeader_stickyAppear_1ku"}},tlRP:function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"c",function(){return o}),t.d(n,"b",function(){return l});var i=t("x+QU"),a=t.n(i),r=a()({loader:function(){return t.e(363).then(t.bind(null,"mPgm")).then(function(e){return e.RestrictedPage})},loading:function(){return null}});r.displayName="RestrictedPage";var o=a()({loader:function(){return Promise.all([t.e(0),t.e(362)]).then(t.bind(null,"5C6J")).then(function(e){return e.RestrictedSpace})},loading:function(){return null}});o.displayName="RestrictedSpace";var l=a()({loader:function(){return Promise.all([t.e(1),t.e(0),t.e(361)]).then(t.bind(null,"QBVN")).then(function(e){return e.RestrictedPageConfirmation})},loading:function(){return null}});l.displayName="RestrictedPageConfirmation"},tqyq:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var i={DASHBOARD_ROUTE:"dashboard.route.last.v2",DISCOVER_ROUTE:"discover.route.last",MY_WORK_ROUTE:"my-work.route.last",SPACE_ROUTE:"space.route.last",GLOBAL_SIDEBAR_PANEL:"sidebar.global.panel",TINYMCE_PAGE_JUST_PUBLISHED:"editor.tinyMCE.just.published",EDITOR_SURVEY_LAST_SUBMITTED:"editor.survey.last.submitted",SUPERADMIN_SURVEY_REQUESTED:"superadmin.survey.requested",SUPERADMIN_SURVEY_SUBMITTED:"superadmin.survey.submitted",SUPERADMIN_SESSION_EXPIRED:"superadmin.session.expired",RESTRICTED_PAGE_CONFIRMED:"restricted.page.confirmed"}},x98U:function(e,n,t){"use strict";t.d(n,"a",function(){return S});var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),c=t.n(l),s=t("AuHH"),d=t.n(s),u=t("5Yy7"),m=t.n(u),k=t("KEM+"),p=t.n(k),v=(t("aWzz"),t("ERkP")),f=t.n(v),g=t("wySS"),y=t("7LQG"),h=t("JA6b"),b="".concat(y.a,"/images/icons/profilepics/anonymous.png"),S=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"canHoverUser",value:function(){var e=this.props,n=e.withUserHover,t=e.userId;return n&&t}},{key:"renderAvatar",value:function(){var e=this.props,n=e.enableTooltip,t=e.canViewProfile,i=e.isAnonymous,a=e.userId,r=e.size,o=this.props.src;return o=!0===t&&!i&&Boolean(o)?o:b,f.a.createElement(g.a,{userId:a,src:o,size:r,target:"_blank",enableTooltip:!this.canHoverUser()&&n})}},{key:"render",value:function(){var e=this.props,n=e.userId,t=e.canViewProfile;return this.canHoverUser()?f.a.createElement(h.a,{userId:n,canViewProfile:t},this.renderAvatar()):this.renderAvatar()}}]),n}(v.Component);p()(S,"defaultProps",{enableTooltip:!0,withUserHover:!0,isHover:!1}),S.displayName="ProfilePictureWithCard"},"xeU+":function(e,n,t){"use strict";t.d(n,"a",function(){return I});var i=t("VrFO"),a=t.n(i),r=t("Y9Ll"),o=t.n(r),l=t("N+ot"),c=t.n(l),s=t("AuHH"),d=t.n(s),u=t("5Yy7"),m=t.n(u),k=t("7wq/"),p=t.n(k),v=t("ERkP"),f=t.n(v),g=t("KsTJ");function y(){var e=p()(["\n  height: 14px;\n  line-height: 14px;\n  font-weight: bold;\n  color: #eee;\n  margin-left: 5px;\n  margin-right: 5px;\n"]);return y=function(){return e},e}function h(){var e=p()(["\n  height: 14px;\n  width: 60px;\n  border-radius: 2px;\n  background-color: #eee;\n"]);return h=function(){return e},e}function b(){var e=p()(["\n  display: flex;\n  align-items: center;\n  justify-content: left;\n  height: 24px;\n"]);return b=function(){return e},e}var S=g.default.div(b()),N=g.default.div(h()),C=g.default.div(y()),I=function(e){function n(){return a()(this,n),c()(this,d()(n).apply(this,arguments))}return m()(n,e),o()(n,[{key:"render",value:function(){return f.a.createElement(S,null,f.a.createElement(N,null),f.a.createElement(C,null,"/"),f.a.createElement(N,null))}}]),n}(v.PureComponent);I.displayName="BreadcrumbsPlaceholder"},"z/oC":function(e,n,t){"use strict";t.d(n,"a",function(){return S});var i,a=t("VrFO"),r=t.n(a),o=t("Y9Ll"),l=t.n(o),c=t("N+ot"),s=t.n(c),d=t("AuHH"),u=t.n(d),m=t("1Pcy"),k=t.n(m),p=t("5Yy7"),v=t.n(p),f=(t("aWzz"),t("ERkP")),g=t("bfgX"),y=t("M2LZ"),h=t("jqY8"),b=t("lZ+S"),S=Object(y.b)(b.a.CONFLUENCE_PREVIEWER)(i=function(e){function n(){var e,t;r()(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=s()(this,(e=u()(n)).call.apply(e,[this].concat(a)))).handlePopstate=t.handlePopstate.bind(k()(t)),t}return v()(n,e),l()(n,[{key:"componentDidMount",value:function(){this.reInitialisePreviewer(),Object(h.a)("popstate",this.handlePopstate)}},{key:"shouldComponentUpdate",value:function(e){return e.query!==this.props.query}},{key:"componentDidUpdate",value:function(){this.reInitialisePreviewer()}},{key:"componentWillUnmount",value:function(){this.resetFilesList(),Object(h.l)("popstate",this.handlePopstate)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.contentId!==this.props.contentId&&this.resetFilesList()}},{key:"handlePopstate",value:function(){this.reInitialisePreviewer()}},{key:"resetFilesList",value:function(){Object(g.b)("reset-file-list.filePreviews")}},{key:"reInitialisePreviewer",value:function(){var e=Object(h.d)("cp/confluence/file-preview-loader");e&&"function"==typeof e.setupPreviewerForSPA&&e.setupPreviewerForSPA()}},{key:"render",value:function(){return null}}]),n}(f.Component))||i;S.displayName="ConfluencePreview"}}]);
//# sourceMappingURL=space.viewpage.4fd62402af7990077600-v38.js.map