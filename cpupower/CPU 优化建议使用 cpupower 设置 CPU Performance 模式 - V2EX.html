<!DOCTYPE html>
<!-- saved from url=(0029)https://www.v2ex.com/t/528349 -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">.tippy-touch{cursor:pointer!important}.tippy-notransition{-webkit-transition:none!important;transition:none!important}.tippy-popper{max-width:350px;-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;-webkit-transition-timing-function:cubic-bezier(.165,.84,.44,1);transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none}.tippy-popper[data-html]{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{width:23px;height:23px;fill:#333;bottom:-15px;margin:0 6px}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 9px}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 100%;transform-origin:0 100%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(5.5) translate(-50%,25%);transform:scale(5.5) translate(-50%,25%);opacity:1}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,25%);transform:scale(1) translate(-50%,25%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{width:23px;height:23px;fill:#333;top:-15px;margin:0 6px}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 9px}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -100%;transform-origin:0 -100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(5.5) translate(-50%,-125%);transform:scale(5.5) translate(-50%,-125%);opacity:1}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,-125%);transform:scale(1) translate(-50%,-125%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:30% 0 0 30%}.tippy-popper[x-placement^=left] .tippy-roundarrow{width:23px;height:23px;fill:#333;right:-15px;margin:4px 0}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:6px 0}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:100% 0;transform-origin:100% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(5.5) translate(33%,-50%);transform:scale(5.5) translate(33%,-50%);opacity:1}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(33%,-50%);transform:scale(1.5) translate(33%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 30% 30% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{width:23px;height:23px;fill:#333;left:-15px;margin:4px 0}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:6px 0}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-100% 0;transform-origin:-100% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(5.5) translate(-133%,-50%);transform:scale(5.5) translate(-133%,-50%);opacity:1}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(-133%,-50%);transform:scale(1.5) translate(-133%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-animatefill] .tippy-content{-webkit-transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98),-webkit-clip-path cubic-bezier(.46,.1,.52,.98)}.tippy-tooltip[data-interactive]{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{-webkit-transition-timing-function:cubic-bezier(.53,2,.36,.85);transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{-webkit-transition-timing-function:ease;transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:26%;left:50%;top:50%;z-index:-1;-webkit-transition:all cubic-bezier(.46,.1,.52,.98);transition:all cubic-bezier(.46,.1,.52,.98)}.tippy-backdrop:after{content:"";float:left;padding-top:100%}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(100% 100% at 50% 50%);clip-path:ellipse(100% 100% at 50% 50%)}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(5% 50% at 50% 50%);clip-path:ellipse(5% 50% at 50% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 0 50%);clip-path:ellipse(135% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(25% 100% at 0 50%);clip-path:ellipse(25% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 100% 50%);clip-path:ellipse(135% 100% at 100% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(25% 100% at 100% 50%);clip-path:ellipse(25% 100% at 100% 50%)}@media (max-width:360px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}</style>
<meta name="Content-Type" content="text/html;charset=utf-8">
<meta name="Referrer" content="unsafe-url">
<meta content="True" name="HandheldFriendly">
<meta name="theme-color" content="#333344">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="detectify-verification" content="d0264f228155c7a1f72c3d91c17ce8fb">
<meta name="p:domain_verify" content="b87e3b55b409494aab88c1610b05a5f0">
<meta name="alexaVerifyID" content="OFc8dmwZo7ttU4UCnDh1rKDtLlY">
<meta name="baidu-site-verification" content="D00WizvYyr">
<meta name="msvalidate.01" content="D9B08FEA08E3DA402BF07ABAB61D77DE">
<meta property="wb:webmaster" content="f2f4cb229bda06a4">
<meta name="google-site-verification" content="LM_cJR94XJIqcYJeOCscGVMWdaRUvmyz6cVOqkFplaU">
<title>CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX</title>
<link rel="dns-prefetch" href="https://static.v2ex.com/">
<link rel="dns-prefetch" href="https://cdn.v2ex.com/">
<link rel="dns-prefetch" href="https://i.v2ex.co/">
<link rel="dns-prefetch" href="https://www.google-analytics.com/">
<link rel="stylesheet" type="text/css" media="screen" href="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/basic.css">
<link rel="stylesheet" type="text/css" media="screen" href="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/combo.css">
<link rel="stylesheet" type="text/css" media="screen" href="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/desktop.css">
<script async="" src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/analytics.js"></script><script>
    const SITE_NIGHT = 0;
    </script>
<link rel="stylesheet" href="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/tomorrow.css" type="text/css">
<link rel="icon" sizes="192x192" href="https://www.v2ex.com/static/img/v2ex_192.png">
<link rel="shortcut icon" href="https://www.v2ex.com/static/img/icon_rayps_64.png" type="image/png">
<script src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/combo.js" type="text/javascript" defer=""></script>
<meta name="description" content="程序员 - @wsgzao - ## 前言CPU 动态节能技术用于降低服务器功耗，通过选择系统空闲状态不同的电源管理策 略，可以实现不同程度降低服务器功耗，更低的功耗策略意味着 CPU 唤醒更慢对性能 影响更大。对于对时延和">
<link rel="canonical" href="https://www.v2ex.com/t/528349">
<meta property="og:locale" content="zh_CN">
<meta property="og:type" content="article">
<meta property="og:title" content="CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX">
<meta property="og:description" content="程序员 - @wsgzao - ## 前言CPU 动态节能技术用于降低服务器功耗，通过选择系统空闲状态不同的电源管理策 略，可以实现不同程度降低服务器功耗，更低的功耗策略意味着 CPU 唤醒更慢对性能 影响更大。对于对时延和">
<meta property="og:url" content="https://www.v2ex.com/t/528349">
<meta property="og:site_name" content="V2EX">
<meta property="article:tag" content="programmer">
<meta property="article:section" content="程序员">
<meta property="article:published_time" content="2019-01-18T08:31:02Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="程序员 - @wsgzao - ## 前言CPU 动态节能技术用于降低服务器功耗，通过选择系统空闲状态不同的电源管理策 略，可以实现不同程度降低服务器功耗，更低的功耗策略意味着 CPU 唤醒更慢对性能 影响更大。对于对时延和">
<meta name="twitter:title" content="CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX">
<meta name="twitter:image" content="https:https://cdn.v2ex.com/avatar/10c8/844e/57018_large.png?m=1402837214">
<meta name="twitter:site" content="@V2EX">
<meta name="twitter:creator" content="@V2EX">
<link rel="top" title="回到顶部" href="https://www.v2ex.com/t/528349#">
<link rel="preload" href="https://www.v2ex.com/api/nodes/s2.json" as="fetch">
<link rel="amphtml" href="https://www.v2ex.com/amp/t/528349">
<script type="text/javascript">
        const topicId = 528349;
        let once = "70523";

		document.addEventListener("DOMContentLoaded", function(event) {
            protectTraffic();

            const observer = new IntersectionObserver( 
                ([e]) => e.target.toggleAttribute('stuck', e.intersectionRatio < 1),
                {threshold: [1]}
            );

            observer.observe(document.getElementById('reply-box'));
            
            
            hljs.initHighlightingOnLoad();
            

            $('#Main').on('click', '.no, .ago', function () {
                location.hash = $(this).parents('.cell').prop('id');
            });

            
		});

        
        let csrfToken = false;
        
	</script>
<script type="text/javascript">
function format(tpl) {
    var index = 1, items = arguments;
    return (tpl || '').replace(/{(\w*)}/g, function(match, p1) {
        return items[index++] || p1 || match;
    });
}
function loadCSS(url, callback) {
    return $('<link type="text/css" rel="stylesheet"/>')
        .attr({ href: url })
        .on('load', callback)
        .appendTo(document.head);
}
function lazyGist(element) {
    var $btn = $(element);
    var $self = $(element).parent();
    var $link = $self.find('a');
    $btn.prop('disabled', 'disabled').text('Loading...');
    $.getJSON(format('{}.json?callback=?', $link.prop('href').replace($link.prop('hash'), '')))
        .done(function(data) {
            loadCSS(data.stylesheet, function() {
                $self.replaceWith(data.div);
                $('.gist .gist-file .gist-meta a').filter(function() { return this.href === $link.prop('href'); }).parents('.gist-file').siblings().remove();
            });
        })
        .fail(function() { $self.replaceWith($('<a>').attr('href', url).text(url)); });
}
</script>
</head>
<body>
<div id="Top">
<div class="content">
<div style="padding-top: 6px;">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tbody><tr>
<td width="110" align="left"><a href="https://www.v2ex.com/" name="top" title="way to explore"><div id="Logo"></div></a></td>
<td width="auto" align="left">
<div id="Search"><form action="https://www.google.com/" onsubmit="return dispatch()" target="_blank"><div id="qbar"><input type="text" maxlength="40" name="q" id="q" value="" onfocus="$(&#39;#qbar&#39;).addClass(&#39;qbar_focus&#39;)" onblur="$(&#39;#qbar&#39;).removeClass(&#39;qbar_focus&#39;)"></div></form></div>
</td>
<td width="570" align="right" style="padding-top: 2px;"><a href="https://www.v2ex.com/" class="top">首页</a>&nbsp;&nbsp;&nbsp;<a href="https://www.v2ex.com/signup" class="top">注册</a>&nbsp;&nbsp;&nbsp;<a href="https://www.v2ex.com/signin" class="top">登录</a></td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div id="Wrapper">
<div class="content">
<div id="Leftbar"></div>
<div id="Rightbar">
<div class="sep20"></div>
<div class="box">
<div class="cell">
<strong>V2EX = way to explore</strong>
<div class="sep5"></div>
<span class="fade">V2EX 是一个关于分享和探索的地方</span>
</div>
<div class="inner">
<div class="sep5"></div>
<div align="center"><a href="https://www.v2ex.com/signup" class="super normal button">现在注册</a>
<div class="sep5"></div>
<div class="sep10"></div>
已注册用户请 &nbsp;<a href="https://www.v2ex.com/signin">登录</a></div>
</div>
</div>
<div class="sep20"></div>
<div class="box">
<div class="inner">
<div class="sidebar_units">
<a href="https://www.urlos.com/" target="_blank"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/GgJ25SMz.gif" border="0" width="100%" alt="万岁云"></a>
<div class="sep10"></div>
<a href="https://www.nework360.com/?utm_source=v2exprogrammer" target="_blank"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/QkK7I6lx.gif" border="0" width="100%" alt="云队友"></a>
<div class="sep10"></div>
<a href="http://www.oray.com/jump/46003" target="_blank"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/Co6cn702.jpeg" border="0" width="100%" alt="花生壳"></a>
<div class="sep10"></div>
<a href="https://www.openinstall.io/?from=v2ex" target="_blank"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/openinstall_20190910.gif" border="0" width="100%" alt="openinstall.io"></a>
<div class="sep10"></div>
<a href="https://activity.huaweicloud.com/discount_area_v5/index.html?utm_source=chengdujiyun&amp;utm_medium=agents&amp;utm_campaign=qddiscou%20nt%20_0725&amp;bpName=2f4c57e8f74a49e1be3553927746c35f&amp;bindType=1#invite" target="_blank" rel="nofollow"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/8G0cRsVb.jpeg" border="0" width="100%" alt="华为云服务器"></a>
<div class="sep10"></div>
<a href="https://www.mysubmail.com/sms/api/?tag=v2ex" target="_blank"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/m6786i77.png" border="0" width="100%" alt="Submail"></a>
<div class="sep10"></div>
<a href="http://www.oray.com/jump/45966" target="_blank"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/sunlogin_20200414.png" border="0" width="100%" alt="贝锐 - 向日葵"></a>
<div class="sep10"></div>
<a href="https://www.grapecity.com.cn/developer/spreadjs?utm_source=v2ex&amp;utm_medium=bannerad&amp;utm_term=right&amp;utm_content=SpreadJS&amp;utm_campaign=community" target="_blank"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/spreadjs_20200216.gif" border="0" width="100%" alt="Spread JS"></a>
<div class="sep10"></div>
<a href="https://datapacket.com/china-dedicated-server-chinese?utm_source=v2ex&amp;utm_medium=cpc&amp;utm_campaign=programmer&amp;utm_content=static1" target="_blank" rel="nofollow"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/datapacket_20190221.png" border="0" width="100%" alt="DataPacket"></a>
<div class="sep10"></div>
<a href="https://www.cdn77.com/cn?utm_source=v2ex&amp;utm_medium=cpc&amp;utm_campaign=programmer&amp;utm_content=static2" target="_blank" rel="nofollow"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/cdn77_20190117.png" border="0" width="100%" alt="CDN77"></a>
<div class="sep10"></div>
<a href="http://www.oray.com/jump/45927" target="_blank" rel="nofollow"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/pgy_20200204.gif" border="0" width="100%" alt="蒲公英"></a>
</div>

<style type="text/css">
  #Wrapper {
    background-color: #e2e2e2;
    background-image: url("/static/img/shadow_light.png"), url("//cdn.v2ex.com/assets/bgs/circuit.png");
    background-repeat: repeat-x, repeat-x;
  }
  #Wrapper.Night {
  	background-color: #22303f;
	background-image: url("/static/img/shadow.png"), url("//cdn.v2ex.com/assets/bgs/circuit_night.png");
	background-repeat: repeat-x, repeat-x;
  	background-size: 20px 20px, 162.5px 162.5px;
  }
</style>
</div>
<div class="sidebar_compliance"><a href="https://www.v2ex.com/advertise" target="_blank">广告</a></div>
</div>
<div class="sep20"></div>
<div class="box">
<div class="inner" align="center">
<a href="https://hellowatch.oppo.com/cn/?utm_source=v2ex&amp;utm_medium=banner" target="_blank"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/oppo_20200501.png" border="0" width="250" height="250" alt="OPPO Watch" style="vertical-align: bottom;"></a>
</div>
</div>
<div class="sep20"></div>
</div>
<div id="Main">
<div class="sep20"></div>
<div class="box" style="border-bottom: 0px;">
<div class="header"><div class="fr"><a href="https://www.v2ex.com/member/wsgzao"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/57018_large.png" class="avatar" border="0" align="default" alt="wsgzao"></a></div>
<a href="https://www.v2ex.com/">V2EX</a> <span class="chevron">&nbsp;›&nbsp;</span> <a href="https://www.v2ex.com/go/programmer">程序员</a>
<div class="sep10"></div>
<h1>CPU 优化建议使用 cpupower 设置 CPU Performance 模式</h1>
<div id="topic_528349_votes" class="votes">
<a href="javascript:" onclick="upVoteTopic(528349);" class="vote"><li class="fa fa-chevron-up"></li></a> &nbsp;<a href="javascript:" onclick="downVoteTopic(528349);" class="vote"><li class="fa fa-chevron-down"></li></a></div> &nbsp; <small class="gray"><a href="https://www.v2ex.com/member/wsgzao">wsgzao</a> · 2019-01-18 16:31:02 +08:00 · 3144 次点击</small>
</div>
<div class="outdated">这是一个创建于 497 天前的主题，其中的信息可能已经有所发展或是发生改变。</div>
<div class="cell">
<div class="topic_content"><div class="markdown_body"><h2>前言</h2>
<p>CPU 动态节能技术用于降低服务器功耗，通过选择系统空闲状态不同的电源管理策 略，可以实现不同程度降低服务器功耗，更低的功耗策略意味着 CPU 唤醒更慢对性能 影响更大。对于对时延和性能要求高的应用，建议关闭 CPU 的动态调节功能，禁止 CPU 休眠，并把 CPU 频率固定到最高。通常建议在服务器 BIOS 中修改电源管理为 Performance，如果发现 CPU 模式为 conservative 或者 powersave，可以使用 cpupower 设置 CPU Performance 模式，效果也是相当显著的。</p>
<blockquote>
<p>CPU 优化建议使用 cpupower 设置 CPU Performance 模式</p>
</blockquote>
<h2>更新历史</h2>
<p>2019 年 01 月 18 日 - 初稿</p>
<p>阅读原文 - <a href="https://wsgzao.github.io/post/cpupower/" rel="nofollow">https://wsgzao.github.io/post/cpupower/</a></p>
<p><strong>扩展阅读</strong></p>
<p>CPU frequency scaling - <a href="https://wiki.archlinux.org/index.php/CPU_frequency_scaling" rel="nofollow">https://wiki.archlinux.org/index.php/CPU_frequency_scaling</a></p>
<hr>
<h2>cpufreq 的五种模式</h2>
<p>cpufreq 是一个动态调整 cpu 频率的模块，系统启动时生成一个文件夹 /sys/devices/system/cpu/cpu0/cpufreq/，里面有几个文件，其中 scaling_min_freq 代表最低频率，scaling_max_freq 代表最高频率，scalin_governor 代表 cpu 频率调整模式，用它来控制 CPU 频率。</p>
<pre><code>cd /sys/devices/system/cpu/cpu0/cpufreq/

affected_cpus
bios_limit
cpuinfo_cur_freq
cpuinfo_max_freq
cpuinfo_min_freq
cpuinfo_transition_latency
freqdomain_cpus
related_cpus
scaling_available_frequencies
scaling_available_governors
scaling_cur_freq
scaling_driver
scaling_governor
scaling_max_freq
scaling_min_freq
scaling_setspeed

# 查看当前的调节器
cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
conservative

# 查看频率信息
cpupower frequency-info

analyzing CPU 0:
  driver: acpi-cpufreq
  CPUs which run at the same hardware frequency: 0
  CPUs which need to have their frequency coordinated by software: 0
  maximum transition latency: 10.0 us
  hardware limits: 800 MHz - 2.10 GHz
  available frequency steps:  2.10 GHz, 2.10 GHz, 2.00 GHz, 1.90 GHz, 1.80 GHz, 1.70 GHz, 1.60 GHz, 1.50 GHz, 1.40 GHz, 1.30 GHz, 1.20 GHz, 1.10 GHz, 1000 MHz, 900 MHz, 800 MHz
  available cpufreq governors: conservative userspace powersave ondemand performance
  current policy: frequency should be within 800 MHz and 2.10 GHz.
                  The governor "performance" may decide which speed to use
                  within this range.
  current CPU frequency: Unable to call hardware
  current CPU frequency: 2.10 GHz (asserted by call to kernel)
  boost state support:
    Supported: yes
    Active: yes

</code></pre>
<ol>
<li>performance: 顾名思义只注重效率，将 CPU 频率固定工作在其支持的最高运行频率上，而不动态调节。</li>
<li>Userspace:最早的 cpufreq 子系统通过 userspace governor 为用户提供了这种灵活性。系统将变频策略的决策权交给了用户态应用程序，并提供了相应的接口供用户态应用程序调节 CPU 运行频率使用。也就是长期以来都在用的那个模式。可以通过手动编辑配置文件进行配置</li>
<li>powersave: 将 CPU 频率设置为最低的所谓“省电”模式，CPU 会固定工作在其支持的最低运行频率上。因此这两种 governors 都属于静态 governor，即在使用它们时 CPU 的运行频率不会根据系统运行时负载的变化动态作出调整。这两种 governors 对应的是两种极端的应用场景，使用 performance governor 是对系统高性能的最大追求，而使用 powersave governor 则是对系统低功耗的最大追求。</li>
<li>ondemand: 按需快速动态调整 CPU 频率， 一有 cpu 计算量的任务，就会立即达到最大频率运行，等执行完毕就立即回到最低频率； ondemand：userspace 是内核态的检测，用户态调整，效率低。而 ondemand 正是人们长期以来希望看到的一个完全在内核态下工作并且能够以更加细粒度的时间间隔对系统负载情况进行采样分析的 governor。 在 ondemand governor 监测到系统负载超过 up_threshold 所设定的百分比时，说明用户当前需要 CPU 提供更强大的处理能力，因此 ondemand governor 会将 CPU 设置在最高频率上运行。但是当 ondemand governor 监测到系统负载下降，可以降低 CPU 的运行频率时，到底应该降低到哪个频率呢？ ondemand governor 的最初实现是在可选的频率范围内调低至下一个可用频率，例如 CPU 支持三个可选频率，分别为 1.67GHz、1.33GHz 和 1GHz，如果 CPU 运行在 1.67GHz 时 ondemand governor 发现可以降低运行频率，那么 1.33GHz 将被选作降频的目标频率。</li>
<li>conservative: 与 ondemand 不同，平滑地调整 CPU 频率，频率的升降是渐变式的,会自动在频率上下限调整，和 ondemand 的区别在于它会按需分配频率，而不是一味追求最高频率；</li>
</ol>
<h2>cpupower 设置 performance</h2>
<blockquote>
<p>从 conservative 或者 powersave 切换到 performance 的效果还是杠杠的</p>
</blockquote>
<pre><code># CentOS 安装 kernel-tools
yum install kernel-tools

# Ubuntu 安装 CPU 模式无图形化切换器
apt install cpufrequtils

# cpupower 设置 performance
cpupower frequency-set -g performance

# 查看当前的调节器
cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
performance

</code></pre>
<p><img src="https://wx3.sinaimg.cn/large/7207510dgy1fzat998mmvj21dc0ggdqx.jpg" alt=""></p>
</div></div>
</div>
</div>
<div class="sep20"></div>
<div id="no-comments-yet">
目前尚无回复
</div>
<div class="sep20"></div>
<div class="box">
<div class="inner"><a href="https://www.v2ex.com/tag/CPU" class="tag">CPU</a><a href="https://www.v2ex.com/tag/%E9%A2%91%E7%8E%87" class="tag">频率</a><a href="https://www.v2ex.com/tag/Ghz" class="tag">Ghz</a><a href="https://www.v2ex.com/tag/ondemand" class="tag">ondemand</a></div>
</div>
<div class="sep20"></div>
</div>
</div>
<div class="c"></div>
<div class="sep20"></div>
</div>
<div id="Bottom">
<div class="content">
<div class="inner">
<div class="sep10"></div>
<div class="fr">
<a href="https://www.digitalocean.com/?refcode=1b51f1a7651d" target="_blank"><div id="DigitalOcean"></div></a>
</div>
<strong><a href="https://www.v2ex.com/about" class="dark" target="_self">关于</a> &nbsp; <span class="snow">·</span> &nbsp; <a href="https://www.v2ex.com/faq" class="dark" target="_self">FAQ</a> &nbsp; <span class="snow">·</span> &nbsp; <a href="https://www.v2ex.com/p/7v9TEc53" class="dark" target="_self">API</a> &nbsp; <span class="snow">·</span> &nbsp; <a href="https://www.v2ex.com/mission" class="dark" target="_self">我们的愿景</a> &nbsp; <span class="snow">·</span> &nbsp; <a href="https://www.v2ex.com/advertise" class="dark" target="_self">广告投放</a> &nbsp; <span class="snow">·</span> &nbsp; <a href="https://www.v2ex.com/advertise/2019.html" class="dark" target="_self">感谢</a> &nbsp; <span class="snow">·</span> &nbsp; <a href="https://www.v2ex.com/tools" class="dark" target="_self">实用小工具</a> &nbsp; <span class="snow">·</span> &nbsp; 3043 人在线</strong> &nbsp; <span class="fade">最高记录 5168</span> &nbsp; <span class="snow">·</span> &nbsp; <a href="https://www.v2ex.com/select/language" class="f11"><img src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/language.png" width="16" align="absmiddle" id="ico-select-language"> &nbsp; Select Language</a>
<div class="sep20"></div>
创意工作者们的社区
<div class="sep5"></div>
World is powered by solitude
<div class="sep20"></div>
<span class="small fade">VERSION: 3.9.8.5 · 26ms · UTC 14:06 · PVG 22:06 · LAX 07:06 · JFK 10:06<br>♥ Do have faith in what you're doing.</span>
<div class="sep10"></div>
</div>
</div>
</div>
<script src="./CPU 优化建议使用 cpupower 设置 CPU Performance 模式 - V2EX_files/7wcYEvWToTOmJ0ZUY9RmxE0TGzhAjT3f4buFZzXX359WMd6XDzozqJrzNSl946SFYT9lp6rK34moNE2pvYaa2mI3MDIOOTzx85b56vyOwsOeP5FwHisRZQbNMwUMDPN14I6_UeqDF_OGAITZ1ldIshpd6G9b0rHs3VujXYg2gLw="></script>
<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-11940834-2', 'v2ex.com');
	  ga('send', 'pageview');
      

ga('send', 'event', 'Node', 'topic', 'programmer');



	</script>

</body></html>