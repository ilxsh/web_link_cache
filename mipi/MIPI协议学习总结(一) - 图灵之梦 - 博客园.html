
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="origin" />
    <meta property="og:description" content="一、MIPI 简介： MIPI（移动行业处理器接口）是Mobile Industry Processor Interface的缩写。MIPI是MIPI联盟发起的为移动应用处理器制定的开放标准。 已经完" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>MIPI协议学习总结(一) - 图灵之梦 - 博客园</title>
    
    <link rel="stylesheet" href="/css/blog-common.min.css?v=PyyhYDRKBG1sYtpoHme_xHO5AMd5iN57I45iBKF8FVY" />
    <link id="MainCss" rel="stylesheet" href="/skins/sea/bundle-sea.min.css?v=Jpv_XRZqv7HnW0FXxHohZmb1TG6nYuWdNSwqJML5lHA" />
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/sea/bundle-sea-mobile.min.css?v=-4OExnVPdVlJIE5mtY8fvmAoMkg2Kla_M46YgQFiCuo" />
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/EaIE099/rss" />
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/EaIE099/rsd.xml" />
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/EaIE099/wlwmanifest.xml" />
    <script src="https://common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script src="/js/blog-common.min.js?v=F-Iy-_Lj7VcUKRIvNkS6UZ5LItMqjh1_L0VZk9Yxfb8"></script>
    <script>
        var currentBlogId = 165290;
        var currentBlogApp = 'EaIE099';
        var cb_enable_mathjax = false;
        var isLogined = false;
    </script>
    
    
    
</head>
<body>
    <a name="top"></a>
    
    <!--done-->
<div id="header">
	
<!--done-->
<div class="header">
	<div class="headerText">
		<a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/EaIE099/">图灵之梦</a>
<br>
		


	</div>
</div>


</div>

<div id="mytopmenu">
	
		<div id="mylinks">
<a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
 &nbsp;

<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/EaIE099/">
首页</a>
 &nbsp;


<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
 &nbsp;

<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/%E5%9B%BE%E7%81%B5%E4%B9%8B%E6%A2%A6">
联系</a> &nbsp;

<a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/EaIE099/rss/">
订阅</a>
<a id="blog_nav_rss_image" href="https://www.cnblogs.com/EaIE099/rss/">
    <img src="/skins/sea/images/xml.gif" alt="订阅" />
</a>&nbsp;

<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>


</div>
		<DIV id="mystats">随笔-
17&nbsp;
评论-
0&nbsp;
文章-
0&nbsp;
<!--trackbacks-<partial name="./Shared/_PingTrackCount.cshtml" model="BlogServer.Web.Models.DetailBlogPage" />-->

</DIV>
	
</div>
<div id="centercontent">
	<div id="post_detail">
<div class="post">
	<h1 class = "postTitle">
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/EaIE099/p/5200341.html">MIPI协议学习总结(一)</a>
</h1>
	
<div id="cnblogs_post_body" class="blogpost-body ">
    <p><span style="font-size: 15px;"><strong>一、MIPI 简介：</strong></span></p>
<p>　　MIPI（移动行业处理器接口）是<span style="color: #0000ff;"><strong>Mobile Industry Processor Interface</strong></span>的缩写。MIPI是MIPI联盟发起的为移动应用处理器制定的开放标准。</p>
<p>&nbsp;</p>
<p>　　已经完成和正在计划中的规范如下：</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://images2015.cnblogs.com/blog/563521/201602/563521-20160219110111628-1387418174.png" alt="" /></p>
<p>&nbsp;</p>
<p align="left"><span style="font-size: 15px;"><strong>二、MIPI DSI规范：</strong></span></p>
<p align="left"><strong>1、名词解释</strong></p>
<p align="left">&bull; DCS (<strong><span style="color: #0000ff;">Display Command Set</span></strong>)：DCS是一个标准化的命令集，用于命令模式的显示模组。</p>
<p align="left">&bull; DSI, CSI (<strong><span style="color: #0000ff;">Display Serial Interface&nbsp;</span><span style="color: #0000ff;">,</span> <span style="color: #0000ff;">Camera Serial Interface</span></strong> )</p>
<p align="left">&bull; DSI 定义了一个位于处理器和显示模组之间的高速串行接口。</p>
<p align="left">&bull; CSI 定义了一个位于处理器和摄像模组之间的高速串行接口。</p>
<p align="left">&bull; D-PHY：提供DSI和CSI的物理层定义</p>
<p align="left"><strong>2、DSI分层结构</strong></p>
<p align="left">DSI分四层，对应D-PHY、DSI、DCS规范；分层结构图如下：</p>
<p align="left">&bull; <span style="color: #0000ff;">PHY Layer层</span>：定义了传输媒介，输入/输出电路和和时钟和信号机制。</p>
<p align="left">&bull; <span style="color: #0000ff;">Lane Management层：</span>发送和收集数据流到每条lane。</p>
<p align="left">&bull;<span style="color: #0000ff;"> Low Level Protocol层：</span>定义了如何组帧和解析以及错误检测等。</p>
<p align="left">&bull; <span style="color: #0000ff;">Application层</span>：描述高层编码和解析数据流</p>
<p align="left"><img style="display: block; margin-left: auto; margin-right: auto;" src="https://images2015.cnblogs.com/blog/563521/201602/563521-20160219110225691-2040328091.png" alt="" /></p>
<p align="left"><strong>3、Command和Video模式&nbsp;</strong><br />
&bull; DSI兼容的外设支持Command或Video操作模式，用哪个模式由外设的构架决定&nbsp;；<br />
&bull; Command模式是指采用发送命令和数据到具有显示缓存的控制器，主机通过命令间接的控制外设；Command模式采用双向接口&nbsp;；<br />
&bull; Video模式是指从主机传输到外设采用实时象素流，这种模式只能以高速传输，为减少复杂性和节约成本，只采用Video模式的系统可能只有一个单向数据路径；</p>
<p align="left">&nbsp;</p>
<p align="left"><span style="font-size: 15px;"><strong>三、D-PHY介绍&nbsp;</strong></span><br />
<strong>1、 D-PHY 描述了一同步、高速、低功耗、低代价的PHY。&nbsp;</strong><br />
一个 PHY配置包括&nbsp;:<br />
&nbsp;&nbsp;&nbsp; &bull; 一个时钟lane&nbsp;<br />
&nbsp;&nbsp;&nbsp; &bull; 一个或多个数据lane&nbsp;</p>
<p align="left"><strong>2、两个Lane的 PHY配置如下图 ：</strong></p>
<p align="left"><img style="display: block; margin-left: auto; margin-right: auto;" src="https://images2015.cnblogs.com/blog/563521/201602/563521-20160219110358644-114751174.png" alt="" /></p>
<p align="left">&nbsp;</p>
<p align="left"><strong>3、PHY由D-PHY(Lane模块)组成&nbsp;</strong><br />
&nbsp;D-PHY可能包含：&nbsp;<br />
&bull; 低功耗发送器（LP-TX）&nbsp;<br />
&bull; 低功耗接收器（LP-RX）&nbsp;<br />
&bull; 高速发送器（HS-TX）&nbsp;<br />
&bull; 高速接收器（HS-RX）&nbsp;<br />
&bull; 低功耗竞争检测器（LP-CD）</p>
<p align="left">&nbsp;</p>
<p align="left"><strong>4、三个主要的lane的类型&nbsp;:</strong><br />
&bull; 单向时钟Lane&nbsp;</p>
<p align="left"><strong><span style="color: #0000ff;">&bull; Master：HS-TX,
LP-TX&nbsp;</span></strong><br /><strong><span style="color: #0000ff;">
&bull; Slave：HS-RX,
LP-RX</span></strong></p>
<p align="left">&bull; 单向数据Lane&nbsp;</p>
<p align="left"><strong><span style="color: #0000ff;">&bull; Master：HS-TX,
LP-TX&nbsp;</span></strong></p>
<p align="left"><em id="__mceDel"><strong><span style="color: #0000ff;">
&bull; Slave：HS-RX,
LP-RX&nbsp;</span></strong><br />
&bull; 双向数据Lane&nbsp;</em></p>
<p align="left"><span style="color: #0000ff;"><strong>&bull; Master, Slave：HS-TX,
LP-TX, HS-RX, LP-RX, LP-CD&nbsp;</strong></span></p>
<p align="left">&nbsp;</p>
<p align="left"><strong>5、D-PHY的传输模式&nbsp;</strong><br />
&bull; <span style="color: #ff0000;"><strong>低功耗（Low-Power）信号模式</strong></span>（用于控制）：10MHz (max)&nbsp;<br />
&bull; <strong><span style="color: #ff0000;">高速（High-Speed）信号模式</span></strong>（用于高速数据传输）：80Mbps ~ 1Gbps/Lane&nbsp;<br />
&bull; D-PHY低层协议规定最小数据单位是一个字节&nbsp;<br />
&bull; 发送数据时必须低位在前，高位在后</p>
<p align="left"><strong>6、Lane状态和电压&nbsp;</strong><br />
&nbsp;Lane状态&nbsp;:<br />
&bull; LP-00, LP-01, LP-10, LP-11 (单端)&nbsp;<br />
&bull; HS-0, HS-1 (差分)&nbsp;<br />
&nbsp;Lane电压（典型）&nbsp;:<br />
&bull; LP：0-1.2V&nbsp;<br />
&bull; HS：100-300mV (200mV)&nbsp;</p>
<p align="left"><strong>7、操作模式&nbsp;</strong><br />
数据Lane的三种操作模式&nbsp;：<strong><span style="color: #ff0000;">Escape</span> </strong>mode,
<strong><span style="color: #ff0000;">High-Speed(Burst)</span></strong> mode, <span style="color: #ff0000;"><strong>Control
</strong></span>mode&nbsp;；<br />
从控制模式的停止状态开始的可能事件有：&nbsp;<br />
&bull; Escape mode request (LP-11&rarr;LP-10&rarr;LP-00&rarr;LP-01&rarr;LP-00)&nbsp;<br />
&bull; High-Speed mode request (LP-11&rarr;LP-01&rarr;LP-00)&nbsp;<br />
&bull; Turn around request (LP-11&rarr;LP-10&rarr;LP-00&rarr;LP-10&rarr;LP-00)&nbsp;</p>
<p>Escape mode是数据Lane在LP状态下的一种特殊操作&nbsp;，在这种模式下，可以进入一些额外的功能：LPDT、ULPS、Trigger&nbsp;，数据Lane进入Escape mode模式通过LP-11&rarr;LP-10&rarr;LP-00&rarr;LP-01&rarr;LP-00&nbsp;；<br />
一旦进入Escape mode模式，发送端必须发送1个8-bit的命令来响应请求的动作&nbsp;，Escape mode 使用Spaced-One-Hot Encoding&nbsp;<br />
&bull;超低功耗状态（Ultra-Low Power State）&nbsp;这个状态下，lines处于空状态 (LP-00)&nbsp;<br />
&bull;时钟Lane的超低功耗状态&nbsp;：<br />
&bull;时钟Lane通过LP-11&rarr;LP-10&rarr;LP-00进入ULPS状态&nbsp;<br />
&bull;通过LP-10 &rarr; TWAKEUP &rarr;LP-11退出这种状态，最小TWAKEUP时间为1ms&nbsp;<br />
&bull; 高速数据传输&nbsp;<br />
&bull;发送高速串行数据的行为称为高速数据传输或触发（burst）&nbsp;<br />
&bull;全部Lanes门同步开始，结束的时间可能不同。&nbsp;<br />
&bull;时钟应该处于高速模式&nbsp;<br />
&bull; 各模操作式下的传输过程&nbsp;<br />
&bull;进入Escape模式的过程 ：LP-11&rarr;LP-10&rarr;LP-00&rarr;LP-01&rarr;LP-00&rarr;Entry Code &rarr;
LPD (10MHz)&nbsp;<br />
&bull;退出Escape模式的过程：LP-10&rarr;LP-11&nbsp;<br />
&bull;进入高速模式的过程：LP-11&rarr;LP-01&rarr;LP-00&rarr;SoT(00011101) &rarr; HSD
(80Mbps ~ 1Gbps)&nbsp;<br />
&bull;退出高速模式的过程：EoT&rarr;LP-11&nbsp;<br />
&bull;控制模式 - BTA 传输过程：LP-11&rarr;LP-10&rarr;LP-00&rarr;LP-10&rarr;LP-00&nbsp;<br />
&bull;控制模式 - BTA 接收过程：LP-00&rarr;LP-10&rarr;LP-11&nbsp;</p>
<p>状态转换关系图：</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://images2015.cnblogs.com/blog/563521/201602/563521-20160219110625128-477447719.png" alt="" /></p>
<p><span style="font-size: 15px;"><strong>四、DSI介绍</strong></span></p>
<p><strong>1、DSI是一种Lane可扩展的接口，1个时钟Lane/1-4个数据Lane&nbsp;</strong><br />
&bull; DSI兼容的外设支持1个或2个基本的操作模式：&nbsp;<br />
&bull; Command Mode（类似于MPU接口）&nbsp;<br />
&bull; Video Mode（类似于RGB接口）- 必须用高速模式传输数据，支持3种格式的数据传输&nbsp;<br />
&bull; Non-Burst 同步脉冲模式&nbsp;</p>
<p>


&bull;
Non-Burst 同步事件模式&nbsp;<br />
&bull; Burst模式&nbsp;</p>
<p>&bull; 高速信号模式（High-Speed signaling mode）&nbsp;<br />
&bull; 低功耗信号模式（Low-Power signaling mode） - 只使用数据lane 0（时钟是由DP，DN异或而来）</p>
<p>&nbsp;帧类型&nbsp;：<br />
&bull; 短帧：4 bytes (固定)&nbsp;<br />
&bull; 长帧：6~65541 bytes (可变)&nbsp;</p>
<p>


两个数据Lane高速传输示例 ：</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://images2015.cnblogs.com/blog/563521/201602/563521-20160219110713409-789626148.png" alt="" /></p>
<p>&nbsp;</p>
<p><strong>2、短帧结构&nbsp;</strong><br />
&bull; 帧头部（4个字节）&nbsp;<br />
&bull; 数据标识(DI) 1个字节&nbsp;<br />
&bull; 帧数据- 2个字节
（长度固定为2个字节）&nbsp;<br />
&bull; 错误检测(ECC) 1个字节&nbsp;<br />
&bull; 帧大小&nbsp;<br />
&bull; 长度固定为4个字节&nbsp;</p>
<p>


<br />
<strong>3、长帧结构&nbsp;</strong><br />
&bull; 帧头部（4个字节）&nbsp;<br />
&bull; 数据标识(DI) 1个字节&nbsp;<br />
&bull; 数据计数- 2个字节 （数据填充的个数）&nbsp;</p>
<p>&bull; 错误检测(ECC) 1个字节&nbsp;<br />
&bull;数据填充(0~65535 字节)&nbsp;<br />
&bull; 长度=WC*字节&nbsp;<br />
&bull; 帧尾：校验和（2个字节）&nbsp;<br />
帧大小：&nbsp; 4 + (0~65535) + 2 = 6 ~ 65541 字节</p>
<p>&nbsp;</p>
<p><strong>4、数据帧类型</strong></p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://images2015.cnblogs.com/blog/563521/201602/563521-20160219110919628-1089351933.png" alt="" /></p>
<p>&nbsp;</p>
<p>传输模式和操作模式是不同的概念，Video Mode操作模式下必须使用High-Speed的传输模式 ，Command Mode操作模式并没有规定使用High-Speed或Low Power的传输模式，即使外部LCD模组为Video Mode，但通常在LCD模组初始化时还是使用Command Mode模式来读写寄存器，因为在低速下数据不容易出错并且容易测量。Video Mode也可以用High-Speed的方式来发送指令，Command Mode操作模式也可以使用High-Speed，只是没有必要这么做。</p>
<p>&nbsp;</p>
<p>本文参考博客:<span style="color: #0000ff;">&nbsp;http://blog.csdn.net/qq160816/article/details/19555957</span></p>
<p>&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
    <div id="blog_post_info"></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
	<div class="postDesc">posted on 
<span id="post-date">2016-02-19 11:19</span>&nbsp;
<a href="https://www.cnblogs.com/EaIE099/">图灵之梦</a>&nbsp;
阅读(<span id="post_view_count">...</span>)&nbsp;
评论(<span id="post_comment_count">...</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=5200341" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(5200341);return false;">收藏</a></div>
</div>


<script src="https://common.cnblogs.com/highlight/9.12.0/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 165290, cb_blogApp = 'EaIE099', cb_blogUserGuid = '2d50ce1c-fb12-e311-8d02-90b11c0b17d6';
    var cb_entryId = 5200341, cb_entryCreatedDate = '2016-02-19 11:19', cb_postType = 1; 
    loadViewCount(cb_entryId);
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container"></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;"></div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;">
            <script>
                if (new Date() >= new Date(2018, 9, 13)) {
                    googletag.cmd.push(function () { googletag.display("div-gpt-ad-1539008685004-0"); });
                }
            </script>
        </div>
    </div>
    <div id="under_post_kb"></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div></div>


</div>
<div id="leftcontent">
	
		<DIV id="leftcontentcontainer">
			
<div id="sidebar_news" class="newsItem">
            <script>loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style="display:none"></div></div>                
                    <script>loadBlogDefaultCalendar();</script><br>
			<div id="blog-sidecolumn"></div>
                    <script>loadBlogSideColumn();</script></DIV>
	
</div>
<!--done-->
<div class="footer">
	Powered by: <a href="http://www.cnblogs.com">博客园</a>	模板提供：<a href="http://blog.hjenglish.com">沪江博客</a>
	Copyright &copy; 2020 图灵之梦
<br /><span id="poweredby">Powered by .NET Core 3.1.0 on Linux</span>

</div>






    
</body>
</html>