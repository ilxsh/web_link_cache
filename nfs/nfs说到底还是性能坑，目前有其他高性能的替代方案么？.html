<!DOCTYPE HTML>
<!--STATUS OK-->
<meta http-equiv="Content-Type" content="text/html;charset=gb2312">
<base href="http://m.newsmth.net/article/LinuxApp/946242">
<style>
body{position:relative}
body,form{margin:0!important;padding:0!important}
#bd_snap{font:13px arial;color:#000;background:#fff;text-align:left;padding:13px 0 0 20px}
#bd_snap_txt{clear:both;padding:10px 0 2px;line-height:24px;color:#333}
#bd_snap_note{color:#999;padding-bottom:10px}
#bd_snap a{font:13px arial;color:#00c;text-decoration:underline}
#bd_snap_note a{color:#999}
#bd_snap_head{width:860px;height:44px}
#bd_snap_logo{width:162px;height:38px;display:block;background:url(http://www.baidu.com/img/logo-snap.png) no-repeat;margin-right:15px;float:left}
#bd_snap_search{width:680px;position:absolute;left:209px;top:17px}
#bd_snap_kw{width:531px;margin-right: 0;height:24px;padding:4px 7px;padding:6px 7px 2px\9;font:16px arial;vertical-align:top;border: 1px solid #b6b6b6;border-color: #7b7b7b #b6b6b6 #b6b6b6 #7b7b7b;background: #fff;display:inline-block;border-right-width: 0;border-color: #b8b8b8 transparent #ccc #b8b8b8;overflow: hidden;outline:0}
#bd_snap_kw:hover{border-color: #999 transparent #b3b3b3 #999;}
#bd_snap_kw:focus{border-color: #4791ff transparent #4791ff #4791ff}
#bd_snap_su{width:100px;height:34px;font-size:14px;color:#fff;padding:0;letter-spacing: 1px;background: #3385ff; border-bottom: 1px solid #2d78f4;outline: medium;-webkit-appearance: none;-webkit-border-radius: 0;cursor:pointer;border:0}
#bd_snap_search input.bd_snap_btn_h{background: #3075dc;box-shadow: inset 1px 1px 3px #2964bb;-webkit-box-shadow: inset 1px 1px 3px #2964bb;-moz-box-shadow: inset 1px 1px 3px #2964bb;-o-box-shadow: inset 1px 1px 3px #2964bb;}
#bd_snap_search input.btnhover{background: #317ef3;border-bottom: 1px solid #2868c8;box-shadow: 1px 1px 1px #ccc;}
#bd_snap_btn_wr{width:97px;height:34px;display:inline-block;_top:1px;*position:relative}
#bd_snap_ln{height:1px;border-top:1px solid #ACA899;background:#ECE9D8;overflow:hidden}
#bd_snap_txt span a{text-decoration:none}
</style>


<div id="bd_snap">
    <div id="bd_snap_head">
        <a href="http://www.baidu.com/" id="bd_snap_logo" title="到百度首页"></a>
    </div>
    <div id="bd_snap_txt">您查询的关键词是：<span><a style='color:black;background-color:#ffff66;padding:0 3px;font-weight:bold' href=http://cache.baiducontent.com/c?m=9d78d513d99f15ee4fede5697b14c0101f43f1652ba1a1013894cd47c9221d03506790a63a7d0704a4992b2240f00f06fdf0412e60453de4db8ed31b83ec8f5674d4607e035ec45c19d51dafcd46&p=c374e715d9c246e410be9b7c5b5e&newp=8a77c54ad7c401eb0be2963e494392695d0fc20e3adcd101298ffe0cc4241a1a1a3aecbf22261702d1cf7a6601a54e5ae1f031723d0034f1f689df08d2ecce7e6fcc&user=baidu&fm=sc&query=nfs+%D0%D4%C4%DC&qid=ea00e3e100013195&p1=1#baidusnap0>nfs</a><a style='color:black;background-color:#A0FFFF;padding:0 3px;font-weight:bold' href=http://cache.baiducontent.com/c?m=9d78d513d99f15ee4fede5697b14c0101f43f1652ba1a1013894cd47c9221d03506790a63a7d0704a4992b2240f00f06fdf0412e60453de4db8ed31b83ec8f5674d4607e035ec45c19d51dafcd46&p=c374e715d9c246e410be9b7c5b5e&newp=8a77c54ad7c401eb0be2963e494392695d0fc20e3adcd101298ffe0cc4241a1a1a3aecbf22261702d1cf7a6601a54e5ae1f031723d0034f1f689df08d2ecce7e6fcc&user=baidu&fm=sc&query=nfs+%D0%D4%C4%DC&qid=ea00e3e100013195&p1=1#baidusnap1>性能</a></span>  
        <p>如果打开速度慢，可以尝试<a href="http://cache.baiducontent.com/c?m=9d78d513d99f15ee4fede5697b14c0101f43f1652ba1a1013894cd47c9221d03506790a63a7d0704a4992b2240f00f06fdf0412e60453de4db8ed31b83ec8f5674d4607e035ec45c19d51dafcd46&p=c374e715d9c246e410be9b7c5b5e&newp=8a77c54ad7c401eb0be2963e494392695d0fc20e3adcd101298ffe0cc4241a1a1a3aecbf22261702d1cf7a6601a54e5ae1f031723d0034f1f689df08d2ecce7e6fcc&user=baidu&fm=sc&query=nfs+%D0%D4%C4%DC&qid=ea00e3e100013195&p1=1&fast=y">快速版</a>；如果想更新或删除快照，可以<a href="http://tousu.baidu.com/webmaster/add" id="bd_tousu">投诉快照</a>。
        </p>
    </div>
<script>document.getElementById('bd_tousu').href = 'http://help.baidu.com/newadd?prod_id=1&category=1&link=' + encodeURIComponent(document.location);</script>
    <div id="bd_snap_note">百度和网页 <a href="http://m.newsmth.net/article/LinuxApp/946242">http://m.newsmth.net/article/LinuxApp/946242</a> 的作者无关，不对其内容负责。百度快照谨为网络故障时之索引，不代表被搜索网站的即时页面。</div>
</div>
<div id="bd_snap_search">
	<form action="http://www.baidu.com/s"><input name="cl" type="hidden" value="3"><input name="wd" id="bd_snap_kw" maxlength="100" ><span id="bd_snap_btn_wr"><input type="submit" id="bd_snap_su" value="百度一下" class="bd_snap_btn" onmouseover="this.className='bd_snap_btn bd_snap_btn_h'" onmousedown="this.className='bd_snap_btn btnhover'" onmouseup="this.className='bd_snap_btn'" onmouseout="this.className='bd_snap_btn'"></span></form>
</div>
<div id="bd_snap_ln"></div>
<div style="position:relative">
<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="cn"><head><meta name="viewport" content="width=device-width,user-scalable=yes"><meta name="apple-mobile-web-app-capable" content="yes"><title>nfs说到底还是性能坑，目前有其他高性能的替代方案么？</title><link rel="stylesheet" type="text/css" href="//images.newsmth.net/nForum/plugins/mobile/ccss/m.css" /></head><body><div id="wraper" style="width:100%"><div class="logo sp">水木社区手机版</div><!--<div class="logo sp"><a href="http://create.maka.im/k/RWS66T95" target="_blank">水木20周年站庆大派对！抽奖到手软！将狂欢进行到底！</a></div>--><div class="menu sp"><a href="/" accesskey="0">首页</a>|版面-Linux系统与应用(LinuxApp)</div><div id="m_main"><div class="sec nav"><a href="/board/LinuxApp">返回</a></div><div class="sec nav"><form action="/article/LinuxApp/946242" method="get"><a href="/article/LinuxApp/946242?p=2">下页</a>|<a href="/article/LinuxApp/946242?p=9">尾页</a>|<a class="plant">1/9</a>|<a class="plant">转到&nbsp;<input type="text" name="p" size="2" />&nbsp;<input type="submit" value="GO" class="btn" /></a></form></div><ul class="list sec"><li class="f">主题:<a name=baidusnap0></a><B style='color:black;background-color:#ffff66'>nfs</B>说到底还是<a name=baidusnap1></a><B style='color:black;background-color:#A0FFFF'>性能</B>坑，目前有其他高<B style='color:black;background-color:#A0FFFF'>性能</B>的替代方案么？</li><!--<li style="display:none"><a name="a0"></a><div class="nav hl"><div><a class="plant">楼主</a>|<a href="/user/query/i00i">i00i</a>|<a class="plant">2019-07-02 08:41:20</a>|<a href="/article/LinuxApp/946242?au=i00i">只看此ID</a></div><div tid="946242"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li><a name="a000"></a><div class="nav hl"><div><a class="plant">楼主</a>|<a href="/user/query/i00i">i00i</a>|<a class="plant">2019-07-02 08:41:20</a>|<a href="/article/LinuxApp/946242?au=i00i">只看此ID</a></div><div tid="946242"></div></div><div class="sp">这种古老的文件共享协议，，mount到远程之后比native弱太多了，<br/>轻度使用没问题，一旦重度使用，会导致客户端iowait飙高，<br/>这一点去年我提出过讨论，不过当时聚焦在<B style='color:black;background-color:#ffff66'>nfs</B>的底层文件系统上。<br/><br/>还有什么产品/协议能提供高<B style='color:black;background-color:#A0FFFF'>性能</B>的文件共享服务么？<br/>目的就是把服务端的目录mount到客户端当local磁盘用，<br/>场景是数百万的小文件一次写入N次读取（文件大小几十K到几M，几十K级别的占大多数）。<br/>另外，据说某个Linux大厂私有闭源版本的<B style='color:black;background-color:#ffff66'>nfs</B><B style='color:black;background-color:#A0FFFF'>性能</B>不错？<br>--<br />修改:i00i FROM 221.218.65.*<br />FROM 221.218.65.*</div></li><!--<li style="display:none"><a name="a1"></a><div class="nav hl"><div><a class="plant">1楼</a>|<a href="/user/query/i00i">i00i</a>|<a class="plant">2019-07-02 08:52:22</a>|<a href="/article/LinuxApp/946242?au=i00i">只看此ID</a></div><div tid="946243"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li class="hla"><a name="a001"></a><div class="nav hl"><div><a class="plant">1楼</a>|<a href="/user/query/i00i">i00i</a>|<a class="plant">2019-07-02 08:52:22</a>|<a href="/article/LinuxApp/946242?au=i00i">只看此ID</a></div><div tid="946243"></div></div><div class="sp">话说记得之前有大佬推荐过<B style='color:black;background-color:#ffff66'>NFS</B> Ganesha？差点忘了。。<br>--<br />FROM 221.218.65.*</div></li><!--<li style="display:none"><a name="a2"></a><div class="nav hl"><div><a class="plant">2楼</a>|<a href="/user/query/Erlang">Erlang</a>|<a class="plant">2019-07-02 09:05:19</a>|<a href="/article/LinuxApp/946242?au=Erlang">只看此ID</a></div><div tid="946245"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li><a name="a002"></a><div class="nav hl"><div><a class="plant">2楼</a>|<a href="/user/query/Erlang">Erlang</a>|<a class="plant">2019-07-02 09:05:19</a>|<a href="/article/LinuxApp/946242?au=Erlang">只看此ID</a></div><div tid="946245"></div></div><div class="sp">juicefs&nbsp;&nbsp;<br/>&nbsp;&nbsp;<br/>【 在 i00i (烟灰・独孤求胖) 的大作中提到: 】<br/>: <br/>:&nbsp;&nbsp;这种古老的文件共享协议，，mount到远程之后比native弱太多了， <br/>:&nbsp;&nbsp;轻度使用没问题，一旦重度使用，会导致客户端iowait飙高， <br/>:&nbsp;&nbsp;这一点去年我提出过讨论，不过当时聚焦在<B style='color:black;background-color:#ffff66'>nfs</B>的底层文件系统上。 <br>--<br />FROM 124.202.180.*</div></li><!--<li style="display:none"><a name="a3"></a><div class="nav hl"><div><a class="plant">3楼</a>|<a href="/user/query/i00i">i00i</a>|<a class="plant">2019-07-02 10:34:30</a>|<a href="/article/LinuxApp/946242?au=i00i">只看此ID</a></div><div tid="946247"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li class="hla"><a name="a003"></a><div class="nav hl"><div><a class="plant">3楼</a>|<a href="/user/query/i00i">i00i</a>|<a class="plant">2019-07-02 10:34:30</a>|<a href="/article/LinuxApp/946242?au=i00i">只看此ID</a></div><div tid="946247"></div></div><div class="sp">感谢推荐噢。<br/>不过我要找的是能在自己的服务器部署的方案诶，juicefs只是提供云端存储服务吧？<br/><br/>【 在 Erlang 的大作中提到: 】<br/>: juicefs&nbsp;&nbsp;<br>--<br />FROM 118.144.132.*</div></li><!--<li style="display:none"><a name="a4"></a><div class="nav hl"><div><a class="plant">4楼</a>|<a href="/user/query/laputa2013">laputa2013</a>|<a class="plant">2019-07-02 10:58:57</a>|<a href="/article/LinuxApp/946242?au=laputa2013">只看此ID</a></div><div tid="946248"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li><a name="a004"></a><div class="nav hl"><div><a class="plant">4楼</a>|<a href="/user/query/laputa2013">laputa2013</a>|<a class="plant">2019-07-02 10:58:57</a>|<a href="/article/LinuxApp/946242?au=laputa2013">只看此ID</a></div><div tid="946248"></div></div><div class="sp">你评测出的<B style='color:black;background-color:#A0FFFF'>性能</B>差多少啊？<br/><br/>【 在 i00i (烟灰・独孤求胖) 的大作中提到: 】<br/>: 这种古老的文件共享协议，，mount到远程之后比native弱太多了，<br/>: 轻度使用没问题，一旦重度使用，会导致客户端iowait飙高，<br/>: 这一点去年我提出过讨论，不过当时聚焦在<B style='color:black;background-color:#ffff66'>nfs</B>的底层文件系统上。<br/>: ...................<br>--<br />修改:laputa2013 FROM 106.120.188.*<br />FROM 106.120.188.*</div></li><!--<li style="display:none"><a name="a5"></a><div class="nav hl"><div><a class="plant">5楼</a>|<a href="/user/query/i00i">i00i</a>|<a class="plant">2019-07-02 11:19:29</a>|<a href="/article/LinuxApp/946242?au=i00i">只看此ID</a></div><div tid="946249"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li class="hla"><a name="a005"></a><div class="nav hl"><div><a class="plant">5楼</a>|<a href="/user/query/i00i">i00i</a>|<a class="plant">2019-07-02 11:19:29</a>|<a href="/article/LinuxApp/946242?au=i00i">只看此ID</a></div><div tid="946249"></div></div><div class="sp">还没正式测试，不过每秒几十个read，iowait就已经很高了。<br/>现在有个瓶颈是底层文件系统导致的，基于普通磁盘构建的ceph提供的块设备，本身iops<B style='color:black;background-color:#A0FFFF'>性能</B>就很弱。<br/>可能我解决这个瓶颈之后，测试才有可比性，比如物理盘+<B style='color:black;background-color:#ffff66'>nfs</B>跟物理盘比。<br/>但是<B style='color:black;background-color:#ffff66'>nfs</B>协议的限制，一次文件读取实际落到<B style='color:black;background-color:#ffff66'>nfs</B>所在os文件系统的操作肯定是比直接在os上操作多很多。。<br/><br/>【 在 laputa2013 的大作中提到: 】<br/>: 你评测出的<B style='color:black;background-color:#A0FFFF'>性能</B>差多少啊？<br/>: <br>--<br />FROM 118.144.132.*</div></li><!--<li style="display:none"><a name="a6"></a><div class="nav hl"><div><a class="plant">6楼</a>|<a href="/user/query/lvsoft">lvsoft</a>|<a class="plant">2019-07-02 11:20:19</a>|<a href="/article/LinuxApp/946242?au=lvsoft">只看此ID</a></div><div tid="946250"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li><a name="a006"></a><div class="nav hl"><div><a class="plant">6楼</a>|<a href="/user/query/lvsoft">lvsoft</a>|<a class="plant">2019-07-02 11:20:19</a>|<a href="/article/LinuxApp/946242?au=lvsoft">只看此ID</a></div><div tid="946250"></div></div><div class="sp">哪个远程文件系统跟native比不是弱爆了啊？<br/><br/>我的pc机就没有本地硬盘，万兆网<B style='color:black;background-color:#ffff66'>nfs</B>远程的，我跑了多少年了哪有这么多事。<br/><br/>【 在 i00i (烟灰・独孤求胖) 的大作中提到: 】<br/>: 这种古老的文件共享协议，，mount到远程之后比native弱太多了，<br/>: 轻度使用没问题，一旦重度使用，会导致客户端iowait飙高，<br/>: 这一点去年我提出过讨论，不过当时聚焦在<B style='color:black;background-color:#ffff66'>nfs</B>的底层文件系统上。<br/>: ...................<br>--<br />修改:lvsoft FROM 117.136.67.*<br />FROM 117.136.67.*</div></li><!--<li style="display:none"><a name="a7"></a><div class="nav hl"><div><a class="plant">7楼</a>|<a href="/user/query/lvsoft">lvsoft</a>|<a class="plant">2019-07-02 11:21:09</a>|<a href="/article/LinuxApp/946242?au=lvsoft">只看此ID</a></div><div tid="946251"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li class="hla"><a name="a007"></a><div class="nav hl"><div><a class="plant">7楼</a>|<a href="/user/query/lvsoft">lvsoft</a>|<a class="plant">2019-07-02 11:21:09</a>|<a href="/article/LinuxApp/946242?au=lvsoft">只看此ID</a></div><div tid="946251"></div></div><div class="sp">iowait高就对了。<br/>毕竟是远程系统，延迟摆在那里。要么你折腾rdma，我是没折腾过不过据说用rdma可以<br/>获得跟native相似的体验。<br/><br/>【 在 i00i (烟灰・独孤求胖) 的大作中提到: 】<br/>: 还没正式测试，不过每秒几十个read，iowait就已经很高了。<br/>: 现在有个瓶颈是底层文件系统导致的，基于普通磁盘构建的ceph提供的块设备，本身<br/>iops<B style='color:black;background-color:#A0FFFF'>性能</B>就很弱。<br/>: 可能我解决这个瓶颈之后，测试才有可比性，比如物理盘+<B style='color:black;background-color:#ffff66'>nfs</B>跟物理盘比。<br/>: ...................<br>--<br />修改:lvsoft FROM 117.136.67.*<br />FROM 117.136.67.*</div></li><!--<li style="display:none"><a name="a8"></a><div class="nav hl"><div><a class="plant">8楼</a>|<a href="/user/query/lu1">lu1</a>|<a class="plant">2019-07-02 11:32:27</a>|<a href="/article/LinuxApp/946242?au=lu1">只看此ID</a></div><div tid="946252"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li><a name="a008"></a><div class="nav hl"><div><a class="plant">8楼</a>|<a href="/user/query/lu1">lu1</a>|<a class="plant">2019-07-02 11:32:27</a>|<a href="/article/LinuxApp/946242?au=lu1">只看此ID</a></div><div tid="946252"></div></div><div class="sp">smb<br/>windows，linux通用<br/><br/><br/><br/><br/>【 在 i00i (烟灰・独孤求胖) 的大作中提到: 】<br/>: 这种古老的文件共享协议，，mount到远程之后比native弱太多了，<br/>: 轻度使用没问题，一旦重度使用，会导致客户端iowait飙高，<br/>: 这一点去年我提出过讨论，不过当时聚焦在<B style='color:black;background-color:#ffff66'>nfs</B>的底层文件系统上。<br/>: ...................<br>--<br />FROM 43.224.46.*</div></li><!--<li style="display:none"><a name="a9"></a><div class="nav hl"><div><a class="plant">9楼</a>|<a href="/user/query/lvsoft">lvsoft</a>|<a class="plant">2019-07-02 11:33:51</a>|<a href="/article/LinuxApp/946242?au=lvsoft">只看此ID</a></div><div tid="946253"></div></div><div class="sp">请点击<a href="https://m.newsmth.net/article/LinuxApp/946242?p=">本站链接</a></div></li>--><li class="hla"><a name="a009"></a><div class="nav hl"><div><a class="plant">9楼</a>|<a href="/user/query/lvsoft">lvsoft</a>|<a class="plant">2019-07-02 11:33:51</a>|<a href="/article/LinuxApp/946242?au=lvsoft">只看此ID</a></div><div tid="946253"></div></div><div class="sp">smb<B style='color:black;background-color:#A0FFFF'>性能</B>远比<B style='color:black;background-color:#ffff66'>nfs</B>糟糕<br/>【 在 lu1 (^_^) 的大作中提到: 】<br/>: smb<br/>: windows，linux通用<br>--<br />FROM 117.136.67.*</div></li></ul><div class="article_down_ad" style="border-top: 1px solid #999; border-bottom: 2px solid #998; width:100%"><div id="article_down_ad"></div></div><div class="sec nav"><form action="/article/LinuxApp/946242" method="get"><a href="/article/LinuxApp/946242?p=2">下页</a>|<a href="/article/LinuxApp/946242?p=9">尾页</a>|<a class="plant">1/9</a>|<a class="plant">转到&nbsp;<input type="text" name="p" size="2" />&nbsp;<input type="submit" value="GO" class="btn" /></a></form></div>	<div class="sec sp"><form action="/go" method="get"><span class="f">选择讨论区</span><br /><input type="text" name="name" />&nbsp;<input type="submit" value="GO" class="btn" /></form></div></div><div class="menu nav"><a href="/" accesskey="0">首页</a>|<a href="/section" accesskey="2">分区</a>|<a href="/hot" accesskey="3">热推</a>|<a href="http://mall.newsmth.net?from=m" accesskey="10" target="_blank">积分商城</a></div><div class="logo sp">BYR-Team<span class="copyright">&copy;</span>2010. KBS Dev-Team<span class="copyright">&copy;</span>2011&nbsp;<a href="http://www.newsmth.net/ncr">登录完整版</a>&nbsp;</div></div></body></html>
</div>



