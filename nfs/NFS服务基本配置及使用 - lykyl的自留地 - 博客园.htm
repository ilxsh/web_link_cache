<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="origin" />
    <meta property="og:description" content="NFS服务基本配置及使用" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>NFS服务基本配置及使用 - lykyl的自留地 - 博客园</title>
    <link id="favicon" rel="shortcut icon" href="//common.cnblogs.com/favicon.ico?v=20200522" type="image/x-icon" />
    
    <link rel="stylesheet" href="/css/blog-common.min.css?v=OkWhT11pACV4T_PiDJL8x9WKPwjvEyWNCWQ475DeMM0" />
    <link id="MainCss" rel="stylesheet" href="/skins/custom/bundle-custom.min.css?v=1ssrnY3Il79Ok472qeVrpxlSprSXcHhYPgZC5S3wtVM" />
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/custom/bundle-custom-mobile.min.css?v=wsLKgGFiPwFPkXzY869GudFwZdBrxekpWhBXpTzF1xc" />
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/lykyl/rss" />
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/lykyl/rsd.xml" />
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/lykyl/wlwmanifest.xml" />
    <script src="https://common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script src="/js/blog-common.min.js?v=vV4imX1ebLq2xPxSzhr9B0eW28ml5Xc7CSXMptQoB78"></script>
    <script>
        var currentBlogId = 2811;
        var currentBlogApp = 'lykyl';
        var cb_enable_mathjax = false;
        var isLogined = false;
        var skinName = 'Custom';
    </script>
    
    
    
</head>
<body>
    <a name="top"></a>
    
    
<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
        <a id="lnkBlogLogo" href="https://www.cnblogs.com/lykyl/"><img id="blogLogo" src="/skins/custom/images/logo.gif" alt="返回主页" /></a>		
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/lykyl/">lykyl的自留地</a>
</h1>
<h2>
杂七杂八
</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
</li>
<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/lykyl/">
首页</a>
</li>
<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/lykyl%E7%9A%84%E8%87%AA%E7%95%99%E5%9C%B0">
联系</a></li>
<li>
<a id="blog_nav_rss" class="menu" href="javascript:void(0)" data-rss="https://www.cnblogs.com/lykyl/rss/">
订阅</a>
<!--<partial name="./Shared/_XmlLink.cshtml" model="Model" /></li>--></li>
<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
</ul>


		<div class="blogStats">
			
			<span id="stats_post_count">随笔 - 
54&nbsp; </span>
<span id="stats_article_count">文章 - 
4&nbsp; </span>
<span id="stats-comment_count">评论 - 
31</span>

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="post_detail">
    <!--done-->
    <div id="topics">
        <div class="post">
            <h1 class = "postTitle">
                
<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/lykyl/archive/2013/06/14/3136921.html">NFS服务基本配置及使用</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                
    <div id="cnblogs_post_description" style="display: none">
        NFS服务基本配置及使用
    </div>
<div id="cnblogs_post_body" class="blogpost-body ">
    <div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">一、安装</span><br clear="none" /><span style="font-size: 14px;">
CENTOS或RHL默认就已安装，如果没有安装的话，通过yum安装即可：</span><br clear="none" /><span style="font-size: 14px;">
yum install nfs-utils</span><br clear="none" /><span style="font-size: 14px;">
yum install portmap</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">&nbsp;</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">UBUNTU系统，通过apt-get安装：</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">apt-get install&nbsp; nfs-kernel-server</span><br clear="none" /><br clear="none" /><span style="font-size: 14px;">
二、配置</span><br clear="none" /><span style="font-size: 14px;">
1、配置文件定义</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">NFS的配置文件为 /etc/exports,内容格式如下：</span><br clear="none" /><span style="font-size: 14px;">
&lt;共享目录&gt; 客户端1(选项) [客户端2(选项) ...]</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">&nbsp;共享目录：NFS共享给客户机的目录。</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">&nbsp;客户端：网络中可以访问此目录的主机。多个客户端以空格分隔。</span><br clear="none" /><span style="font-size: 14px;">
&nbsp;选项：设置目录的访问权限、用户映射等，多个选项以逗号分隔。</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">例如：</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">/opt/public 192.168.1.0/24(rw,insecure,sync,all_squash,anonuid= 65534,anongid=65534)</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><br clear="none" />
<div><span style="font-size: 14px;">2、客户端的指定方式</span><br clear="none" /><span style="font-size: 14px;">
指定ip地址的主机：192.168.0.100</span><br clear="none" /><span style="font-size: 14px;">
指定子网中的所有主机：192.168.0.0/24 或 192.168.0.0/255.255.255.0</span><br clear="none" /><span style="font-size: 14px;">
指定域名的主机：nfs.test.com</span><br clear="none" /><span style="font-size: 14px;">
指定域中的所有主机：*.test.com</span></div>
<div><span style="font-size: 14px;">所有主机：*</span></div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<span style="font-size: 14px;">


3、选项说明</span><br clear="none" /><span style="font-size: 14px;">
ro：共享目录只读；</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">rw：共享目录可读可写；</span><br clear="none" /><span style="font-size: 14px;">
all_squash：所有访问用户都映射为匿名用户或用户组；</span><br clear="none" /><span style="font-size: 14px;">
no_all_squash（默认）：访问用户先与本机用户匹配，匹配失败后再映射为匿名用户或用户组；</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">root_squash（默认）：将来访的root用户映射为匿名用户或用户组；</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">no_root_squash：来访的root用户保持root帐号权限；</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">anonuid=&lt;UID&gt;：指定匿名访问用户的本地用户UID，默认为nfsnobody（65534）；</span><br clear="none" /><span style="font-size: 14px;">
anongid=&lt;GID&gt;：指定匿名访问用户的本地用户组GID，默认为nfsnobody（65534）；</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">secure（默认）：限制客户端只能从小于1024的tcp/ip端口连接服务器；</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">insecure：允许客户端从大于1024的tcp/ip端口连接服务器；</span><br clear="none" /><span style="font-size: 14px;">
sync：将数据同步写入内存缓冲区与磁盘中，效率低，但可以保证数据的一致性；</span><br clear="none" /><span style="font-size: 14px;">
async：将数据先保存在内存缓冲区中，必要时才写入磁盘；</span><br clear="none" /><span style="font-size: 14px;">
wdelay（默认）：检查是否有相关的写操作，如果有则将这些写操作一起执行，这样可以提高效率；</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">no_wdelay：若有写操作则立即执行，应与sync配合使用；</span><br clear="none" /><span style="font-size: 14px;">
subtree_check（默认）&nbsp;：若输出目录是一个子目录，则nfs服务器将检查其父目录的权限；</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">no_subtree_check ：即使输出目录是一个子目录，nfs服务器也不检查其父目录的权限，这样可以提高效率；</span><br clear="none" /><br clear="none" /><span style="font-size: 14px;">
三、NFS相关命令</span><br clear="none" />
<div><span style="font-size: 14px;">1、exportfs</span><br clear="none" /><span style="font-size: 14px;">
不重启nfs服务应用更新，相关选项如下：</span></div>
<div><span style="font-size: 14px;">-a 全部挂载或卸载 /etc/exports中的内容</span><br clear="none" /><span style="font-size: 14px;">
-r 重新读取/etc/exports 中的信息 ，并同步更新/etc/exports、/var/lib/nfs/xtab</span><br clear="none" /><span style="font-size: 14px;">
-u 卸载单一目录（和-a一起使用为卸载所有/etc/exports文件中的目录）</span><br clear="none" /><span style="font-size: 14px;">
-v 在export的时候，将详细的信息输出到屏幕上。</span><br clear="none" /><br clear="none" /><span style="font-size: 14px;">
2、nfsstat</span><br clear="none" /><span style="font-size: 14px;">
查看NFS的运行状态。</span></div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><span style="font-size: 14px;">3、rpcinfo</span></div>
<div><span style="font-size: 14px;">查看rpc服务注册情况。</span></div>
<div><span style="font-size: 14px;">相关选项：</span></div>
<div><span style="font-size: 14px;">-p 显示所有的端口与程序信息。</span></div>
<div><span style="font-size: 14px;">示例：</span></div>
<div><span style="font-size: 14px;">rpcinfo -p localhost&nbsp; #列出本机的RPC注册状况。</span></div>
<div><br clear="none" /><span style="font-size: 14px;">
3、showmount</span><br clear="none" />
<div><span style="font-size: 14px;">查询nfs共享目录信息，相关选项如下：</span></div>
<span style="font-size: 14px;">


-a 显示已经于客户端连接上的目录信息</span><br clear="none" /><span style="font-size: 14px;">
-e IP或者hostname 显示此IP地址分享出来的目录</span></div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><span style="font-size: 14px;">示例：</span></div>
<div><span style="font-size: 14px;">showmount -e localhost &nbsp;#查询本机nfs共享目录情况</span></div>
<div><span style="font-size: 14px;">showmount -a localhost&nbsp; #查询本机共享目录连接情况</span></div>


<br clear="none" /><span style="font-size: 14px;">
四、linux客户端挂载共享目录</span><br clear="none" /><span style="font-size: 14px;">
1、临时挂载</span><br clear="none" /><span style="font-size: 14px;">
通过mount挂载，例如：</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">mount -t nfs 192.168.1.1:/opt/public /mnt/public</span><br clear="none" /><br clear="none" /><span style="font-size: 14px;">
2、启动挂载</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">将挂载信息写入fstab文件</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">vi /etc/fstab</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">192.168.1.1:/opt/public /mnt/public nfs defaults</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">保存退出</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">mount -a</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">&nbsp;</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">3、基于autofs自动挂载</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">autofs可以在使用到挂载文件系统时自动挂载，当长时间不使用时自动卸载，配置灵活方便。</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">安装autofs：</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">centos,rhl:</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">yum install autofs</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">ubuntu:</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">apt-get install autofs</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">&nbsp;</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">编辑主配置文件/etc/auto.master，在末尾添加需挂载的目录信息。</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">格式为：本机挂载主目录 对应的加载配置文件名 -挂载参数</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">挂载参数同mount的挂载参数，多个参数以逗号分隔。此处的挂载参数可以与对应的加载配置文件中定义的参数产生叠加作用。</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">示例：</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">vi /etc/auto.master</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">#本机挂载主目录为/mnt，与之对应的加载配置文件为/etc/auto.nfs</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">/mnt /etc/auto.nfs</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">保存退出</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">&nbsp;</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">编辑加载配置文件，添加需要挂载的文件系统。</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">格式为：挂载目录 -挂载参数 挂载文件系统</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">挂载参数同mount的挂载参数，多个参数以逗号分隔。</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">示例：</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">vi /etc/auto.nfs</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">public -rw,bg,soft,rsize=32768,wsize=32768,nosuid,noexec,nodev 192.168.1.1:/opt/public</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">保存退出</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">&nbsp;</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">重启autofs</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">/etc/init.d/autofs restart</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">&nbsp;</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">五、windows客户端挂载共享目录</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">1、到M$网站下载SFU3.5，下载地址：http://www.microsoft.com/en-us/download/details.aspx?id=274</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;">&nbsp;</div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">2、在本地建立group文件，内容如下：</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">root:x:0:</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;">&nbsp;</div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">3、在本地建立passwd文件，内容如下：</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">root:x:0:0:root:/root:/bin/bash</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;">&nbsp;</div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">4、解压并安装SFU，选择定制安装，在 User Name Mapping界面，选择Password and group files，进入下一步分别输入前面建立的passwd和group文件完整路径，点击下一步完成安装。</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;">&nbsp;</div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">5、配置SFU</span></div>
<span style="font-size: 14px;">

<span style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; display: inline ! important; float: none;">在开始菜单的程序中找到Windows Services for Unix，点击Services for Unix Administration。在</span><span style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; display: inline ! important; float: none;">设置界面点击User Name Mapping，切换到Map</span><span style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; display: inline ! important; float: none;">标签页，</span><span style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; display: inline ! important; float: none;">点击 show group Maps，在windows group name 和unix group name框中分别输入guests和root，然后点击add。</span><span style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; display: inline ! important; float: none;">然后点击 show User Maps，</span><span style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; display: inline ! important; float: none;">在windows user name 和unix user name框中分别输入guest和root，然后点击add。最后</span><span style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; display: inline ! important; float: none;">点击右上角的apply应用设置。</span></span></div>
<div><br style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;" /><span style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; font-size: 14px; display: inline ! important; float: none;">6、确保windows系统中的guest帐号可用</span>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">运行gpedit.msc</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">在Computer Configuration-&gt;Windowns Settings-&gt;Security Settings-&gt;Local Policies-&gt;User Right Assignment-&gt;Deny access to this computer from the network：去掉Guest。 并检查其它相关项是否有允许Guest访问。</span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;"><span style="font-size: 14px;">在&nbsp;<span style="color: #000000;">Computer Configuration-&gt;Windowns Settings-&gt;Security Settings-&gt;Local Policies-&gt;</span><span style="color: #000000;">Security Options-&gt;Network access-&gt;Sharing and security model for local accounts:选择经典方式：Classic-Local users authenticate as themselves。</span></span></div>
<div style="color: #000000; font-family: Tahoma; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; font-size: medium;">
<div>&nbsp;</div>
<div><span style="font-size: 14px;">7、通过网上邻居映射网络驱动器、cmd下mount（例如：mount \\192.168.1.100\opt\public z:）或者直接在地址栏输入地址（例如：\\192.168.1.100\opt\public）挂载共享目录。</span></div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><span style="font-size: 14px;">六、NFS权限设定</span><br clear="none" /><span style="font-size: 14px;">
1、普通用户</span></div>
<div><span style="font-size: 14px;">if (&nbsp;设置了all_squash&nbsp;) then</span></div>
<div><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp;访问用户强制映射为指定nfs匿名用户；</span></div>
<div><span style="font-size: 14px;">else</span></div>
<div><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp;if (&nbsp;NFS server上有同名用户&nbsp;) then</span></div>
<div><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;访问用户映射为服务器上的同名用户；</span></div>
<div><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp;else</span></div>
<div><span style="font-size: 14px;">&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;访问用户映射成nfsnobody；</span></div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><span style="font-size: 14px;">2、root</span></div>
<div><span style="font-size: 14px;">if ( 同时设置了no_root_squash和all_squash&nbsp;) then</span></div>
<div><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp;访问用户映射为指定nfs匿名用户；</span></div>
<div><span style="font-size: 14px;">else</span></div>
<div><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp;if (&nbsp;设置了no_root_squash&nbsp;) then</span><br clear="none" /><span style="font-size: 14px;">
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;来访root映射为指定服务器上的root用户；</span><br clear="none" /><span style="font-size: 14px;">
&nbsp; &nbsp; &nbsp;else</span><br clear="none" /><span style="font-size: 14px;">
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;if (&nbsp;设置了all_squash&nbsp;) then</span><br clear="none" /><span style="font-size: 14px;">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;访问用户映射为指定nfs匿名用户；</span><br clear="none" /><span style="font-size: 14px;">
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;else</span></div>
<div><span style="font-size: 14px;">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;访问用户映射成nfsnobody；</span></div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><span style="font-size: 14px;">七、mount相关参数</span></div>
<div><span style="font-size: 14px;">ro 以只读模式加载。</span><br clear="none" /><span style="font-size: 14px;">
rw 以可读写模式加载。</span></div>
<div><span style="font-size: 14px;">sync 以同步方式执行文件系统的输入输出动作。</span></div>
<div><span style="font-size: 14px;">async 以非同步的方式执行文件系统的输入输出动作。</span><br clear="none" /><span style="font-size: 14px;">
defaults 使用默认的选项。默认选项为rw、suid、dev、exec、anto nouser与async。</span></div>
<div><span style="font-size: 14px;">atime 每次存取都更新inode的存取时间，默认设置，取消选项为noatime。</span></div>
<div><span style="font-size: 14px;">noatime 每次存取时不更新inode的存取时间。</span><br clear="none" /><span style="font-size: 14px;">
dev 可读文件系统上的字符或块设备，取消选项为nodev。</span></div>
<div><span style="font-size: 14px;">nodev 不读文件系统上的字符或块设备。</span><br clear="none" /><span style="font-size: 14px;">
exec 可执行二进制文件，取消选项为noexec。</span></div>
<div><span style="font-size: 14px;">noexec 无法执行二进制文件。</span></div>
<div><span style="font-size: 14px;">auto 必须在/etc/fstab文件中指定此选项。执行-a参数时，会加载设置为auto的设备，取消选取为noauto。</span><br clear="none" /><span style="font-size: 14px;">
noauto 无法使用-a参数来加载。</span></div>
<div><span style="font-size: 14px;">suid 启动set-user-identifier(设置用户ID)与set-group-identifer(设置组ID)设置位，取消选项为nosuid。</span></div>
<div><span style="font-size: 14px;">nosuid 关闭set-user-identifier(设置用户ID)与set-group-identifer(设置组ID)设置位。</span></div>
<div><span style="font-size: 14px;">user 普通用户可以执行加载操作。</span><br clear="none" /><span style="font-size: 14px;">
nouser 普通用户无法执行加载操作，默认设置。</span><br clear="none" /><span style="font-size: 14px;">
remount 重新加载设备。通常用于改变设备的设置状态。</span></div>
<div><span style="font-size: 14px;">rsize 读取数据缓冲大小，默认设置1024。</span></div>
<div><span style="font-size: 14px;">wsize 写入数据缓冲大小，默认设置1024。</span></div>
<div><span style="font-size: 14px;">fg 以前台形式执行挂载操作，默认设置。在挂载失败时会影响正常操作响应。</span></div>
<div><span style="font-size: 14px;">bg 以后台形式执行挂载操作。</span></div>
<div><span style="font-size: 14px;">hard 硬式挂载，默认设置。如果与服务器通讯失败，让试图访问它的操作被阻塞，直到服务器恢复为止。</span><br clear="none" /><span style="font-size: 14px;">
soft 软式挂载。如果服务器通讯失败，让试图访问它的操作失败，返回一条出错消息。这项功能对于避免进程&ldquo;挂&rdquo;在无关紧要的安装操作上来说非常有用。</span></div>
<div><span style="font-size: 14px;">retrans=n 指定在以软方式安装的文件系统上，在返回一条出错消息之前重复发出请求的次数。</span></div>
<div><span style="font-size: 14px;">nointr 不允许用户中断，默认设置。</span></div>
<div><span style="font-size: 14px;">intr 允许用户中断被阻塞的操作（并且让它们返回一条出错消息）。</span><br clear="none" /><span style="font-size: 14px;">
timeo=n 设置请求的超时时间（以十分之一秒为单位）。</span><br clear="none" /><br clear="none" /></div>
<div><span style="font-size: 14px;">注:</span></div>
<div><span style="font-size: 14px;">automounter专用参数</span><br clear="none" /><span style="font-size: 14px;">
fstype=&nbsp; 用于指定一个文件系统的类型（如果要挂载的文件系统不是NFS的话），mount是不能用的。</span></div>
<div><span style="font-size: 14px;">&nbsp;</span></div>
<div><br clear="none" /><span style="font-size: 14px;">
八、注意事项</span><br clear="none" /><span style="font-size: 14px;">
1、NFS服务器关机时要确保NFS没有客户端连接，否则无法正常关机 。可以先强制停止或杀死nfs服务。</span></div>
<div><span style="font-size: 14px;">2、windows客户端挂载共享目录不支持utf-8编码，因此可能会出现中文乱码。可以通过修改服务器local的默认编码来解决。</span></div>


</div>


</div>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
    <div id="blog_post_info"></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
            </div>
            <div class="postDesc">posted @ 
<span id="post-date">2013-06-14 22:51</span>&nbsp;
<a href="https://www.cnblogs.com/lykyl/">lykyl的自留地</a>&nbsp;
阅读(<span id="post_view_count">...</span>)&nbsp;
评论(<span id="post_comment_count">...</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=3136921" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(3136921);return false;">收藏</a></div>
        </div>
	    
	    
    </div><!--end: topics 文章、评论容器-->
</div>
<script src="https://common.cnblogs.com/highlight/9.12.0/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 2811, cb_blogApp = 'lykyl', cb_blogUserGuid = 'c281310b-63cf-dd11-9e4d-001cf0cd104b';
    var cb_entryId = 3136921, cb_entryCreatedDate = '2013-06-14 22:51', cb_postType = 1; 
    loadViewCount(cb_entryId);
    loadSideColumnAd();
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>

<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container"></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script>
        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];
    </script>
    <script>
        googletag.cmd.push(function () {
            googletag.defineSlot("/1090369/C1", [300, 250], "div-gpt-ad-1546353474406-0").addService(googletag.pubads());
            googletag.defineSlot("/1090369/C2", [468, 60], "div-gpt-ad-1539008685004-0").addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id="div-gpt-ad-1546353474406-0" style="height:250px; width:300px;"></div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id="div-gpt-ad-1539008685004-0" style="height:60px; width:468px;"></div>
    </div>
    <div id="under_post_kb"></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        deliverBigBanner();
setTimeout(function() { incrementViewCount(cb_entryId); }, 50);        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div>
	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			


<div id="sidebar_ad"></div>
			<div id="blog-calendar" style="display:none"></div><script>loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div>
                    <script>loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright &copy; 2020 lykyl的自留地
<br /><span id="poweredby">Powered by .NET Core on Kubernetes</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


    
</body>
</html>
