<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>NFSv4Howto - Community Help Wiki</title>
<script type="text/javascript" src="/moin_static198/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/light/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin_static198/light/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin_static198/light/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/moin_static198/light/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/light/css/msie.css">
<![endif]-->


<link rel="alternate" title="Community Help Wiki: NFSv4Howto" href="/community/NFSv4Howto?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=NFSv4Howto&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="/community/CommunityHelpWiki">
<link rel="Alternate" title="Wiki Markup" href="/community/NFSv4Howto?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/community/NFSv4Howto?action=print">
<link rel="Search" href="/community/FindPage">
<link rel="Index" href="/community/TitleIndex">
<link rel="Glossary" href="/community/WordIndex">
<link rel="Help" href="/community/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">


    <div id="leftbanner">
    </div>
    <div id="rightbanner">
    </div>
    <div id="container">
        <div id="container-inner">
	    <div id="mothership">
		<ul>
	            <li><a href="https://partners.ubuntu.com">Partners</a> </li>
        	    <li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
        	    <li><a href="https://community.ubuntu.com">Community</a></li>
        	    <li><a href="https://www.ubuntu.com">Ubuntu.com</a></li>
	        </ul>
	    </div>
            <div id="header">
                <h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
                <ul id="main-menu">
                    <li><a href="https://help.ubuntu.com/">Official Documentation</a></li>
                    <li><a class="main-menu-item current" href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
                    <li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
                </ul>
            </div>
            <div id="menu-search">
                <div id="subheader"> 
                    <div class="subheader-menu"> 
                        <div id="second-nav">
<ul id="username"><li><a class="nbinfo" href="/community/NFSv4Howto?action=info" rel="nofollow">Page History</a></li><li><a href="/community/NFSv4Howto?action=login&amp;login=1" id="login" rel="nofollow">Login to edit</a></li></ul>
 </div> 
    <div id="user-info"> 
    </div>
 

                            
                        </div> 
                    </div> 


                    <div id="search-box">

<noscript>
 <form action="http://www.google.com/cse" id="cse-search-box">
   <div>
     <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq" />
     <input type="hidden" name="ie" value="UTF-8" />
     <input type="text" name="q" size="21" />
     <input type="submit" name="sa" value="Search" />
   </div>
 </form>
</noscript>

<script>
 document.write('<form action="https://help.ubuntu.com/search.html" id="cse-search-box">');
 document.write('  <div>');
 document.write('    <input type="hidden" name="cof" value="FORID:9" />');
 document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq" />');
 document.write('    <input type="hidden" name="ie" value="UTF-8" />');
 document.write('    <input type="text" name="q" size="21" />');
 document.write('    <input type="submit" name="sa" value="Search" />');
 document.write('  </div>');
 document.write('</form>');
</script>


                    </div>
                </div>
                <div id="title"><h1>
<span id="pagelocation"><a href="/community/NFSv4Howto">NFSv4Howto</a></span>
</h1>
                </div>
            <div id="cwt-nav3">

 <hr class="clear" />
            </div>
                <div id="cwt-content" class="clearfix content-area">

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867"><div dir="ltr" id="Tag.2FDuplicate.content" lang="en"><span class="anchor" id="Tag.2FDuplicate.top"></span>
<span class="anchor" id="Tag.2FDuplicate.line-1"></span><div><table style="width: 80%;  margin: 0.5em auto;"><tbody><tr>  <td style="border: none;  padding: 1em 0.5em 0 0.9em;  border-top-left-radius: 1em;  border-bottom-left-radius: 1em; ; text-align: center; width: 8%; background-color: #eeeeee"><p class="line862"> <img alt="Tag/tag.png" class="attachment" src="/community/Tag?action=AttachFile&amp;do=get&amp;target=tag.png" title="Tag/tag.png" /> </td>
  <td style="padding: 0.8em 1em 0.2em 1em;  border: none;  border-top-right-radius: 1em;  border-bottom-right-radius: 1em; ; background-color: #d7d7d7; vertical-align: top"><p class="line862"> <strong>Duplicate Article</strong> <br>
 This article covers the same material as another article. <a href="/community/Tag#Duplicate">More info...</a> </td>
</tr>
</tbody></table></div><span class="anchor" id="Tag.2FDuplicate.line-2"></span><span class="anchor" id="Tag.2FDuplicate.bottom"></span></div> <span class="anchor" id="line-5"></span>I have started moving this information to <a href="/community/SettingUpNFSHowTo">SettingUpNFSHowTo</a> <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><div><table style="float:right;  font-size: 0.9em;  width:40%;  background:#F1F1ED;  margin: 0 0 1em 1em;"><tbody><tr>  <td style="padding:0.5em;"><p class="line891"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Installation">Installation</a><ol><li>
<a href="#NFSv4_without_Kerberos">NFSv4 without Kerberos</a><ol><li>
<a href="#NFSv4_Server">NFSv4 Server</a></li><li>
<a href="#NFSv4_Client">NFSv4 Client</a></li></ol></li><li>
<a href="#NFSv4_and_Autofs">NFSv4 and Autofs</a></li><li>
<a href="#NFSv4_and_NFSv3_simultaneously">NFSv4 and NFSv3 simultaneously</a></li><li>
<a href="#NFSv4_with_Kerberos">NFSv4 with Kerberos</a><ol><li>
<a href="#Create_and_distribute_credentials">Create and distribute credentials</a></li><li>
<a href="#NFSv4_Server_with_Kerberos">NFSv4 Server with Kerberos</a></li><li>
<a href="#NFSv4_Client_with_Kerberos">NFSv4 Client with Kerberos</a></li></ol></li><li>
<a href="#Troubleshooting">Troubleshooting</a></li><li>
<a href="#Links">Links</a></li></ol></li></ol></div></td>
</tr>
</tbody></table></div><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line867">
<h1 id="Installation">Installation</h1>
<span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><p class="line874">The required packages are different depending on if the system is a client or a server.  In this Howto, the server is the host that has the files you want to share and the client is the host that will be mounting the NFS share. <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><ul><li>NFSv4 client <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><pre><span class="anchor" id="line-1"></span>sudo apt-get install nfs-common </pre><span class="anchor" id="line-17"></span></li><li>NFSv4 server <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><pre><span class="anchor" id="line-1-1"></span>sudo apt-get install nfs-kernel-server </pre><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></li></ul><p class="line874">After you finish installing nfs-kernel-server, you might see failure to start nfs-kernel-server due to missing entries in /etc/exports. Remember to restart the service when you finish configuring. <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><p class="line874">For the error message:  <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><pre><span class="anchor" id="line-1-2"></span>mount.nfs4: No such device</pre><span class="anchor" id="line-27"></span><p class="line874">You will have to load the nfs module with the command <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><pre><span class="anchor" id="line-1-3"></span>modprobe nfs</pre><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line867">
<h2 id="NFSv4_without_Kerberos">NFSv4 without Kerberos</h2>
<span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><p class="line867">
<h3 id="NFSv4_Server">NFSv4 Server</h3>
<span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><p class="line862">NFSv4 exports exist in a single <em>pseudo filesystem</em>, where the <span class="anchor" id="line-37"></span>real directories are mounted with the <tt>--bind</tt> option. <a class="http" href="http://www.citi.umich.edu/projects/nfsv4/linux/using-nfsv4.html">Here</a> is some additional information <span class="anchor" id="line-38"></span>regarding this fact. <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><ul><li><p class="line862">Let's say we want to export our users' home directories in <tt>/home/users</tt>. First <span class="anchor" id="line-42"></span>we create the export filesystem: <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><pre><span class="anchor" id="line-1-4"></span>sudo mkdir /export
<span class="anchor" id="line-2"></span>sudo mkdir /export/users </pre><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span></li></ul><p class="line862">and mount the real users directory with: <span class="anchor" id="line-47"></span><pre><span class="anchor" id="line-1-5"></span>sudo mount --bind /home/users /export/users </pre><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><p class="line862">To save us from retyping this after every reboot we add the following line to <tt>/etc/fstab</tt>: <span class="anchor" id="line-50"></span><pre><span class="anchor" id="line-1-6"></span>/home/users    /export/users   none    bind  0  0 </pre><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><ul><li><p class="line862">In <tt>/etc/default/nfs-kernel-server</tt> we set: <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><pre><span class="anchor" id="line-1-7"></span>NEED_SVCGSSD=no # no is default</pre><span class="anchor" id="line-55"></span>because we are not activating NFSv4 security this time. <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></li><li class="gap">To export our directories to a local network 192.168.1.0/24 <span class="anchor" id="line-58"></span><p class="line862">we add the following two lines to <tt>/etc/exports</tt> <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><pre><span class="anchor" id="line-1-8"></span>/export       192.168.1.0/24(rw,fsid=0,no_subtree_check,sync)
<span class="anchor" id="line-2-1"></span>/export/users 192.168.1.0/24(rw,nohide,insecure,no_subtree_check,sync)</pre><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span></li><li class="gap">Be aware of the following points: <span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><ul><li>there is no space between the IP address and the options <span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span></li><li class="gap">you can list more IP addresses and options; they are space separated as in: <span class="anchor" id="line-69"></span><ul><li style="list-style-type:none">/export/users 192.168.1.1(rw,no_subtree_check) 192.168.1.2(rw,no_root_squash) <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span></li></ul></li><li class="gap">using the insecure option allows clients such as Mac OS X to connect on ports above 1024. This option is not otherwise "insecure". <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span></li><li class="gap">Setting the crossmnt option on the main psuedo mountpoint has the same effect as setting nohide on the sub-exports: It allows the client to map the sub-exports within the psuedo filesystem.  These two options are mutually exclusive. <span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span></li><li class="gap">Note that when locking down which clients can map an export by setting the IP address, you can either specify an address range (as shown above) using a subnet mask, or you can list a single IP address followed by the options. Using a subnet mask for single client's full IP address is **not** required. Just use something like 192.168.1.123(rw). There are a couple options for specifying the subnet mask. One style is 255.255.255.0. The other style is /24 as shown. Both styles should work. The subnet mask marks which part of IP address must be evaluated. <span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span></li></ul></li><li class="gap"><p class="line862">Restart the service <span class="anchor" id="line-78"></span><pre><span class="anchor" id="line-1-9"></span>sudo service nfs-kernel-server restart</pre><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><p class="line862">On ubuntu 11.04 or later you may also need to start or restart the idmapd with: <span class="anchor" id="line-81"></span><pre><span class="anchor" id="line-1-10"></span>sudo service idmapd restart </pre><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span></li></ul><p class="line867">
<h3 id="NFSv4_Client">NFSv4 Client</h3>
<span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><ul><li><p class="line862">On the client we can mount the complete export tree with one command: <span class="anchor" id="line-86"></span><pre><span class="anchor" id="line-1-11"></span>sudo mount -t nfs4 -o proto=tcp,port=2049 nfs-server:/ /mnt</pre><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span></li><li class="gap"><p class="line862">We can also mount an exported <em>subtree</em> with: <span class="anchor" id="line-89"></span><pre><span class="anchor" id="line-1-12"></span>sudo mount -t nfs4 -o proto=tcp,port=2049 nfs-server:/users /home/users</pre><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span></li><li class="gap">To save us from retyping this after every reboot we add the following <span class="anchor" id="line-92"></span><p class="line862">line to <tt>/etc/fstab</tt>: <span class="anchor" id="line-93"></span><pre><span class="anchor" id="line-1-13"></span>nfs-server:/   /mnt   nfs4    _netdev,auto  0  0</pre><span class="anchor" id="line-94"></span><ul><li style="list-style-type:none"><p class="line862">where the <tt>auto</tt> option mounts on startup and the <tt>_netdev</tt> option can be used by scripts to mount the filesystem when the network is available.  Under NFSv3 (type nfs) the _netdev option will tell the system to wait to mount until the network is available.  With a type of nfs4 this option is ignored, but can be used with mount -O _netdev in scripts later.  Currently Ubuntu Server does not come with the scripts needed to auto-mount nfs4 entries in /etc/fstab after the network is up. <span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span></li></ul></li><li class="gap">Note with remote NFS paths <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><ul><li style="list-style-type:none">They don't work the way they did in NFSv3. NFSv4 has a global root directory and all exported directories are children to it. So what would have been nfs-server:/export/users on NFSv3 is nfs-server:/users on NFSv4, because /export is the root directory. <span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span></li></ul></li><li class="gap">Note regarding UID/GID permissions on NFSv4 without Kerberos <span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><ul><li style="list-style-type:none">To make UID/GUD work as with NFSv3, set sec=sys both in the server's /etc/export and in the client's /etc/fstab. This will make NFSv4 work with the old host-based security scheme. <span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><p class="line862">They do not work.  Can someone please help investigating?  Following this guide will result in UID/GID on the export being generic despite having same UID on client and server. (According to my experience it works at least with "precise", if uid/gid are equal on both sides. hwehner) Mounting same share on NFSv3 works correctly with regards to UID/GID.  Does this need Kerberos to work fully? According to <a class="http" href="http://arstechnica.com/civis/viewtopic.php?f=16&amp;t=1128994">http://arstechnica.com/civis/viewtopic.php?f=16&amp;t=1128994</a> and <a class="http" href="http://opensolaris.org/jive/thread.jspa?threadID=68381">http://opensolaris.org/jive/thread.jspa?threadID=68381</a> you need to use Kerberos for the mapping to have any effect. <span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><p class="line862">This is a possibly related bug: <a class="http" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=500778">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=500778</a> <span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span></li></ul></li></ul><p class="line862">Not clear what is meant by UID/GID on the export being generic. This guide does not explicitly state that idmapd must also run on the client side, i.e. <tt>/etc/default/nfs-common</tt> needs the same settings as described in the server section. If idmapd is running the UID/GID are mapped correctly.  Check with <tt>ps&nbsp;ax|grep&nbsp;rpc</tt> that <tt>rpc.idmapd</tt> is running.  <span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><ul><li style="list-style-type:none"><p class="line862">If all directory listings show just "nobody" and "nogroup" instead of real user and group names, then you might want to <strong>check the Domain parameter</strong> set in <tt>/etc/idmapd.conf</tt>. NFSv4 client and server should be in the same domain. Other operating systems might derive the NFSv4 domain name from the domain name mentioned in /etc/resolv.conf (e.g. Solaris 10). <span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span></li></ul><ul><li><p class="line862">If you have a slow network connection and are not establishing mount at reboot, you can change the line in <tt>etc/fstab</tt>: <span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><pre><span class="anchor" id="line-1-14"></span>nfs-server:/    /mnt   nfs4    noauto  0  0</pre><span class="anchor" id="line-115"></span></li></ul><p class="line862">and execute this mount after a short pause once all devices are loaded. Add the following lines to <tt>/etc/rc.local</tt> <span class="anchor" id="line-116"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><pre><span class="anchor" id="line-1-15"></span># sleep 5
<span class="anchor" id="line-2-2"></span># mount /mnt</pre><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span></li><li class="gap">In Ubuntu 11.10 or earlier, f you experience Problems like this: <span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><pre><span class="anchor" id="line-1-16"></span>Warning: rpc.idmapd appears not to be running.
<span class="anchor" id="line-2-3"></span>         All uids will be mapped to the nobody uid.
<span class="anchor" id="line-3"></span>mount: unknown filesystem type 'nfs4'</pre><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><p class="line862">(all directories and files on the client are owned by uid/gid 4294967294:4294967294) then you need to set in <tt>/etc/default/nfs-common</tt>: <span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><pre><span class="anchor" id="line-1-17"></span>NEED_IDMAPD=yes</pre><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span>and restart nfs-common. <span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><pre><span class="anchor" id="line-1-18"></span># service idmapd restart </pre><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span>The "unknown Filesystem" Error will disappear as well. <span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span>(Make sure you restart the idmapd on both client and server after making changes, otherwise uid/gid problems can persist.) <span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span></li></ul><p class="line867">
<h2 id="NFSv4_and_Autofs">NFSv4 and Autofs</h2>
<span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><p class="line862">Automount (or autofs) can be used in combination with NFSv4. Details on the configuration of autofs can be found in <a href="/community/Autofs">Autofs</a>. The configuration is identical to NFSv2 and NFSv3 except that you have to specify <tt>-fstype=nfs4</tt> as option. Automount supports NFSv4's feature to mount all file systems exported by server at once. The exports are then treated as an entity, i.e. they are "all" mounted when you step into "one" directory on the NFS server's file systems. When auto-mounting each file system separately the behavior is slightly different. In that case you would have to step into "each" file system to make it show up on the NFS client.  <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><p class="line867">
<h2 id="NFSv4_and_NFSv3_simultaneously">NFSv4 and NFSv3 simultaneously</h2>
<span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><p class="line862">NFSv4 and NFSv3 can be used simultaneously on a NFS server as well as on a NFS client. You have to setup NFSv3 on your NFS server (see <a href="/community/SettingUpNFSHowTo">SettingUpNFSHowTo</a>). You can then export a file system with NFSv4 and NFSv3 simultaneously. Just put the appropriate export statements into <tt>/etc/exports</tt> and you are done. You might want to do this when you have NFS clients that don't support NFSv4, e.g. Mac OS X and Windows clients. But don't forget about the security risks of NFS with clients that can not be trusted.      <span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><p class="line867">
<h2 id="NFSv4_with_Kerberos">NFSv4 with Kerberos</h2>
<span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><p class="line874">When using NFS without kerberos the security of all data in the NFS share depends on the integrity of all clients and the security of the network connections. <span class="anchor" id="line-150"></span>If you use kerberos the security doesn't depend on all client machines because the server gives access <em><strong>to users with a valid kerberos ticket only</strong></em>. The security isn't completely delegated to the client machines (unlike without kerberos). Therefore you need a principal in your kerberos realm for each user who want's to access the NFS share. See <a class="https" href="https://help.ubuntu.com/stable/serverguide/kerberos.html">Kerberos</a> in the Ubuntu Server Guide on this topic. The section "Kerberos Linux Client" applies also to Ubuntu 8.04. <span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><p class="line874">You need a working Kerberos (MIT or Heimdal) KDC (Key Distribution Center) <span class="anchor" id="line-153"></span>before continuing. NFS4 and Kerberos work fine with Ubuntu 8.04; they do not seem to work with the (much) older Ubuntu 6.06, or at least I couldn't get Heimdal to work correctly. <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><p class="line874">Please note, that we have three different entities: the Kerberos-server; the NFS-server and the NFS-client. Your Kerberos-server (or KDC) and NFS-server could be the same machine, but they could also very well be separate entities. We will use separate "prompts" to distinguish, i.e. if you see <span class="anchor" id="line-156"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><pre><span class="anchor" id="line-1-19"></span>KDC$ echo "hello"</pre><span class="anchor" id="line-159"></span></li></ul><p class="line874">... this means you need to type echo "hello" on the KDC. <span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><p class="line862">Please note that you can now (with Ubuntu 8.04 and later) use any encryption type you want, there is no more need to extract only <em>des-cbc-crc</em>, as most sites suggest. <span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><p class="line862">Please also note, that des-cbc-crc encryption is depreciated and, starting with Ubuntu 10.04, is no longer supported by default in the Kerberos libraries. For nfs4 to work, you need to add <tt>allow_weak_crypto&nbsp;=&nbsp;true</tt> to <tt>/etc/krb5.conf</tt> <span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><p class="line867">
<h4 id="MIT">MIT</h4>
<span class="anchor" id="line-167"></span><ul><li><p class="line862">On the nfs-server and nfs-client you need at least the <em>krb5-user</em> <span class="anchor" id="line-168"></span>and optional <em>libpam-krb5</em> if you wish to authenticate against krb5. <span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><pre><span class="anchor" id="line-1-20"></span># apt-get install krb5-user
<span class="anchor" id="line-2-4"></span># apt-get install libpam-krb5 </pre><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span></li></ul><p class="line867">
<h4 id="Heimdal">Heimdal</h4>
<span class="anchor" id="line-174"></span><ul><li><p class="line862">On the nfs-server and nfs-client you need <em>heimdal-clients</em> <span class="anchor" id="line-175"></span>and optional <em>libpam-krb5</em> if you wish to authenticate against krb5. <span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><pre><span class="anchor" id="line-1-21"></span># apt-get install heimdal-clients
<span class="anchor" id="line-2-5"></span># apt-get install libpam-krb5 </pre><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span></li><li class="gap">You need the gss kernel modules on nfs-servers and nfs-clients. <span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><pre><span class="anchor" id="line-1-22"></span># modprobe rpcsec_gss_krb5 </pre><span class="anchor" id="line-183"></span><p class="line862">Add <em>rpcsec_gss_krb5</em> to <em>/etc/modules</em> to have it loaded <span class="anchor" id="line-184"></span>automatically. (I'm pretty sure they're loaded automatically though). <span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span></li></ul><p class="line867">
<h3 id="Create_and_distribute_credentials">Create and distribute credentials</h3>
<span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><p class="line874">NFSv4 needs machine credentials for the server and every client, which wants <span class="anchor" id="line-189"></span>to use the NFSv4 security features. <span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><p class="line874">Create the credentials for the nfs-server and all nfs-clients on the Kerberos KDC <span class="anchor" id="line-192"></span>and distribute the extraced keys with scp to the destination <span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><p class="line874">You can make sure that only this entry has been created by executing "sudo klist -e -k /etc/krb5.keytab". <span class="anchor" id="line-195"></span>
<h4 id="Create_nfs.2F_principals">Create nfs/ principals</h4>
<span class="anchor" id="line-196"></span><p class="line874">Authenticate as your admin user. You can do this from any machine in your <span class="anchor" id="line-197"></span>kerberos-domain, as long as your kadmind is running; then add principals for your server and client machines. Replace "nfs-server.domain" with the fully qualified domain name of the machines. For example, if your server is called "snoopy" and your domain is "office.example.com", you would add a principal named "nfs/snoopy.office.example.com" for the server. <span class="anchor" id="line-198"></span>Note: kadmin must be run with -l (locally) on the KDC if there is no kadmind. <span class="anchor" id="line-199"></span>Please be aware of <a class="interwiki" href="https://launchpad.net/bugs/309738" title="Bug">Bug 309738</a>. <span class="anchor" id="line-200"></span>
<h5 id="Heimdal-1">Heimdal</h5>
<span class="anchor" id="line-201"></span><p class="line867"><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><pre><span class="anchor" id="line-1-23"></span>$ kinit kadmin/admin
<span class="anchor" id="line-2-6"></span>$ kadmin add -r nfs/nfs-server.domain
<span class="anchor" id="line-3-1"></span>$ kadmin add -r nfs/nfs-client.domain</pre><span class="anchor" id="line-206"></span><p class="line874">Now add these to the keytab-files on your NFS-server and client. Log in to your NFSserver (as root, because you will need to edit the /etc/krb5.keytab file) and initialize as Kerberos administrator. If your domain is fully kerberized, logging in as root will automatically give you the right access, in which case you don't need to use "kinit" anymore. <span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><pre><span class="anchor" id="line-1-24"></span>NFSserver# kinit kadmin/admin
<span class="anchor" id="line-2-7"></span>NFSserver# ktutil get nfs/nfs-server.domain</pre><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><p class="line874">And add it to the client's keytab file: <span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><pre><span class="anchor" id="line-1-25"></span>NFSclient# kinit kadmin/admin
<span class="anchor" id="line-2-8"></span>NFSclient# ktutil get nfs/nfs-client.domain</pre><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><p class="line867">
<h5 id="MIT-1">MIT</h5>
<span class="anchor" id="line-219"></span><p class="line867"><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><pre><span class="anchor" id="line-1-26"></span>$ kinit admin/admin
<span class="anchor" id="line-2-9"></span>$ kadmin -q "addprinc -randkey nfs/nfs-server.domain"
<span class="anchor" id="line-3-2"></span>$ kadmin -q "addprinc -randkey nfs/nfs-client.domain"</pre><span class="anchor" id="line-224"></span><p class="line874">Now add these to the keytab-files on your NFS-server and client. Log in to your NFSserver (as root, because you will need to edit the /etc/krb5.keytab file) and initialize as Kerberos administrator. <span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><pre><span class="anchor" id="line-1-27"></span>NFSserver# kadmin -p admin/admin -q "ktadd nfs/nfs-server.domain"</pre><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><p class="line874">And add it to the client's keytab file: <span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><pre><span class="anchor" id="line-1-28"></span>NFSclient# kadmin -p admin/admin -q "ktadd nfs/nfs-client.domain"</pre><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><p class="line867">
<h3 id="NFSv4_Server_with_Kerberos">NFSv4 Server with Kerberos</h3>
<span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><ul><li><p class="line862">Check your machine credentials in <em>/etc/krb5.keytab</em>. Use "ktutil" (MIT) or "ktutil list" (Heimdal) <span class="anchor" id="line-238"></span></li></ul><p class="line862">MIT: <span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><pre><span class="anchor" id="line-1-29"></span># ktutil
<span class="anchor" id="line-2-10"></span>ktutil:  rkt /etc/krb5.keytab
<span class="anchor" id="line-3-3"></span>ktutil:  list
<span class="anchor" id="line-4"></span>slot KVNO Principal
<span class="anchor" id="line-5"></span>---- ---- ---------------------------------------------------------------------
<span class="anchor" id="line-6"></span>   1    2 nfs/nfs-server.domain@DOMAIN</pre><span class="anchor" id="line-246"></span><p class="line862">Heimdal: <span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><pre><span class="anchor" id="line-1-30"></span># ktutil list
<span class="anchor" id="line-2-11"></span>FILE:/etc/krb5.keytab:
<span class="anchor" id="line-3-4"></span>
<span class="anchor" id="line-4-1"></span>Vno  Type                     Principal
<span class="anchor" id="line-5-1"></span>  6  des-cbc-md5              nfs/snoopy.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-6-1"></span>  6  des-cbc-md4              nfs/snoopy.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-7"></span>  6  des-cbc-crc              nfs/snoopy.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-8"></span>  6  aes256-cts-hmac-sha1-96  nfs/snoopy.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-9"></span>  6  des3-cbc-sha1            nfs/snoopy.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-10"></span>  6  arcfour-hmac-md5         nfs/snoopy.office.example.com@OFFICE.EXAMPLE.COM</pre><p class="line874"> etcetera (I removed the krb4 entries as you probably won't use them anyway).<span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><p class="line874">MIT extra information: <span class="anchor" id="line-260"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><pre><span class="anchor" id="line-1-31"></span># sudo klist -e -k /etc/krb5.keytab
<span class="anchor" id="line-2-12"></span>Keytab name: FILE:/etc/krb5.keytab
<span class="anchor" id="line-3-5"></span>KVNO Principal
<span class="anchor" id="line-4-2"></span>---- --------------------------------------------------------------------------
<span class="anchor" id="line-5-2"></span>   1 nfs/nfs-server.domain@DOMAIN (DES cbc mode with CRC-32)</pre><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span></li><li class="gap"><p class="line862">In <tt>/etc/default/nfs-kernel-server</tt> we set: <span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><pre><span class="anchor" id="line-1-32"></span>NEED_SVCGSSD=yes </pre><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span></li><li class="gap">To export our directories from the example above to a <span class="anchor" id="line-273"></span>local network 192.198.1.0/24 and addt <span class="anchor" id="line-274"></span><p class="line862">we add the following two lines to <tt>/etc/exports</tt> <span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><pre><span class="anchor" id="line-1-33"></span>/export       192.168.1.0/24(rw,fsid=0,insecure, \
<span class="anchor" id="line-2-13"></span>  no_subtree_check,async,anonuid=65534,anongid=65534)
<span class="anchor" id="line-3-6"></span>/export       gss/krb5(rw,fsid=0,insecure, \
<span class="anchor" id="line-4-3"></span>  no_subtree_check,async,anonuid=65534,anongid=65534)
<span class="anchor" id="line-5-3"></span>/export/users 192.168.1.0/24(rw,nohide,insecure, \
<span class="anchor" id="line-6-2"></span>  no_subtree_check,async,anonuid=65534,anongid=65534)
<span class="anchor" id="line-7-1"></span>/export/users gss/krb5(rw,nohide,insecure, \
<span class="anchor" id="line-8-1"></span>  no_subtree_check,async,anonuid=65534,anongid=65534) </pre><span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span></li></ul><p class="line874">Please note that you can specify allowed hosts only in <span class="anchor" id="line-286"></span>the <em>any authentication</em> flavor. gss/krb5 flavours <span class="anchor" id="line-287"></span>are accessible from anywhere, if you do not use additional <span class="anchor" id="line-288"></span>firewall rules. <span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><p class="line874">To export only with secure authentication flavors do <span class="anchor" id="line-291"></span>not include a <em>host(...)</em> line in <em>/etc/exports</em> <span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><p class="line874">The gss/krb5 flavours are: <span class="anchor" id="line-294"></span><ul><li>krb5: users are authenticated <span class="anchor" id="line-295"></span></li><li>krb5i: this includes krb5. Additionaly data integrity is provided. <span class="anchor" id="line-296"></span></li><li>krb5p: this includes krb5i. Additionaly privacy is provided. <span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span></li></ul><p class="line874">To display your exports enter: <span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><pre><span class="anchor" id="line-1-34"></span># exportfs -v </pre><span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><p class="line867">
<h3 id="NFSv4_Client_with_Kerberos">NFSv4 Client with Kerberos</h3>
<span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><ul><li><p class="line862">Check your machine credentials in <em>/etc/krb5.keytab</em> <span class="anchor" id="line-306"></span></li></ul><p class="line862">MIT: <span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span><pre><span class="anchor" id="line-1-35"></span># ktutil
<span class="anchor" id="line-2-14"></span>ktutil:  rkt /etc/krb5.keytab
<span class="anchor" id="line-3-7"></span>ktutil:  list
<span class="anchor" id="line-4-4"></span>slot KVNO Principal
<span class="anchor" id="line-5-4"></span>---- ---- ---------------------------------------------------------------------
<span class="anchor" id="line-6-3"></span>   1    2 nfs/nfs-client.domain@DOMAIN</pre><span class="anchor" id="line-314"></span><p class="line862">Heimdal: <span class="anchor" id="line-315"></span><span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span><pre><span class="anchor" id="line-1-36"></span># ktutil list
<span class="anchor" id="line-2-15"></span>FILE:/etc/krb5.keytab:
<span class="anchor" id="line-3-8"></span>
<span class="anchor" id="line-4-5"></span>Vno  Type                     Principal
<span class="anchor" id="line-5-5"></span>  6  des-cbc-md5              nfs/client.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-6-4"></span>  6  des-cbc-md4              nfs/client.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-7-2"></span>  6  des-cbc-crc              nfs/client.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-8-2"></span>  6  aes256-cts-hmac-sha1-96  nfs/client.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-9-1"></span>  6  des3-cbc-sha1            nfs/client.office.example.com@OFFICE.EXAMPLE.COM
<span class="anchor" id="line-10-1"></span>  6  arcfour-hmac-md5         nfs/client.office.example.com@OFFICE.EXAMPLE.COM</pre><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><ul><li><p class="line862">We can <em>secure</em> mount the complete export tree with: <span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><pre><span class="anchor" id="line-1-37"></span># mount -t nfs4 -o sec=krb5 nfs-server:/ /mnt</pre><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span></li><li class="gap"><p class="line862">We can also <em>secure</em> mount an exported <em>subtree</em> with: <span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span><pre><span class="anchor" id="line-1-38"></span># mount -t nfs4 -o sec=krb5 nfs-server:/users /home/users</pre><span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span></li><li class="gap">If your client is NATed, use the clientaddr option (see "man 5 nfs"), assuming your client public ip address is a.b.c.d: <span class="anchor" id="line-337"></span><span class="anchor" id="line-338"></span><pre><span class="anchor" id="line-1-39"></span># mount -t nfs4 -o sec=krb5,clientaddr=a.b.c.d nfs-server:/users /home/users</pre><span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span></li></ul><p class="line867">
<h2 id="Troubleshooting">Troubleshooting</h2>
<span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><p class="line874">First, take care of proper logging - by default almost nothing is logged. <span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><p class="line874">To enable debug messages from NFS, edit /etc/default/nfs-kernel-server (quotes are important here): <span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><pre><span class="anchor" id="line-1-40"></span>RPCMOUNTDOPTS="--manage-gids --debug all"</pre><span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><p class="line874">To enable ipmapd debug output, edit /etc/idmpad.conf, and change the Verbosity level: <span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span><span class="anchor" id="line-352"></span><pre><span class="anchor" id="line-1-41"></span>Verbosity = 5</pre><span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span><p class="line874">To enable 3rd level verbose logging for rpc.gssd, run the following command as root: <span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><p class="line867"><span class="anchor" id="line-357"></span><span class="anchor" id="line-358"></span><pre><span class="anchor" id="line-1-42"></span>echo 'exec rpc.gssd -vvv' &gt; /etc/init/gssd.override</pre><span class="anchor" id="line-359"></span><span class="anchor" id="line-360"></span><p class="line862">After restarting gssd (<tt>service&nbsp;gssd&nbsp;restart</tt>) check that the daemon has received new arguments: <span class="anchor" id="line-361"></span><span class="anchor" id="line-362"></span><p class="line867"><span class="anchor" id="line-363"></span><span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span><pre><span class="anchor" id="line-1-43"></span>ps xuwa | grep grep rpc.gssd
<span class="anchor" id="line-2-16"></span>root      9857  0.0  0.4   2496  1220 ?        Ss   02:17   0:00 /usr/sbin/rpc.gssd -vvv</pre><span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span><p class="line874">Then look for its log output in damon.log: <span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><p class="line867"><span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span><pre><span class="anchor" id="line-1-44"></span>tail -f /var/log/daemon.log</pre><span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span><p class="line862">For the server, you can e.g. raise rpc.svcgssd log level in <tt>/etc/default/nfs-kernel-server</tt>: <span class="anchor" id="line-374"></span><span class="anchor" id="line-375"></span><p class="line867"><span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span><pre><span class="anchor" id="line-1-45"></span>RPCSVCGSSDOPTS="-vvv"</pre><span class="anchor" id="line-378"></span><span class="anchor" id="line-379"></span><p class="line862">Browse the <tt>/etc/init.d/nfs-*</tt> init scripts to see other variables that you can set in <tt>/etc/defaults</tt>. <span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><p class="line862">If using Kerberos, enable logging in <tt>/etc/krb5.conf</tt>: <span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span><p class="line867"><span class="anchor" id="line-384"></span><span class="anchor" id="line-385"></span><span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span><span class="anchor" id="line-388"></span><pre><span class="anchor" id="line-1-46"></span>[logging]
<span class="anchor" id="line-2-17"></span>     kdc = SYSLOG:INFO:DAEMON
<span class="anchor" id="line-3-9"></span>     admin_server = SYSLOG:INFO:DAEMON
<span class="anchor" id="line-4-6"></span>     default = SYSLOG:INFO:DAEMON</pre><span class="anchor" id="line-389"></span><span class="anchor" id="line-390"></span><p class="line862">It's possible to increase verbosity in <tt>/etc/idmapd.conf</tt> . <span class="anchor" id="line-391"></span>It can be useful to study the sources for better understandig error messages: <span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span><p class="line867"><span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span><pre><span class="anchor" id="line-1-47"></span>apt-get source nfs-common nfs-kernel-server libgssapi2-heimdal librpcsecgss3 libnfsidmap2</pre><span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span><span class="anchor" id="line-398"></span><p class="line867">
<h2 id="Links">Links</h2>
<span class="anchor" id="line-399"></span><span class="anchor" id="line-400"></span><ul><li><p class="line891"><a class="http" href="http://www.citi.umich.edu/projects/nfsv4/linux">Umich CITI intructions</a> <span class="anchor" id="line-401"></span><span class="anchor" id="line-402"></span></li></ul><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-403"></span><span class="anchor" id="line-404"></span><p class="line867"><a href="/community/CategoryNetworking">CategoryNetworking</a> <span class="anchor" id="line-405"></span><span class="anchor" id="bottom"></span></div><div id="pagebottom"></div>
</div>


            </div>
<p id="pageinfo" class="info" lang="en" dir="ltr">NFSv4Howto  (last edited 2017-09-13 15:46:39 by <span title="ckimes @ c-76-126-20-112.hsd1.ca.comcast.net[76.126.20.112]"><a class="interwiki" href="https://launchpad.net/~ckimes" title="ckimes @ c-76-126-20-112.hsd1.ca.comcast.net[76.126.20.112]">ckimes</a></span>)</p>

</div>
            
            <div id="footer">
		<p>
		The material on this wiki is available under a free license, see <a href="https://help.ubuntu.com/community/
		License">Copyright / License</a> for details<br /><b>You</b> can contribute to this wiki, see 
		<a href="https://help.ubuntu.com/community/WikiGuide">Wiki Guide</a> for details
		</p>
            </div>

        </div></body>
</html>

