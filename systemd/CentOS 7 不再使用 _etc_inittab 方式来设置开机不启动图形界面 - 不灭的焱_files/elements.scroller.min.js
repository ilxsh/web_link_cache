(function(e,ma){var da=function(p,L){function D(a){a.preventDefault();a.stopPropagation();var b=c.offset()[v];a=d?a.pageY:a.pageX;a>b+f?(f=a-b-E+T,f>w&&(f=w)):(f=a-b-T,0>f&&(f=0));l.update_scroll()}function U(a){a.preventDefault();a.stopPropagation();q=d?r=a.pageY:r=a.pageX;F=!0;e("html").off("mousemove.ace_scroll").on("mousemove.ace_scroll",M);e(V).off("mouseup.ace_scroll").on("mouseup.ace_scroll",G);c.addClass("active");W&&l.$element.trigger("drag.start")}function M(a){a.preventDefault();a.stopPropagation();
q=d?a.pageY:a.pageX;q-r+f>w?q=r+w-f:0>q-r+f&&(q=r-f);f+=q-r;r=q;0>f?f=0:f>w&&(f=w);l.update_scroll()}function G(a){a.preventDefault();a.stopPropagation();F=!1;e("html").off(".ace_scroll");e(V).off(".ace_scroll");c.removeClass("active");W&&l.$element.trigger("drag.end");n&&X&&!N&&Y()}function z(a){var b=+new Date;if(Z&&1E3<b-ea){var d=h[A];aa!=d&&(aa=d,B=!0,l.reset(!0));ea=b}n&&X&&(null!=g&&(clearTimeout(g),g=null),c.addClass("not-idle"),N||1!=a||Y())}function Y(){null!=g&&(clearTimeout(g),g=null);
g=setTimeout(function(){g=null;c.removeClass("not-idle")},ka)}function ba(){c.css("visibility","hidden").addClass("scroll-hover");x=d?parseInt(c.outerWidth())||0:parseInt(c.outerHeight())||0;c.css("visibility","").removeClass("scroll-hover")}function fa(){if(!1!==O){var a=k.offset(),b=a.left,a=a.top;d?P||(b+=k.outerWidth()-x):P||(a+=k.outerHeight()-x);!0===O?c.css({top:parseInt(a),left:parseInt(b)}):"left"===O?c.css("left",parseInt(b)):"top"===O&&c.css("top",parseInt(a))}}var l=this,da=ace.helper.getAttrSettings(p,
e.fn.ace_scroll.defaults),b=e.extend({},e.fn.ace_scroll.defaults,L,da);this.size=0;this.lock_anyway=this.lock=!1;this.$element=e(p);this.element=p;var d=!0,t=!1,n=!1,Q=!1,k=null,h=null,c=null,ca=null,ga=null,ha=null,y=null,E=0,f=0,w=0,T=0,R=!0,ia=!1,u="",P=!1,x=0,v,I,J,ja,m,A,K=1,S=!1,F=!1,V="onmouseup"in window?window:"html",W=b.dragEvent||!1,la=L.scrollEvent||!1,C=b.detached||!1,O=b.updatePos||!1,X=b.hideOnIdle||!1,ka=b.hideDelay||1500,N=!1,Z=b.observeContent||!1,aa=0,B=!0;this.create=function(a){if(!Q){a&&
(b=e.extend({},e.fn.ace_scroll.defaults,a));this.size=parseInt(this.$element.attr("data-size"))||b.size||200;v=(d=!b.horizontal)?"top":"left";I=d?"height":"width";J=d?"maxHeight":"maxWidth";ja=d?"clientHeight":"clientWidth";m=d?"scrollTop":"scrollLeft";A=d?"scrollHeight":"scrollWidth";this.$element.addClass("ace-scroll");"static"==this.$element.css("position")?(S=this.element.style.position,this.element.style.position="relative"):S=!1;a=null;C?a=e('<div class="scroll-track scroll-detached"><div class="scroll-bar"></div></div>').appendTo("body"):
(this.$element.wrapInner('<div class="scroll-content" />'),this.$element.prepend('<div class="scroll-track"><div class="scroll-bar"></div></div>'));k=this.$element;C||(k=this.$element.find(".scroll-content").eq(0));d||k.wrapInner("<div />");h=k.get(0);C?(c=a,fa()):c=this.$element.find(".scroll-track").eq(0);ca=c.find(".scroll-bar").eq(0);ga=c.get(0);ha=ca.get(0);y=ha.style;d||c.addClass("scroll-hz");b.styleClass&&(u=b.styleClass,c.addClass(u),P=!!u.match(/scroll\-left|scroll\-top/));0==x&&(c.show(),
ba());c.hide();c.on("mousedown",D);ca.on("mousedown",U);k.on("scroll",function(){R&&(f=parseInt(Math.round(this[m]*K)),y[v]=f+"px");R=!1;la&&this.$element.trigger("scroll",[h])});b.mouseWheel&&(this.lock=b.mouseWheelLock,this.lock_anyway=b.lockAnyway,this.$element.on(e.event.special.mousewheel?"mousewheel.ace_scroll":"mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(a){if(!t){z(!0);if(!n)return!l.lock_anyway;F&&(F=!1,e("html").off(".ace_scroll"),e(V).off(".ace_scroll"),W&&l.$element.trigger("drag.end"));
a.deltaY=a.deltaY||0;a=0<a.deltaY||0>a.originalEvent.detail||0<a.originalEvent.wheelDelta?1:-1;var c=!1,b=h[ja],d=h[m];l.lock||(c=-1==a?h[A]<=d+b:0==d);l.move_bar(!0);b=parseInt(b/8);80>b&&(b=80);b>l.size&&(b=l.size);h[m]=d-a*(b+1);return c&&!l.lock_anyway}}));var g=ace.vars.touch&&"ace_drag"in e.event.special&&b.touchDrag;if(g){var H="";this.$element.on((g?"ace_drag":"swipe")+".ace_scroll",function(a){if(t)a.retval.cancel=!0;else if(z(!0),n){if(H=a.direction,d&&("up"==H||"down"==H)||!d&&("left"==
H||"right"==H))a=d?a.dy:a.dx,0!=a&&(20<Math.abs(a)&&g&&(a*=2),l.move_bar(!0),h[m]+=a)}else a.retval.cancel=this.lock_anyway})}X&&c.addClass("idle-hide");if(Z)c.on("mouseenter.ace_scroll",function(){N=!0;z(!1)}).on("mouseleave.ace_scroll",function(){N=!1;0==F&&Y()});this.$element.on("mouseenter.ace_scroll touchstart.ace_scroll",function(a){B=!0;Z?z(!0):b.hoverReset&&l.reset(!0);c.addClass("scroll-hover")}).on("mouseleave.ace_scroll touchend.ace_scroll",function(){c.removeClass("scroll-hover")});d||
k.children(0).css(I,this.size);k.css(J,this.size);t=!1;Q=!0}};this.is_active=function(){return n};this.is_enabled=function(){return!t};this.move_bar=function(a){R=a};this.get_track=function(){return ga};this.reset=function(a){if(!t){Q||this.create();var e=this.size;if(!a||B)if(B=!1,C&&(a=parseInt(Math.round((parseInt(k.css("border-top-width"))+parseInt(k.css("border-bottom-width")))/2.5)),e-=a),a=d?h[A]:e,d&&0==a||!d&&0==this.element.scrollWidth)c.removeClass("scroll-active");else{var g=d?e:h.clientWidth;
d||k.children(0).css(I,e);k.css(J,this.size);a>g?(n=!0,c.css(I,g).show(),K=parseFloat((g/a).toFixed(5)),E=parseInt(Math.round(g*K)),T=parseInt(Math.round(E/2)),w=g-E,f=parseInt(Math.round(h[m]*K)),y[I]=E+"px",y[v]=f+"px",c.addClass("scroll-active"),0==x&&ba(),ia||(b.reset&&(h[m]=0,y[v]=0),ia=!0),C&&fa()):(n=!1,c.hide(),c.removeClass("scroll-active"),k.css(J,""))}}};this.disable=function(){h[m]=0;y[v]=0;t=!0;n=!1;c.hide();this.$element.addClass("scroll-disabled");c.removeClass("scroll-active");k.css(J,
"")};this.enable=function(){t=!1;this.$element.removeClass("scroll-disabled")};this.destroy=function(){Q=t=n=!1;this.$element.removeClass("ace-scroll scroll-disabled scroll-active");this.$element.off(".ace_scroll");C||(d||k.find("> div").children().unwrap(),k.children().unwrap(),k.remove());c.remove();!1!==S&&(this.element.style.position=S);null!=g&&(clearTimeout(g),g=null)};this.modify=function(a){a&&(b=e.extend({},b,a));this.destroy();this.create();B=!0;this.reset(!0)};this.update=function(a){a&&
(b=e.extend({},b,a));this.size=a.size||this.size;this.lock=a.mouseWheelLock||this.lock;this.lock_anyway=a.lockAnyway||this.lock_anyway;void 0!=a.styleClass&&(u&&c.removeClass(u),(u=a.styleClass)&&c.addClass(u),P=!!u.match(/scroll\-left|scroll\-top/))};this.start=function(){h[m]=0};this.end=function(){h[m]=h[A]};this.hide=function(){c.hide()};this.show=function(){c.show()};this.update_scroll=function(){R=!1;y[v]=f+"px";h[m]=parseInt(Math.round(f/K))};var r=-1,q=-1,g=null,ea=0;this.track_size=function(){0==
x&&ba();return x};this.create();B=!0;this.reset(!0);aa=h[A];return this};e.fn.ace_scroll=function(p,L){var D,U=this.each(function(){var M=e(this),G=M.data("ace_scroll"),z="object"===typeof p&&p;G||M.data("ace_scroll",G=new da(this,z));"string"===typeof p&&(D=G[p](L))});return void 0===D?U:D};e.fn.ace_scroll.defaults={size:200,horizontal:!1,mouseWheel:!0,mouseWheelLock:!1,lockAnyway:!1,styleClass:!1,observeContent:!1,hideOnIdle:!1,hideDelay:1500,hoverReset:!0,reset:!1,dragEvent:!1,touchDrag:!0,touchSwipe:!1,
scrollEvent:!1,detached:!1,updatePos:!0}})(window.jQuery);