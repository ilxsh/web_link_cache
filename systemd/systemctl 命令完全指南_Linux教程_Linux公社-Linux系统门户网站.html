
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<title>systemctl 命令完全指南_Linux教程_Linux公社-Linux系统门户网站</title>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<link rel="icon" href="../../favicon.ico" type="image/x-icon"/>
<link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"/>
<meta name="description" content="Systemctl是一个systemd工具，主要负责控制systemd系统和服务管理器。Systemd是一个系统管理守护进程、工具和库的集合，用于取代"/>
<meta name="keywords" content="systemctl命令,systemctl,systemctl 命令完全指南,Linux,Linux教程,Linux系统,Linux安装,Ubuntu,Fedora,RedHat,SUSE,CentOS,红旗Linux"/>
<link rel="canonical" href="https://www.linuxidc.com/Linux/2015-07/120833.htm"/>
<meta name="generator" content="Linux公社"/>
<meta name="generator" content="Linux"/>
<link rel="stylesheet" href="../../style/systems/style.css" type="text/css"/>
<meta name="generator" content="专业的Linux网站"/>
<script type="text/javascript" src="../../inc/jquery.js"></script>
<script type="text/javascript" src="../../inc/iwms.js"></script>
<script type="text/javascript">iwms.urlPrefix="../../";</script>

<script type="text/javascript" src="../../inc/show.js"></script>
</head>
<body>
<div class="topBar">
	<div class="twidth">
	
	<div style="float:right">
		<a href="http://m.linuxidc.com" rel="nofollow">手机版</a>
		<script type="text/javascript" src="../../inc/language.js"></script>
	</div>
	
	<div id="topUser">你好，游客 <a href="#" onclick="iwms.logPop()">登录</a>
	<a href="../../memberreg.aspx" rel="nofollow">注册</a>
	<a href="../../search.aspx" rel="nofollow">搜索</a>
	</div>
	</div>
</div>
<div class="twidth">
<div id="sitehead">
<div class="l"></div>
<div class="r"></div>
<div class="m">
	<table width="100%">
	<tr align="center"><td width="160">
	<a href="https://www.linuxidc.com/"><img style="filter: chroma(color=#FFFFFF);" src="../../pic/logo.jpg" alt="Linux公社" width="155" height="53" border="0" /></a>
	</td><td>
	<div align="center"><script type="text/javascript" src="/linuxfile/linux.js"></script></div>
	</td>
	</tr></table>
</div>
</div>
<div id="navbar">
<div class="l"></div>
<div class="r"></div>
<div class="m">
	<a href="../../index.htm" class="first">首页</a><a href="../../it/">Linux新闻</a><a href="../../Linuxit/" class="thisclass">Linux教程</a><a href="../../MySql/">数据库技术</a><a href="../../RedLinux/">Linux编程</a><a href="../../Apache/">服务器应用</a><a href="../../Unix/">Linux安全</a><a href="../../download/">Linux下载</a><a href="../../theme/">Linux主题</a><a href="../../Linuxwallpaper/">Linux壁纸</a><a href="../../linuxsoft/">Linux软件</a><a href="../../digi/">数码</a><a href="../../mobile/">手机</a><a href="../../diannao/">电脑</a>

</div>
</div>

<div id="navsub">
<div class="l"></div>
<div class="r"></div>
<div class="m">
	<a href="../../index.htm">首页</a> → <a href="../../Linuxit/">Linux教程</a>
</div>
</div>
<div class="linuxe1"><script type="text/javascript" src="/linuxfile/linuxe1.js"></script></div>
<div class="linux1"><script type="text/javascript" src="/linuxfile/linux1.js"></script></div>
<div class="linuxa"><script type="text/javascript" src="/linuxfile/linuxa.js"></script></div>
<div class="linuxa1"><script type="text/javascript" src="/linuxfile/linuxa1.js"></script></div>
<table id="middle" width="100%" cellspacing="0" cellpadding="0" style="table-layout:fixed">
<tr valign="top"><td>

	<div class="mframe mR">
	<div class="tl"></div>
	<div class="tr"></div>
	<div class="tm">
		<div class="moreR">
			背景：<script type="text/javascript">WriteBg()</script>
		</div>
		<span class="tt">阅读新闻</span>
	</div>
	<div class="wrapper">
	<div class="ml"></div>
	<div class="mr"></div>
	<div class="mm" id="bodyTd">
		<div id="printBody" style="word-break:break-all;">
			<div style="text-align:center"><h1 class="aTitle">systemctl 命令完全指南</h1></div>
			
			<table width="97%" align="center">
				<tr>
				<td width="140">[日期：2015-07-31]</td>
				<td align="center">来源：Linux中国&nbsp;
				作者：Linux</td>
				<td width="160" align="right">[字体：<a href="javascript:ContentSize(16)">大</a> <a href="javascript:ContentSize(0)">中</a> <a href="javascript:ContentSize(12)">小</a>]
				</td></tr>
			</table>
<div id="li_all">
<div id="li_1"><script type="text/javascript" src="/linuxfile/linux201.js"></script></div>
<div id="li_2"><script type="text/javascript" src="/linuxfile/linux2.js"></script></div>
</div>
			<div id="content"><p>Systemctl是一个systemd工具，主要负责控制systemd系统和服务管理器。</p>
<p>Systemd是一个系统管理守护进程、工具和库的集合，用于取代System V初始进程。Systemd的功能是用于集中管理和配置类UNIX系统。</p>
<p>在Linux生态系统中，Systemd被部署到了大多数的标准Linux发行版中，只有为数不多的几个发行版尚未部署。Systemd通常是所有其它守护进程的父进程，但并非总是如此。</p>
<p class="article_img"><img src="../../upload/2015_07/150731091519871.jpg" alt="Manage Linux Services Using Systemctl" /></p>
<p class="article_img_desc"><em>使用Systemctl管理Linux服务</em></p>
<p>本文旨在阐明在运行systemd的系统上&ldquo;如何控制系统和服务&rdquo;。</p>
<p>&nbsp;</p>
<h4 id="toc_1">Systemd初体验和Systemctl基础</h4>
<p>&nbsp;</p>
<h4 id="toc_2">1. 首先检查你的系统中是否安装有systemd并确定当前安装的版本</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemd --version</span></code></li>
<li class="L2"><code><span class="pln">systemd </span><span class="lit">215</span></code></li>
<li class="L3"><code><span class="pun">+</span><span class="pln">PAM </span><span class="pun">+</span><span class="pln">AUDIT </span><span class="pun">+</span><span class="pln">SELINUX </span><span class="pun">+</span><span class="pln">IMA </span><span class="pun">+</span><span class="pln">SYSVINIT </span><span class="pun">+</span><span class="pln">LIBCRYPTSETUP </span><span class="pun">+</span><span class="pln">GCRYPT </span><span class="pun">+</span><span class="pln">ACL </span><span class="pun">+</span><span class="pln">XZ </span><span class="pun">-</span><span class="pln">SECCOMP </span><span class="pun">-</span><span class="pln">APPARMOR</span></code></li>
</ol>
<p>上例中很清楚地表明，我们安装了215版本的systemd。</p>
<p>&nbsp;</p>
<h4 id="toc_3">2. 检查systemd和systemctl的二进制文件和库文件的安装位置</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># whereis systemd </span></code></li>
<li class="L1"><code><span class="pln">systemd</span><span class="pun">:</span><span class="str">/usr/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">systemd </span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">share</span><span class="pun">/</span><span class="pln">systemd </span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">share</span><span class="pun">/</span><span class="pln">man</span><span class="pun">/</span><span class="pln">man1</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">.</span><span class="lit">1.gz</span></code></li>
<li class="L4"><code><span class="com"># whereis systemctl</span></code></li>
<li class="L5"><code><span class="pln">systemctl</span><span class="pun">:</span><span class="str">/usr/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">systemctl </span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">share</span><span class="pun">/</span><span class="pln">man</span><span class="pun">/</span><span class="pln">man1</span><span class="pun">/</span><span class="pln">systemctl</span><span class="pun">.</span><span class="lit">1.gz</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_4">3. 检查systemd是否运行</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># ps -eaf | grep [s]ystemd</span></code></li>
<li class="L2"><code><span class="pln">root </span><span class="lit">1</span><span class="lit">0</span><span class="lit">0</span><span class="lit">16</span><span class="pun">:</span><span class="lit">27</span><span class="pun">?</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">systemd </span><span class="pun">--</span><span class="pln">switched</span><span class="pun">-</span><span class="pln">root </span><span class="pun">--</span><span class="pln">system </span><span class="pun">--</span><span class="pln">deserialize </span><span class="lit">23</span></code></li>
<li class="L3"><code><span class="pln">root </span><span class="lit">444</span><span class="lit">1</span><span class="lit">0</span><span class="lit">16</span><span class="pun">:</span><span class="lit">27</span><span class="pun">?</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">journald</span></code></li>
<li class="L4"><code><span class="pln">root </span><span class="lit">469</span><span class="lit">1</span><span class="lit">0</span><span class="lit">16</span><span class="pun">:</span><span class="lit">27</span><span class="pun">?</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">udevd</span></code></li>
<li class="L5"><code><span class="pln">root </span><span class="lit">555</span><span class="lit">1</span><span class="lit">0</span><span class="lit">16</span><span class="pun">:</span><span class="lit">27</span><span class="pun">?</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">logind</span></code></li>
<li class="L6"><code><span class="pln">dbus </span><span class="lit">556</span><span class="lit">1</span><span class="lit">0</span><span class="lit">16</span><span class="pun">:</span><span class="lit">27</span><span class="pun">?</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">dbus</span><span class="pun">-</span><span class="pln">daemon </span><span class="pun">--</span><span class="pln">system </span><span class="pun">--</span><span class="pln">address</span><span class="pun">=</span><span class="pln">systemd</span><span class="pun">:</span><span class="pun">--</span><span class="pln">nofork </span><span class="pun">--</span><span class="pln">nopidfile </span><span class="pun">--</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">activation</span></code></li>
</ol>
<p><strong>注意</strong>：systemd是作为父进程（PID=1）运行的。在上面带（-e）参数的ps命令输出中，选择所有进程，（-a）选择除会话前导外的所有进程，并使用（-f）参数输出完整格式列表（即 -eaf）。</p>
<p>也请注意上例中后随的方括号和例子中剩余部分。方括号表达式是grep的字符类表达式的一部分。</p>
<p>&nbsp;</p>
<h4 id="toc_5">4. 分析systemd启动进程</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemd-analyze</span></code></li>
<li class="L1"><code><span class="typ">Startup</span><span class="pln"> finished </span><span class="kwd">in</span><span class="lit">487ms</span><span class="pun">(</span><span class="pln">kernel</span><span class="pun">)</span><span class="pun">+</span><span class="lit">2.776s</span><span class="pun">(</span><span class="pln">initrd</span><span class="pun">)</span><span class="pun">+</span><span class="lit">20.229s</span><span class="pun">(</span><span class="pln">userspace</span><span class="pun">)</span><span class="pun">=</span><span class="lit">23.493s</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_6">5. 分析启动时各个进程花费的时间</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemd-analyze blame</span></code></li>
<li class="L2"><code><span class="lit">8.565s</span><span class="pln"> mariadb</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L3"><code><span class="lit">7.991s</span><span class="pln"> webmin</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L4"><code><span class="lit">6.095s</span><span class="pln"> postfix</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L5"><code><span class="lit">4.311s</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L6"><code><span class="lit">3.926s</span><span class="pln"> firewalld</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L7"><code><span class="lit">3.780s</span><span class="pln"> kdump</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L8"><code><span class="lit">3.238s</span><span class="pln"> tuned</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L9"><code><span class="lit">1.712s</span><span class="pln"> network</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L0"><code><span class="lit">1.394s</span><span class="pln"> lvm2</span><span class="pun">-</span><span class="pln">monitor</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L1"><code><span class="lit">1.126s</span><span class="pln"> systemd</span><span class="pun">-</span><span class="pln">logind</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L2"><code><span class="pun">....</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_7">6. 分析启动时的关键链</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemd-analyze critical-chain</span></code></li>
<li class="L2"><code><span class="typ">The</span><span class="pln"> time after the unit </span><span class="kwd">is</span><span class="pln"> active </span><span class="kwd">or</span><span class="pln"> started </span><span class="kwd">is</span><span class="pln"> printed after the </span><span class="str">"@"</span><span class="pln"> character</span><span class="pun">.</span></code></li>
<li class="L3"><code><span class="typ">The</span><span class="pln"> time the unit takes to start </span><span class="kwd">is</span><span class="pln"> printed after the </span><span class="str">"+"</span><span class="pln"> character</span><span class="pun">.</span></code></li>
<li class="L5"><code><span class="pln">multi</span><span class="pun">-</span><span class="pln">user</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">20.222s</span></code></li>
<li class="L6"><code><span class="pun">└─</span><span class="pln">mariadb</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">11.657s</span><span class="pun">+</span><span class="lit">8.565s</span></code></li>
<li class="L7"><code><span class="pun">└─</span><span class="pln">network</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">11.168s</span></code></li>
<li class="L8"><code><span class="pun">└─</span><span class="pln">network</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">9.456s</span><span class="pun">+</span><span class="lit">1.712s</span></code></li>
<li class="L9"><code><span class="pun">└─</span><span class="typ">NetworkManager</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">8.858s</span><span class="pun">+</span><span class="lit">596ms</span></code></li>
<li class="L0"><code><span class="pun">└─</span><span class="pln">firewalld</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.931s</span><span class="pun">+</span><span class="lit">3.926s</span></code></li>
<li class="L1"><code><span class="pun">└─</span><span class="pln">basic</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">4.916s</span></code></li>
<li class="L2"><code><span class="pun">└─</span><span class="pln">sockets</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">4.916s</span></code></li>
<li class="L3"><code><span class="pun">└─</span><span class="pln">dbus</span><span class="pun">.</span><span class="pln">socket </span><span class="pun">@</span><span class="lit">4.916s</span></code></li>
<li class="L4"><code><span class="pun">└─</span><span class="pln">sysinit</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">4.905s</span></code></li>
<li class="L5"><code><span class="pun">└─</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">update</span><span class="pun">-</span><span class="pln">utmp</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.864s</span><span class="pun">+</span><span class="lit">39ms</span></code></li>
<li class="L6"><code><span class="pun">└─</span><span class="pln">auditd</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.563s</span><span class="pun">+</span><span class="lit">301ms</span></code></li>
<li class="L7"><code><span class="pun">└─</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">tmpfiles</span><span class="pun">-</span><span class="pln">setup</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.485s</span><span class="pun">+</span><span class="lit">69ms</span></code></li>
<li class="L8"><code><span class="pun">└─</span><span class="pln">rhel</span><span class="pun">-</span><span class="kwd">import</span><span class="pun">-</span><span class="pln">state</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.342s</span><span class="pun">+</span><span class="lit">142ms</span></code></li>
<li class="L9"><code><span class="pun">└─</span><span class="kwd">local</span><span class="pun">-</span><span class="pln">fs</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">4.324s</span></code></li>
<li class="L0"><code><span class="pun">└─</span><span class="pln">boot</span><span class="pun">.</span><span class="pln">mount </span><span class="pun">@</span><span class="lit">4.286s</span><span class="pun">+</span><span class="lit">31ms</span></code></li>
<li class="L1"><code><span class="pun">└─</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">fsck@dev</span><span class="pun">-</span><span class="pln">disk</span><span class="pun">-</span><span class="kwd">by</span><span class="pln">\x</span><span class="lit">2duuid</span><span class="pun">-</span><span class="lit">79f594ad</span><span class="pln">\x</span><span class="lit">2da332</span><span class="pln">\x</span><span class="lit">2d4730</span><span class="pln">\x</span><span class="lit">2dbb5f</span><span class="pln">\x</span><span class="lit">2d85d19608096</span></code></li>
<li class="L2"><code><span class="pun">└─</span><span class="pln">dev</span><span class="pun">-</span><span class="pln">disk</span><span class="pun">-</span><span class="kwd">by</span><span class="pln">\x</span><span class="lit">2duuid</span><span class="pun">-</span><span class="lit">79f594ad</span><span class="pln">\x</span><span class="lit">2da332</span><span class="pln">\x</span><span class="lit">2d4730</span><span class="pln">\x</span><span class="lit">2dbb5f</span><span class="pln">\x</span><span class="lit">2d85d196080964.device</span><span class="pun">@</span><span class="lit">4</span></code></li>
</ol>
<p><strong>重要</strong>：Systemctl接受服务（.service），挂载点（.mount），套接口（.socket）和设备（.device）作为单元。</p>
<p>&nbsp;</p>
<h4 id="toc_8">7. 列出所有可用单元</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl list-unit-files</span></code></li>
<li class="L2"><code><span class="pln">UNIT FILE STATE </span></code></li>
<li class="L3"><code><span class="pln">proc</span><span class="pun">-</span><span class="pln">sys</span><span class="pun">-</span><span class="pln">fs</span><span class="pun">-</span><span class="pln">binfmt_misc</span><span class="pun">.</span><span class="pln">automount </span><span class="kwd">static</span></code></li>
<li class="L4"><code><span class="pln">dev</span><span class="pun">-</span><span class="pln">hugepages</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L5"><code><span class="pln">dev</span><span class="pun">-</span><span class="pln">mqueue</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L6"><code><span class="pln">proc</span><span class="pun">-</span><span class="pln">sys</span><span class="pun">-</span><span class="pln">fs</span><span class="pun">-</span><span class="pln">binfmt_misc</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L7"><code><span class="pln">sys</span><span class="pun">-</span><span class="pln">fs</span><span class="pun">-</span><span class="pln">fuse</span><span class="pun">-</span><span class="pln">connections</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L8"><code><span class="pln">sys</span><span class="pun">-</span><span class="pln">kernel</span><span class="pun">-</span><span class="pln">config</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L9"><code><span class="pln">sys</span><span class="pun">-</span><span class="pln">kernel</span><span class="pun">-</span><span class="pln">debug</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L0"><code><span class="pln">tmp</span><span class="pun">.</span><span class="pln">mount disabled</span></code></li>
<li class="L1"><code><span class="pln">brandbot</span><span class="pun">.</span><span class="pln">path disabled</span></code></li>
<li class="L2"><code><span class="pun">.....</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_9">8. 列出所有运行中单元</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl list-units</span></code></li>
<li class="L2"><code><span class="pln">UNIT LOAD ACTIVE SUB DESCRIPTION</span></code></li>
<li class="L3"><code><span class="pln">proc</span><span class="pun">-</span><span class="pln">sys</span><span class="pun">-</span><span class="pln">fs</span><span class="pun">-</span><span class="pln">binfmt_misc</span><span class="pun">.</span><span class="pln">automount loaded active waiting </span><span class="typ">Arbitrary</span><span class="typ">Executable</span><span class="typ">File</span><span class="typ">Formats</span><span class="typ">File</span><span class="typ">Syste</span></code></li>
<li class="L4"><code><span class="pln">sys</span><span class="pun">-</span><span class="pln">devices</span><span class="pun">-</span><span class="pln">pc</span><span class="pun">...</span><span class="lit">0</span><span class="pun">-</span><span class="lit">1</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">:</span><span class="lit">0</span><span class="pun">-</span><span class="pln">block</span><span class="pun">-</span><span class="pln">sr0</span><span class="pun">.</span><span class="pln">device loaded active plugged VBOX_CD</span><span class="pun">-</span><span class="pln">ROM</span></code></li>
<li class="L5"><code><span class="pln">sys</span><span class="pun">-</span><span class="pln">devices</span><span class="pun">-</span><span class="pln">pc</span><span class="pun">...:</span><span class="lit">00</span><span class="pun">:</span><span class="lit">03.0</span><span class="pun">-</span><span class="pln">net</span><span class="pun">-</span><span class="pln">enp0s3</span><span class="pun">.</span><span class="pln">device loaded active plugged PRO</span><span class="pun">/</span><span class="lit">1000</span><span class="pln"> MT </span><span class="typ">Desktop</span><span class="typ">Adapter</span></code></li>
<li class="L6"><code><span class="pln">sys</span><span class="pun">-</span><span class="pln">devices</span><span class="pun">-</span><span class="pln">pc</span><span class="pun">...</span><span class="lit">00</span><span class="pun">:</span><span class="lit">05.0</span><span class="pun">-</span><span class="pln">sound</span><span class="pun">-</span><span class="pln">card0</span><span class="pun">.</span><span class="pln">device loaded active plugged </span><span class="lit">82801AA</span><span class="pln"> AC</span><span class="str">'97 Audio Controller</span></code></li>
<li class="L7"><code><span class="str">sys-devices-pc...:0:0-block-sda-sda1.device loaded active plugged VBOX_HARDDISK</span></code></li>
<li class="L8"><code><span class="str">sys-devices-pc...:0:0-block-sda-sda2.device loaded active plugged LVM PV Qzyo3l-qYaL-uRUa-Cjuk-pljo-qKtX-VgBQ8</span></code></li>
<li class="L9"><code><span class="str">sys-devices-pc...0-2:0:0:0-block-sda.device loaded active plugged VBOX_HARDDISK</span></code></li>
<li class="L0"><code><span class="str">sys-devices-pl...erial8250-tty-ttyS0.device loaded active plugged /sys/devices/platform/serial8250/tty/ttyS0</span></code></li>
<li class="L1"><code><span class="str">sys-devices-pl...erial8250-tty-ttyS1.device loaded active plugged /sys/devices/platform/serial8250/tty/ttyS1</span></code></li>
<li class="L2"><code><span class="str">sys-devices-pl...erial8250-tty-ttyS2.device loaded active plugged /sys/devices/platform/serial8250/tty/ttyS2</span></code></li>
<li class="L3"><code><span class="str">sys-devices-pl...erial8250-tty-ttyS3.device loaded active plugged /sys/devices/platform/serial8250/tty/ttyS3</span></code></li>
<li class="L4"><code><span class="str">sys-devices-virtual-block-dm\x2d0.device loaded active plugged /sys/devices/virtual/block/dm-0</span></code></li>
<li class="L5"><code><span class="str">sys-devices-virtual-block-dm\x2d1.device loaded active plugged /sys/devices/virtual/block/dm-1</span></code></li>
<li class="L6"><code><span class="str">sys-module-configfs.device loaded active plugged /sys/module/configfs</span></code></li>
<li class="L7"><code><span class="str">...</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_10">9. 列出所有失败单元</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl --failed</span></code></li>
<li class="L2"><code><span class="pln">UNIT LOAD ACTIVE SUB DESCRIPTION</span></code></li>
<li class="L3"><code><span class="pln">kdump</span><span class="pun">.</span><span class="pln">service loaded failed failed </span><span class="typ">Crash</span><span class="pln"> recovery kernel arming</span></code></li>
<li class="L5"><code><span class="pln">LOAD </span><span class="pun">=</span><span class="typ">Reflects</span><span class="pln"> whether the unit definition was properly loaded</span><span class="pun">.</span></code></li>
<li class="L6"><code><span class="pln">ACTIVE </span><span class="pun">=</span><span class="typ">The</span><span class="pln"> high</span><span class="pun">-</span><span class="pln">level unit activation state</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">.</span><span class="pln">e</span><span class="pun">.</span><span class="pln"> generalization of SUB</span><span class="pun">.</span></code></li>
<li class="L7"><code><span class="pln">SUB </span><span class="pun">=</span><span class="typ">The</span><span class="pln"> low</span><span class="pun">-</span><span class="pln">level unit activation state</span><span class="pun">,</span><span class="pln"> values depend on unit type</span><span class="pun">.</span></code></li>
<li class="L9"><code><span class="lit">1</span><span class="pln"> loaded units listed</span><span class="pun">.</span><span class="typ">Pass</span><span class="pun">--</span><span class="pln">all to see loaded but inactive units</span><span class="pun">,</span><span class="pln"> too</span><span class="pun">.</span></code></li>
<li class="L0"><code><span class="typ">To</span><span class="pln"> show all installed unit files </span><span class="kwd">use</span><span class="str">'systemctl list-unit-files'</span><span class="pun">.</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_11">10. 检查某个单元（如 cron.service）是否启用</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl is-enabled crond.service</span></code></li>
<li class="L2"><code><span class="pln">enabled</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_12">11. 检查某个单元或服务是否运行</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl status firewalld.service</span></code></li>
<li class="L2"><code><span class="pln">firewalld</span><span class="pun">.</span><span class="pln">service </span><span class="pun">-</span><span class="pln"> firewalld </span><span class="pun">-</span><span class="kwd">dynamic</span><span class="pln"> firewall daemon</span></code></li>
<li class="L3"><code><span class="typ">Loaded</span><span class="pun">:</span><span class="pln"> loaded </span><span class="pun">(</span><span class="str">/usr/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">system</span><span class="pun">/</span><span class="pln">firewalld</span><span class="pun">.</span><span class="pln">service</span><span class="pun">;</span><span class="pln"> enabled</span><span class="pun">)</span></code></li>
<li class="L4"><code><span class="typ">Active</span><span class="pun">:</span><span class="pln"> active </span><span class="pun">(</span><span class="pln">running</span><span class="pun">)</span><span class="pln"> since </span><span class="typ">Tue</span><span class="lit">2015</span><span class="pun">-</span><span class="lit">04</span><span class="pun">-</span><span class="lit">28</span><span class="lit">16</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">55</span><span class="pln"> IST</span><span class="pun">;</span><span class="lit">34min</span><span class="pln"> ago</span></code></li>
<li class="L5"><code><span class="typ">Main</span><span class="pln"> PID</span><span class="pun">:</span><span class="lit">549</span><span class="pun">(</span><span class="pln">firewalld</span><span class="pun">)</span></code></li>
<li class="L6"><code><span class="typ">CGroup</span><span class="pun">:</span><span class="str">/system.slice/</span><span class="pln">firewalld</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L7"><code><span class="pun">└─</span><span class="lit">549</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">python </span><span class="pun">-</span><span class="typ">Es</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">firewalld </span><span class="pun">--</span><span class="pln">nofork </span><span class="pun">--</span><span class="pln">nopid</span></code></li>
<li class="L9"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">16</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">51</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="typ">Starting</span><span class="pln"> firewalld </span><span class="pun">-</span><span class="kwd">dynamic</span><span class="pln"> firewall daemon</span><span class="pun">...</span></code></li>
<li class="L0"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">16</span><span class="pun">:</span><span class="lit">27</span><span class="pun">:</span><span class="lit">55</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="typ">Started</span><span class="pln"> firewalld </span><span class="pun">-</span><span class="kwd">dynamic</span><span class="pln"> firewall daemon</span><span class="pun">.</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_13">使用Systemctl控制并管理服务</h4>
<p>&nbsp;</p>
<h4 id="toc_14">12. 列出所有服务（包括启用的和禁用的）</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl list-unit-files --type=service</span></code></li>
<li class="L2"><code><span class="pln">UNIT FILE STATE </span></code></li>
<li class="L3"><code><span class="pln">arp</span><span class="pun">-</span><span class="pln">ethers</span><span class="pun">.</span><span class="pln">service disabled</span></code></li>
<li class="L4"><code><span class="pln">auditd</span><span class="pun">.</span><span class="pln">service enabled </span></code></li>
<li class="L5"><code><span class="pln">autovt@</span><span class="pun">.</span><span class="pln">service disabled</span></code></li>
<li class="L6"><code><span class="pln">blk</span><span class="pun">-</span><span class="pln">availability</span><span class="pun">.</span><span class="pln">service disabled</span></code></li>
<li class="L7"><code><span class="pln">brandbot</span><span class="pun">.</span><span class="pln">service </span><span class="kwd">static</span></code></li>
<li class="L8"><code><span class="pln">collectd</span><span class="pun">.</span><span class="pln">service disabled</span></code></li>
<li class="L9"><code><span class="pln">console</span><span class="pun">-</span><span class="pln">getty</span><span class="pun">.</span><span class="pln">service disabled</span></code></li>
<li class="L0"><code><span class="pln">console</span><span class="pun">-</span><span class="pln">shell</span><span class="pun">.</span><span class="pln">service disabled</span></code></li>
<li class="L1"><code><span class="pln">cpupower</span><span class="pun">.</span><span class="pln">service disabled</span></code></li>
<li class="L2"><code><span class="pln">crond</span><span class="pun">.</span><span class="pln">service enabled </span></code></li>
<li class="L3"><code><span class="pln">dbus</span><span class="pun">-</span><span class="pln">org</span><span class="pun">.</span><span class="pln"><a href="https://www.linuxidc.com/topicnews.aspx?tid=5" target="_blank" title="Fedora">Fedora</a>project</span><span class="pun">.</span><span class="typ">FirewallD1</span><span class="pun">.</span><span class="pln">service enabled </span></code></li>
<li class="L4"><code><span class="pun">....</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_15">13. Linux中如何启动、重启、停止、重载服务以及检查服务（如 httpd.service）状态</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl start httpd.service</span></code></li>
<li class="L1"><code><span class="com"># systemctl restart httpd.service</span></code></li>
<li class="L2"><code><span class="com"># systemctl stop httpd.service</span></code></li>
<li class="L3"><code><span class="com"># systemctl reload httpd.service</span></code></li>
<li class="L4"><code><span class="com"># systemctl status httpd.service</span></code></li>
<li class="L6"><code><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service </span><span class="pun">-</span><span class="typ">The</span><span class="typ">Apache</span><span class="pln"> HTTP </span><span class="typ">Server</span></code></li>
<li class="L7"><code><span class="typ">Loaded</span><span class="pun">:</span><span class="pln"> loaded </span><span class="pun">(</span><span class="str">/usr/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">system</span><span class="pun">/</span><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">;</span><span class="pln"> enabled</span><span class="pun">)</span></code></li>
<li class="L8"><code><span class="typ">Active</span><span class="pun">:</span><span class="pln"> active </span><span class="pun">(</span><span class="pln">running</span><span class="pun">)</span><span class="pln"> since </span><span class="typ">Tue</span><span class="lit">2015</span><span class="pun">-</span><span class="lit">04</span><span class="pun">-</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">21</span><span class="pun">:</span><span class="lit">30</span><span class="pln"> IST</span><span class="pun">;</span><span class="lit">6s</span><span class="pln"> ago</span></code></li>
<li class="L9"><code><span class="typ">Process</span><span class="pun">:</span><span class="lit">2876</span><span class="typ">ExecStop</span><span class="pun">=</span><span class="str">/bin/</span><span class="pln">kill </span><span class="pun">-</span><span class="pln">WINCH $</span><span class="pun">{</span><span class="pln">MAINPID</span><span class="pun">}</span><span class="pun">(</span><span class="pln">code</span><span class="pun">=</span><span class="pln">exited</span><span class="pun">,</span><span class="pln"> status</span><span class="pun">=</span><span class="lit">0</span><span class="pun">/</span><span class="pln">SUCCESS</span><span class="pun">)</span></code></li>
<li class="L0"><code><span class="typ">Main</span><span class="pln"> PID</span><span class="pun">:</span><span class="lit">2881</span><span class="pun">(</span><span class="pln">httpd</span><span class="pun">)</span></code></li>
<li class="L1"><code><span class="typ">Status</span><span class="pun">:</span><span class="str">"Processing requests..."</span></code></li>
<li class="L2"><code><span class="typ">CGroup</span><span class="pun">:</span><span class="str">/system.slice/</span><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L3"><code><span class="pun">├─</span><span class="lit">2881</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L4"><code><span class="pun">├─</span><span class="lit">2884</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L5"><code><span class="pun">├─</span><span class="lit">2885</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L6"><code><span class="pun">├─</span><span class="lit">2886</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L7"><code><span class="pun">├─</span><span class="lit">2887</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L8"><code><span class="pun">└─</span><span class="lit">2888</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L0"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">21</span><span class="pun">:</span><span class="lit">30</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="typ">Starting</span><span class="typ">The</span><span class="typ">Apache</span><span class="pln"> HTTP </span><span class="typ">Server</span><span class="pun">...</span></code></li>
<li class="L1"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">21</span><span class="pun">:</span><span class="lit">30</span><span class="pln"> tecmint httpd</span><span class="pun">[</span><span class="lit">2881</span><span class="pun">]:</span><span class="pln"> AH00558</span><span class="pun">:</span><span class="pln"> httpd</span><span class="pun">:</span><span class="typ">Could</span><span class="kwd">not</span><span class="pln"> reliably determine the server</span><span class="str">'s fully q...ssage</span></code></li>
<li class="L2"><code><span class="str">Apr 28 17:21:30 tecmint systemd[1]: Started The Apache HTTP Server.</span></code></li>
<li class="L3"><code><span class="str">Hint: Some lines were ellipsized, use -l to show in full.</span></code></li>
</ol>
<p><strong>注意</strong>：当我们使用systemctl的start，restart，stop和reload命令时，我们不会从终端获取到任何输出内容，只有status命令可以打印输出。</p>
<p>&nbsp;</p>
<h4 id="toc_16">14. 如何激活服务并在启动时启用或禁用服务（即系统启动时自动启动服务）</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl is-active httpd.service</span></code></li>
<li class="L1"><code><span class="com"># systemctl enable httpd.service</span></code></li>
<li class="L2"><code><span class="com"># systemctl disable httpd.service</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_17">15. 如何屏蔽（让它不能启动）或显示服务（如 httpd.service）</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl mask httpd.service</span></code></li>
<li class="L1"><code><span class="pln">ln </span><span class="pun">-</span><span class="pln">s </span><span class="str">'/dev/null'</span><span class="str">'/etc/systemd/system/httpd.service'</span></code></li>
<li class="L3"><code><span class="com"># systemctl unmask httpd.service</span></code></li>
<li class="L4"><code><span class="pln">rm </span><span class="str">'/etc/systemd/system/httpd.service'</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_18">16. 使用systemctl命令杀死服务</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl kill httpd</span></code></li>
<li class="L1"><code><span class="com"># systemctl status httpd</span></code></li>
<li class="L3"><code><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service </span><span class="pun">-</span><span class="typ">The</span><span class="typ">Apache</span><span class="pln"> HTTP </span><span class="typ">Server</span></code></li>
<li class="L4"><code><span class="typ">Loaded</span><span class="pun">:</span><span class="pln"> loaded </span><span class="pun">(</span><span class="str">/usr/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">system</span><span class="pun">/</span><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">;</span><span class="pln"> enabled</span><span class="pun">)</span></code></li>
<li class="L5"><code><span class="typ">Active</span><span class="pun">:</span><span class="pln"> failed </span><span class="pun">(</span><span class="typ">Result</span><span class="pun">:</span><span class="kwd">exit</span><span class="pun">-</span><span class="pln">code</span><span class="pun">)</span><span class="pln"> since </span><span class="typ">Tue</span><span class="lit">2015</span><span class="pun">-</span><span class="lit">04</span><span class="pun">-</span><span class="lit">28</span><span class="lit">18</span><span class="pun">:</span><span class="lit">01</span><span class="pun">:</span><span class="lit">42</span><span class="pln"> IST</span><span class="pun">;</span><span class="lit">28min</span><span class="pln"> ago</span></code></li>
<li class="L6"><code><span class="typ">Main</span><span class="pln"> PID</span><span class="pun">:</span><span class="lit">2881</span><span class="pun">(</span><span class="pln">code</span><span class="pun">=</span><span class="pln">exited</span><span class="pun">,</span><span class="pln"> status</span><span class="pun">=</span><span class="lit">0</span><span class="pun">/</span><span class="pln">SUCCESS</span><span class="pun">)</span></code></li>
<li class="L7"><code><span class="typ">Status</span><span class="pun">:</span><span class="str">"Total requests: 0; Current requests/sec: 0; Current traffic: 0 B/sec"</span></code></li>
<li class="L9"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">37</span><span class="pun">:</span><span class="lit">29</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">:</span><span class="typ">Got</span><span class="pln"> notification message </span><span class="kwd">from</span><span class="pln"> PID </span><span class="lit">2881</span><span class="pun">,</span><span class="pln"> but recepti</span><span class="pun">...</span><span class="pln">bled</span><span class="pun">.</span></code></li>
<li class="L0"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">37</span><span class="pun">:</span><span class="lit">29</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">:</span><span class="typ">Got</span><span class="pln"> notification message </span><span class="kwd">from</span><span class="pln"> PID </span><span class="lit">2881</span><span class="pun">,</span><span class="pln"> but recepti</span><span class="pun">...</span><span class="pln">bled</span><span class="pun">.</span></code></li>
<li class="L1"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">37</span><span class="pun">:</span><span class="lit">39</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">:</span><span class="typ">Got</span><span class="pln"> notification message </span><span class="kwd">from</span><span class="pln"> PID </span><span class="lit">2881</span><span class="pun">,</span><span class="pln"> but recepti</span><span class="pun">...</span><span class="pln">bled</span><span class="pun">.</span></code></li>
<li class="L2"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">37</span><span class="pun">:</span><span class="lit">39</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">:</span><span class="typ">Got</span><span class="pln"> notification message </span><span class="kwd">from</span><span class="pln"> PID </span><span class="lit">2881</span><span class="pun">,</span><span class="pln"> but recepti</span><span class="pun">...</span><span class="pln">bled</span><span class="pun">.</span></code></li>
<li class="L3"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">37</span><span class="pun">:</span><span class="lit">49</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">:</span><span class="typ">Got</span><span class="pln"> notification message </span><span class="kwd">from</span><span class="pln"> PID </span><span class="lit">2881</span><span class="pun">,</span><span class="pln"> but recepti</span><span class="pun">...</span><span class="pln">bled</span><span class="pun">.</span></code></li>
<li class="L4"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">37</span><span class="pun">:</span><span class="lit">49</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">:</span><span class="typ">Got</span><span class="pln"> notification message </span><span class="kwd">from</span><span class="pln"> PID </span><span class="lit">2881</span><span class="pun">,</span><span class="pln"> but recepti</span><span class="pun">...</span><span class="pln">bled</span><span class="pun">.</span></code></li>
<li class="L5"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">37</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">:</span><span class="typ">Got</span><span class="pln"> notification message </span><span class="kwd">from</span><span class="pln"> PID </span><span class="lit">2881</span><span class="pun">,</span><span class="pln"> but recepti</span><span class="pun">...</span><span class="pln">bled</span><span class="pun">.</span></code></li>
<li class="L6"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">37</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">:</span><span class="typ">Got</span><span class="pln"> notification message </span><span class="kwd">from</span><span class="pln"> PID </span><span class="lit">2881</span><span class="pun">,</span><span class="pln"> but recepti</span><span class="pun">...</span><span class="pln">bled</span><span class="pun">.</span></code></li>
<li class="L7"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">18</span><span class="pun">:</span><span class="lit">01</span><span class="pun">:</span><span class="lit">42</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service</span><span class="pun">:</span><span class="pln"> control process exited</span><span class="pun">,</span><span class="pln"> code</span><span class="pun">=</span><span class="pln">exited status</span><span class="pun">=</span><span class="lit">226</span></code></li>
<li class="L8"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">18</span><span class="pun">:</span><span class="lit">01</span><span class="pun">:</span><span class="lit">42</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="typ">Unit</span><span class="pln"> httpd</span><span class="pun">.</span><span class="pln">service entered failed state</span><span class="pun">.</span></code></li>
<li class="L9"><code><span class="typ">Hint</span><span class="pun">:</span><span class="typ">Some</span><span class="pln"> lines were ellipsized</span><span class="pun">,</span><span class="kwd">use</span><span class="pun">-</span><span class="pln">l to show </span><span class="kwd">in</span><span class="pln"> full</span><span class="pun">.</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_19">使用Systemctl控制并管理挂载点</h4>
<p>&nbsp;</p>
<h4 id="toc_20">17. 列出所有系统挂载点</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl list-unit-files --type=mount</span></code></li>
<li class="L2"><code><span class="pln">UNIT FILE STATE </span></code></li>
<li class="L3"><code><span class="pln">dev</span><span class="pun">-</span><span class="pln">hugepages</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L4"><code><span class="pln">dev</span><span class="pun">-</span><span class="pln">mqueue</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L5"><code><span class="pln">proc</span><span class="pun">-</span><span class="pln">sys</span><span class="pun">-</span><span class="pln">fs</span><span class="pun">-</span><span class="pln">binfmt_misc</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L6"><code><span class="pln">sys</span><span class="pun">-</span><span class="pln">fs</span><span class="pun">-</span><span class="pln">fuse</span><span class="pun">-</span><span class="pln">connections</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L7"><code><span class="pln">sys</span><span class="pun">-</span><span class="pln">kernel</span><span class="pun">-</span><span class="pln">config</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L8"><code><span class="pln">sys</span><span class="pun">-</span><span class="pln">kernel</span><span class="pun">-</span><span class="pln">debug</span><span class="pun">.</span><span class="pln">mount </span><span class="kwd">static</span></code></li>
<li class="L9"><code><span class="pln">tmp</span><span class="pun">.</span><span class="pln">mount disabled</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_21">18. 挂载、卸载、重新挂载、重载系统挂载点并检查系统中挂载点状态</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl start tmp.mount</span></code></li>
<li class="L1"><code><span class="com"># systemctl stop tmp.mount</span></code></li>
<li class="L2"><code><span class="com"># systemctl restart tmp.mount</span></code></li>
<li class="L3"><code><span class="com"># systemctl reload tmp.mount</span></code></li>
<li class="L4"><code><span class="com"># systemctl status tmp.mount</span></code></li>
<li class="L6"><code><span class="pln">tmp</span><span class="pun">.</span><span class="pln">mount </span><span class="pun">-</span><span class="typ">Temporary</span><span class="typ">Directory</span></code></li>
<li class="L7"><code><span class="typ">Loaded</span><span class="pun">:</span><span class="pln"> loaded </span><span class="pun">(</span><span class="str">/usr/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">system</span><span class="pun">/</span><span class="pln">tmp</span><span class="pun">.</span><span class="pln">mount</span><span class="pun">;</span><span class="pln"> disabled</span><span class="pun">)</span></code></li>
<li class="L8"><code><span class="typ">Active</span><span class="pun">:</span><span class="pln"> active </span><span class="pun">(</span><span class="pln">mounted</span><span class="pun">)</span><span class="pln"> since </span><span class="typ">Tue</span><span class="lit">2015</span><span class="pun">-</span><span class="lit">04</span><span class="pun">-</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">46</span><span class="pun">:</span><span class="lit">06</span><span class="pln"> IST</span><span class="pun">;</span><span class="lit">2min</span><span class="lit">48s</span><span class="pln"> ago</span></code></li>
<li class="L9"><code><span class="typ">Where</span><span class="pun">:</span><span class="pun">/</span><span class="pln">tmp</span></code></li>
<li class="L0"><code><span class="typ">What</span><span class="pun">:</span><span class="pln"> tmpfs</span></code></li>
<li class="L1"><code><span class="typ">Docs</span><span class="pun">:</span><span class="pln"> man</span><span class="pun">:</span><span class="pln">hier</span><span class="pun">(</span><span class="lit">7</span><span class="pun">)</span></code></li>
<li class="L3"><code><span class="pln">http</span><span class="pun">:</span><span class="com">//www.freedesktop.org/wiki/Software/systemd/APIFileSystems</span></code></li>
<li class="L5"><code><span class="typ">Process</span><span class="pun">:</span><span class="lit">3908</span><span class="typ">ExecMount</span><span class="pun">=</span><span class="str">/bin/</span><span class="pln">mount tmpfs </span><span class="pun">/</span><span class="pln">tmp </span><span class="pun">-</span><span class="pln">t tmpfs </span><span class="pun">-</span><span class="pln">o mode</span><span class="pun">=</span><span class="lit">1777</span><span class="pun">,</span><span class="pln">strictatime </span><span class="pun">(</span><span class="pln">code</span><span class="pun">=</span><span class="pln">exited</span><span class="pun">,</span><span class="pln"> status</span><span class="pun">=</span><span class="lit">0</span><span class="pun">/</span><span class="pln">SUCCESS</span><span class="pun">)</span></code></li>
<li class="L7"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">46</span><span class="pun">:</span><span class="lit">06</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="typ">Mounting</span><span class="typ">Temporary</span><span class="typ">Directory</span><span class="pun">...</span></code></li>
<li class="L8"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">46</span><span class="pun">:</span><span class="lit">06</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="pln"> tmp</span><span class="pun">.</span><span class="pln">mount</span><span class="pun">:</span><span class="typ">Directory</span><span class="pun">/</span><span class="pln">tmp to mount over </span><span class="kwd">is</span><span class="kwd">not</span><span class="pln"> empty</span><span class="pun">,</span><span class="pln"> mounting anyway</span><span class="pun">.</span></code></li>
<li class="L9"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">17</span><span class="pun">:</span><span class="lit">46</span><span class="pun">:</span><span class="lit">06</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="typ">Mounted</span><span class="typ">Temporary</span><span class="typ">Directory</span><span class="pun">.</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_22">19. 在启动时激活、启用或禁用挂载点（系统启动时自动挂载）</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl is-active tmp.mount</span></code></li>
<li class="L1"><code><span class="com"># systemctl enable tmp.mount</span></code></li>
<li class="L2"><code><span class="com"># systemctl disable tmp.mount</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_23">20. 在Linux中屏蔽（让它不能启用）或可见挂载点</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl mask tmp.mount</span></code></li>
<li class="L2"><code><span class="pln">ln </span><span class="pun">-</span><span class="pln">s </span><span class="str">'/dev/null'</span><span class="str">'/etc/systemd/system/tmp.mount'</span></code></li>
<li class="L4"><code><span class="com"># systemctl unmask tmp.mount</span></code></li>
<li class="L6"><code><span class="pln">rm </span><span class="str">'/etc/systemd/system/tmp.mount'</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_24">使用Systemctl控制并管理套接口</h4>
<p>&nbsp;</p>
<h4 id="toc_25">21. 列出所有可用系统套接口</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl list-unit-files --type=socket</span></code></li>
<li class="L2"><code><span class="pln">UNIT FILE STATE </span></code></li>
<li class="L3"><code><span class="pln">dbus</span><span class="pun">.</span><span class="pln">socket </span><span class="kwd">static</span></code></li>
<li class="L4"><code><span class="pln">dm</span><span class="pun">-</span><span class="kwd">event</span><span class="pun">.</span><span class="pln">socket enabled </span></code></li>
<li class="L5"><code><span class="pln">lvm2</span><span class="pun">-</span><span class="pln">lvmetad</span><span class="pun">.</span><span class="pln">socket enabled </span></code></li>
<li class="L6"><code><span class="pln">rsyncd</span><span class="pun">.</span><span class="pln">socket disabled</span></code></li>
<li class="L7"><code><span class="pln">sshd</span><span class="pun">.</span><span class="pln">socket disabled</span></code></li>
<li class="L8"><code><span class="pln">syslog</span><span class="pun">.</span><span class="pln">socket </span><span class="kwd">static</span></code></li>
<li class="L9"><code><span class="pln">systemd</span><span class="pun">-</span><span class="pln">initctl</span><span class="pun">.</span><span class="pln">socket </span><span class="kwd">static</span></code></li>
<li class="L0"><code><span class="pln">systemd</span><span class="pun">-</span><span class="pln">journald</span><span class="pun">.</span><span class="pln">socket </span><span class="kwd">static</span></code></li>
<li class="L1"><code><span class="pln">systemd</span><span class="pun">-</span><span class="pln">shutdownd</span><span class="pun">.</span><span class="pln">socket </span><span class="kwd">static</span></code></li>
<li class="L2"><code><span class="pln">systemd</span><span class="pun">-</span><span class="pln">udevd</span><span class="pun">-</span><span class="pln">control</span><span class="pun">.</span><span class="pln">socket </span><span class="kwd">static</span></code></li>
<li class="L3"><code><span class="pln">systemd</span><span class="pun">-</span><span class="pln">udevd</span><span class="pun">-</span><span class="pln">kernel</span><span class="pun">.</span><span class="pln">socket </span><span class="kwd">static</span></code></li>
<li class="L5"><code><span class="lit">11</span><span class="pln"> unit files listed</span><span class="pun">.</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_26">22. 在Linux中启动、重启、停止、重载套接口并检查其状态</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl start cups.socket</span></code></li>
<li class="L1"><code><span class="com"># systemctl restart cups.socket</span></code></li>
<li class="L2"><code><span class="com"># systemctl stop cups.socket</span></code></li>
<li class="L3"><code><span class="com"># systemctl reload cups.socket</span></code></li>
<li class="L4"><code><span class="com"># systemctl status cups.socket</span></code></li>
<li class="L6"><code><span class="pln">cups</span><span class="pun">.</span><span class="pln">socket </span><span class="pun">-</span><span class="pln"> CUPS </span><span class="typ">Printing</span><span class="typ">Service</span><span class="typ">Sockets</span></code></li>
<li class="L7"><code><span class="typ">Loaded</span><span class="pun">:</span><span class="pln"> loaded </span><span class="pun">(</span><span class="str">/usr/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">system</span><span class="pun">/</span><span class="pln">cups</span><span class="pun">.</span><span class="pln">socket</span><span class="pun">;</span><span class="pln"> enabled</span><span class="pun">)</span></code></li>
<li class="L8"><code><span class="typ">Active</span><span class="pun">:</span><span class="pln"> active </span><span class="pun">(</span><span class="pln">listening</span><span class="pun">)</span><span class="pln"> since </span><span class="typ">Tue</span><span class="lit">2015</span><span class="pun">-</span><span class="lit">04</span><span class="pun">-</span><span class="lit">28</span><span class="lit">18</span><span class="pun">:</span><span class="lit">10</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> IST</span><span class="pun">;</span><span class="lit">8s</span><span class="pln"> ago</span></code></li>
<li class="L9"><code><span class="typ">Listen</span><span class="pun">:</span><span class="str">/var/</span><span class="pln">run</span><span class="pun">/</span><span class="pln">cups</span><span class="pun">/</span><span class="pln">cups</span><span class="pun">.</span><span class="pln">sock </span><span class="pun">(</span><span class="typ">Stream</span><span class="pun">)</span></code></li>
<li class="L1"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">18</span><span class="pun">:</span><span class="lit">10</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="typ">Starting</span><span class="pln"> CUPS </span><span class="typ">Printing</span><span class="typ">Service</span><span class="typ">Sockets</span><span class="pun">.</span></code></li>
<li class="L2"><code><span class="typ">Apr</span><span class="lit">28</span><span class="lit">18</span><span class="pun">:</span><span class="lit">10</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> tecmint systemd</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]:</span><span class="typ">Listening</span><span class="pln"> on CUPS </span><span class="typ">Printing</span><span class="typ">Service</span><span class="typ">Sockets</span><span class="pun">.</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_27">23. 在启动时激活套接口，并启用或禁用它（系统启动时自启动）</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl is-active cups.socket</span></code></li>
<li class="L1"><code><span class="com"># systemctl enable cups.socket</span></code></li>
<li class="L2"><code><span class="com"># systemctl disable cups.socket</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_28">24. 屏蔽（使它不能启动）或显示套接口</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl mask cups.socket</span></code></li>
<li class="L1"><code><span class="pln">ln </span><span class="pun">-</span><span class="pln">s </span><span class="str">'/dev/null'</span><span class="str">'/etc/systemd/system/cups.socket'</span></code></li>
<li class="L3"><code><span class="com"># systemctl unmask cups.socket</span></code></li>
<li class="L4"><code><span class="pln">rm </span><span class="str">'/etc/systemd/system/cups.socket'</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_29">服务的CPU利用率（分配额）</h4>
<p>&nbsp;</p>
<h4 id="toc_30">25. 获取当前某个服务的CPU分配额（如httpd）</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl show -p CPUShares httpd.service</span></code></li>
<li class="L2"><code><span class="typ">CPUShares</span><span class="pun">=</span><span class="lit">1024</span></code></li>
</ol>
<p><strong>注意</strong>：各个服务的默认CPU分配份额=1024，你可以增加/减少某个进程的CPU分配份额。</p>
<p>&nbsp;</p>
<h4 id="toc_31">26. 将某个服务（httpd.service）的CPU分配份额限制为2000 CPUShares/</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl set-property httpd.service CPUShares=2000</span></code></li>
<li class="L1"><code><span class="com"># systemctl show -p CPUShares httpd.service</span></code></li>
<li class="L3"><code><span class="typ">CPUShares</span><span class="pun">=</span><span class="lit">2000</span></code></li>
</ol>
<p><strong>注意</strong>：当你为某个服务设置CPUShares，会自动创建一个以服务名命名的目录（如 httpd.service），里面包含了一个名为90-CPUShares.conf的文件，该文件含有CPUShare限制信息，你可以通过以下方式查看该文件：</p>
<ol class="linenums">
<li class="L0"><code><span class="com"># vi /etc/systemd/system/httpd.service.d/90-CPUShares.conf </span></code></li>
<li class="L2"><code><span class="pun">[</span><span class="typ">Service</span><span class="pun">]</span></code></li>
<li class="L3"><code><span class="typ">CPUShares</span><span class="pun">=</span><span class="lit">2000</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_32">27. 检查某个服务的所有配置细节</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl show httpd</span></code></li>
<li class="L2"><code><span class="typ">Id</span><span class="pun">=</span><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L3"><code><span class="typ">Names</span><span class="pun">=</span><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L4"><code><span class="typ">Requires</span><span class="pun">=</span><span class="pln">basic</span><span class="pun">.</span><span class="pln">target</span></code></li>
<li class="L5"><code><span class="typ">Wants</span><span class="pun">=</span><span class="pln">system</span><span class="pun">.</span><span class="pln">slice</span></code></li>
<li class="L6"><code><span class="typ">WantedBy</span><span class="pun">=</span><span class="pln">multi</span><span class="pun">-</span><span class="pln">user</span><span class="pun">.</span><span class="pln">target</span></code></li>
<li class="L7"><code><span class="typ">Conflicts</span><span class="pun">=</span><span class="pln">shutdown</span><span class="pun">.</span><span class="pln">target</span></code></li>
<li class="L8"><code><span class="typ">Before</span><span class="pun">=</span><span class="pln">shutdown</span><span class="pun">.</span><span class="pln">target multi</span><span class="pun">-</span><span class="pln">user</span><span class="pun">.</span><span class="pln">target</span></code></li>
<li class="L9"><code><span class="typ">After</span><span class="pun">=</span><span class="pln">network</span><span class="pun">.</span><span class="pln">target remote</span><span class="pun">-</span><span class="pln">fs</span><span class="pun">.</span><span class="pln">target nss</span><span class="pun">-</span><span class="pln">lookup</span><span class="pun">.</span><span class="pln">target systemd</span><span class="pun">-</span><span class="pln">journald</span><span class="pun">.</span><span class="pln">socket basic</span><span class="pun">.</span><span class="pln">target system</span><span class="pun">.</span><span class="pln">slice</span></code></li>
<li class="L0"><code><span class="typ">Description</span><span class="pun">=</span><span class="typ">The</span><span class="typ">Apache</span><span class="pln"> HTTP </span><span class="typ">Server</span></code></li>
<li class="L1"><code><span class="typ">LoadState</span><span class="pun">=</span><span class="pln">loaded</span></code></li>
<li class="L2"><code><span class="typ">ActiveState</span><span class="pun">=</span><span class="pln">active</span></code></li>
<li class="L3"><code><span class="typ">SubState</span><span class="pun">=</span><span class="pln">running</span></code></li>
<li class="L4"><code><span class="typ">FragmentPath</span><span class="pun">=</span><span class="str">/usr/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">system</span><span class="pun">/</span><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L5"><code><span class="pun">....</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_33">28. 分析某个服务（httpd）的关键链</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemd-analyze critical-chain httpd.service</span></code></li>
<li class="L2"><code><span class="typ">The</span><span class="pln"> time after the unit </span><span class="kwd">is</span><span class="pln"> active </span><span class="kwd">or</span><span class="pln"> started </span><span class="kwd">is</span><span class="pln"> printed after the </span><span class="str">"@"</span><span class="pln"> character</span><span class="pun">.</span></code></li>
<li class="L3"><code><span class="typ">The</span><span class="pln"> time the unit takes to start </span><span class="kwd">is</span><span class="pln"> printed after the </span><span class="str">"+"</span><span class="pln"> character</span><span class="pun">.</span></code></li>
<li class="L5"><code><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service </span><span class="pun">+</span><span class="lit">142ms</span></code></li>
<li class="L6"><code><span class="pun">└─</span><span class="pln">network</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">11.168s</span></code></li>
<li class="L7"><code><span class="pun">└─</span><span class="pln">network</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">9.456s</span><span class="pun">+</span><span class="lit">1.712s</span></code></li>
<li class="L8"><code><span class="pun">└─</span><span class="typ">NetworkManager</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">8.858s</span><span class="pun">+</span><span class="lit">596ms</span></code></li>
<li class="L9"><code><span class="pun">└─</span><span class="pln">firewalld</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.931s</span><span class="pun">+</span><span class="lit">3.926s</span></code></li>
<li class="L0"><code><span class="pun">└─</span><span class="pln">basic</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">4.916s</span></code></li>
<li class="L1"><code><span class="pun">└─</span><span class="pln">sockets</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">4.916s</span></code></li>
<li class="L2"><code><span class="pun">└─</span><span class="pln">dbus</span><span class="pun">.</span><span class="pln">socket </span><span class="pun">@</span><span class="lit">4.916s</span></code></li>
<li class="L3"><code><span class="pun">└─</span><span class="pln">sysinit</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">4.905s</span></code></li>
<li class="L4"><code><span class="pun">└─</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">update</span><span class="pun">-</span><span class="pln">utmp</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.864s</span><span class="pun">+</span><span class="lit">39ms</span></code></li>
<li class="L5"><code><span class="pun">└─</span><span class="pln">auditd</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.563s</span><span class="pun">+</span><span class="lit">301ms</span></code></li>
<li class="L6"><code><span class="pun">└─</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">tmpfiles</span><span class="pun">-</span><span class="pln">setup</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.485s</span><span class="pun">+</span><span class="lit">69ms</span></code></li>
<li class="L7"><code><span class="pun">└─</span><span class="pln">rhel</span><span class="pun">-</span><span class="kwd">import</span><span class="pun">-</span><span class="pln">state</span><span class="pun">.</span><span class="pln">service </span><span class="pun">@</span><span class="lit">4.342s</span><span class="pun">+</span><span class="lit">142ms</span></code></li>
<li class="L8"><code><span class="pun">└─</span><span class="kwd">local</span><span class="pun">-</span><span class="pln">fs</span><span class="pun">.</span><span class="pln">target </span><span class="pun">@</span><span class="lit">4.324s</span></code></li>
<li class="L9"><code><span class="pun">└─</span><span class="pln">boot</span><span class="pun">.</span><span class="pln">mount </span><span class="pun">@</span><span class="lit">4.286s</span><span class="pun">+</span><span class="lit">31ms</span></code></li>
<li class="L0"><code><span class="pun">└─</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">fsck@dev</span><span class="pun">-</span><span class="pln">disk</span><span class="pun">-</span><span class="kwd">by</span><span class="pln">\x</span><span class="lit">2duuid</span><span class="pun">-</span><span class="lit">79f594ad</span><span class="pln">\x</span><span class="lit">2da332</span><span class="pln">\x</span><span class="lit">2d4730</span><span class="pln">\x</span><span class="lit">2dbb5f</span><span class="pln">\x</span><span class="lit">2d85d196080964.service</span><span class="pun">@</span><span class="lit">4.092s</span><span class="pun">+</span><span class="lit">149ms</span></code></li>
<li class="L1"><code><span class="pun">└─</span><span class="pln">dev</span><span class="pun">-</span><span class="pln">disk</span><span class="pun">-</span><span class="kwd">by</span><span class="pln">\x</span><span class="lit">2duuid</span><span class="pun">-</span><span class="lit">79f594ad</span><span class="pln">\x</span><span class="lit">2da332</span><span class="pln">\x</span><span class="lit">2d4730</span><span class="pln">\x</span><span class="lit">2dbb5f</span><span class="pln">\x</span><span class="lit">2d85d196080964.device</span><span class="pun">@</span><span class="lit">4.092s</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_34">29. 获取某个服务（httpd）的依赖性列表</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl list-dependencies httpd.service</span></code></li>
<li class="L2"><code><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L3"><code><span class="pun">├─</span><span class="pln">system</span><span class="pun">.</span><span class="pln">slice</span></code></li>
<li class="L4"><code><span class="pun">└─</span><span class="pln">basic</span><span class="pun">.</span><span class="pln">target</span></code></li>
<li class="L5"><code><span class="pun">├─</span><span class="pln">firewalld</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L6"><code><span class="pun">├─</span><span class="pln">microcode</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L7"><code><span class="pun">├─</span><span class="pln">rhel</span><span class="pun">-</span><span class="pln">autorelabel</span><span class="pun">-</span><span class="pln">mark</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L8"><code><span class="pun">├─</span><span class="pln">rhel</span><span class="pun">-</span><span class="pln">autorelabel</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L9"><code><span class="pun">├─</span><span class="pln">rhel</span><span class="pun">-</span><span class="pln">configure</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L0"><code><span class="pun">├─</span><span class="pln">rhel</span><span class="pun">-</span><span class="pln">dmesg</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L1"><code><span class="pun">├─</span><span class="pln">rhel</span><span class="pun">-</span><span class="pln">loadmodules</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L2"><code><span class="pun">├─</span><span class="pln">paths</span><span class="pun">.</span><span class="pln">target</span></code></li>
<li class="L3"><code><span class="pun">├─</span><span class="pln">slices</span><span class="pun">.</span><span class="pln">target</span></code></li>
<li class="L4"><code><span class="pun">│</span><span class="pun">├─-.</span><span class="pln">slice</span></code></li>
<li class="L5"><code><span class="pun">│</span><span class="pun">└─</span><span class="pln">system</span><span class="pun">.</span><span class="pln">slice</span></code></li>
<li class="L6"><code><span class="pun">├─</span><span class="pln">sockets</span><span class="pun">.</span><span class="pln">target</span></code></li>
<li class="L7"><code><span class="pun">│</span><span class="pun">├─</span><span class="pln">dbus</span><span class="pun">.</span><span class="pln">socket</span></code></li>
<li class="L8"><code><span class="pun">....</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_35">30. 按等级列出控制组</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemd-cgls</span></code></li>
<li class="L2"><code><span class="pun">├─</span><span class="lit">1</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">systemd</span><span class="pun">/</span><span class="pln">systemd </span><span class="pun">--</span><span class="pln">switched</span><span class="pun">-</span><span class="pln">root </span><span class="pun">--</span><span class="pln">system </span><span class="pun">--</span><span class="pln">deserialize </span><span class="lit">23</span></code></li>
<li class="L3"><code><span class="pun">├─</span><span class="pln">user</span><span class="pun">.</span><span class="pln">slice</span></code></li>
<li class="L4"><code><span class="pun">│</span><span class="pun">└─</span><span class="pln">user</span><span class="pun">-</span><span class="lit">0.slice</span></code></li>
<li class="L5"><code><span class="pun">│</span><span class="pun">└─</span><span class="pln">session</span><span class="pun">-</span><span class="lit">1.scope</span></code></li>
<li class="L6"><code><span class="pun">│</span><span class="pun">├─</span><span class="lit">2498</span><span class="pln"> sshd</span><span class="pun">:</span><span class="pln"> root@pts</span><span class="pun">/</span><span class="lit">0</span></code></li>
<li class="L7"><code><span class="pun">│</span><span class="pun">├─</span><span class="lit">2500</span><span class="pun">-</span><span class="pln">bash</span></code></li>
<li class="L8"><code><span class="pun">│</span><span class="pun">├─</span><span class="lit">4521</span><span class="pln"> systemd</span><span class="pun">-</span><span class="pln">cgls</span></code></li>
<li class="L9"><code><span class="pun">│</span><span class="pun">└─</span><span class="lit">4522</span><span class="pln"> systemd</span><span class="pun">-</span><span class="pln">cgls</span></code></li>
<li class="L0"><code><span class="pun">└─</span><span class="pln">system</span><span class="pun">.</span><span class="pln">slice</span></code></li>
<li class="L1"><code><span class="pun">├─</span><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L2"><code><span class="pun">│</span><span class="pun">├─</span><span class="lit">4440</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L3"><code><span class="pun">│</span><span class="pun">├─</span><span class="lit">4442</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L4"><code><span class="pun">│</span><span class="pun">├─</span><span class="lit">4443</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L5"><code><span class="pun">│</span><span class="pun">├─</span><span class="lit">4444</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L6"><code><span class="pun">│</span><span class="pun">├─</span><span class="lit">4445</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L7"><code><span class="pun">│</span><span class="pun">└─</span><span class="lit">4446</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">sbin</span><span class="pun">/</span><span class="pln">httpd </span><span class="pun">-</span><span class="pln">DFOREGROUND</span></code></li>
<li class="L8"><code><span class="pun">├─</span><span class="pln">polkit</span><span class="pun">.</span><span class="pln">service</span></code></li>
<li class="L9"><code><span class="pun">│</span><span class="pun">└─</span><span class="lit">721</span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">lib</span><span class="pun">/</span><span class="pln">polkit</span><span class="pun">-</span><span class="lit">1</span><span class="pun">/</span><span class="pln">polkitd </span><span class="pun">--</span><span class="kwd">no</span><span class="pun">-</span><span class="pln">debug</span></code></li>
<li class="L0"><code><span class="pun">....</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_36">31. 按CPU、内存、输入和输出列出控制组</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemd-cgtop</span></code></li>
<li class="L2"><code><span class="typ">Path</span><span class="typ">Tasks</span><span class="pun">%</span><span class="pln">CPU </span><span class="typ">Memory</span><span class="typ">Input</span><span class="pun">/</span><span class="pln">s </span><span class="typ">Output</span><span class="pun">/</span><span class="pln">s</span></code></li>
<li class="L4"><code><span class="pun">/</span><span class="lit">83</span><span class="lit">1.0</span><span class="lit">437.8M</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L5"><code><span class="pun">/</span><span class="pln">system</span><span class="pun">.</span><span class="pln">slice </span><span class="pun">-</span><span class="lit">0.1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L6"><code><span class="str">/system.slice/</span><span class="pln">mariadb</span><span class="pun">.</span><span class="pln">service </span><span class="lit">2</span><span class="lit">0.1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L7"><code><span class="str">/system.slice/</span><span class="pln">tuned</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="lit">0.0</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L8"><code><span class="str">/system.slice/</span><span class="pln">httpd</span><span class="pun">.</span><span class="pln">service </span><span class="lit">6</span><span class="lit">0.0</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L9"><code><span class="str">/system.slice/</span><span class="typ">NetworkManager</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L0"><code><span class="str">/system.slice/</span><span class="pln">atop</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L1"><code><span class="str">/system.slice/</span><span class="pln">atopacct</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L2"><code><span class="str">/system.slice/</span><span class="pln">auditd</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L3"><code><span class="str">/system.slice/</span><span class="pln">crond</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L4"><code><span class="str">/system.slice/</span><span class="pln">dbus</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L5"><code><span class="str">/system.slice/</span><span class="pln">firewalld</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L6"><code><span class="str">/system.slice/</span><span class="pln">lvm2</span><span class="pun">-</span><span class="pln">lvmetad</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L7"><code><span class="str">/system.slice/</span><span class="pln">polkit</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L8"><code><span class="str">/system.slice/</span><span class="pln">postfix</span><span class="pun">.</span><span class="pln">service </span><span class="lit">3</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L9"><code><span class="str">/system.slice/</span><span class="pln">rsyslog</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L0"><code><span class="str">/system.slice/</span><span class="pln">system</span><span class="pun">-</span><span class="pln">getty</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">/</span><span class="pln">getty@tty1</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L1"><code><span class="str">/system.slice/</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">journald</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L2"><code><span class="str">/system.slice/</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">logind</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L3"><code><span class="str">/system.slice/</span><span class="pln">systemd</span><span class="pun">-</span><span class="pln">udevd</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L4"><code><span class="str">/system.slice/</span><span class="pln">webmin</span><span class="pun">.</span><span class="pln">service </span><span class="lit">1</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
<li class="L5"><code><span class="str">/user.slice/</span><span class="pln">user</span><span class="pun">-</span><span class="lit">0.slice</span><span class="pun">/</span><span class="pln">session</span><span class="pun">-</span><span class="lit">1.scope</span><span class="lit">3</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span><span class="pun">-</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_37">控制系统运行等级</h4>
<p>&nbsp;</p>
<h4 id="toc_38">32. 启动系统救援模式</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl rescue</span></code></li>
<li class="L2"><code><span class="typ">Broadcast</span><span class="pln"> message </span><span class="kwd">from</span><span class="pln"> root@tecmint on pts</span><span class="pun">/</span><span class="lit">0</span><span class="pun">(</span><span class="typ">Wed</span><span class="lit">2015</span><span class="pun">-</span><span class="lit">04</span><span class="pun">-</span><span class="lit">29</span><span class="lit">11</span><span class="pun">:</span><span class="lit">31</span><span class="pun">:</span><span class="lit">18</span><span class="pln"> IST</span><span class="pun">):</span></code></li>
<li class="L4"><code><span class="typ">The</span><span class="pln"> system </span><span class="kwd">is</span><span class="pln"> going down to </span><span class="kwd">rescue</span><span class="pln"> mode NOW</span><span class="pun">!</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_39">33. 进入紧急模式</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl emergency</span></code></li>
<li class="L2"><code><span class="typ">Welcome</span><span class="pln"> to emergency mode</span><span class="pun">!</span><span class="typ">After</span><span class="pln"> logging </span><span class="kwd">in</span><span class="pun">,</span><span class="pln"> type </span><span class="str">"journalctl -xb"</span><span class="pln"> to view</span></code></li>
<li class="L3"><code><span class="pln">system logs</span><span class="pun">,</span><span class="str">"systemctl reboot"</span><span class="pln"> to reboot</span><span class="pun">,</span><span class="str">"systemctl default"</span><span class="pln"> to </span><span class="kwd">try</span><span class="pln"> again</span></code></li>
<li class="L4"><code><span class="pln">to boot </span><span class="kwd">into</span><span class="kwd">default</span><span class="pln"> mode</span><span class="pun">.</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_40">34. 列出当前使用的运行等级</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl get-default</span></code></li>
<li class="L2"><code><span class="pln">multi</span><span class="pun">-</span><span class="pln">user</span><span class="pun">.</span><span class="pln">target</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_41">35. 启动运行等级5，即图形模式</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl isolate runlevel5.target</span></code></li>
<li class="L1"><code><span class="pun">或</span></code></li>
<li class="L2"><code><span class="com"># systemctl isolate graphical.target</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_42">36. 启动运行等级3，即多用户模式（命令行）</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl isolate runlevel3.target</span></code></li>
<li class="L1"><code><span class="pun">或</span></code></li>
<li class="L2"><code><span class="com"># systemctl isolate multiuser.target</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_43">36. 设置多用户模式或图形模式为默认运行等级</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl set-default runlevel3.target</span></code></li>
<li class="L2"><code><span class="com"># systemctl set-default runlevel5.target</span></code></li>
</ol>
<p>&nbsp;</p>
<h4 id="toc_44">37. 重启、停止、挂起、休眠系统或使系统进入混合睡眠</h4>
<ol class="linenums">
<li class="L0"><code><span class="com"># systemctl reboot</span></code></li>
<li class="L2"><code><span class="com"># systemctl halt</span></code></li>
<li class="L4"><code><span class="com"># systemctl suspend</span></code></li>
<li class="L6"><code><span class="com"># systemctl hibernate</span></code></li>
<li class="L8"><code><span class="com"># systemctl hybrid-sleep</span></code></li>
</ol>
<p>对于不知运行等级为何物的人，说明如下。</p>
<ul>
<li>Runlevel 0 : 关闭系统</li>
<li>Runlevel 1 : 救援？维护模式</li>
<li>Runlevel 3 : 多用户，无图形系统</li>
<li>Runlevel 4 : 多用户，无图形系统</li>
<li>Runlevel 5 : 多用户，图形化系统</li>
<li>Runlevel 6 : 关闭并重启机器</li>
</ul>
<p>到此为止吧。保持连线，进行评论。别忘了在下面的评论中为我们提供一些有价值的反馈哦。喜欢我们、与我们分享，求扩散。</p>
<p><span style="font-size: small;"><strong>本文永久更新链接地址</strong></span>：<a href="../../Linux/2015-07/120833.htm">http://www.linuxidc.com/Linux/2015-07/120833.htm</a></p><a href="http://www.linuxidc.com" target="_blank"><img src="/linuxfile/logo.gif" alt="linux" width="15" height="17" /></div>
<div class="linux3"><script type="text/javascript" src="/linuxfile/linux3.js"></script></div>
<div class="linux302"><script type="text/javascript" src="/linuxfile/linux302.js"></script></div>		
			
			
		</div>
<div class="linuxfx"><script type="text/javascript" src="/linuxfile/fx.js"></script></div>	
<div class="linux8"><script type="text/javascript" src="/linuxfile/linux8.js"></script></div>
<div class="linux801"><script type="text/javascript" src="/linuxfile/linux801.js"></script></div>
		<div class="nearNews">
			<div class="prevNews"><a href="../../Linux/2015-07/120815.htm">Linux操作系统入门教程</a></div>
			<div class="nextNews"><a href="../../Linux/2015-08/120877.htm">Bash的作业控制</a></div>
		</div>
	</div>
	</div>
	<div class="bl"></div>
	<div class="br"></div>
	<div class="bm"></div>
	</div>
<div class="linux809"><script type="text/javascript" src="/linuxfile/linux809.js"></script></div>
	<div class="mframe mR">
	<div class="tl"></div>
	<div class="tr"></div>
	<div class="tm">
		<span class="tt">相关资讯</span> &nbsp; &nbsp; &nbsp;
		<a href="../../search.aspx?where=nkey&amp;keyword=32462" target="_blank">systemctl</a>&nbsp; <a href="../../search.aspx?where=nkey&amp;keyword=37908" target="_blank">systemctl命令</a>&nbsp; 
	</div>
	<div class="wrapper">
	<div class="ml"></div>
	<div class="mr"></div>
	<div class="mm">
		<table width='100%'><tr><td width='50%' valign='top'><ul class='nl'><li><a href="../../Linux/2018-08/153545.htm"  target="_blank"  title="systemd 和 systemctl 使用深入理解">systemd 和 systemctl 使用深入理</a>&nbsp; <span class="gray">(<span class="time">今 21:00</span>)</span></li>
<li><a href="../../Linux/2016-07/133085.htm"  target="_blank"  title="systemctl &amp; systemd的相关资料整理">systemctl &amp; systemd的相关资料整</a>&nbsp; <span class="gray">(07/12/2016 14:02:17)</span></li>
<li><a href="../../Linux/2014-11/109236.htm"  target="_blank" >CentOS 7 上systemctl 的用法</a>&nbsp; <span class="gray">(11/10/2014 15:46:07)</span></li>
</ul></td><td width='50%' valign='top'><ul class='nl'><li><a href="../../Linux/2017-10/147886.htm"  target="_blank" >Linux systemctl 常用用法简介</a>&nbsp; <span class="gray">(10/22/2017 08:33:09)</span></li>
<li><a href="../../Linux/2016-06/132422.htm"  target="_blank"  title="systemctl使用指南:CentOS 7.x systemd对比CentOS 6.x daemon">systemctl使用指南:CentOS 7.x </a>&nbsp; <span class="gray">(06/18/2016 16:18:32)</span></li>
</ul></td></tr></table>
	</div>
	</div>
	<div class="bl"></div>
	<div class="br"></div>
	<div class="bm"></div>
	</div>
<div class="linux808"><script type="text/javascript" src="/linuxfile/linux808.js"></script></div>
	
	<div class="mframe mR">
	<div class="tl"></div>
	<div class="tr"></div>
	<div class="tm">
		<span class="tt">本文评论</span>
		 	　　<a href="../../remark.aspx?id=120833" target="_blank">查看全部评论</a> <span class="gray">(1)</span>
	</div>
	<div class="wrapper">
	<div class="ml"></div>
	<div class="mr"></div>
	<div class="mm">
		<table width="100%" style="margin:6px">		
		<tr><td width="50%">
			<form action="" name="fmRemarkSt" onsubmit="return remark.post(this);">
			<input type="hidden" value="1" name="face"/>
			表情： <img src="../../pic/b.gif" alt="表情" class="face1" style="cursor:pointer;vertical-align:middle" onclick="remark.dispFace(this)" onmouseout="remark.hideFace()"/>
			姓名： <input type="text" name="username" value="" maxlength="15" style="width:60px" class="inputbg"/>
			<input type="checkbox" id="rmAnonymitySt" onclick="remark.anony(this)"/><label for="rmAnonymitySt">匿名</label>
			字数 <input type="text" id="bodyLen" size="3" readonly="readonly" style="border-width:0;background:transparent;vertical-align:middle" value="0"/>
			<br/>
			<textarea name="body" cols="40" rows="4" onkeydown="remark.dispLen(this)" onkeyup="remark.handle(event,this);remark.dispLen(this)" style="width:39em;height:100px;margin:3px 0;overflow-y:auto"></textarea>
				<br/>
		　　　<input type="checkbox" checked="checked" id="rmAgreeSt"/><label for="rmAgreeSt">同意评论声明</label>
		　　　<button type="submit" style="width:50px">发表</button>
			</form><br>
			评论声明
			<ul style="list-style-type:square;margin:5px 0 0 1em;padding:0">
			<li>尊重网上道德，遵守中华人民共和国的各项有关法律法规</li>
			<li>承担一切因您的行为而直接或间接导致的民事或刑事法律责任</li>
			<li>本站管理人员有权保留或删除其管辖留言中的任意内容</li>
			<li>本站有权在网站内转载或引用您的评论</li>
			<li>参与本评论即表明您已经阅读并接受上述条款</li>
			</ul>
		</td>
		<td width="50%"><div class="linux799"><script type="text/javascript" src="/linuxfile/linux799.js"></script></div></td></tr>
		</table>
		<script type="text/javascript" src="../../inc/remark.js"></script>
		<script type="text/javascript">
			remark.maxSize=500;
			remark.minSize=2;
			remark.sourceEle=$(document.fmRemarkSt).find("button").get(0);
			iwms.vCode="CC74440A";
			iwms.user.name.length==0 ? $i("rmAnonymitySt").click() : $i("rmAnonymitySt").form.username.value=iwms.user.name;
		</script>
		<div class="reCont" id="reContainer"><div class="reHead"><div class="reLayer">第 1 楼</div><img src="../../pic/b.gif" class="face1" alt="*"/> <span class="reName">mxbmxl<img src="../../pic/member_male.gif" alt="会员"/></span> 发表于 <span class="reDate">2016/9/13 13:20:22</span></div><div class="reBody">有几个问题请教：<br/>1.如果正常模式(multi-user和graphical)忘记密码，怎样进入救援模式 rescue.target(等同于单用户模式)<br/>2.还有个emergency.target(紧急shell),怎样进入<br/>3.在命令systemctl isolate multi-user.target 中isolate起什么作用</div><div class="reFun"><a href="###" onclick="remark.disp(this,9295)">回复</a> <a href="###" onclick="remark.vote(this,9295,1)">支持</a><span> (0)</span> <a href="###" onclick="remark.vote(this,9295,0)">反对</a><span> (0)</span></div></div>
	</div>
	</div>
	<div class="bl"></div>
	<div class="br"></div>
	<div class="bm"></div>
	</div>
	
</td><td width="300" valign="top">
<div class="linux901"><script type="text/javascript" src="/linuxfile/linux901.js"></script></div>
<div class="linux902"><script type="text/javascript" src="/linuxfile/linux902.js"></script></div>
<div class="linux903"><script type="text/javascript" src="/linuxfile/linux903.js"></script></div>
<div class="linux905"><script type="text/javascript" src="/linuxfile/linux905.js"></script></div>
	
	<div class="lframe">
	<div class="tl"></div>
	<div class="tr"></div>
	<div class="tm">
		<span class="tt">最新资讯</span>
	</div>
	<div class="wrapper">
	<div class="ml"></div>
	<div class="mr"></div>
	<div class="mm">
		<ul class="nl">
<li><a href="../../Linux/2018-08/153545.htm" target="_blank">systemd 和 systemctl 使用深入理解</a></li>
<li><a href="../../Linux/2018-08/153544.htm" target="_blank" title="Java中的String.hashCode()方法可能有问题？">Java中的String.hashCode()方法可能有问题</a></li>
<li><a href="../../Linux/2018-08/153543.htm" target="_blank">Vue CLI 3.0正式发布，带来多项重大更新</a></li>
<li><a href="../../Linux/2018-08/153542.htm" target="_blank" title="集Python、C++、R为一体！Julia 1.0重磅发布">集Python、C++、R为一体！Julia 1.0重磅发</a></li>
<li><a href="../../Linux/2018-08/153541.htm" target="_blank" title="Zorin OS Linux的主要版本将于今年秋季推出，基于Ubuntu 18.04.1 LTS">Zorin OS Linux的主要版本将于今年秋季推出</a></li>
<li><a href="../../Linux/2018-08/153540.htm" target="_blank">Q4OS 2.5 发布，针对Raspberry Pi进行优化</a></li>
<li><a href="../../Linux/2018-08/153539.htm" target="_blank" title="Apple服务器遭到16岁黑客攻击，90GB的安全文件被盗">Apple服务器遭到16岁黑客攻击，90GB的安全</a></li>
<li><a href="../../Linux/2018-08/153538.htm" target="_blank" title="GNU Linux-Libre 4.18内核正式发布，为寻求100％自由的人准备">GNU Linux-Libre 4.18内核正式发布，为寻求</a></li>
<li><a href="../../Linux/2018-08/153537.htm" target="_blank" title="将在9月5日发布之前，GNOME 3.30桌面环境获得Beta 2版本">将在9月5日发布之前，GNOME 3.30桌面环境获</a></li>
<li><a href="../../Linux/2018-08/153536.htm" target="_blank" title="KDE Applications 18.08开源软件套件发布，增加许多新功能">KDE Applications 18.08开源软件套件发布，</a></li>
</ul>
	</div>
	</div>
	<div class="bl"></div>
	<div class="br"></div>
	<div class="bm"></div>
	</div>
	<div class="u70"><script type="text/javascript" src="/linuxfile/u70.js"></script></div>
	<div class="u80"><script type="text/javascript" src="/linuxfile/u80.js"></script></div>
	<div class="u90"><script type="text/javascript" src="/linuxfile/u90.js"></script></div>
	<div class="space"></div>
	<div id="pin">
	<script type="text/javascript" src="/linuxfile/pin.js"></script>
	</div>
</td></tr>
</table>
<div class="linux906"><script type="text/javascript" src="/linuxfile/linux906.js"></script></div>
<div id="footer">
<a href="http://www.linuxidc.com/aboutus.htm">Linux公社简介</a> - <a href="http://www.linuxidc.com/adsense.htm">广告服务</a> - <a href="http://www.linuxidc.com/sitemap.aspx">网站地图</a> - <a href="http://www.linuxidc.com/help.htm">帮助信息</a> - <a href="http://www.linuxidc.com/contactus.htm">联系我们</a><br />本站（LinuxIDC）所刊载文章不代表同意其说法或描述，仅为提供更多信息，也不构成任何建议。<br /><script type="text/javascript" src="/linuxfile/qq.js"></script><br />
<script type="text/javascript" src="/linuxfile/foot.js"></script><br />Copyright &copy; 2006-2017　<a href="http://www.linuxidc.com/">Linux公社</a>　All rights reserved 浙ICP备07014134号-8
	<script type="text/javascript">iwms.aId=120833;$(function(){iwms.imgCont=$i('content');iwms.imgResize();InitContStyle();iwms.getVars();})</script>
	
</div>
</div>
<script type="text/javascript" src="/linuxren/linuxren1.js"></script>
<script type="text/javascript" src="/linuxren/linuxren2.js"></script>
<script type="text/javascript" src="/linuxren/linuxren3.js"></script>
</body>
</html>