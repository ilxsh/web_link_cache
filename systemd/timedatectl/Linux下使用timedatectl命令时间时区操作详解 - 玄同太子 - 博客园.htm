<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="origin" />
    <meta property="og:description" content="timedatectl命令对于RHEL / CentOS 7和基于Fedora 21&#x2B;的分布式系统来说，是一个新工具，它作为systemd系统和服务管理器的一部分，代替旧的传统的用在基于Linux分布" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Linux下使用timedatectl命令时间时区操作详解 - 玄同太子 - 博客园</title>
    <link id="favicon" rel="shortcut icon" href="//common.cnblogs.com/favicon.ico?v=20200522" type="image/x-icon" />
    
    <link rel="stylesheet" href="https://www.cnblogs.com/css/blog-common.min.css" />
    <link id="MainCss" rel="stylesheet" href="https://www.cnblogs.com/skins/nature/bundle-nature.min.css" />
    <link type="text/css" rel="stylesheet" href="https://www.cnblogs.com/zhi-leaf/custom.css?v=smXzuASnMQptT/V/uLeUHJXAJqI=" />
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="https://www.cnblogs.com/skins/nature/bundle-nature-mobile.min.css" />
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/zhi-leaf/rss" />
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/zhi-leaf/rsd.xml" />
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/zhi-leaf/wlwmanifest.xml" />
    <script src="https://common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
    <script src="https://www.cnblogs.com/js/blog-common.min.js"></script>
    <script>
        var currentBlogId = 307499;
        var currentBlogApp = 'zhi-leaf';
        var cb_enable_mathjax = false;
        var isLogined = false;
        var skinName = 'nature';
    </script>
    
    
    
</head>
<body>
    <a name="top"></a>
    
    <!--done-->
<div id="banner"><div id="bnr_pic">
<!--done-->
<div class="header">
	<div class="headerText">
		<a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/zhi-leaf/">一个笨蛋的博客</a>
<br>
	</div><br>
	<div class="headerDis">
好记性不如烂笔头，多学多总结
</div>
</div>

</div></div>
<div id="main">
	<!-- left starts -->
	<div id="left">
		<DIV id="mystats">
			<br/>
				<!--done-->
<div class="blogStats">
随笔 - 
186&nbsp;
文章 - 
0&nbsp;
评论 - 
29&nbsp;

0
</div>


			
		</DIV>
		<div id="mylinks">


&nbsp;&nbsp;
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/zhi-leaf/">
首页</a>
&nbsp;&nbsp;

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
&nbsp;&nbsp;
&nbsp;&nbsp;
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
&nbsp;&nbsp;
&nbsp;


</div>
		<div id="topics">
			<div id="post_detail">
<div class="post">
	<div class="postTitle">
		<h1>
<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zhi-leaf/p/6282301.html">
    <span>Linux下使用timedatectl命令时间时区操作详解</span>
    


</a>
</h1>
	</div>
	
<div id="cnblogs_post_body" class="blogpost-body ">
    <p>　　timedatectl命令对于RHEL / CentOS 7和基于Fedora 21+的分布式系统来说，是一个新工具，它作为systemd系统和服务管理器的一部分，代替旧的传统的用在基于Linux分布式系统的sysvinit守护进程的date命令。</p>
<p>　　timedatectl命令可以查询和更改系统时钟和设置，你可以使用此命令来设置或更改当前的日期，时间和时区，或实现与远程NTP服务器的自动系统时钟同步。</p>
<p>　　在本教程中，我要讲的是，如何在你的Linux系统上，通过使用来自于终端使用timedatectl命令的NTP，设置date、time、timezone和synchronize time来管理时间。让你的Linux服务器或系统保持正确的时间是一个很好的实践，它有以下优点：</p>
<p>　　1）维护及时操作的系统任务，因为在Linux中的大多数任务都是由时间来控制的。</p>
<p>　　2）记录事件和系统上其它信息等的正确时间。</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>如何查找和设置Linux本地时区</strong></span></p>
<p>1、要显示系统的当前时间和日期，使用命令行中的timedatectl命令，如下：</p>
<div class="cnblogs_code">
<pre># timedatectl status</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113125840760-1412416063.gif" alt="" /></p>
<p>　　在上面的示例中，RTC time就是硬件时钟的时间。</p>
<p>2、Linux系统上的time总是通过系统上的timezone设置的，要查看当前时区，按如下做：</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;"># timedatectl 
OR
# timedatectl | grep Time</span></pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113130255760-443096740.gif" alt="" /></p>
<p>3、要查看所有可用的时区，运行以下命令：</p>
<div class="cnblogs_code">
<pre># timedatectl list-timezones</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113130353681-1064142284.gif" alt="" /></p>
<p>4、要根据地理位置找到本地的时区，运行以下命令：</p>
<div class="cnblogs_code">
<pre><span style="color: #000000;"># timedatectl list-timezones | egrep -o &lsquo;&rsquo;Asia/B.*&rdquo;
# timedatectl list-timezones | egrep -o &ldquo;Europe/L.*&rdquo;
# timedatectl list-timezones | egrep -o &ldquo;America/N.*&rdquo;</span></pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113130554931-355176850.gif" alt="" /></p>
<p>5、要在Linux中设置本地时区，使用set-timezone开关，如下所示。</p>
<div class="cnblogs_code">
<pre># timedatectl set-timezone "Asia/Kolkata"</pre>
</div>
<p>　　中国上海的时区：</p>
<div class="cnblogs_code">
<pre># timedatectl set-timezone "Asia/Shanghai"</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113130723338-1706546881.gif" alt="" /></p>
<p>&nbsp;　　推荐使用和设置协调世界时，即UTC。</p>
<div class="cnblogs_code">
<pre># timedatectl set-timezone UTC</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113130915228-1721727285.gif" alt="" /></p>
<p>&nbsp;　　你需要输入正确命名的时区，否者在你改变时区的时候，可能会发生错误。在下面的例子中，由于 &ldquo;Asia/Kalkata&rdquo; 这个时区是不正确的，因此导致了错误。</p>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113131009728-29191656.gif" alt="" /></p>
<p>&nbsp;</p>
<p><strong>如何在Linux中设置时间和日期</strong></p>
<p>　　你可以使用timedatectl命令，设置系统上的日期和时间，如下所示：</p>
<p>6、设置Linux中的时间。只设置时间的话，我们可以使用set-time开关以及HH：MM：SS（小时，分，秒）的时间格式。</p>
<div class="cnblogs_code">
<pre># timedatectl set-time 15:58:30</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113131240260-1561897221.gif" alt="" /></p>
<p>&nbsp;7、在Linux中设置日期。只设置日期的话，我们可以使用set-time开关以及YY：MM：DD（年，月，日）的日期格式。</p>
<div class="cnblogs_code">
<pre># timedatectl set-time 20151120</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113131335525-1442987888.gif" alt="" /></p>
<p>8、设置日期和时间：</p>
<div class="cnblogs_code">
<pre># timedatectl set-time '16:10:40 2015-11-20'</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113131704369-1771813681.gif" alt="" /></p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>如何在Linux中查找和设置硬件时钟</strong></span></p>
<hr />
<p>&nbsp;</p>
<p>9、要设置硬件时钟以协调世界时，UTC，可以使用 set-local-rtc boolean-value选项，如下所示：</p>
<p>　　首先确定你的硬件时钟是否设置为本地时区：</p>
<div class="cnblogs_code">
<pre># timedatectl | grep local</pre>
</div>
<p>　　将你的硬件时钟设置为本地时区：</p>
<div class="cnblogs_code">
<pre># timedatectl set-local-rtc 1</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113132023681-700633329.gif" alt="" /></p>
<p>　　将你的硬件时钟设置为协调世界时（UTC）：</p>
<div class="cnblogs_code">
<pre># timedatectl set-local-rtc 0</pre>
</div>
<p><img src="https://images2015.cnblogs.com/blog/1031555/201701/1031555-20170113131936135-1877678773.gif" alt="" /></p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>将Linux系统时钟同步到远程NTP服务器</strong></span></p>
<p>　　NTP即Network Time Protocol（网络时间协议），是一个互联网协议，用于同步计算机之间的系统时钟。timedatectl实用程序可以自动同步你的Linux系统时钟到使用NTP的远程服务器。</p>
<p>　　注意，你必须在系统上安装NTP以实现与NTP服务器的自动时间同步。</p>
<p>　　要开始自动时间同步到远程NTP服务器，在终端键入以下命令。</p>
<div class="cnblogs_code">
<pre># timedatectl set-ntp true</pre>
</div>
<p>　　要禁用NTP时间同步，在终端键入以下命令。</p>
<div class="cnblogs_code">
<pre># timedatectl set-ntp false</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>原文链接：http://www.codeceo.com/article/linux-timedatectl-set-time.html</p>
<p>英文原文：<a href="http://www.tecmint.com/set-time-timezone-and-synchronize-time-using-timedatectl-command/" target="_blank">How to Set Time, Timezone and Synchronize System Clock Using timedatectl Command</a></p>
</div>
<div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
    <div id="blog_post_info"></div>
    <div class="clear"></div>
    <div id="post_next_prev"></div>
</div>
	<div class="postDesc">posted on 
<span id="post-date">2017-01-13 12:47</span>&nbsp;
<a href="https://www.cnblogs.com/zhi-leaf/">玄同太子</a>&nbsp;
阅读(<span id="post_view_count">...</span>)&nbsp;
评论(<span id="post_comment_count">...</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=6282301" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(6282301);return false;">收藏</a></div>
</div>


<script src="https://common.cnblogs.com/highlight/9.12.0/highlight.min.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 307499, cb_blogApp = 'zhi-leaf', cb_blogUserGuid = '848a3667-3581-e611-9fc1-ac853d9f53cc';
    var cb_entryId = 6282301, cb_entryCreatedDate = '2017-01-13 12:47', cb_postType = 1; 
    loadViewCount(cb_entryId);
    loadSideColumnAd();
</script><a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<script>
    var commentManager = new blogCommentManager();
    commentManager.renderComments(0);
</script>
<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container"></div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
    <script>
        var mobileVisit = screen.width < 500;
        window.googletag = window.googletag || { cmd: [] };
        googletag.cmd.push(function () {
            googletag.defineSlot('/1090369/C1', [300, 250], 'div-gpt-ad-1592365906576-0').addService(googletag.pubads());
            if (!mobileVisit) {
                googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1592366332455-0').addService(googletag.pubads());
            }
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    </script>
    <div id="cnblogs_c1" class="c_ad_block">
        <div id='div-gpt-ad-1592365906576-0' style='width: 300px; height: 250px;'>
            <script>
                if (canShowAdsense()) {
                    googletag.cmd.push(function () { googletag.display('div-gpt-ad-1592365906576-0'); });
                }
                else {
                    $('#cnblogs_c1').hide();
                }
            </script>
        </div>
    </div>
    <div id="under_post_news"></div>
    <div id="cnblogs_c2" class="c_ad_block">
        <div id='div-gpt-ad-1592366332455-0' style='width: 468px; height: 60px;'>
            <script>
                if (!mobileVisit) {
                    if (canShowAdsense()) {
                        googletag.cmd.push(function () { googletag.display('div-gpt-ad-1592366332455-0'); });
                    } else {
                        $('#cnblogs_c2').hide();
                    }
                }
            </script>
        </div>
    </div>
    <div id="under_post_kb"></div>
    <div id="HistoryToday" class="c_ad_block"></div>
    <script type="text/javascript">
        fixPostBody();
        deliverBigBanner();
setTimeout(function() { incrementViewCount(cb_entryId); }, 50);        deliverAdT2();
        deliverAdC1();
        deliverAdC2();
        loadNewsAndKb();
        loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
        loadOptUnderPost();
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div></div>


		</div>
	</div>
	<!-- left ends -->
	<!-- right starts -->
	<div id="right">
		<!-- 右侧工具部分 -->
		<div id="right_content">
	
			
<div id="sidebar_news" class="newsItem">
            <script>loadBlogNews();</script>
</div>

<div id="sidebar_ad"></div>
	
			<div id="calendar"><div id="calendar"><div id="blog-calendar" style="display:none"></div></div>                
                    <script>loadBlogDefaultCalendar();</script></div>
			
				<DIV id="leftcontentcontainer">
					<div id="blog-sidecolumn"></div>
                    <script>loadBlogSideColumn();</script>
				</DIV>
			
		</div>
		<!-- //右侧工具部分 -->
		<div id="footer">
			<!--done-->
Copyright &copy; 2020 玄同太子
<br /><span id="poweredby">Powered by .NET Core on Kubernetes</span>



		</div>
	</div>
	<!-- right ends -->
	<div class="clear"></div>
	
</div>


    
</body>
</html>
